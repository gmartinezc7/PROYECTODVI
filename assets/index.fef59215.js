(function(){const st=document.createElement("link").relList;if(st&&st.supports&&st.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))O(p);new MutationObserver(p=>{for(const f of p)if(f.type==="childList")for(const x of f.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&O(x)}).observe(document,{childList:!0,subtree:!0});function A(p){const f={};return p.integrity&&(f.integrity=p.integrity),p.referrerpolicy&&(f.referrerPolicy=p.referrerpolicy),p.crossorigin==="use-credentials"?f.credentials="include":p.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function O(p){if(p.ep)return;p.ep=!0;const f=A(p);fetch(p.href,f)}})();var St=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pt(xt){return xt&&xt.__esModule&&Object.prototype.hasOwnProperty.call(xt,"default")?xt.default:xt}var Rt={exports:{}};(function(xt,st){(function(A,O){xt.exports=O()})(St,function(){return p={},A.m=O=[function(f,x){function t(e,s,r,n){for(var o in s)if(s.hasOwnProperty(o)){var l=(d=s,v=o,y=m=void 0,y=(g=r)?d[v]:Object.getOwnPropertyDescriptor(d,v),!g&&y.value&&typeof y.value=="object"&&(y=y.value),!(!y||!((m=y).get&&typeof m.get=="function"||m.set&&typeof m.set=="function"))&&(y.enumerable===void 0&&(y.enumerable=!0),y.configurable===void 0&&(y.configurable=!0),y));if(l!==!1){if(h=(n||e).prototype,u=o,c=void 0,(c=Object.getOwnPropertyDescriptor(h,u))&&(c.value&&typeof c.value=="object"&&(c=c.value),c.configurable===!1)){if(i.ignoreFinals)continue;throw new Error("cannot override final property '"+o+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(e.prototype,o,l)}else e.prototype[o]=s[o]}var h,u,c,d,v,g,m,y}function a(e,s){if(s){Array.isArray(s)||(s=[s]);for(var r=0;r<s.length;r++)t(e,s[r].prototype||s[r])}}function i(e){var s,r,n;if((e=e||{}).initialize){if(typeof e.initialize!="function")throw new Error("initialize must be a function");n=e.initialize,delete e.initialize}else n=e.Extends?(r=e.Extends,function(){r.apply(this,arguments)}):function(){};e.Extends?(n.prototype=Object.create(e.Extends.prototype),n.prototype.constructor=n,s=e.Extends,delete e.Extends):n.prototype.constructor=n;var o=null;return e.Mixins&&(o=e.Mixins,delete e.Mixins),a(n,o),t(n,e,!0,s),n}i.extend=t,i.mixin=a,i.ignoreFinals=!1,f.exports=i},function(f,x){f.exports=function(){}},function(f,x){f.exports=function(t,a,i){var e=typeof t;return t&&e!="number"&&e!="string"&&t.hasOwnProperty(a)&&t[a]!==void 0?t[a]:i}},function(f,x,t){var a=t(0),i=t(124),e=new a({initialize:function(s,r){this.x=0,this.y=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0):(r===void 0&&(r=s),this.x=s||0,this.y=r||0)},clone:function(){return new e(this.x,this.y)},copy:function(s){return this.x=s.x||0,this.y=s.y||0,this},setFromObject:function(s){return this.x=s.x||0,this.y=s.y||0,this},set:function(s,r){return r===void 0&&(r=s),this.x=s,this.y=r,this},setTo:function(s,r){return this.set(s,r)},setToPolar:function(s,r){return r==null&&(r=1),this.x=Math.cos(s)*r,this.y=Math.sin(s)*r,this},equals:function(s){return this.x===s.x&&this.y===s.y},fuzzyEquals:function(s,r){return i(this.x,s.x,r)&&i(this.y,s.y,r)},angle:function(){var s=Math.atan2(this.y,this.x);return s<0&&(s+=2*Math.PI),s},setAngle:function(s){return this.setToPolar(s,this.length())},add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s):(this.x=0,this.y=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(s){var r=s.x-this.x,n=s.y-this.y;return Math.sqrt(r*r+n*n)},distanceSq:function(s){var r=s.x-this.x,n=s.y-this.y;return r*r+n*n},length:function(){var s=this.x,r=this.y;return Math.sqrt(s*s+r*r)},setLength:function(s){return this.normalize().scale(s)},lengthSq:function(){var s=this.x,r=this.y;return s*s+r*r},normalize:function(){var s=this.x,r=this.y,n=s*s+r*r;return 0<n&&(n=1/Math.sqrt(n),this.x=s*n,this.y=r*n),this},normalizeRightHand:function(){var s=this.x;return this.x=-1*this.y,this.y=s,this},normalizeLeftHand:function(){var s=this.x;return this.x=this.y,this.y=-1*s,this},dot:function(s){return this.x*s.x+this.y*s.y},cross:function(s){return this.x*s.y-this.y*s.x},lerp:function(s,r){r===void 0&&(r=0);var n=this.x,o=this.y;return this.x=n+r*(s.x-n),this.y=o+r*(s.y-o),this},transformMat3:function(s){var r=this.x,n=this.y,o=s.val;return this.x=o[0]*r+o[3]*n+o[6],this.y=o[1]*r+o[4]*n+o[7],this},transformMat4:function(s){var r=this.x,n=this.y,o=s.val;return this.x=o[0]*r+o[4]*n+o[12],this.y=o[1]*r+o[5]*n+o[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(s){var r=this.length();return r&&s<r&&this.scale(s/r),this},reflect:function(s){return s=s.clone().normalize(),this.subtract(s.scale(2*this.dot(s)))},mirror:function(s){return this.reflect(s).negate()},rotate:function(s){var r=Math.cos(s),n=Math.sin(s);return this.set(r*this.x-n*this.y,n*this.x+r*this.y)}});e.ZERO=new e,e.RIGHT=new e(1,0),e.LEFT=new e(-1,0),e.UP=new e(0,-1),e.DOWN=new e(0,1),e.ONE=new e(1,1),f.exports=e},function(f,x,t){var a=t(0),i=t(56),e=new a({initialize:function(s,r){s===void 0&&(s=0),r===void 0&&(r=s),this.type=i.POINT,this.x=s,this.y=r},setTo:function(s,r){return s===void 0&&(s=0),r===void 0&&(r=s),this.x=s,this.y=r,this}});f.exports=e},function(f,x,t){var a=t(0),i=t(24),e=t(20),s=new a({initialize:function(r){this.scene=r,this.systems=r.sys,this.events=r.sys.events,this.displayList,this.updateList,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.events.once(e.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,n){s.prototype.hasOwnProperty(r)||(s.prototype[r]=n)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},i.register("GameObjectFactory",s,"add"),f.exports=s},function(f,x){f.exports=function(t,a,i){if(t&&typeof t!="number"){if(t.hasOwnProperty(a))return t[a];if(a.indexOf(".")===-1)return i;for(var e=a.split("."),s=t,r=i,n=0;n<e.length;n++){if(!s.hasOwnProperty(e[n])){r=i;break}r=s[e[n]],s=s[e[n]]}return r}return i}},function(f,x){f.exports=function(t){if(typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0}},function(f,x){var t={},a={install:function(i){for(var e in t)i[e]=t[e]},register:function(i,e){t[i]=e},destroy:function(){t={}}};f.exports=a},function(f,x,t){var a=Object.prototype.hasOwnProperty,i="~";function e(){}function s(l,h,u){this.fn=l,this.context=h,this.once=u||!1}function r(l,h,u,c,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var v=new s(u,c||l,d),g=i?i+h:h;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],v]:l._events[g].push(v):(l._events[g]=v,l._eventsCount++),l}function n(l,h){--l._eventsCount==0?l._events=new e:delete l._events[h]}function o(){this._events=new e,this._eventsCount=0}Object.create&&(e.prototype=Object.create(null),new e().__proto__||(i=!1)),o.prototype.eventNames=function(){var l,h,u=[];if(this._eventsCount===0)return u;for(h in l=this._events)a.call(l,h)&&u.push(i?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},o.prototype.listeners=function(l){var h=i?i+l:l,u=this._events[h];if(!u)return[];if(u.fn)return[u.fn];for(var c=0,d=u.length,v=new Array(d);c<d;c++)v[c]=u[c].fn;return v},o.prototype.listenerCount=function(l){var h=i?i+l:l,u=this._events[h];return u?u.fn?1:u.length:0},o.prototype.emit=function(l,h,u,c,d,v){var g=i?i+l:l;if(!this._events[g])return!1;var m,y=this._events[g],T=arguments.length;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),T){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,u),!0;case 4:return y.fn.call(y.context,h,u,c),!0;case 5:return y.fn.call(y.context,h,u,c,d),!0;case 6:return y.fn.call(y.context,h,u,c,d,v),!0}for(C=1,m=new Array(T-1);C<T;C++)m[C-1]=arguments[C];y.fn.apply(y.context,m)}else for(var E,S=y.length,C=0;C<S;C++)switch(y[C].once&&this.removeListener(l,y[C].fn,void 0,!0),T){case 1:y[C].fn.call(y[C].context);break;case 2:y[C].fn.call(y[C].context,h);break;case 3:y[C].fn.call(y[C].context,h,u);break;case 4:y[C].fn.call(y[C].context,h,u,c);break;default:if(!m)for(E=1,m=new Array(T-1);E<T;E++)m[E-1]=arguments[E];y[C].fn.apply(y[C].context,m)}return!0},o.prototype.on=function(l,h,u){return r(this,l,h,u,!1)},o.prototype.once=function(l,h,u){return r(this,l,h,u,!0)},o.prototype.removeListener=function(l,h,u,c){var d=i?i+l:l;if(!this._events[d])return this;if(!h)return n(this,d),this;var v=this._events[d];if(v.fn)v.fn!==h||c&&!v.once||u&&v.context!==u||n(this,d);else{for(var g=0,m=[],y=v.length;g<y;g++)(v[g].fn!==h||c&&!v[g].once||u&&v[g].context!==u)&&m.push(v[g]);m.length?this._events[d]=m.length===1?m[0]:m:n(this,d)}return this},o.prototype.removeAllListeners=function(l){var h;return l?(h=i?i+l:l,this._events[h]&&n(this,h)):(this._events=new e,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,f.exports=o},function(f,x,t){var a=t(0),i=t(57),e=t(171),s=t(306),r=t(56),n=t(47),o=t(174),l=new a({initialize:function(h,u,c,d){h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=0),this.type=r.RECTANGLE,this.x=h,this.y=u,this.width=c,this.height=d},contains:function(h,u){return i(this,h,u)},getPoint:function(h,u){return e(this,h,u)},getPoints:function(h,u,c){return s(this,h,u,c)},getRandomPoint:function(h){return o(this,h)},setTo:function(h,u,c,d){return this.x=h,this.y=u,this.width=c,this.height=d,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(h,u){return u===void 0&&(u=h),this.x=h,this.y=u,this},setSize:function(h,u){return u===void 0&&(u=h),this.width=h,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(h){return h===void 0&&(h=new n),h.setTo(this.x,this.y,this.right,this.y),h},getLineB:function(h){return h===void 0&&(h=new n),h.setTo(this.right,this.y,this.right,this.bottom),h},getLineC:function(h){return h===void 0&&(h=new n),h.setTo(this.right,this.bottom,this.x,this.bottom),h},getLineD:function(h){return h===void 0&&(h=new n),h.setTo(this.x,this.bottom,this.x,this.y),h},left:{get:function(){return this.x},set:function(h){h>=this.right?this.width=0:this.width=this.right-h,this.x=h}},right:{get:function(){return this.x+this.width},set:function(h){h<=this.x?this.width=0:this.width=h-this.x}},top:{get:function(){return this.y},set:function(h){h>=this.bottom?this.height=0:this.height=this.bottom-h,this.y=h}},bottom:{get:function(){return this.y+this.height},set:function(h){h<=this.y?this.height=0:this.height=h-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});f.exports=l},function(f,x,t){f.exports={Alpha:t(607),AlphaSingle:t(303),BlendMode:t(304),ComputedSize:t(608),Crop:t(609),Depth:t(305),Flip:t(610),GetBounds:t(611),Mask:t(309),Origin:t(632),PathFollower:t(633),Pipeline:t(167),ScrollFactor:t(312),Size:t(634),Texture:t(635),TextureCrop:t(636),Tint:t(637),ToJSON:t(176),Transform:t(313),TransformMatrix:t(25),Visible:t(314)}},function(f,x){f.exports={getTintFromFloats:function(t,a,i,e){return((255&(255*e|0))<<24|(255&(255*t|0))<<16|(255&(255*a|0))<<8|255&(255*i|0))>>>0},getTintAppendFloatAlpha:function(t,a){return((255&(255*a|0))<<24|t)>>>0},getTintAppendFloatAlphaAndSwap:function(t,a){return((255&(255*a|0))<<24|(255&(0|t))<<16|(255&(t>>8|0))<<8|255&(t>>16|0))>>>0},getFloatsFromUintRGB:function(t){return[(255&(t>>16|0))/255,(255&(t>>8|0))/255,(255&(0|t))/255]},checkShaderMax:function(t,a){a&&a!==-1||(a=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS));for(var i=t.createShader(t.FRAGMENT_SHADER),e=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);;){var s=e.replace(/%forloop%/gi,function(r){for(var n="",o=0;o<r;++o)0<o&&(n+=`
else `),o<r-1&&(n+="if(test == "+o+".0){}");return n}(a));if(t.shaderSource(i,s),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))break;a=a/2|0}return a},parseFragmentShaderMaxTextures:function(t,a){if(!t)return"";for(var i="",e=0;e<a;e++)0<e&&(i+=`
	else `),e<a-1&&(i+="if (outTexId < "+e+".5)"),i+=`
	{`,i+=`
		texture = texture2D(uMainSampler[`+e+"], outTexCoord);",i+=`
	}`;return(t=t.replace(/%count%/gi,a.toString())).replace(/%forloop%/gi,i)}}},function(f,x,t){var a=t(193),i=t(6);f.exports=function(e,s,r){var n=i(e,s,null);if(n===null)return r;if(Array.isArray(n))return a.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return a.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return a.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(s);return n}},function(f,x){var t={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};f.exports=t},function(f,x,t){var a=t(0),i=t(176),e=t(101),s=t(9),r=t(75),n=t(20),o=new a({Extends:s,initialize:function(l,h){s.call(this),this.scene=l,this.displayList=null,this.type=h,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),l.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new e(this)),this},setData:function(l,h){return this.data||(this.data=new e(this)),this.data.set(l,h),this},incData:function(l,h){return this.data||(this.data=new e(this)),this.data.inc(l,h),this},toggleData:function(l){return this.data||(this.data=new e(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new e(this)),this.data.get(l)},setInteractive:function(l,h,u){return this.scene.sys.input.enable(this,l,h,u),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return i(this)},willRender:function(l){return!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,h=this.parentContainer,u=[];h&&(u.unshift(h.getIndex(l)),(l=h).parentContainer);)h=h.parentContainer;return this.displayList?u.unshift(this.displayList.getIndex(l)):u.unshift(this.scene.sys.displayList.getIndex(l)),u},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||((this.displayList=l).add(this,!0),l.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),l.events.emit(n.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(n.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(l){this.scene&&!this.ignoreDestroy&&(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});o.RENDER_MASK=15,f.exports=o},function(f,x,t){var a=t(0),i=t(24),e=t(20),s=new a({initialize:function(r){this.scene=r,this.systems=r.sys,this.events=r.sys.events,this.displayList,this.updateList,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.events.once(e.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,n){s.prototype.hasOwnProperty(r)||(s.prototype[r]=n)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},i.register("GameObjectCreator",s,"make"),f.exports=s},function(f,x,t){var a=t(7),i=function(){var e,s,r,n,o,l,h=arguments[0]||{},u=1,c=arguments.length,d=!1;for(typeof h=="boolean"&&(d=h,h=arguments[1]||{},u=2),c===u&&(h=this,--u);u<c;u++)if((e=arguments[u])!=null)for(s in e)r=h[s],h!==(n=e[s])&&(d&&n&&(a(n)||(o=Array.isArray(n)))?(l=o?(o=!1,r&&Array.isArray(r)?r:[]):r&&a(r)?r:{},h[s]=i(d,l,n)):n!==void 0&&(h[s]=n));return h};f.exports=i},function(f,x){f.exports=function(t,a,i){return Math.max(a,Math.min(i,t))}},function(f,x,t){var a=t(25),i=new a,e=new a,s=new a,r={camera:i,sprite:e,calc:s};f.exports=function(n,o,l){var h=i,u=e,c=s;return u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),h.copyFrom(o.matrix),l?(h.multiplyWithOffset(l,-o.scrollX*n.scrollFactorX,-o.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=o.scrollX*n.scrollFactorX,u.f-=o.scrollY*n.scrollFactorY),h.multiply(u,c),r}},function(f,x,t){f.exports={ADDED_TO_SCENE:t(656),BOOT:t(657),CREATE:t(658),DESTROY:t(659),PAUSE:t(660),POST_UPDATE:t(661),PRE_RENDER:t(662),PRE_UPDATE:t(663),READY:t(664),REMOVED_FROM_SCENE:t(665),RENDER:t(666),RESUME:t(667),SHUTDOWN:t(668),SLEEP:t(669),START:t(670),TRANSITION_COMPLETE:t(671),TRANSITION_INIT:t(672),TRANSITION_OUT:t(673),TRANSITION_START:t(674),TRANSITION_WAKE:t(675),UPDATE:t(676),WAKE:t(677)}},function(f,x){f.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19}},function(f,x,t){f.exports={BLUR:t(612),BOOT:t(613),CONTEXT_LOST:t(614),CONTEXT_RESTORED:t(615),DESTROY:t(616),FOCUS:t(617),HIDDEN:t(618),PAUSE:t(619),POST_RENDER:t(620),POST_STEP:t(621),PRE_RENDER:t(622),PRE_STEP:t(623),READY:t(624),RESUME:t(625),STEP:t(626),VISIBLE:t(627)}},function(f,x,t){var a=t(0),i=t(21),e=t(95),s=t(2),r=t(155),n=t(240),o=t(517),l=t(156),h=new a({initialize:function(u,c){this.loader=u,this.cache=s(c,"cache",!1),this.type=s(c,"type",!1),this.key=s(c,"key",!1);var d=this.key;if(u.prefix&&u.prefix!==""&&(this.key=u.prefix+d),!this.type||!this.key)throw new Error("Invalid Loader."+this.type+" key");var v=s(c,"url");v===void 0?v=u.path+d+"."+s(c,"extension",""):typeof v!="string"||v.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)||(v=u.path+v),this.url=v,this.src="",this.xhrSettings=l(s(c,"responseType",void 0)),s(c,"xhrSettings",!1)&&(this.xhrSettings=n(this.xhrSettings,s(c,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?i.FILE_POPULATED:i.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=s(c,"config",{}),this.multiFile,this.linkFile},setLink:function(u){(this.linkFile=u).linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===i.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=i.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=o(this,this.loader.xhr))},onLoad:function(u,c){var d=u.responseURL&&(u.responseURL.indexOf("file://")===0||u.responseURL.indexOf("capacitor://")===0)&&c.target.status===0,v=!(c.target&&c.target.status!==200)||d;u.readyState===4&&400<=u.status&&u.status<=599&&(v=!1),this.state=i.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,v)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(u){u.lengthComputable&&(this.bytesLoaded=u.loaded,this.bytesTotal=u.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(e.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=i.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=i.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=i.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(u){u===void 0&&(u=this.data);var c=this.key,d=this.type;this.loader.emit(e.FILE_COMPLETE,c,d,u),this.loader.emit(e.FILE_KEY_COMPLETE+d+"-"+c,c,d,u),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});h.createObjectURL=function(u,c,d){var v;typeof URL=="function"?u.src=URL.createObjectURL(c):((v=new FileReader).onload=function(){u.removeAttribute("crossOrigin"),u.src="data:"+(c.type||d)+";base64,"+v.result.split(",")[1]},v.onerror=u.onerror,v.readAsDataURL(c))},h.revokeObjectURL=function(u){typeof URL=="function"&&URL.revokeObjectURL(u.src)},f.exports=h},function(f,x){var t={},a={},i={register:function(e,s,r,n){n===void 0&&(n=!1),t[e]={plugin:s,mapping:r,custom:n}},registerCustom:function(e,s,r,n){a[e]={plugin:s,mapping:r,data:n}},hasCore:function(e){return t.hasOwnProperty(e)},hasCustom:function(e){return a.hasOwnProperty(e)},getCore:function(e){return t[e]},getCustom:function(e){return a[e]},getCustomClass:function(e){return a.hasOwnProperty(e)?a[e].plugin:null},remove:function(e){t.hasOwnProperty(e)&&delete t[e]},removeCustom:function(e){a.hasOwnProperty(e)&&delete a[e]},destroyCorePlugins:function(){for(var e in t)t.hasOwnProperty(e)&&delete t[e]},destroyCustomPlugins:function(){for(var e in a)a.hasOwnProperty(e)&&delete a[e]}};f.exports=i},function(f,x,t){var a=t(0),i=t(14),e=t(3),s=new a({initialize:function(r,n,o,l,h,u){r===void 0&&(r=1),n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=1),h===void 0&&(h=0),u===void 0&&(u=0),this.matrix=new Float32Array([r,n,o,l,h,u,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,n=r[0],o=r[1],l=r[2],h=r[3];return n||o?0<o?Math.acos(n/this.scaleX):-Math.acos(n/this.scaleX):l||h?i.TAU-(0<h?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,n){var o=this.matrix;return o[4]=o[0]*r+o[2]*n+o[4],o[5]=o[1]*r+o[3]*n+o[5],this},scale:function(r,n){var o=this.matrix;return o[0]*=r,o[1]*=r,o[2]*=n,o[3]*=n,this},rotate:function(r){var n=Math.sin(r),o=Math.cos(r),l=this.matrix,h=l[0],u=l[1],c=l[2],d=l[3];return l[0]=h*o+c*n,l[1]=u*o+d*n,l[2]=h*-n+c*o,l[3]=u*-n+d*o,this},multiply:function(r,n){var o=this.matrix,l=r.matrix,h=o[0],u=o[1],c=o[2],d=o[3],v=o[4],g=o[5],m=l[0],y=l[1],T=l[2],E=l[3],S=l[4],C=l[5],M=n===void 0?this:n;return M.a=m*h+y*c,M.b=m*u+y*d,M.c=T*h+E*c,M.d=T*u+E*d,M.e=S*h+C*c+v,M.f=S*u+C*d+g,M},multiplyWithOffset:function(r,n,o){var l=this.matrix,h=r.matrix,u=l[0],c=l[1],d=l[2],v=l[3],g=n*u+o*d+l[4],m=n*c+o*v+l[5],y=h[0],T=h[1],E=h[2],S=h[3],C=h[4],M=h[5];return l[0]=y*u+T*d,l[1]=y*c+T*v,l[2]=E*u+S*d,l[3]=E*c+S*v,l[4]=C*u+M*d+g,l[5]=C*c+M*v+m,this},transform:function(r,n,o,l,h,u){var c=this.matrix,d=c[0],v=c[1],g=c[2],m=c[3],y=c[4],T=c[5];return c[0]=r*d+n*g,c[1]=r*v+n*m,c[2]=o*d+l*g,c[3]=o*v+l*m,c[4]=h*d+u*g+y,c[5]=h*v+u*m+T,this},transformPoint:function(r,n,o){o===void 0&&(o={x:0,y:0});var l=this.matrix,h=l[0],u=l[1],c=l[2],d=l[3],v=l[4],g=l[5];return o.x=r*h+n*c+v,o.y=r*u+n*d+g,o},invert:function(){var r=this.matrix,n=r[0],o=r[1],l=r[2],h=r[3],u=r[4],c=r[5],d=n*h-o*l;return r[0]=h/d,r[1]=-o/d,r[2]=-l/d,r[3]=n/d,r[4]=(l*c-h*u)/d,r[5]=-(n*c-o*u)/d,this},copyFrom:function(r){var n=this.matrix;return n[0]=r.a,n[1]=r.b,n[2]=r.c,n[3]=r.d,n[4]=r.e,n[5]=r.f,this},copyFromArray:function(r){var n=this.matrix;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],this},copyToContext:function(r){var n=this.matrix;return r.transform(n[0],n[1],n[2],n[3],n[4],n[5]),r},setToContext:function(r){var n=this.matrix;return r.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),r},copyToArray:function(r){var n=this.matrix;return r===void 0?r=[n[0],n[1],n[2],n[3],n[4],n[5]]:(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5]),r},setTransform:function(r,n,o,l,h,u){var c=this.matrix;return c[0]=r,c[1]=n,c[2]=o,c[3]=l,c[4]=h,c[5]=u,this},decomposeMatrix:function(){var r,n,o=this.decomposedMatrix,l=this.matrix,h=l[0],u=l[1],c=l[2],d=l[3],v=h*d-u*c;return o.translateX=l[4],o.translateY=l[5],h||u?(r=Math.sqrt(h*h+u*u),o.rotation=0<u?Math.acos(h/r):-Math.acos(h/r),o.scaleX=r,o.scaleY=v/r):c||d?(n=Math.sqrt(c*c+d*d),o.rotation=.5*Math.PI-(0<d?Math.acos(-c/n):-Math.acos(c/n)),o.scaleX=v/n,o.scaleY=n):(o.rotation=0,o.scaleX=0,o.scaleY=0),o},applyITRS:function(r,n,o,l,h){var u=this.matrix,c=Math.sin(o),d=Math.cos(o);return u[4]=r,u[5]=n,u[0]=d*l,u[1]=c*l,u[2]=-c*h,u[3]=d*h,this},applyInverse:function(r,n,o){o===void 0&&(o=new e);var l=this.matrix,h=l[0],u=l[1],c=l[2],d=l[3],v=l[4],g=l[5],m=1/(h*d+c*-u);return o.x=d*m*r+-c*m*n+(g*c-v*d)*m,o.y=h*m*n+-u*m*r+(-g*h+v*u)*m,o},getX:function(r,n){return r*this.a+n*this.c+this.e},getY:function(r,n){return r*this.b+n*this.d+this.f},getXRound:function(r,n,o){var l=this.getX(r,n);return o&&(l=Math.round(l)),l},getYRound:function(r,n,o){var l=this.getY(r,n);return o&&(l=Math.round(l)),l},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});f.exports=s},function(f,x,t){var a=t(2);f.exports=function(i,e,s,r,n,o){i===void 0&&(i=0),e===void 0&&(e=0),s===void 0&&(s=o.width),r===void 0&&(r=o.height);var l=a(n=n||{},"isNotEmpty",!1),h=a(n,"isColliding",!1),u=a(n,"hasInterestingFace",!1);i<0&&(s+=i,i=0),e<0&&(r+=e,e=0),i+s>o.width&&(s=Math.max(o.width-i,0)),e+r>o.height&&(r=Math.max(o.height-e,0));for(var c=[],d=e;d<e+r;d++)for(var v=i;v<i+s;v++){var g=o.data[d][v];if(g!==null){if(l&&g.index===-1||h&&!g.collides||u&&!g.hasInterestingFace)continue;c.push(g)}}return c}},function(f,x){f.exports=function(t,a,i,e,s,r){var n;e===void 0&&(e=0),s===void 0&&(s=0),r===void 0&&(r=1);var o=0,l=t.length;if(r===1)for(n=s;n<l;n++)t[n][a]=i+o*e,o++;else for(n=s;0<=n;n--)t[n][a]=i+o*e,o++;return t}},function(f,x,t){var a=t(35),i=t(13);f.exports=function(e,s,r){s.x=i(r,"x",0),s.y=i(r,"y",0),s.depth=i(r,"depth",0),s.flipX=i(r,"flipX",!1),s.flipY=i(r,"flipY",!1);var n=i(r,"scale",null);typeof n=="number"?s.setScale(n):n!==null&&(s.scaleX=i(n,"x",1),s.scaleY=i(n,"y",1));var o=i(r,"scrollFactor",null);typeof o=="number"?s.setScrollFactor(o):o!==null&&(s.scrollFactorX=i(o,"x",1),s.scrollFactorY=i(o,"y",1)),s.rotation=i(r,"rotation",0);var l=i(r,"angle",null);l!==null&&(s.angle=l),s.alpha=i(r,"alpha",1);var h,u,c=i(r,"origin",null);return typeof c=="number"?s.setOrigin(c):c!==null&&(h=i(c,"x",.5),u=i(c,"y",.5),s.setOrigin(h,u)),s.blendMode=i(r,"blendMode",a.NORMAL),s.visible=i(r,"visible",!0),i(r,"add",!0)&&e.sys.displayList.add(s),s.preUpdate&&e.sys.updateList.add(s),s}},function(f,x){f.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},function(f,x,t){var a=t(19);f.exports=function(i,e,s,r,n){var o=r.alpha*s.alpha;if(o<=0)return!1;var l=a(s,r,n).calc;return e.globalCompositeOperation=i.blendModes[s.blendMode],e.globalAlpha=o,e.save(),l.setToContext(e),e.imageSmoothingEnabled=!(!i.antialias||s.frame&&s.frame.source.scaleMode),!0}},function(f,x,t){var a,i=t(33),e=t(192),s=[],r=!1;function n(l,h,u,c,d){h===void 0&&(h=1),u===void 0&&(u=1),c===void 0&&(c=i.CANVAS),d===void 0&&(d=!1);var v=a(c),g=(v===null?(v={parent:l,canvas:document.createElement("canvas"),type:c},c===i.CANVAS&&s.push(v)):v.parent=l,v.canvas);return d&&(v.parent=g),g.width=h,g.height=u,r&&c===i.CANVAS&&e.disable(g.getContext("2d")),g}function o(){var l=0;return s.forEach(function(h){h.parent&&l++}),l}f.exports={create2D:function(l,h,u){return n(l,h,u,i.CANVAS)},create:n,createWebGL:function(l,h,u){return n(l,h,u,i.WEBGL)},disableSmoothing:function(){r=!0},enableSmoothing:function(){r=!1},first:a=function(l){if(l===void 0&&(l=i.CANVAS),l===i.WEBGL)return null;for(var h=0;h<s.length;h++){var u=s[h];if(!u.parent&&u.type===l)return u}return null},free:function(){return s.length-o()},pool:s,remove:function(l){var h=l instanceof HTMLCanvasElement;s.forEach(function(u){(h&&u.canvas===l||!h&&u.parent===l)&&(u.parent=null,u.canvas.width=1,u.canvas.height=1)})},total:o}},function(f,x){var t={};f.exports=t,function(){t._nextId=0,t._seed=0,t._nowStartTime=+new Date,t.extend=function(i,e){for(var s,r=typeof e=="boolean"?(s=2,e):(s=1,!0),n=s;n<arguments.length;n++){var o=arguments[n];if(o)for(var l in o)!r||!o[l]||o[l].constructor!==Object||i[l]&&i[l].constructor!==Object?i[l]=o[l]:(i[l]=i[l]||{},t.extend(i[l],r,o[l]))}return i},t.clone=function(i,e){return t.extend({},e,i)},t.keys=function(i){if(Object.keys)return Object.keys(i);var e=[];for(var s in i)e.push(s);return e},t.values=function(i){var e=[];if(Object.keys){for(var s=Object.keys(i),r=0;r<s.length;r++)e.push(i[s[r]]);return e}for(var n in i)e.push(i[n]);return e},t.get=function(i,e,s,r){e=e.split(".").slice(s,r);for(var n=0;n<e.length;n+=1)i=i[e[n]];return i},t.set=function(i,e,s,r,n){var o=e.split(".").slice(r,n);return t.get(i,e,0,-1)[o[o.length-1]]=s},t.shuffle=function(i){for(var e=i.length-1;0<e;e--){var s=Math.floor(t.random()*(e+1)),r=i[e];i[e]=i[s],i[s]=r}return i},t.choose=function(i){return i[Math.floor(t.random()*i.length)]},t.isElement=function(i){return typeof HTMLElement<"u"?i instanceof HTMLElement:!!(i&&i.nodeType&&i.nodeName)},t.isArray=function(i){return Object.prototype.toString.call(i)==="[object Array]"},t.isFunction=function(i){return typeof i=="function"},t.isPlainObject=function(i){return typeof i=="object"&&i.constructor===Object},t.isString=function(i){return Object.prototype.toString.call(i)==="[object String]"},t.clamp=function(i,e,s){return i<e?e:s<i?s:i},t.sign=function(i){return i<0?-1:1},t.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-t._nowStartTime},t.random=function(i,e){return e=e!==void 0?e:1,(i=i!==void 0?i:0)+a()*(e-i)};var a=function(){return t._seed=(9301*t._seed+49297)%233280,t._seed/233280};t.colorToNumber=function(i){return(i=i.replace("#","")).length==3&&(i=i.charAt(0)+i.charAt(0)+i.charAt(1)+i.charAt(1)+i.charAt(2)+i.charAt(2)),parseInt(i,16)},t.logLevel=1,t.log=function(){console&&0<t.logLevel&&t.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.info=function(){console&&0<t.logLevel&&t.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.warn=function(){console&&0<t.logLevel&&t.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.nextId=function(){return t._nextId++},t.indexOf=function(i,e){if(i.indexOf)return i.indexOf(e);for(var s=0;s<i.length;s++)if(i[s]===e)return s;return-1},t.map=function(i,e){if(i.map)return i.map(e);for(var s=[],r=0;r<i.length;r+=1)s.push(e(i[r]));return s},t.topologicalSort=function(i){var e=[],s=[],r=[];for(var n in i)s[n]||r[n]||t._topologicalSort(n,s,r,i,e);return e},t._topologicalSort=function(i,e,s,r,n){var o=r[i]||[];s[i]=!0;for(var l=0;l<o.length;l+=1){var h=o[l];s[h]||e[h]||t._topologicalSort(h,e,s,r,n)}s[i]=!1,e[i]=!0,n.push(i)},t.chain=function(){for(var i=[],e=0;e<arguments.length;e+=1){var s=arguments[e];s._chained?i.push.apply(i,s._chained):i.push(s)}function r(){for(var n,o=new Array(arguments.length),l=0,h=arguments.length;l<h;l++)o[l]=arguments[l];for(l=0;l<i.length;l+=1){var u=i[l].apply(n,o);u!==void 0&&(n=u)}return n}return r._chained=i,r},t.chainPathBefore=function(i,e,s){return t.set(i,e,t.chain(s,t.get(i,e)))},t.chainPathAfter=function(i,e,s){return t.set(i,e,t.chain(t.get(i,e),s))}}()},function(f,x,t){var a={VERSION:"3.55.2",BlendModes:t(35),ScaleModes:t(168),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};f.exports=a},function(f,x,t){var a=t(0),i=t(11),e=t(15),s=t(47),r=new a({Extends:e,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Transform,i.Visible],initialize:function(n,o,l){o===void 0&&(o="Shape"),e.call(this,n,o),this.geom=l,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new s,this.width=0,this.height=0,this.initPipeline()},setFillStyle:function(n,o){return o===void 0&&(o=1),n===void 0?this.isFilled=!1:(this.fillColor=n,this.fillAlpha=o,this.isFilled=!0),this},setStrokeStyle:function(n,o,l){return l===void 0&&(l=1),n===void 0?this.isStroked=!1:(this.lineWidth=n,this.strokeColor=o,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(n){return this.closePath=n,this},setSize:function(n,o){return this.width=n,this.height=o,this},setDisplaySize:function(n,o){return this.displayWidth=n,this.displayHeight=o,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}}});f.exports=r},function(f,x){f.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(f,x,t){var a=t(14);f.exports=function(i){return i*a.DEG_TO_RAD}},function(f,x,t){f.exports={DESTROY:t(743),FADE_IN_COMPLETE:t(744),FADE_IN_START:t(745),FADE_OUT_COMPLETE:t(746),FADE_OUT_START:t(747),FLASH_COMPLETE:t(748),FLASH_START:t(749),FOLLOW_UPDATE:t(750),PAN_COMPLETE:t(751),PAN_START:t(752),POST_RENDER:t(753),PRE_RENDER:t(754),ROTATE_COMPLETE:t(755),ROTATE_START:t(756),SHAKE_COMPLETE:t(757),SHAKE_START:t(758),ZOOM_COMPLETE:t(759),ZOOM_START:t(760)}},function(f,x,t){var a=t(0),i=t(103),e=t(328),s=t(188),r=t(329),n=new a({initialize:function(o,l,h,u){o===void 0&&(o=0),l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(o,l,h,u)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(o,l,h,u,c){return u===void 0&&(u=255),c===void 0&&(c=!0),this._locked=!0,this.red=o,this.green=l,this.blue=h,this.alpha=u,this._locked=!1,this.update(c)},setGLTo:function(o,l,h,u){return u===void 0&&(u=1),this._locked=!0,this.redGL=o,this.greenGL=l,this.blueGL=h,this.alphaGL=u,this._locked=!1,this.update(!0)},setFromRGB:function(o){return this._locked=!0,this.red=o.r,this.green=o.g,this.blue=o.b,o.hasOwnProperty("a")&&(this.alpha=o.a),this._locked=!1,this.update(!0)},setFromHSV:function(o,l,h){return s(o,l,h,this)},update:function(o){if(o===void 0&&(o=!1),this._locked)return this;var l=this.r,h=this.g,u=this.b,c=this.a;return this._color=i(l,h,u),this._color32=e(l,h,u,c),this._rgba="rgba("+l+","+h+","+u+","+c/255+")",o&&r(l,h,u,this),this},updateHSV:function(){var o=this.r,l=this.g,h=this.b;return r(o,l,h,this),this},clone:function(){return new n(this.r,this.g,this.b,this.a)},gray:function(o){return this.setTo(o,o,o)},random:function(o,l){o===void 0&&(o=0),l===void 0&&(l=255);var h=Math.floor(o+Math.random()*(l-o)),u=Math.floor(o+Math.random()*(l-o)),c=Math.floor(o+Math.random()*(l-o));return this.setTo(h,u,c)},randomGray:function(o,l){o===void 0&&(o=0),l===void 0&&(l=255);var h=Math.floor(o+Math.random()*(l-o));return this.setTo(h,h,h)},saturate:function(o){return this.s+=o/100,this},desaturate:function(o){return this.s-=o/100,this},lighten:function(o){return this.v+=o/100,this},darken:function(o){return this.v-=o/100,this},brighten:function(o){var l=this.r,h=this.g,u=this.b,l=Math.max(0,Math.min(255,l-Math.round(-o/100*255))),h=Math.max(0,Math.min(255,h-Math.round(-o/100*255))),u=Math.max(0,Math.min(255,u-Math.round(-o/100*255)));return this.setTo(l,h,u)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(o){this.gl[0]=Math.min(Math.abs(o),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(o){this.gl[1]=Math.min(Math.abs(o),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(o){this.gl[2]=Math.min(Math.abs(o),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(o){this.gl[3]=Math.min(Math.abs(o),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(o){o=Math.floor(Math.abs(o)),this.r=Math.min(o,255),this.gl[0]=o/255,this.update(!0)}},green:{get:function(){return this.g},set:function(o){o=Math.floor(Math.abs(o)),this.g=Math.min(o,255),this.gl[1]=o/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(o){o=Math.floor(Math.abs(o)),this.b=Math.min(o,255),this.gl[2]=o/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(o){o=Math.floor(Math.abs(o)),this.a=Math.min(o,255),this.gl[3]=o/255,this.update()}},h:{get:function(){return this._h},set:function(o){this._h=o,s(o,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(o){this._s=o,s(this._h,o,this._v,this)}},v:{get:function(){return this._v},set:function(o){this._v=o,s(this._h,this._s,o,this)}}});f.exports=n},function(f,x,t){var a=new(t(0))({initialize:function(i,e,s){this.x=0,this.y=0,this.z=0,typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0):(this.x=i||0,this.y=e||0,this.z=s||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this},max:function(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this},clone:function(){return new a(this.x,this.y,this.z)},addVectors:function(i,e){return this.x=i.x+e.x,this.y=i.y+e.y,this.z=i.z+e.z,this},crossVectors:function(i,e){var s=i.x,r=i.y,n=i.z,o=e.x,l=e.y,h=e.z;return this.x=r*h-n*l,this.y=n*o-s*h,this.z=s*l-r*o,this},equals:function(i){return this.x===i.x&&this.y===i.y&&this.z===i.z},copy:function(i){return this.x=i.x,this.y=i.y,this.z=i.z||0,this},set:function(i,e,s){return typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0):(this.x=i||0,this.y=e||0,this.z=s||0),this},setFromMatrixPosition:function(i){return this.fromArray(i.val,12)},setFromMatrixColumn:function(i,e){return this.fromArray(i.val,4*e)},fromArray:function(i,e){return e===void 0&&(e=0),this.x=i[e],this.y=i[e+1],this.z=i[e+2],this},add:function(i){return this.x+=i.x,this.y+=i.y,this.z+=i.z||0,this},addScalar:function(i){return this.x+=i,this.y+=i,this.z+=i,this},addScale:function(i,e){return this.x+=i.x*e,this.y+=i.y*e,this.z+=i.z*e||0,this},subtract:function(i){return this.x-=i.x,this.y-=i.y,this.z-=i.z||0,this},multiply:function(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z||1,this},scale:function(i){return isFinite(i)?(this.x*=i,this.y*=i,this.z*=i):(this.x=0,this.y=0,this.z=0),this},divide:function(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(i){var e=i.x-this.x,s=i.y-this.y,r=i.z-this.z||0;return Math.sqrt(e*e+s*s+r*r)},distanceSq:function(i){var e=i.x-this.x,s=i.y-this.y,r=i.z-this.z||0;return e*e+s*s+r*r},length:function(){var i=this.x,e=this.y,s=this.z;return Math.sqrt(i*i+e*e+s*s)},lengthSq:function(){var i=this.x,e=this.y,s=this.z;return i*i+e*e+s*s},normalize:function(){var i=this.x,e=this.y,s=this.z,r=i*i+e*e+s*s;return 0<r&&(r=1/Math.sqrt(r),this.x=i*r,this.y=e*r,this.z=s*r),this},dot:function(i){return this.x*i.x+this.y*i.y+this.z*i.z},cross:function(i){var e=this.x,s=this.y,r=this.z,n=i.x,o=i.y,l=i.z;return this.x=s*l-r*o,this.y=r*n-e*l,this.z=e*o-s*n,this},lerp:function(i,e){e===void 0&&(e=0);var s=this.x,r=this.y,n=this.z;return this.x=s+e*(i.x-s),this.y=r+e*(i.y-r),this.z=n+e*(i.z-n),this},applyMatrix3:function(i){var e=this.x,s=this.y,r=this.z,n=i.val;return this.x=n[0]*e+n[3]*s+n[6]*r,this.y=n[1]*e+n[4]*s+n[7]*r,this.z=n[2]*e+n[5]*s+n[8]*r,this},applyMatrix4:function(i){var e=this.x,s=this.y,r=this.z,n=i.val,o=1/(n[3]*e+n[7]*s+n[11]*r+n[15]);return this.x=(n[0]*e+n[4]*s+n[8]*r+n[12])*o,this.y=(n[1]*e+n[5]*s+n[9]*r+n[13])*o,this.z=(n[2]*e+n[6]*s+n[10]*r+n[14])*o,this},transformMat3:function(i){var e=this.x,s=this.y,r=this.z,n=i.val;return this.x=e*n[0]+s*n[3]+r*n[6],this.y=e*n[1]+s*n[4]+r*n[7],this.z=e*n[2]+s*n[5]+r*n[8],this},transformMat4:function(i){var e=this.x,s=this.y,r=this.z,n=i.val;return this.x=n[0]*e+n[4]*s+n[8]*r+n[12],this.y=n[1]*e+n[5]*s+n[9]*r+n[13],this.z=n[2]*e+n[6]*s+n[10]*r+n[14],this},transformCoordinates:function(i){var e=this.x,s=this.y,r=this.z,n=i.val,o=e*n[0]+s*n[4]+r*n[8]+n[12],l=e*n[1]+s*n[5]+r*n[9]+n[13],h=e*n[2]+s*n[6]+r*n[10]+n[14],u=e*n[3]+s*n[7]+r*n[11]+n[15];return this.x=o/u,this.y=l/u,this.z=h/u,this},transformQuat:function(i){var e=this.x,s=this.y,r=this.z,n=i.x,o=i.y,l=i.z,h=i.w,u=h*e+o*r-l*s,c=h*s+l*e-n*r,d=h*r+n*s-o*e,v=-n*e-o*s-l*r;return this.x=u*h+v*-n+c*-l-d*-o,this.y=c*h+v*-o+d*-n-u*-l,this.z=d*h+v*-l+u*-o-c*-n,this},project:function(i){var e=this.x,s=this.y,r=this.z,n=i.val,o=n[0],l=n[1],h=n[2],u=n[3],c=n[4],d=n[5],v=n[6],g=n[7],m=n[8],y=n[9],T=n[10],E=n[11],S=n[12],C=n[13],M=n[14],P=1/(e*u+s*g+r*E+n[15]);return this.x=(e*o+s*c+r*m+S)*P,this.y=(e*l+s*d+r*y+C)*P,this.z=(e*h+s*v+r*T+M)*P,this},projectViewMatrix:function(i,e){return this.applyMatrix4(i).applyMatrix4(e)},unprojectViewMatrix:function(i,e){return this.applyMatrix4(i).applyMatrix4(e)},unproject:function(i,e){var s=i.x,r=i.y,n=i.z,o=i.w,l=this.x-s,h=o-this.y-1-r,u=this.z;return this.x=2*l/n-1,this.y=2*h/o-1,this.z=2*u-1,this.project(e)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});a.ZERO=new a,a.RIGHT=new a(1,0,0),a.LEFT=new a(-1,0,0),a.UP=new a(0,-1,0),a.DOWN=new a(0,1,0),a.FORWARD=new a(0,0,1),a.BACK=new a(0,0,-1),a.ONE=new a(1,1,1),f.exports=a},function(f,x){f.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(f,x,t){var a={};f.exports=a;var i=t(64),e=t(83),s=t(165),r=t(32),n=t(84),o=t(271);(function(){a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a.create=function(h){var u={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!h.hasOwnProperty("position")&&h.hasOwnProperty("vertices")?h.position=i.centre(h.vertices):h.hasOwnProperty("vertices")||(u.vertices=i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var c=r.extend(u,h);return l(c,h),c.setOnCollideWith=function(d,v){return v?this.onCollideWith[d.id]=v:delete this.onCollideWith[d.id],this},c},a.nextGroup=function(h){return h?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var l=function(h,u){u=u||{},a.set(h,{bounds:h.bounds||n.create(h.vertices),positionPrev:h.positionPrev||e.clone(h.position),anglePrev:h.anglePrev||h.angle,vertices:h.vertices,parts:h.parts||[h],isStatic:h.isStatic,isSleeping:h.isSleeping,parent:h.parent||h});var c,d,v,g,m=h.bounds;i.rotate(h.vertices,h.angle,h.position),o.rotate(h.axes,h.angle),n.update(m,h.vertices,h.velocity),a.set(h,{axes:u.axes||h.axes,area:u.area||h.area,mass:u.mass||h.mass,inertia:u.inertia||h.inertia}),h.parts.length===1&&(c=h.centerOfMass,d=h.centerOffset,v=m.max.x-m.min.x,g=m.max.y-m.min.y,c.x=-(m.min.x-h.position.x)/v,c.y=-(m.min.y-h.position.y)/g,d.x=v*c.x,d.y=g*c.y)};a.set=function(h,u,c){var d;for(d in typeof u=="string"&&(d=u,(u={})[d]=c),u)if(Object.prototype.hasOwnProperty.call(u,d))switch(c=u[d],d){case"isStatic":a.setStatic(h,c);break;case"isSleeping":s.set(h,c);break;case"mass":a.setMass(h,c);break;case"density":a.setDensity(h,c);break;case"inertia":a.setInertia(h,c);break;case"vertices":a.setVertices(h,c);break;case"position":a.setPosition(h,c);break;case"angle":a.setAngle(h,c);break;case"velocity":a.setVelocity(h,c);break;case"angularVelocity":a.setAngularVelocity(h,c);break;case"parts":a.setParts(h,c);break;case"centre":a.setCentre(h,c);break;default:h[d]=c}},a.setStatic=function(h,u){for(var c=0;c<h.parts.length;c++){var d=h.parts[c];(d.isStatic=u)?(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia},d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null)}},a.setMass=function(h,u){var c=h.inertia/(h.mass/6);h.inertia=u/6*c,h.inverseInertia=1/h.inertia,h.mass=u,h.inverseMass=1/h.mass,h.density=h.mass/h.area},a.setDensity=function(h,u){a.setMass(h,u*h.area),h.density=u},a.setInertia=function(h,u){h.inertia=u,h.inverseInertia=1/h.inertia},a.setVertices=function(h,u){u[0].body===h?h.vertices=u:h.vertices=i.create(u,h),h.axes=o.fromVertices(h.vertices),h.area=i.area(h.vertices),a.setMass(h,h.density*h.area);var c=i.centre(h.vertices);i.translate(h.vertices,c,-1),a.setInertia(h,a._inertiaScale*i.inertia(h.vertices,h.mass)),i.translate(h.vertices,h.position),n.update(h.bounds,h.vertices,h.velocity)},a.setParts=function(h,u,c){for(u=u.slice(0),h.parts.length=0,h.parts.push(h),h.parent=h,g=0;g<u.length;g++){var d=u[g];d!==h&&(d.parent=h).parts.push(d)}if(h.parts.length!==1){if(c=c===void 0||c){for(var v=[],g=0;g<u.length;g++)v=v.concat(u[g].vertices);i.clockwiseSort(v);var m=i.hull(v),y=i.centre(m);a.setVertices(h,m),i.translate(h.vertices,y)}var T=a._totalProperties(h),E=T.centre.x,S=T.centre.y,C=h.bounds,M=h.centerOfMass,P=h.centerOffset;n.update(C,h.vertices,h.velocity),M.x=-(C.min.x-E)/(C.max.x-C.min.x),M.y=-(C.min.y-S)/(C.max.y-C.min.y),P.x=E,P.y=S,h.area=T.area,(h.parent=h).position.x=E,h.position.y=S,h.positionPrev.x=E,h.positionPrev.y=S,a.setMass(h,T.mass),a.setInertia(h,T.inertia),a.setPosition(h,T.centre)}},a.setCentre=function(h,u,c){c?(h.positionPrev.x+=u.x,h.positionPrev.y+=u.y,h.position.x+=u.x,h.position.y+=u.y):(h.positionPrev.x=u.x-(h.position.x-h.positionPrev.x),h.positionPrev.y=u.y-(h.position.y-h.positionPrev.y),h.position.x=u.x,h.position.y=u.y)},a.setPosition=function(h,u){var c=e.sub(u,h.position);h.positionPrev.x+=c.x,h.positionPrev.y+=c.y;for(var d=0;d<h.parts.length;d++){var v=h.parts[d];v.position.x+=c.x,v.position.y+=c.y,i.translate(v.vertices,c),n.update(v.bounds,v.vertices,h.velocity)}},a.setAngle=function(h,u){var c=u-h.angle;h.anglePrev+=c;for(var d=0;d<h.parts.length;d++){var v=h.parts[d];v.angle+=c,i.rotate(v.vertices,c,h.position),o.rotate(v.axes,c),n.update(v.bounds,v.vertices,h.velocity),0<d&&e.rotateAbout(v.position,c,h.position,v.position)}},a.setVelocity=function(h,u){h.positionPrev.x=h.position.x-u.x,h.positionPrev.y=h.position.y-u.y,h.velocity.x=u.x,h.velocity.y=u.y,h.speed=e.magnitude(h.velocity)},a.setAngularVelocity=function(h,u){h.anglePrev=h.angle-u,h.angularVelocity=u,h.angularSpeed=Math.abs(h.angularVelocity)},a.translate=function(h,u){a.setPosition(h,e.add(h.position,u))},a.rotate=function(h,u,c){var d,v,g,m;c&&(d=Math.cos(u),v=Math.sin(u),g=h.position.x-c.x,m=h.position.y-c.y,a.setPosition(h,{x:c.x+(g*d-m*v),y:c.y+(g*v+m*d)})),a.setAngle(h,h.angle+u)},a.scale=function(h,u,c,d){var v=0,g=0;d=d||h.position;for(var m=0;m<h.parts.length;m++){var y=h.parts[m];y.scale.x=u,y.scale.y=c,i.scale(y.vertices,u,c,d),y.axes=o.fromVertices(y.vertices),y.area=i.area(y.vertices),a.setMass(y,h.density*y.area),i.translate(y.vertices,{x:-y.position.x,y:-y.position.y}),a.setInertia(y,a._inertiaScale*i.inertia(y.vertices,y.mass)),i.translate(y.vertices,{x:y.position.x,y:y.position.y}),0<m&&(v+=y.area,g+=y.inertia),y.position.x=d.x+(y.position.x-d.x)*u,y.position.y=d.y+(y.position.y-d.y)*c,n.update(y.bounds,y.vertices,h.velocity)}1<h.parts.length&&(h.area=v,h.isStatic||(a.setMass(h,h.density*v),a.setInertia(h,g))),h.circleRadius&&(u===c?h.circleRadius*=u:h.circleRadius=null)},a.update=function(h,u,c,d){var v=Math.pow(u*c*h.timeScale,2),g=1-h.frictionAir*c*h.timeScale,m=h.position.x-h.positionPrev.x,y=h.position.y-h.positionPrev.y;h.velocity.x=m*g*d+h.force.x/h.mass*v,h.velocity.y=y*g*d+h.force.y/h.mass*v,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.position.x+=h.velocity.x,h.position.y+=h.velocity.y,h.angularVelocity=(h.angle-h.anglePrev)*g*d+h.torque/h.inertia*v,h.anglePrev=h.angle,h.angle+=h.angularVelocity,h.speed=e.magnitude(h.velocity),h.angularSpeed=Math.abs(h.angularVelocity);for(var T=0;T<h.parts.length;T++){var E=h.parts[T];i.translate(E.vertices,h.velocity),0<T&&(E.position.x+=h.velocity.x,E.position.y+=h.velocity.y),h.angularVelocity!==0&&(i.rotate(E.vertices,h.angularVelocity,h.position),o.rotate(E.axes,h.angularVelocity),0<T&&e.rotateAbout(E.position,h.angularVelocity,h.position,E.position)),n.update(E.bounds,E.vertices,h.velocity)}},a.applyForce=function(h,u,c){h.force.x+=c.x,h.force.y+=c.y;var d=u.x-h.position.x,v=u.y-h.position.y;h.torque+=d*c.y-v*c.x},a._totalProperties=function(h){for(var u={mass:0,area:0,inertia:0,centre:{x:0,y:0}},c=h.parts.length===1?0:1;c<h.parts.length;c++){var d=h.parts[c],v=d.mass!==1/0?d.mass:1;u.mass+=v,u.area+=d.area,u.inertia+=d.inertia,u.centre=e.add(u.centre,e.mult(d.position,v))}return u.centre=e.div(u.centre,u.mass),u}})()},function(f,x){f.exports=function(t){return t.y+t.height-t.height*t.originY}},function(f,x){f.exports=function(t){return t.x-t.width*t.originX}},function(f,x){f.exports=function(t){return t.x+t.width-t.width*t.originX}},function(f,x){f.exports=function(t){return t.y-t.height*t.originY}},function(f,x){f.exports=function(t,a,i,e,s,r){var n;e===void 0&&(e=0),s===void 0&&(s=0),r===void 0&&(r=1);var o=0,l=t.length;if(r===1)for(n=s;n<l;n++)t[n][a]+=i+o*e,o++;else for(n=s;0<=n;n--)t[n][a]+=i+o*e,o++;return t}},function(f,x,t){var a=t(0),i=t(307),e=t(172),s=t(56),r=t(173),n=t(3),o=new a({initialize:function(l,h,u,c){l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=0),this.type=s.LINE,this.x1=l,this.y1=h,this.x2=u,this.y2=c},getPoint:function(l,h){return i(this,l,h)},getPoints:function(l,h,u){return e(this,l,h,u)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,h,u,c){return l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=0),this.x1=l,this.y1=h,this.x2=u,this.y2=c,this},getPointA:function(l){return l===void 0&&(l=new n),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new n),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});f.exports=o},function(f,x){f.exports=function(t,a,i,e){var s=i||a.fillColor,r=e||a.fillAlpha,n=(16711680&s)>>>16,o=(65280&s)>>>8,l=255&s;t.fillStyle="rgba("+n+","+o+","+l+","+r+")"}},function(f,x,t){var a=new(t(0))({initialize:function(i,e,s,r){var n=[];r.forEach(function(l){l&&n.push(l)}),this.loader=i,this.type=e,this.key=s,this.multiKeyIndex=i.multiKeyIndex++,this.files=n,this.complete=!1,this.pending=n.length,this.failed=0,this.config={},this.baseURL=i.baseURL,this.path=i.path,this.prefix=i.prefix;for(var o=0;o<n.length;o++)n[o].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(i){return this.files.push(i),(i.multiFile=this).pending++,this.complete=!1,this},onFileComplete:function(i){this.files.indexOf(i)!==-1&&this.pending--},onFileFailed:function(i){this.files.indexOf(i)!==-1&&this.failed++}});f.exports=a},function(f,x){f.exports=function(t,a,i,e){var s=t-i,r=a-e;return Math.sqrt(s*s+r*r)}},function(f,x,t){f.exports={BOOT:t(922),DESTROY:t(923),DRAG_END:t(924),DRAG_ENTER:t(925),DRAG:t(926),DRAG_LEAVE:t(927),DRAG_OVER:t(928),DRAG_START:t(929),DROP:t(930),GAME_OUT:t(931),GAME_OVER:t(932),GAMEOBJECT_DOWN:t(933),GAMEOBJECT_DRAG_END:t(934),GAMEOBJECT_DRAG_ENTER:t(935),GAMEOBJECT_DRAG:t(936),GAMEOBJECT_DRAG_LEAVE:t(937),GAMEOBJECT_DRAG_OVER:t(938),GAMEOBJECT_DRAG_START:t(939),GAMEOBJECT_DROP:t(940),GAMEOBJECT_MOVE:t(941),GAMEOBJECT_OUT:t(942),GAMEOBJECT_OVER:t(943),GAMEOBJECT_POINTER_DOWN:t(944),GAMEOBJECT_POINTER_MOVE:t(945),GAMEOBJECT_POINTER_OUT:t(946),GAMEOBJECT_POINTER_OVER:t(947),GAMEOBJECT_POINTER_UP:t(948),GAMEOBJECT_POINTER_WHEEL:t(949),GAMEOBJECT_UP:t(950),GAMEOBJECT_WHEEL:t(951),MANAGER_BOOT:t(952),MANAGER_PROCESS:t(953),MANAGER_UPDATE:t(954),POINTER_DOWN:t(955),POINTER_DOWN_OUTSIDE:t(956),POINTER_MOVE:t(957),POINTER_OUT:t(958),POINTER_OVER:t(959),POINTER_UP:t(960),POINTER_UP_OUTSIDE:t(961),POINTER_WHEEL:t(962),POINTERLOCK_CHANGE:t(963),PRE_UPDATE:t(964),SHUTDOWN:t(965),START:t(966),UPDATE:t(967)}},function(f,x){f.exports=function(t,a){return t.y=a+t.height*t.originY,t}},function(f,x){f.exports=function(t,a){return t.x=a+t.width*t.originX,t}},function(f,x){f.exports=function(t,a){return t.x=a-t.width+t.width*t.originX,t}},function(f,x){f.exports=function(t,a){return t.y=a-t.height+t.height*t.originY,t}},function(f,x){f.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},function(f,x){f.exports=function(t,a,i){return!(t.width<=0||t.height<=0)&&t.x<=a&&t.x+t.width>=a&&t.y<=i&&t.y+t.height>=i}},function(f,x,t){var a=t(0),i=t(175),e=t(9),s=t(374),r=t(2),n=t(69),o=t(91),l=t(141),h=t(12),u=t(375),c=new a({Extends:e,initialize:function(d){e.call(this);var v=d.game,g=v.renderer,m=g.gl;this.name=r(d,"name","WebGLPipeline"),this.game=v,this.renderer=g,this.manager,this.gl=m,this.view=v.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.topology=r(d,"topology",m.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.currentUnit=0,this.forceZero=r(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1},boot:function(){var d=this.gl,v=this.config,g=this.renderer;this.isPostFX||(this.projectionMatrix=new n().identity());var m=this.renderTargets,y=r(v,"renderTarget",!1);typeof y=="boolean"&&y&&(y=1);var T=g.width,E=g.height;if(typeof y=="number")for(L=0;L<y;L++)m.push(new l(g,T,E,1,0,!0));else if(Array.isArray(y))for(L=0;L<y.length;L++){var S=r(y[L],"scale",1),C=r(y[L],"minFilter",0),M=r(y[L],"autoClear",1);m.push(new l(g,T,E,S,C,M))}m.length&&(this.currentRenderTarget=m[0]),this.setShadersFromConfig(v);for(var P=this.shaders,R=0,L=0;L<P.length;L++)P[L].vertexSize>R&&(R=P[L].vertexSize);var w=r(v,"batchSize",g.config.batchSize);this.vertexCapacity=6*w;var B=new ArrayBuffer(this.vertexCapacity*R);this.vertexData=B,this.bytes=new Uint8Array(B),this.vertexViewF32=new Float32Array(B),this.vertexViewU32=new Uint32Array(B);var G=r(v,"vertices",null);for(G?(this.vertexViewF32.set(G),this.vertexBuffer=g.createVertexBuffer(B,d.STATIC_DRAW)):this.vertexBuffer=g.createVertexBuffer(B.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),L=P.length-1;0<=L;L--)P[L].rebind();this.hasBooted=!0,g.on(o.RESIZE,this.resize,this),g.on(o.PRE_RENDER,this.onPreRender,this),g.on(o.RENDER,this.onRender,this),g.on(o.POST_RENDER,this.onPostRender,this),this.emit(s.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(d,v){var g=this.renderer;return d===this.currentShader&&g.currentProgram===this.currentShader.program||(this.flush(),g.resetTextures(),this.setVertexBuffer()&&!v&&(v=!0),d.bind(v,!1),this.currentShader=d),this},getShaderByName:function(d){for(var v=this.shaders,g=0;g<v.length;g++)if(v[g].name===d)return v[g]},setShadersFromConfig:function(d){var v=this.shaders,g=this.renderer;for(L=0;L<v.length;L++)v[L].destroy();var m="vertShader",y="fragShader",T="attributes",E=r(d,m,null),S=h.parseFragmentShaderMaxTextures(r(d,y,null),g.maxTextures),C=r(d,T,null),M=r(d,"shaders",[]),P=M.length;if(P===0)E&&S&&(this.shaders=[new u(this,"default",E,S,i(C))]);else{for(var R=[],L=0;L<P;L++){var w=M[L],B=r(w,"name","default"),G=r(w,m,E),Y=h.parseFragmentShaderMaxTextures(r(w,y,S),g.maxTextures),D=r(w,T,C);G&&Y&&R.push(new u(this,B,G,Y,i(D)))}this.shaders=R}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},setGameObject:function(d,v){return v===void 0&&(v=d.frame),this.currentUnit=this.renderer.setTextureSource(v.source),this.currentUnit},shouldFlush:function(d){return d===void 0&&(d=0),this.vertexCount+d>this.vertexCapacity},resize:function(d,v){d===this.width&&v===this.height||this.flush(),this.width=d,this.height=v;for(var g=this.renderTargets,m=0;m<g.length;m++)g[m].resize(d,v);return this.setProjectionMatrix(d,v),this.emit(s.RESIZE,d,v,this),this.onResize(d,v),this},setProjectionMatrix:function(d,v){var g=this.projectionMatrix;if(!g)return this;this.projectionWidth=d,this.projectionHeight=v,g.ortho(0,d,v,0,-1e3,1e3);for(var m=this.shaders,y="uProjectionMatrix",T=0;T<m.length;T++){var E=m[T];E.hasUniform(y)&&(E.resetUniform(y),E.setMatrix4fv(y,!1,g.val,E))}return this},updateProjectionMatrix:function(){var d,v;this.projectionMatrix&&(d=this.renderer.projectionWidth,v=this.renderer.projectionHeight,this.projectionWidth===d&&this.projectionHeight===v||this.setProjectionMatrix(d,v))},bind:function(d){if(d===void 0&&(d=this.currentShader),this.glReset)return this.rebind(d);var v=this.setVertexBuffer();return d.bind(v),this.currentShader=d,this.emit(s.BIND,this,d),this.onActive(d),this},rebind:function(d){this.setVertexBuffer();for(var v=this.shaders,g=v.length-1;0<=g;g--){var m=v[g].rebind();d&&m!==d||(this.currentShader=m)}return this.emit(s.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(){var d=this.gl,v=this.vertexBuffer;return d.getParameter(d.ARRAY_BUFFER_BINDING)!==v&&(d.bindBuffer(d.ARRAY_BUFFER,v),!0)},preBatch:function(d){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(d),this},postBatch:function(d){return this.onDraw(this.currentRenderTarget),this.onPostBatch(d),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(d){var v,g,m;return d===void 0&&(d=!1),0<this.vertexCount&&(this.emit(s.BEFORE_FLUSH,this,d),this.onBeforeFlush(d),v=this.gl,g=this.vertexCount,m=this.currentShader.vertexSize,this.active&&(this.setVertexBuffer(),g===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,g*m)),v.drawArrays(this.topology,0,g)),this.vertexCount=0,this.emit(s.AFTER_FLUSH,this,d),this.onAfterFlush(d)),this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(d,v,g,m,y,T,E){var S=this.vertexViewF32,C=this.vertexViewU32,M=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++M]=d,S[++M]=v,S[++M]=g,S[++M]=m,S[++M]=y,S[++M]=T,C[++M]=E,this.vertexCount++},batchQuad:function(d,v,g,m,y,T,E,S,C,M,P,R,L,w,B,G,Y,D,F,N){N===void 0&&(N=this.currentUnit);var I=!1;return this.shouldFlush(6)&&(this.flush(),I=!0,N=this.setTexture2D(F)),this.batchVert(v,g,M,P,N,D,w),this.batchVert(m,y,M,L,N,D,G),this.batchVert(T,E,R,L,N,D,Y),this.batchVert(v,g,M,P,N,D,w),this.batchVert(T,E,R,L,N,D,Y),this.batchVert(S,C,R,P,N,D,B),this.onBatch(d),I},batchTri:function(d,v,g,m,y,T,E,S,C,M,P,R,L,w,B,G,Y){Y===void 0&&(Y=this.currentUnit);var D=!1;return this.shouldFlush(3)&&(this.flush(),D=!0,Y=this.setTexture2D(G)),this.batchVert(v,g,S,C,Y,B,R),this.batchVert(m,y,S,P,Y,B,L),this.batchVert(T,E,M,P,Y,B,w),this.onBatch(d),D},drawFillRect:function(d,v,g,m,y,T,E,S){E===void 0&&(E=this.renderer.whiteTexture.glTexture),S===void 0&&(S=!0),d=Math.floor(d),v=Math.floor(v);var C=Math.floor(d+g),M=Math.floor(v+m),P=this.setTexture2D(E),R=h.getTintAppendFloatAlphaAndSwap(y,T),L=0,w=1;S&&(L=1,w=0),this.batchQuad(null,d,v,d,M,C,M,C,v,0,L,1,w,R,R,R,R,0,E,P)},setTexture2D:function(d){return d===void 0&&(d=this.renderer.whiteTexture.glTexture),this.currentUnit=this.renderer.setTexture2D(d),this.currentUnit},bindTexture:function(d,v){v===void 0&&(v=0);var g=this.gl;return g.activeTexture(g.TEXTURE0+v),g.bindTexture(g.TEXTURE_2D,d),this},bindRenderTarget:function(d,v){return this.bindTexture(d.texture,v)},setTime:function(d){return this.set1f(d,this.game.loop.getDuration()),this},set1f:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set1f(d,v),this},set2f:function(d,v,g,m){return m===void 0&&(m=this.currentShader),m.set2f(d,v,g),this},set3f:function(d,v,g,m,y){return y===void 0&&(y=this.currentShader),y.set3f(d,v,g,m),this},set4f:function(d,v,g,m,y,T){return T===void 0&&(T=this.currentShader),T.set4f(d,v,g,m,y),this},set1fv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set1fv(d,v),this},set2fv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set2fv(d,v),this},set3fv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set3fv(d,v),this},set4fv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set4fv(d,v),this},set1iv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set1iv(d,v),this},set2iv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set2iv(d,v),this},set3iv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set3iv(d,v),this},set4iv:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set4iv(d,v),this},set1i:function(d,v,g){return g===void 0&&(g=this.currentShader),g.set1i(d,v),this},set2i:function(d,v,g,m){return m===void 0&&(m=this.currentShader),m.set2i(d,v,g),this},set3i:function(d,v,g,m,y){return y===void 0&&(y=this.currentShader),y.set3i(d,v,g,m),this},set4i:function(d,v,g,m,y,T){return T===void 0&&(T=this.currentShader),T.set4i(d,v,g,m,y),this},setMatrix2fv:function(d,v,g,m){return m===void 0&&(m=this.currentShader),m.setMatrix2fv(d,v,g),this},setMatrix3fv:function(d,v,g,m){return m===void 0&&(m=this.currentShader),m.setMatrix3fv(d,v,g),this},setMatrix4fv:function(d,v,g,m){return m===void 0&&(m=this.currentShader),m.setMatrix4fv(d,v,g),this},destroy:function(){this.emit(s.DESTROY,this);for(var d=this.shaders,v=0;v<d.length;v++)d[v].destroy();var g=this.renderTargets;for(v=0;v<g.length;v++)g[v].destroy();this.gl.deleteBuffer(this.vertexBuffer);var m=this.renderer;return m.off(o.RESIZE,this.resize,this),m.off(o.PRE_RENDER,this.onPreRender,this),m.off(o.RENDER,this.onRender,this),m.off(o.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this}});f.exports=c},function(f,x,t){function a(S,C,M){M=M||2;var P,R,L,w,B,G,Y,D=C&&C.length,F=D?C[0]*M:S.length,N=i(S,0,F,M,!0),I=[];if(!N||N.next===N.prev)return I;if(D&&(N=function(U,X,z,V){var W,H,K,Z,j,k=[];for(W=0,H=X.length;W<H;W++)K=X[W]*V,Z=W<H-1?X[W+1]*V:U.length,(j=i(U,K,Z,V,!1))===j.next&&(j.steiner=!0),k.push(function(J){for(var q=J,_=J;(q.x<_.x||q.x===_.x&&q.y<_.y)&&(_=q),q=q.next,q!==J;);return _}(j));for(k.sort(r),W=0;W<k.length;W++)(function(J,q){{var _;(q=function(tt,Q){var et,$=Q,it=tt.x,ot=tt.y,ut=-1/0;do{if(ot<=$.y&&ot>=$.next.y&&$.next.y!==$.y){var rt=$.x+(ot-$.y)*($.next.x-$.x)/($.next.y-$.y);if(rt<=it&&ut<rt){if((ut=rt)===it){if(ot===$.y)return $;if(ot===$.next.y)return $.next}et=$.x<$.next.x?$:$.next}}$=$.next}while($!==Q);if(!et)return null;if(it===ut)return et;var nt,lt=et,at=et.x,ht=et.y,ft=1/0;for($=et;it>=$.x&&$.x>=at&&it!==$.x&&o(ot<ht?it:ut,ot,at,ht,ot<ht?ut:it,ot,$.x,$.y)&&(nt=Math.abs(ot-$.y)/(it-$.x),v($,tt)&&(nt<ft||nt===ft&&($.x>et.x||$.x===et.x&&function(dt,ct){return l(dt.prev,dt,ct.prev)<0&&l(ct.next,dt,dt.next)<0}(et,$)))&&(et=$,ft=nt)),$=$.next,$!==lt;);return et}(J,q))&&(_=g(q,J),e(q,q.next),e(_,_.next))}})(k[W],z),z=e(z,z.next);return z}(S,C,N,M)),S.length>80*M){P=L=S[0],R=w=S[1];for(var b=M;b<F;b+=M)(B=S[b])<P&&(P=B),(G=S[b+1])<R&&(R=G),L<B&&(L=B),w<G&&(w=G);Y=(Y=Math.max(L-P,w-R))!==0?1/Y:0}return s(N,I,M,P,R,Y),I}function i(S,C,M,P,R){var L,w;if(R===0<E(S,C,M,P))for(L=C;L<M;L+=P)w=m(L,S[L],S[L+1],w);else for(L=M-P;C<=L;L-=P)w=m(L,S[L],S[L+1],w);return w&&h(w,w.next)&&(y(w),w=w.next),w}function e(S,C){if(!S)return S;C=C||S;var M,P=S;do if(M=!1,P.steiner||!h(P,P.next)&&l(P.prev,P,P.next)!==0)P=P.next;else{if(y(P),(P=C=P.prev)===P.next)break;M=!0}while(M||P!==C);return C}function s(S,C,M,P,R,L,w){if(S){!w&&L&&function(D,F,N,I){for(var b=D;b.z===null&&(b.z=n(b.x,b.y,F,N,I)),b.prevZ=b.prev,b.nextZ=b.next,b=b.next,b!==D;);b.prevZ.nextZ=null,b.prevZ=null,function(U){var X,z,V,W,H,K,Z,j,k=1;do{for(z=U,H=U=null,K=0;z;){for(K++,V=z,X=Z=0;X<k&&(Z++,V=V.nextZ);X++);for(j=k;0<Z||0<j&&V;)Z!==0&&(j===0||!V||z.z<=V.z)?(z=(W=z).nextZ,Z--):(V=(W=V).nextZ,j--),H?H.nextZ=W:U=W,W.prevZ=H,H=W;z=V}H.nextZ=null,k*=2}while(1<K)}(b)}(S,P,R,L);for(var B,G,Y=S;S.prev!==S.next;)if(B=S.prev,G=S.next,L?function(D,F,N,I){var b=D.prev,U=D,X=D.next;if(0<=l(b,U,X))return!1;for(var z=b.x<U.x?b.x<X.x?b.x:X.x:U.x<X.x?U.x:X.x,V=b.y<U.y?b.y<X.y?b.y:X.y:U.y<X.y?U.y:X.y,W=b.x>U.x?b.x>X.x?b.x:X.x:U.x>X.x?U.x:X.x,H=b.y>U.y?b.y>X.y?b.y:X.y:U.y>X.y?U.y:X.y,K=n(z,V,F,N,I),Z=n(W,H,F,N,I),j=D.prevZ,k=D.nextZ;j&&j.z>=K&&k&&k.z<=Z;){if(j!==D.prev&&j!==D.next&&o(b.x,b.y,U.x,U.y,X.x,X.y,j.x,j.y)&&0<=l(j.prev,j,j.next)||(j=j.prevZ,k!==D.prev&&k!==D.next&&o(b.x,b.y,U.x,U.y,X.x,X.y,k.x,k.y)&&0<=l(k.prev,k,k.next)))return!1;k=k.nextZ}for(;j&&j.z>=K;){if(j!==D.prev&&j!==D.next&&o(b.x,b.y,U.x,U.y,X.x,X.y,j.x,j.y)&&0<=l(j.prev,j,j.next))return!1;j=j.prevZ}for(;k&&k.z<=Z;){if(k!==D.prev&&k!==D.next&&o(b.x,b.y,U.x,U.y,X.x,X.y,k.x,k.y)&&0<=l(k.prev,k,k.next))return!1;k=k.nextZ}return!0}(S,P,R,L):function(D){var F=D.prev,N=D,I=D.next;if(0<=l(F,N,I))return!1;for(var b=D.next.next;b!==D.prev;){if(o(F.x,F.y,N.x,N.y,I.x,I.y,b.x,b.y)&&0<=l(b.prev,b,b.next))return!1;b=b.next}return!0}(S))C.push(B.i/M),C.push(S.i/M),C.push(G.i/M),y(S),S=G.next,Y=G.next;else if((S=G)===Y){w?w===1?s(S=function(D,F,N){var I=D;do{var b=I.prev,U=I.next.next;!h(b,U)&&u(b,I,I.next,U)&&v(b,U)&&v(U,b)&&(F.push(b.i/N),F.push(I.i/N),F.push(U.i/N),y(I),y(I.next),I=D=U),I=I.next}while(I!==D);return e(I)}(e(S),C,M),C,M,P,R,L,2):w===2&&function(D,F,N,I,b,U){var X=D;do{for(var z=X.next.next;z!==X.prev;){if(X.i!==z.i&&function(W,H){return W.next.i!==H.i&&W.prev.i!==H.i&&!function(K,Z){var j=K;do{if(j.i!==K.i&&j.next.i!==K.i&&j.i!==Z.i&&j.next.i!==Z.i&&u(j,j.next,K,Z))return!0;j=j.next}while(j!==K);return!1}(W,H)&&(v(W,H)&&v(H,W)&&function(K,Z){for(var j=K,k=!1,J=(K.x+Z.x)/2,q=(K.y+Z.y)/2;j.y>q!=j.next.y>q&&j.next.y!==j.y&&J<(j.next.x-j.x)*(q-j.y)/(j.next.y-j.y)+j.x&&(k=!k),j=j.next,j!==K;);return k}(W,H)&&(l(W.prev,W,H.prev)||l(W,H.prev,H))||h(W,H)&&0<l(W.prev,W,W.next)&&0<l(H.prev,H,H.next))}(X,z)){var V=g(X,z);return X=e(X,X.next),V=e(V,V.next),s(X,F,N,I,b,U),s(V,F,N,I,b,U)}z=z.next}X=X.next}while(X!==D)}(S,C,M,P,R,L):s(e(S),C,M,P,R,L,1);break}}}function r(S,C){return S.x-C.x}function n(S,C,M,P,R){return(S=1431655765&((S=858993459&((S=252645135&((S=16711935&((S=32767*(S-M)*R)|S<<8))|S<<4))|S<<2))|S<<1))|(C=1431655765&((C=858993459&((C=252645135&((C=16711935&((C=32767*(C-P)*R)|C<<8))|C<<4))|C<<2))|C<<1))<<1}function o(S,C,M,P,R,L,w,B){return 0<=(R-w)*(C-B)-(S-w)*(L-B)&&0<=(S-w)*(P-B)-(M-w)*(C-B)&&0<=(M-w)*(L-B)-(R-w)*(P-B)}function l(S,C,M){return(C.y-S.y)*(M.x-C.x)-(C.x-S.x)*(M.y-C.y)}function h(S,C){return S.x===C.x&&S.y===C.y}function u(S,C,M,P){var R=d(l(S,C,M)),L=d(l(S,C,P)),w=d(l(M,P,S)),B=d(l(M,P,C));return R!==L&&w!==B||R===0&&c(S,M,C)||L===0&&c(S,P,C)||w===0&&c(M,S,P)||!(B!==0||!c(M,C,P))}function c(S,C,M){return C.x<=Math.max(S.x,M.x)&&C.x>=Math.min(S.x,M.x)&&C.y<=Math.max(S.y,M.y)&&C.y>=Math.min(S.y,M.y)}function d(S){return 0<S?1:S<0?-1:0}function v(S,C){return l(S.prev,S,S.next)<0?0<=l(S,C,S.next)&&0<=l(S,S.prev,C):l(S,C,S.prev)<0||l(S,S.next,C)<0}function g(S,C){var M=new T(S.i,S.x,S.y),P=new T(C.i,C.x,C.y),R=S.next,L=C.prev;return(S.next=C).prev=S,(M.next=R).prev=M,(P.next=M).prev=P,(L.next=P).prev=L,P}function m(S,C,M,P){var R=new T(S,C,M);return P?(R.next=P.next,(R.prev=P).next.prev=R,P.next=R):(R.prev=R).next=R,R}function y(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function T(S,C,M){this.i=S,this.x=C,this.y=M,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function E(S,C,M,P){for(var R=0,L=C,w=M-P;L<M;L+=P)R+=(S[w]-S[L])*(S[L+1]+S[w+1]),w=L;return R}a.deviation=function(S,C,M,P){var R=C&&C.length,L=R?C[0]*M:S.length,w=Math.abs(E(S,0,L,M));if(R)for(var B=0,G=C.length;B<G;B++){var Y=C[B]*M,D=B<G-1?C[B+1]*M:S.length;w-=Math.abs(E(S,Y,D,M))}for(var F=0,B=0;B<P.length;B+=3){var N=P[B]*M,I=P[B+1]*M,b=P[B+2]*M;F+=Math.abs((S[N]-S[b])*(S[1+I]-S[1+N])-(S[N]-S[I])*(S[1+b]-S[1+N]))}return w===0&&F===0?0:Math.abs((F-w)/w)},a.flatten=function(S){for(var C=S[0][0].length,M={vertices:[],holes:[],dimensions:C},P=0,R=0;R<S.length;R++){for(var L=0;L<S[R].length;L++)for(var w=0;w<C;w++)M.vertices.push(S[R][L][w]);0<R&&(P+=S[R-1].length,M.holes.push(P))}return M},f.exports=a},function(f,x){f.exports=function(t,a,i,e){var s=i||a.strokeColor,r=e||a.strokeAlpha,n=(16711680&s)>>>16,o=(65280&s)>>>8,l=255&s;t.strokeStyle="rgba("+n+","+o+","+l+","+r+")",t.lineWidth=a.lineWidth}},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(6),o=t(7),l=new a({Extends:e,initialize:function(h,u,c,d,v){var g,m="json";o(u)&&(u=r(g=u,"key"),c=r(g,"url"),d=r(g,"xhrSettings"),m=r(g,"extension",m),v=r(g,"dataKey",v));var y={type:"json",cache:h.cacheManager.json,extension:m,responseType:"text",key:u,url:c,xhrSettings:d,config:v};e.call(this,h,y),o(c)&&(this.data=v?n(c,v):c,this.state=i.FILE_POPULATED)},onProcess:function(){if(this.state!==i.FILE_POPULATED){this.state=i.FILE_PROCESSING;try{var h=JSON.parse(this.xhrLoader.responseText)}catch(c){throw console.warn("Invalid JSON: "+this.key),this.onProcessError(),c}var u=this.config;this.data=typeof u=="string"?n(h,u,h):h}this.onProcessComplete()}});s.register("json",function(h,u,c,d){if(Array.isArray(h))for(var v=0;v<h.length;v++)this.addFile(new l(this,h[v]));else this.addFile(new l(this,h,u,d,c));return this}),f.exports=l},function(f,x){f.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},function(f,x,t){var a=t(158),i=t(26);f.exports=function(e,s,r,n,o){for(var l,h,u,c,d=i(e,s,r,n,null,o),v=0;v<d.length;v++){var g=d[v];g&&(g.collides?(l=a(g.x,g.y-1,!0,o),h=a(g.x,g.y+1,!0,o),u=a(g.x-1,g.y,!0,o),c=a(g.x+1,g.y,!0,o),g.faceTop=!l||!l.collides,g.faceBottom=!h||!h.collides,g.faceLeft=!u||!u.collides,g.faceRight=!c||!c.collides):g.resetFaces())}}},function(f,x,t){var a={};f.exports=a;var i=t(83),e=t(32);a.create=function(s,r){for(var n=[],o=0;o<s.length;o++){var l=s[o],h={x:l.x,y:l.y,index:o,body:r,isInternal:!1,contact:null,offset:null};h.contact={vertex:h,normalImpulse:0,tangentImpulse:0},n.push(h)}return n},a.fromPath=function(s,r){var n=[];return s.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,function(o,l,h){n.push({x:parseFloat(l),y:parseFloat(h)})}),a.create(n,r)},a.centre=function(s){for(var r,n,o,l=a.area(s,!0),h={x:0,y:0},u=0;u<s.length;u++)o=(u+1)%s.length,r=i.cross(s[u],s[o]),n=i.mult(i.add(s[u],s[o]),r),h=i.add(h,n);return i.div(h,6*l)},a.mean=function(s){for(var r={x:0,y:0},n=0;n<s.length;n++)r.x+=s[n].x,r.y+=s[n].y;return i.div(r,s.length)},a.area=function(s,r){for(var n=0,o=s.length-1,l=0;l<s.length;l++)n+=(s[o].x-s[l].x)*(s[o].y+s[l].y),o=l;return r?n/2:Math.abs(n)/2},a.inertia=function(s,r){for(var n,o,l=0,h=0,u=s,c=0;c<u.length;c++)o=(c+1)%u.length,l+=(n=Math.abs(i.cross(u[o],u[c])))*(i.dot(u[o],u[o])+i.dot(u[o],u[c])+i.dot(u[c],u[c])),h+=n;return r/6*(l/h)},a.translate=function(s,r,n){var o;if(n)for(o=0;o<s.length;o++)s[o].x+=r.x*n,s[o].y+=r.y*n;else for(o=0;o<s.length;o++)s[o].x+=r.x,s[o].y+=r.y;return s},a.rotate=function(s,r,n){if(r!==0){for(var o=Math.cos(r),l=Math.sin(r),h=0;h<s.length;h++){var u=s[h],c=u.x-n.x,d=u.y-n.y;u.x=n.x+(c*o-d*l),u.y=n.y+(c*l+d*o)}return s}},a.contains=function(s,r){for(var n=0;n<s.length;n++){var o=s[n],l=s[(n+1)%s.length];if(0<(r.x-o.x)*(l.y-o.y)+(r.y-o.y)*(o.x-l.x))return!1}return!0},a.scale=function(s,r,n,o){if(r===1&&n===1)return s;var l,h;o=o||a.centre(s);for(var u=0;u<s.length;u++)l=s[u],h=i.sub(l,o),s[u].x=o.x+h.x*r,s[u].y=o.y+h.y*n;return s},a.chamfer=function(s,r,n,o,l){r=typeof r=="number"?[r]:r||[8],n=n!==void 0?n:-1,o=o||2,l=l||14;for(var h=[],u=0;u<s.length;u++){var c=s[0<=u-1?u-1:s.length-1],d=s[u],v=s[(u+1)%s.length],g=r[u<r.length?u:r.length-1];if(g!==0){var m=i.normalise({x:d.y-c.y,y:c.x-d.x}),y=i.normalise({x:v.y-d.y,y:d.x-v.x}),T=Math.sqrt(2*Math.pow(g,2)),E=i.mult(e.clone(m),g),S=i.normalise(i.mult(i.add(m,y),.5)),C=i.sub(d,i.mult(S,T)),M=n;n===-1&&(M=1.75*Math.pow(g,.32)),(M=e.clamp(M,o,l))%2==1&&(M+=1);for(var P=Math.acos(i.dot(m,y))/M,R=0;R<M;R++)h.push(i.add(i.rotate(E,P*R),C))}else h.push(d)}return h},a.clockwiseSort=function(s){var r=a.mean(s);return s.sort(function(n,o){return i.angle(r,n)-i.angle(r,o)}),s},a.isConvex=function(s){var r,n,o,l,h=0,u=s.length;if(u<3)return null;for(r=0;r<u;r++)if(o=(r+2)%u,l=(s[n=(r+1)%u].x-s[r].x)*(s[o].y-s[n].y),(l-=(s[n].y-s[r].y)*(s[o].x-s[n].x))<0?h|=1:0<l&&(h|=2),h===3)return!1;return h!==0||null},a.hull=function(s){var r,n,o=[],l=[];for((s=s.slice(0)).sort(function(h,u){var c=h.x-u.x;return c!=0?c:h.y-u.y}),n=0;n<s.length;n+=1){for(r=s[n];2<=l.length&&i.cross3(l[l.length-2],l[l.length-1],r)<=0;)l.pop();l.push(r)}for(n=s.length-1;0<=n;--n){for(r=s[n];2<=o.length&&i.cross3(o[o.length-2],o[o.length-1],r)<=0;)o.pop();o.push(r)}return o.pop(),l.pop(),o.concat(l)}},function(f,x,t){var a=t(0),i=t(66),e=t(300),s=t(301),r=t(56),n=t(170),o=new a({initialize:function(l,h,u){l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=0),this.type=r.CIRCLE,this.x=l,this.y=h,this._radius=u,this._diameter=2*u},contains:function(l,h){return i(this,l,h)},getPoint:function(l,h){return e(this,l,h)},getPoints:function(l,h,u){return s(this,l,h,u)},getRandomPoint:function(l){return n(this,l)},setTo:function(l,h,u){return this.x=l,this.y=h,this._radius=u,this._diameter=2*u,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,h){return h===void 0&&(h=l),this.x=l,this.y=h,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=2*l}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=.5*l}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});f.exports=o},function(f,x){f.exports=function(t,a,i){return 0<t.radius&&a>=t.left&&a<=t.right&&i>=t.top&&i<=t.bottom&&(t.x-a)*(t.x-a)+(t.y-i)*(t.y-i)<=t.radius*t.radius}},function(f,x){f.exports=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))}},function(f,x){f.exports=function(t,a,i){var e=i-a;return a+((t-a)%e+e)%e}},function(f,x,t){var a=t(0),i=t(39),e=new a({initialize:function(h){this.val=new Float32Array(16),h?this.copy(h):this.identity()},clone:function(){return new e(this)},set:function(h){return this.copy(h)},setValues:function(h,u,c,d,v,g,m,y,T,E,S,C,M,P,R,L){var w=this.val;return w[0]=h,w[1]=u,w[2]=c,w[3]=d,w[4]=v,w[5]=g,w[6]=m,w[7]=y,w[8]=T,w[9]=E,w[10]=S,w[11]=C,w[12]=M,w[13]=P,w[14]=R,w[15]=L,this},copy:function(h){var u=h.val;return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},fromArray:function(h){return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(h,u,c){var d=s.fromQuat(c).val,v=u.x,g=u.y,m=u.z;return this.setValues(d[0]*v,d[1]*v,d[2]*v,0,d[4]*g,d[5]*g,d[6]*g,0,d[8]*m,d[9]*m,d[10]*m,0,h.x,h.y,h.z,1)},xyz:function(h,u,c){this.identity();var d=this.val;return d[12]=h,d[13]=u,d[14]=c,this},scaling:function(h,u,c){this.zero();var d=this.val;return d[0]=h,d[5]=u,d[10]=c,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var h=this.val,u=h[1],c=h[2],d=h[3],v=h[6],g=h[7],m=h[11];return h[1]=h[4],h[2]=h[8],h[3]=h[12],h[4]=u,h[6]=h[9],h[7]=h[13],h[8]=c,h[9]=v,h[11]=h[14],h[12]=d,h[13]=g,h[14]=m,this},getInverse:function(h){return this.copy(h),this.invert()},invert:function(){var h=this.val,u=h[0],c=h[1],d=h[2],v=h[3],g=h[4],m=h[5],y=h[6],T=h[7],E=h[8],S=h[9],C=h[10],M=h[11],P=h[12],R=h[13],L=h[14],w=h[15],B=u*m-c*g,G=u*y-d*g,Y=u*T-v*g,D=c*y-d*m,F=c*T-v*m,N=d*T-v*y,I=E*R-S*P,b=E*L-C*P,U=E*w-M*P,X=S*L-C*R,z=S*w-M*R,V=C*w-M*L,W=B*V-G*z+Y*X+D*U-F*b+N*I;return W?(W=1/W,this.setValues((m*V-y*z+T*X)*W,(d*z-c*V-v*X)*W,(R*N-L*F+w*D)*W,(C*F-S*N-M*D)*W,(y*U-g*V-T*b)*W,(u*V-d*U+v*b)*W,(L*Y-P*N-w*G)*W,(E*N-C*Y+M*G)*W,(g*z-m*U+T*I)*W,(c*U-u*z-v*I)*W,(P*F-R*Y+w*B)*W,(S*Y-E*F-M*B)*W,(m*b-g*X-y*I)*W,(u*X-c*b+d*I)*W,(R*G-P*D-L*B)*W,(E*D-S*G+C*B)*W)):this},adjoint:function(){var h=this.val,u=h[0],c=h[1],d=h[2],v=h[3],g=h[4],m=h[5],y=h[6],T=h[7],E=h[8],S=h[9],C=h[10],M=h[11],P=h[12],R=h[13],L=h[14],w=h[15];return this.setValues(m*(C*w-M*L)-S*(y*w-T*L)+R*(y*M-T*C),-(c*(C*w-M*L)-S*(d*w-v*L)+R*(d*M-v*C)),c*(y*w-T*L)-m*(d*w-v*L)+R*(d*T-v*y),-(c*(y*M-T*C)-m*(d*M-v*C)+S*(d*T-v*y)),-(g*(C*w-M*L)-E*(y*w-T*L)+P*(y*M-T*C)),u*(C*w-M*L)-E*(d*w-v*L)+P*(d*M-v*C),-(u*(y*w-T*L)-g*(d*w-v*L)+P*(d*T-v*y)),u*(y*M-T*C)-g*(d*M-v*C)+E*(d*T-v*y),g*(S*w-M*R)-E*(m*w-T*R)+P*(m*M-T*S),-(u*(S*w-M*R)-E*(c*w-v*R)+P*(c*M-v*S)),u*(m*w-T*R)-g*(c*w-v*R)+P*(c*T-v*m),-(u*(m*M-T*S)-g*(c*M-v*S)+E*(c*T-v*m)),-(g*(S*L-C*R)-E*(m*L-y*R)+P*(m*C-y*S)),u*(S*L-C*R)-E*(c*L-d*R)+P*(c*C-d*S),-(u*(m*L-y*R)-g*(c*L-d*R)+P*(c*y-d*m)),u*(m*C-y*S)-g*(c*C-d*S)+E*(c*y-d*m))},determinant:function(){var h=this.val,u=h[0],c=h[1],d=h[2],v=h[3],g=h[4],m=h[5],y=h[6],T=h[7],E=h[8],S=h[9],C=h[10],M=h[11],P=h[12],R=h[13],L=h[14],w=h[15];return(u*m-c*g)*(C*w-M*L)-(u*y-d*g)*(S*w-M*R)+(u*T-v*g)*(S*L-C*R)+(c*y-d*m)*(E*w-M*P)-(c*T-v*m)*(E*L-C*P)+(d*T-v*y)*(E*R-S*P)},multiply:function(h){var u=this.val,c=u[0],d=u[1],v=u[2],g=u[3],m=u[4],y=u[5],T=u[6],E=u[7],S=u[8],C=u[9],M=u[10],P=u[11],R=u[12],L=u[13],w=u[14],B=u[15],G=h.val,Y=G[0],D=G[1],F=G[2],N=G[3];return u[0]=Y*c+D*m+F*S+N*R,u[1]=Y*d+D*y+F*C+N*L,u[2]=Y*v+D*T+F*M+N*w,u[3]=Y*g+D*E+F*P+N*B,Y=G[4],D=G[5],F=G[6],N=G[7],u[4]=Y*c+D*m+F*S+N*R,u[5]=Y*d+D*y+F*C+N*L,u[6]=Y*v+D*T+F*M+N*w,u[7]=Y*g+D*E+F*P+N*B,Y=G[8],D=G[9],F=G[10],N=G[11],u[8]=Y*c+D*m+F*S+N*R,u[9]=Y*d+D*y+F*C+N*L,u[10]=Y*v+D*T+F*M+N*w,u[11]=Y*g+D*E+F*P+N*B,Y=G[12],D=G[13],F=G[14],N=G[15],u[12]=Y*c+D*m+F*S+N*R,u[13]=Y*d+D*y+F*C+N*L,u[14]=Y*v+D*T+F*M+N*w,u[15]=Y*g+D*E+F*P+N*B,this},multiplyLocal:function(h){var u=this.val,c=h.val;return this.setValues(u[0]*c[0]+u[1]*c[4]+u[2]*c[8]+u[3]*c[12],u[0]*c[1]+u[1]*c[5]+u[2]*c[9]+u[3]*c[13],u[0]*c[2]+u[1]*c[6]+u[2]*c[10]+u[3]*c[14],u[0]*c[3]+u[1]*c[7]+u[2]*c[11]+u[3]*c[15],u[4]*c[0]+u[5]*c[4]+u[6]*c[8]+u[7]*c[12],u[4]*c[1]+u[5]*c[5]+u[6]*c[9]+u[7]*c[13],u[4]*c[2]+u[5]*c[6]+u[6]*c[10]+u[7]*c[14],u[4]*c[3]+u[5]*c[7]+u[6]*c[11]+u[7]*c[15],u[8]*c[0]+u[9]*c[4]+u[10]*c[8]+u[11]*c[12],u[8]*c[1]+u[9]*c[5]+u[10]*c[9]+u[11]*c[13],u[8]*c[2]+u[9]*c[6]+u[10]*c[10]+u[11]*c[14],u[8]*c[3]+u[9]*c[7]+u[10]*c[11]+u[11]*c[15],u[12]*c[0]+u[13]*c[4]+u[14]*c[8]+u[15]*c[12],u[12]*c[1]+u[13]*c[5]+u[14]*c[9]+u[15]*c[13],u[12]*c[2]+u[13]*c[6]+u[14]*c[10]+u[15]*c[14],u[12]*c[3]+u[13]*c[7]+u[14]*c[11]+u[15]*c[15])},premultiply:function(h){return this.multiplyMatrices(h,this)},multiplyMatrices:function(h,u){var c=h.val,d=u.val,v=c[0],g=c[4],m=c[8],y=c[12],T=c[1],E=c[5],S=c[9],C=c[13],M=c[2],P=c[6],R=c[10],L=c[14],w=c[3],B=c[7],G=c[11],Y=c[15],D=d[0],F=d[4],N=d[8],I=d[12],b=d[1],U=d[5],X=d[9],z=d[13],V=d[2],W=d[6],H=d[10],K=d[14],Z=d[3],j=d[7],k=d[11],J=d[15];return this.setValues(v*D+g*b+m*V+y*Z,T*D+E*b+S*V+C*Z,M*D+P*b+R*V+L*Z,w*D+B*b+G*V+Y*Z,v*F+g*U+m*W+y*j,T*F+E*U+S*W+C*j,M*F+P*U+R*W+L*j,w*F+B*U+G*W+Y*j,v*N+g*X+m*H+y*k,T*N+E*X+S*H+C*k,M*N+P*X+R*H+L*k,w*N+B*X+G*H+Y*k,v*I+g*z+m*K+y*J,T*I+E*z+S*K+C*J,M*I+P*z+R*K+L*J,w*I+B*z+G*K+Y*J)},translate:function(h){return this.translateXYZ(h.x,h.y,h.z)},translateXYZ:function(h,u,c){var d=this.val;return d[12]=d[0]*h+d[4]*u+d[8]*c+d[12],d[13]=d[1]*h+d[5]*u+d[9]*c+d[13],d[14]=d[2]*h+d[6]*u+d[10]*c+d[14],d[15]=d[3]*h+d[7]*u+d[11]*c+d[15],this},scale:function(h){return this.scaleXYZ(h.x,h.y,h.z)},scaleXYZ:function(h,u,c){var d=this.val;return d[0]=d[0]*h,d[1]=d[1]*h,d[2]=d[2]*h,d[3]=d[3]*h,d[4]=d[4]*u,d[5]=d[5]*u,d[6]=d[6]*u,d[7]=d[7]*u,d[8]=d[8]*c,d[9]=d[9]*c,d[10]=d[10]*c,d[11]=d[11]*c,this},makeRotationAxis:function(h,u){var c=Math.cos(u),d=Math.sin(u),v=1-c,g=h.x,m=h.y,y=h.z,T=v*g,E=v*m;return this.setValues(T*g+c,T*m-d*y,T*y+d*m,0,T*m+d*y,E*m+c,E*y-d*g,0,T*y-d*m,E*y+d*g,v*y*y+c,0,0,0,0,1)},rotate:function(h,u){var c=this.val,d=u.x,v=u.y,g=u.z,m=Math.sqrt(d*d+v*v+g*g);if(Math.abs(m)<1e-6)return this;d*=m=1/m,v*=m,g*=m;var y=Math.sin(h),T=Math.cos(h),E=1-T,S=c[0],C=c[1],M=c[2],P=c[3],R=c[4],L=c[5],w=c[6],B=c[7],G=c[8],Y=c[9],D=c[10],F=c[11],N=c[12],I=c[13],b=c[14],U=c[15],X=d*d*E+T,z=v*d*E+g*y,V=g*d*E-v*y,W=d*v*E-g*y,H=v*v*E+T,K=g*v*E+d*y,Z=d*g*E+v*y,j=v*g*E-d*y,k=g*g*E+T;return this.setValues(S*X+R*z+G*V,C*X+L*z+Y*V,M*X+w*z+D*V,P*X+B*z+F*V,S*W+R*H+G*K,C*W+L*H+Y*K,M*W+w*H+D*K,P*W+B*H+F*K,S*Z+R*j+G*k,C*Z+L*j+Y*k,M*Z+w*j+D*k,P*Z+B*j+F*k,N,I,b,U)},rotateX:function(h){var u=this.val,c=Math.sin(h),d=Math.cos(h),v=u[4],g=u[5],m=u[6],y=u[7],T=u[8],E=u[9],S=u[10],C=u[11];return u[4]=v*d+T*c,u[5]=g*d+E*c,u[6]=m*d+S*c,u[7]=y*d+C*c,u[8]=T*d-v*c,u[9]=E*d-g*c,u[10]=S*d-m*c,u[11]=C*d-y*c,this},rotateY:function(h){var u=this.val,c=Math.sin(h),d=Math.cos(h),v=u[0],g=u[1],m=u[2],y=u[3],T=u[8],E=u[9],S=u[10],C=u[11];return u[0]=v*d-T*c,u[1]=g*d-E*c,u[2]=m*d-S*c,u[3]=y*d-C*c,u[8]=v*c+T*d,u[9]=g*c+E*d,u[10]=m*c+S*d,u[11]=y*c+C*d,this},rotateZ:function(h){var u=this.val,c=Math.sin(h),d=Math.cos(h),v=u[0],g=u[1],m=u[2],y=u[3],T=u[4],E=u[5],S=u[6],C=u[7];return u[0]=v*d+T*c,u[1]=g*d+E*c,u[2]=m*d+S*c,u[3]=y*d+C*c,u[4]=T*d-v*c,u[5]=E*d-g*c,u[6]=S*d-m*c,u[7]=C*d-y*c,this},fromRotationTranslation:function(h,u){var c=h.x,d=h.y,v=h.z,g=h.w,m=c+c,y=d+d,T=v+v,E=c*m,S=c*y,C=c*T,M=d*y,P=d*T,R=v*T,L=g*m,w=g*y,B=g*T;return this.setValues(1-(M+R),S+B,C-w,0,S-B,1-(E+R),P+L,0,C+w,P-L,1-(E+M),0,u.x,u.y,u.z,1)},fromQuat:function(h){var u=h.x,c=h.y,d=h.z,v=h.w,g=u+u,m=c+c,y=d+d,T=u*g,E=u*m,S=u*y,C=c*m,M=c*y,P=d*y,R=v*g,L=v*m,w=v*y;return this.setValues(1-(C+P),E+w,S-L,0,E-w,1-(T+P),M+R,0,S+L,M-R,1-(T+C),0,0,0,0,1)},frustum:function(h,u,c,d,v,g){var m=1/(u-h),y=1/(d-c),T=1/(v-g);return this.setValues(2*v*m,0,0,0,0,2*v*y,0,0,(u+h)*m,(d+c)*y,(g+v)*T,-1,0,0,g*v*2*T,0)},perspective:function(h,u,c,d){var v=1/Math.tan(h/2),g=1/(c-d);return this.setValues(v/u,0,0,0,0,v,0,0,0,0,(d+c)*g,-1,0,0,2*d*c*g,0)},perspectiveLH:function(h,u,c,d){return this.setValues(2*c/h,0,0,0,0,2*c/u,0,0,0,0,-d/(c-d),1,0,0,c*d/(c-d),0)},ortho:function(h,u,c,d,v,g){var m=(m=h-u)===0?m:1/m,y=(y=c-d)===0?y:1/y,T=(T=v-g)===0?T:1/T;return this.setValues(-2*m,0,0,0,0,-2*y,0,0,0,0,2*T,0,(h+u)*m,(d+c)*y,(g+v)*T,1)},lookAtRH:function(h,u,c){var d=this.val;return l.subVectors(h,u),l.getLengthSquared()===0&&(l.z=1),l.normalize(),n.crossVectors(c,l),n.getLengthSquared()===0&&(Math.abs(c.z)===1?l.x+=1e-4:l.z+=1e-4,l.normalize(),n.crossVectors(c,l)),n.normalize(),o.crossVectors(l,n),d[0]=n.x,d[1]=n.y,d[2]=n.z,d[4]=o.x,d[5]=o.y,d[6]=o.z,d[8]=l.x,d[9]=l.y,d[10]=l.z,this},lookAt:function(h,u,c){var d=h.x,v=h.y,g=h.z,m=c.x,y=c.y,T=c.z,E=u.x,S=u.y,C=u.z;if(Math.abs(d-E)<1e-6&&Math.abs(v-S)<1e-6&&Math.abs(g-C)<1e-6)return this.identity();var M=d-E,P=v-S,R=g-C,L=1/Math.sqrt(M*M+P*P+R*R),w=y*(R*=L)-T*(P*=L),B=T*(M*=L)-m*R,G=m*P-y*M;(L=Math.sqrt(w*w+B*B+G*G))?(w*=L=1/L,B*=L,G*=L):G=B=w=0;var Y=P*G-R*B,D=R*w-M*G,F=M*B-P*w;return(L=Math.sqrt(Y*Y+D*D+F*F))?(Y*=L=1/L,D*=L,F*=L):F=D=Y=0,this.setValues(w,Y,M,0,B,D,P,0,G,F,R,0,-(w*d+B*v+G*g),-(Y*d+D*v+F*g),-(M*d+P*v+R*g),1)},yawPitchRoll:function(h,u,c){this.zero(),s.zero(),r.zero();var d=this.val,v=s.val,g=r.val,m=Math.sin(c),y=Math.cos(c);return d[10]=1,d[15]=1,d[0]=y,d[1]=m,d[4]=-m,d[5]=y,m=Math.sin(u),y=Math.cos(u),v[0]=1,v[15]=1,v[5]=y,v[10]=y,v[9]=-m,v[6]=m,m=Math.sin(h),y=Math.cos(h),g[5]=1,g[15]=1,g[0]=y,g[2]=-m,g[8]=m,g[10]=y,this.multiplyLocal(s),this.multiplyLocal(r),this},setWorldMatrix:function(h,u,c,d,v){return this.yawPitchRoll(h.y,h.x,h.z),s.scaling(c.x,c.y,c.z),r.xyz(u.x,u.y,u.z),this.multiplyLocal(s),this.multiplyLocal(r),d&&this.multiplyLocal(d),v&&this.multiplyLocal(v),this},multiplyToMat4:function(h,u){var c=this.val,d=h.val,v=c[0],g=c[1],m=c[2],y=c[3],T=c[4],E=c[5],S=c[6],C=c[7],M=c[8],P=c[9],R=c[10],L=c[11],w=c[12],B=c[13],G=c[14],Y=c[15],D=d[0],F=d[1],N=d[2],I=d[3],b=d[4],U=d[5],X=d[6],z=d[7],V=d[8],W=d[9],H=d[10],K=d[11],Z=d[12],j=d[13],k=d[14],J=d[15];return u.setValues(D*v+F*T+N*M+I*w,F*g+F*E+N*P+I*B,N*m+F*S+N*R+I*G,I*y+F*C+N*L+I*Y,b*v+U*T+X*M+z*w,b*g+U*E+X*P+z*B,b*m+U*S+X*R+z*G,b*y+U*C+X*L+z*Y,V*v+W*T+H*M+K*w,V*g+W*E+H*P+K*B,V*m+W*S+H*R+K*G,V*y+W*C+H*L+K*Y,Z*v+j*T+k*M+J*w,Z*g+j*E+k*P+J*B,Z*m+j*S+k*R+J*G,Z*y+j*C+k*L+J*Y)},fromRotationXYTranslation:function(h,u,c){var d=u.x,v=u.y,g=u.z,m=Math.sin(h.x),y=Math.cos(h.x),T=Math.sin(h.y),E=Math.cos(h.y),S=d,C=v,M=g,P=-m,R=0-P*T,L=0-y*T,w=P*E,B=y*E;return c||(S=E*d+T*g,C=R*d+y*v+w*g,M=L*d+m*v+B*g),this.setValues(E,R,L,0,0,y,m,0,T,w,B,0,S,C,M,1)},getMaxScaleOnAxis:function(){var h=this.val,u=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],c=h[4]*h[4]+h[5]*h[5]+h[6]*h[6],d=h[8]*h[8]+h[9]*h[9]+h[10]*h[10];return Math.sqrt(Math.max(u,c,d))}}),s=new e,r=new e,n=new i,o=new i,l=new i;f.exports=e},function(f,x,t){f.exports={COMPLETE:t(987),DECODED:t(988),DECODED_ALL:t(989),DESTROY:t(990),DETUNE:t(991),GLOBAL_DETUNE:t(992),GLOBAL_MUTE:t(993),GLOBAL_RATE:t(994),GLOBAL_VOLUME:t(995),LOOP:t(996),LOOPED:t(997),MUTE:t(998),PAN:t(999),PAUSE_ALL:t(1e3),PAUSE:t(1001),PLAY:t(1002),RATE:t(1003),RESUME_ALL:t(1004),RESUME:t(1005),SEEK:t(1006),STOP_ALL:t(1007),STOP:t(1008),UNLOCKED:t(1009),VOLUME:t(1010)}},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(7),o=new a({Extends:e,initialize:function l(h,u,c,d,v){var g,m,y="png";n(u)&&(u=r(m=u,"key"),c=r(m,"url"),g=r(m,"normalMap"),d=r(m,"xhrSettings"),y=r(m,"extension",y),v=r(m,"frameConfig")),Array.isArray(c)&&(g=c[1],c=c[0]);var T,E={type:"image",cache:h.textureManager,extension:y,responseType:"blob",key:u,url:c,xhrSettings:d,config:v};e.call(this,h,E),g&&((T=new l(h,this.key,g,d,v)).type="normalMap",this.setLink(T),h.addFile(T))},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var l=this;this.data.onload=function(){e.revokeObjectURL(l.data),l.onProcessComplete()},this.data.onerror=function(){e.revokeObjectURL(l.data),l.onProcessError()},e.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var l,h=this.linkFile;h&&h.state===i.FILE_COMPLETE?(l=this.type==="image"?this.cache.addImage(this.key,this.data,h.data):this.cache.addImage(h.key,h.data,this.data),this.pendingDestroy(l),h.pendingDestroy(l)):h||(l=this.cache.addImage(this.key,this.data),this.pendingDestroy(l))}});s.register("image",function(l,h,u){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new o(this,l[c]));else this.addFile(new o(this,l,h,u));return this}),f.exports=o},function(f,x){f.exports=function(t,a){a?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)}},function(f,x,t){var a=t(164),i=t(0),e=t(11),s=t(15),r=t(1065),n=new i({Extends:s,Mixins:[e.Alpha,e.BlendMode,e.Depth,e.Flip,e.GetBounds,e.Mask,e.Origin,e.Pipeline,e.ScrollFactor,e.Size,e.TextureCrop,e.Tint,e.Transform,e.Visible,r],initialize:function(o,l,h,u,c){s.call(this,o,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(u,c),this.setPosition(l,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(o,l){this.anims.update(o,l)},play:function(o,l){return this.anims.play(o,l)},playReverse:function(o,l){return this.anims.playReverse(o,l)},playAfterDelay:function(o,l){return this.anims.playAfterDelay(o,l)},playAfterRepeat:function(o,l){return this.anims.playAfterRepeat(o,l)},chain:function(o){return this.anims.chain(o)},stop:function(){return this.anims.stop()},stopAfterDelay:function(o){return this.anims.stopAfterDelay(o)},stopAfterRepeat:function(o){return this.anims.stopAfterRepeat(o)},stopOnFrame:function(o){return this.anims.stopOnFrame(o)},toJSON:function(){return e.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});f.exports=n},function(f,x){f.exports=function(t,a){if(!(a>=t.length)){for(var i=t.length-1,e=t[a],s=a;s<i;s++)t[s]=t[s+1];return t.length=i,e}}},function(f,x,t){f.exports={ADDED_TO_SCENE:t(643),DESTROY:t(644),REMOVED_FROM_SCENE:t(645),VIDEO_COMPLETE:t(646),VIDEO_CREATED:t(647),VIDEO_ERROR:t(648),VIDEO_LOOP:t(649),VIDEO_PLAY:t(650),VIDEO_SEEKED:t(651),VIDEO_SEEKING:t(652),VIDEO_STOP:t(653),VIDEO_TIMEOUT:t(654),VIDEO_UNLOCKED:t(655)}},function(f,x){f.exports=function(t,a,i,e){return i===void 0&&(i=0),a===0?t:(t-=i,t=a*Math.floor(t/a),e?(i+t)/a:i+t)}},function(f,x){f.exports=function(t){var a={};for(var i in t)Array.isArray(t[i])?a[i]=t[i].slice(0):a[i]=t[i];return a}},function(f,x){f.exports=function(t,a,i,e){var s=t.length;if(a<0||s<a||i<=a||s<i||s<a+i){if(e)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},function(f,x){function t(i,e){return String(i).localeCompare(e)}function a(i,e,s,r){for(var n,o,l,h,u=i.length,c=0,d=2*s,v=0;v<u;v+=d)for(o=(n=v+s)+s,u<n&&(n=u),u<o&&(o=u),l=v,h=n;;)if(l<n&&h<o)e(i[l],i[h])<=0?r[c++]=i[l++]:r[c++]=i[h++];else if(l<n)r[c++]=i[l++];else{if(!(h<o))break;r[c++]=i[h++]}}f.exports=function(i,e){e===void 0&&(e=t);var s=function(r,n){var o=r.length;if(o<=1)return r;for(var l=new Array(o),h=1;h<o;h*=2){a(r,n,h,l);var u=r;r=l,l=u}return r}(i,e);return s!==i&&a(s,null,i.length,i),i}},function(f,x,t){var a=t(134),i=t(205);f.exports=function(e,s){var r,n=a.Power0;if(typeof e=="string"?a.hasOwnProperty(e)?n=a[e]:(r="",e.indexOf(".")&&((r=e.substr(e.indexOf(".")+1)).toLowerCase()==="in"?r="easeIn":r.toLowerCase()==="out"?r="easeOut":r.toLowerCase()==="inout"&&(r="easeInOut")),e=i(e.substr(0,e.indexOf(".")+1)+r),a.hasOwnProperty(e)&&(n=a[e])):typeof e=="function"?n=e:Array.isArray(e)&&e.length,!s)return n;var o=s.slice(0);return o.unshift(0),function(l){return o[0]=l,n.apply(this,o)}}},function(f,x,t){var a=t(12);f.exports=function(i,e,s,r,n){var o=i.strokeTint,l=a.getTintAppendFloatAlpha(e.strokeColor,e.strokeAlpha*s);o.TL=l,o.TR=l,o.BL=l,o.BR=l;var h=e.pathData,u=h.length-1,c=e.lineWidth,d=c/2,v=h[0]-r,g=h[1]-n;e.closePath||(u-=2);for(var m=2;m<u;m+=2){var y=h[m]-r,T=h[m+1]-n;i.batchLine(v,g,y,T,d,d,c,m-2,!!e.closePath&&m===u-1),v=y,g=T}}},function(f,x,t){var a=t(0),i=t(115),e=t(476),s=t(477),r=t(56),n=t(47),o=t(181),l=new a({initialize:function(h,u,c,d,v,g){h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),this.type=r.TRIANGLE,this.x1=h,this.y1=u,this.x2=c,this.y2=d,this.x3=v,this.y3=g},contains:function(h,u){return i(this,h,u)},getPoint:function(h,u){return e(this,h,u)},getPoints:function(h,u,c){return s(this,h,u,c)},getRandomPoint:function(h){return o(this,h)},setTo:function(h,u,c,d,v,g){return h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),this.x1=h,this.y1=u,this.x2=c,this.y2=d,this.x3=v,this.y3=g,this},getLineA:function(h){return h===void 0&&(h=new n),h.setTo(this.x1,this.y1,this.x2,this.y2),h},getLineB:function(h){return h===void 0&&(h=new n),h.setTo(this.x2,this.y2,this.x3,this.y3),h},getLineC:function(h){return h===void 0&&(h=new n),h.setTo(this.x3,this.y3,this.x1,this.y1),h},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(h){var u=0,u=this.x1<=this.x2&&this.x1<=this.x3?this.x1-h:this.x2<=this.x1&&this.x2<=this.x3?this.x2-h:this.x3-h;this.x1-=u,this.x2-=u,this.x3-=u}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(h){var u=0,u=this.x1>=this.x2&&this.x1>=this.x3?this.x1-h:this.x2>=this.x1&&this.x2>=this.x3?this.x2-h:this.x3-h;this.x1-=u,this.x2-=u,this.x3-=u}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(h){var u=0,u=this.y1<=this.y2&&this.y1<=this.y3?this.y1-h:this.y2<=this.y1&&this.y2<=this.y3?this.y2-h:this.y3-h;this.y1-=u,this.y2-=u,this.y3-=u}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(h){var u=0,u=this.y1>=this.y2&&this.y1>=this.y3?this.y1-h:this.y2>=this.y1&&this.y2>=this.y3?this.y2-h:this.y3-h;this.y1-=u,this.y2-=u,this.y3-=u}}});f.exports=l},function(f,x){var t={};(f.exports=t).create=function(a,i){return{x:a||0,y:i||0}},t.clone=function(a){return{x:a.x,y:a.y}},t.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},t.magnitudeSquared=function(a){return a.x*a.x+a.y*a.y},t.rotate=function(a,i,e){var s=Math.cos(i),r=Math.sin(i);e=e||{};var n=a.x*s-a.y*r;return e.y=a.x*r+a.y*s,e.x=n,e},t.rotateAbout=function(a,i,e,s){var r=Math.cos(i),n=Math.sin(i);s=s||{};var o=e.x+((a.x-e.x)*r-(a.y-e.y)*n);return s.y=e.y+((a.x-e.x)*n+(a.y-e.y)*r),s.x=o,s},t.normalise=function(a){var i=t.magnitude(a);return i===0?{x:0,y:0}:{x:a.x/i,y:a.y/i}},t.dot=function(a,i){return a.x*i.x+a.y*i.y},t.cross=function(a,i){return a.x*i.y-a.y*i.x},t.cross3=function(a,i,e){return(i.x-a.x)*(e.y-a.y)-(i.y-a.y)*(e.x-a.x)},t.add=function(a,i,e){return(e=e||{}).x=a.x+i.x,e.y=a.y+i.y,e},t.sub=function(a,i,e){return(e=e||{}).x=a.x-i.x,e.y=a.y-i.y,e},t.mult=function(a,i){return{x:a.x*i,y:a.y*i}},t.div=function(a,i){return{x:a.x/i,y:a.y/i}},t.perp=function(a,i){return{x:(i=i===!0?-1:1)*-a.y,y:i*a.x}},t.neg=function(a){return{x:-a.x,y:-a.y}},t.angle=function(a,i){return Math.atan2(i.y-a.y,i.x-a.x)},t._temp=[t.create(),t.create(),t.create(),t.create(),t.create(),t.create()]},function(f,x){var t={};(f.exports=t).create=function(a){var i={min:{x:0,y:0},max:{x:0,y:0}};return a&&t.update(i,a),i},t.update=function(a,i,e){a.min.x=1/0,a.max.x=-1/0,a.min.y=1/0,a.max.y=-1/0;for(var s=0;s<i.length;s++){var r=i[s];r.x>a.max.x&&(a.max.x=r.x),r.x<a.min.x&&(a.min.x=r.x),r.y>a.max.y&&(a.max.y=r.y),r.y<a.min.y&&(a.min.y=r.y)}e&&(0<e.x?a.max.x+=e.x:a.min.x+=e.x,0<e.y?a.max.y+=e.y:a.min.y+=e.y)},t.contains=function(a,i){return i.x>=a.min.x&&i.x<=a.max.x&&i.y>=a.min.y&&i.y<=a.max.y},t.overlaps=function(a,i){return a.min.x<=i.max.x&&a.max.x>=i.min.x&&a.max.y>=i.min.y&&a.min.y<=i.max.y},t.translate=function(a,i){a.min.x+=i.x,a.max.x+=i.x,a.min.y+=i.y,a.max.y+=i.y},t.shift=function(a,i){var e=a.max.x-a.min.x,s=a.max.y-a.min.y;a.min.x=i.x,a.max.x=i.x+e,a.min.y=i.y,a.max.y=i.y+s}},function(f,x,t){var a=t(29),i=t(0),e=t(11),s=t(502),r=new i({Mixins:[e.Alpha,e.Flip,e.Visible],initialize:function(n,o,l,h,u,c,d,v){this.layer=n,this.index=o,this.x=l,this.y=h,this.width=u,this.height=c,this.right,this.bottom,this.baseWidth=d!==void 0?d:u,this.baseHeight=v!==void 0?v:c,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,(this.collisionCallbackContext=this).tint=16777215,this.physics={}},containsPoint:function(n,o){return!(n<this.pixelX||o<this.pixelY||n>this.right||o>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=n.properties,this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var o=this.tilemapLayer;return o?o.tileToWorldX(this.x,n):this.x*this.baseWidth},getRight:function(n){var o=this.tilemapLayer;return o?this.getLeft(n)+this.width*o.scaleX:this.getLeft(n)+this.width},getTop:function(n){var o=this.tilemapLayer;return o?o.tileToWorldY(this.y,n)-(this.height-this.baseHeight)*o.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(n){var o=this.tilemapLayer;return o?this.getTop(n)+this.height*o.scaleY:this.getTop(n)+this.height},getBounds:function(n,o){return o===void 0&&(o=new s),o.x=this.getLeft(),o.y=this.getTop(),o.width=this.getRight()-o.x,o.height=this.getBottom()-o.y,o},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,o,l,h){return!(l<=this.pixelX||h<=this.pixelY||n>=this.right||o>=this.bottom)},isInteresting:function(n,o){return n&&o?this.canCollide||this.hasInterestingFace:n?this.collides:!!o&&this.hasInterestingFace},resetCollision:function(n){return n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,o,l,h,u){return o===void 0&&(o=n),l===void 0&&(l=n),h===void 0&&(h=n),u===void 0&&(u=!0),this.collideLeft=n,this.collideRight=o,this.collideUp=l,this.collideDown=h,this.faceLeft=n,this.faceRight=o,this.faceTop=l,this.faceBottom=h,u&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(n,o){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=o),this},setSize:function(n,o,l,h){return n!==void 0&&(this.width=n),o!==void 0&&(this.height=o),l!==void 0&&(this.baseWidth=l),h!==void 0&&(this.baseHeight=h),this.updatePixelXY(),this},updatePixelXY:function(){var n,o,l=this.layer.orientation;return l===a.ORTHOGONAL?(this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight):l===a.ISOMETRIC?(this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5):l===a.STAGGERED?(this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2)):l===a.HEXAGONAL&&(n=this.layer.hexSideLength,o=(this.baseHeight-n)/2+n,this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*o),this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var o=n.gidMap[this.index];if(o)return o}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});f.exports=r},function(f,x,t){var a={};f.exports=a;var i=t(64),e=t(32),s=t(41),r=t(84),n=t(83),o=t(1393);a.rectangle=function(l,h,u,c,d){d=d||{};var v,g={label:"Rectangle Body",position:{x:l,y:h},vertices:i.fromPath("L 0 0 L "+u+" 0 L "+u+" "+c+" L 0 "+c)};return d.chamfer&&(v=d.chamfer,g.vertices=i.chamfer(g.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete d.chamfer),s.create(e.extend({},g,d))},a.trapezoid=function(l,h,u,c,d,v){v=v||{};var g,m=u*(d*=.5),y=m+(1-2*d)*u,T=y+m,E=d<.5?"L 0 0 L "+m+" "+-c+" L "+y+" "+-c+" L "+T+" 0":"L 0 0 L "+y+" "+-c+" L "+T+" 0",S={label:"Trapezoid Body",position:{x:l,y:h},vertices:i.fromPath(E)};return v.chamfer&&(g=v.chamfer,S.vertices=i.chamfer(S.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete v.chamfer),s.create(e.extend({},S,v))},a.circle=function(l,h,u,c,d){c=c||{};var v={label:"Circle Body",circleRadius:u};d=d||25;var g=Math.ceil(Math.max(10,Math.min(d,u)));return g%2==1&&(g+=1),a.polygon(l,h,g,u,e.extend({},v,c))},a.polygon=function(l,h,u,c,d){if(d=d||{},u<3)return a.circle(l,h,c,d);for(var v=2*Math.PI/u,g="",m=.5*v,y=0;y<u;y+=1){var T=m+y*v,E=Math.cos(T)*c,S=Math.sin(T)*c;g+="L "+E.toFixed(3)+" "+S.toFixed(3)+" "}var C,M={label:"Polygon Body",position:{x:l,y:h},vertices:i.fromPath(g)};return d.chamfer&&(C=d.chamfer,M.vertices=i.chamfer(M.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete d.chamfer),s.create(e.extend({},M,d))},a.fromVertices=function(l,h,u,c,d,v,g){var m,y,T,E,S;for(c=c||{},y=[],d=d!==void 0&&d,v=v!==void 0?v:.01,g=g!==void 0?g:10,o||e.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),e.isArray(u[0])||(u=[u]),S=0;S<u.length;S+=1)if(E=u[S],(T=i.isConvex(E))||!o)E=T?i.clockwiseSort(E):i.hull(E),y.push({position:{x:l,y:h},vertices:E});else{var C=E.map(function(L){return[L.x,L.y]});o.makeCCW(C),v!==!1&&o.removeCollinearPoints(C,v);for(var M=o.quickDecomp(C),P=0;P<M.length;P++){var R=M[P].map(function(L){return{x:L[0],y:L[1]}});0<g&&i.area(R)<g||y.push({position:i.centre(R),vertices:R})}}for(P=0;P<y.length;P++)y[P]=s.create(e.extend(y[P],c));return d&&a.flagCoincidentParts(y,5),1<y.length?(m=s.create(e.extend({parts:y.slice(0)},c)),s.setPosition(m,{x:l,y:h}),m):y[0]},a.flagCoincidentParts=function(l,h){h===void 0&&(h=5);for(var u=0;u<l.length;u++)for(var c=l[u],d=u+1;d<l.length;d++){var v=l[d];if(r.overlaps(c.bounds,v.bounds))for(var g=c.vertices,m=v.vertices,y=0;y<c.vertices.length;y++)for(var T=0;T<v.vertices.length;T++){var E=n.magnitudeSquared(n.sub(g[(y+1)%g.length],m[T])),S=n.magnitudeSquared(n.sub(g[y],m[(T+1)%m.length]));E<h&&S<h&&(g[y].isInternal=!0,m[T].isInternal=!0)}}return l}},function(f,x){f.exports=function(t){return t.x-t.width*t.originX+.5*t.width}},function(f,x){f.exports=function(t,a){var i=t.width*t.originX;return t.x=a+i-.5*t.width,t}},function(f,x){f.exports=function(t){return t.y-t.height*t.originY+.5*t.height}},function(f,x){f.exports=function(t,a){var i=t.height*t.originY;return t.y=a+i-.5*t.height,t}},function(f,x,t){f.exports={POST_RENDER:t(628),PRE_RENDER:t(629),RENDER:t(630),RESIZE:t(631)}},function(f,x){f.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"}},function(f,x,t){var a=t(74);f.exports=function(i,e,s,r){if(r===void 0&&(r=i),!Array.isArray(e))return(l=i.indexOf(e))!==-1?(a(i,l),s&&s.call(r,e),e):null;for(var n=e.length-1,o=[];0<=n;){var l,h=e[n];(l=i.indexOf(h))!==-1&&(a(i,l),o.push(h),s&&s.call(r,h)),n--}return o}},function(f,x,t){var a=t(0),i=t(199),e=t(10),s=t(3),r=new a({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new s,this._tmpVec2B=new s},draw:function(n,o){return o===void 0&&(o=32),n.strokePoints(this.getPoints(o))},getBounds:function(n,o){n=n||new e,o===void 0&&(o=16);var l=this.getLength();l<o&&(o=l/2);var h=Math.max(1,Math.round(l/o));return i(this.getSpacedPoints(h),n)},getDistancePoints:function(n){var o=this.getLength(),l=Math.max(1,o/n);return this.getSpacedPoints(l)},getEndPoint:function(n){return n===void 0&&(n=new s),this.getPointAt(1,n)},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n===void 0&&(n=this.arcLengthDivisions),this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var o,l=[],h=this.getPoint(0,this._tmpVec2A),u=0;l.push(0);for(var c=1;c<=n;c++)u+=(o=this.getPoint(c/n,this._tmpVec2B)).distance(h),l.push(u),h.copy(o);return this.cacheArcLengths=l},getPointAt:function(n,o){var l=this.getUtoTmapping(n);return this.getPoint(l,o)},getPoints:function(n,o,l){l===void 0&&(l=[]),n=n||(o?this.getLength()/o:this.defaultDivisions);for(var h=0;h<=n;h++)l.push(this.getPoint(h/n));return l},getRandomPoint:function(n){return n===void 0&&(n=new s),this.getPoint(Math.random(),n)},getSpacedPoints:function(n,o,l){l===void 0&&(l=[]),n=n||(o?this.getLength()/o:this.defaultDivisions);for(var h=0;h<=n;h++){var u=this.getUtoTmapping(h/n,null,n);l.push(this.getPoint(u))}return l},getStartPoint:function(n){return n===void 0&&(n=new s),this.getPointAt(0,n)},getTangent:function(n,o){o===void 0&&(o=new s);var l=n-1e-4,h=n+1e-4;return l<0&&(l=0),1<h&&(h=1),this.getPoint(l,this._tmpVec2A),this.getPoint(h,o),o.subtract(this._tmpVec2A).normalize()},getTangentAt:function(n,o){var l=this.getUtoTmapping(n);return this.getTangent(l,o)},getTFromDistance:function(n,o){return n<=0?0:this.getUtoTmapping(0,n,o)},getUtoTmapping:function(n,o,l){for(var h,u=this.getLengths(l),c=0,d=u.length,v=o?Math.min(o,u[d-1]):n*u[d-1],g=0,m=d-1;g<=m;)if((h=u[c=Math.floor(g+(m-g)/2)]-v)<0)g=c+1;else{if(!(0<h)){m=c;break}m=c-1}if(u[c=m]===v)return c/(d-1);var y=u[c];return(c+(v-y)/(u[c+1]-y))/(d-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});f.exports=r},function(f,x,t){f.exports={ADD:t(968),COMPLETE:t(969),FILE_COMPLETE:t(970),FILE_KEY_COMPLETE:t(971),FILE_LOAD_ERROR:t(972),FILE_LOAD:t(973),FILE_PROGRESS:t(974),POST_PROCESS:t(975),PROGRESS:t(976),START:t(977)}},function(f,x,t){var a=t(4);f.exports=function(i,e,s){s===void 0&&(s=new a);var r=i.x1,n=i.y1,o=i.x2,l=i.y2,h=e.x1,u=e.y1,c=e.x2,d=e.y2,v=(d-u)*(o-r)-(c-h)*(l-n);if(v==0)return!1;var g=((c-h)*(n-u)-(d-u)*(r-h))/v,m=((o-r)*(n-u)-(l-n)*(r-h))/v;return 0<=g&&g<=1&&0<=m&&m<=1&&(s.x=r+g*(o-r),s.y=n+g*(l-n),!0)}},function(f,x){f.exports=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)}},function(f,x,t){var a=t(18);f.exports=function(i,e,s){return(s-e)*(i=a(i,0,1))+e}},function(f,x){f.exports=function(t,a,i){return t&&t.hasOwnProperty(a)?t[a]:i}},function(f,x){f.exports={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26}},function(f,x,t){var a=t(0),i=t(315),e=new a({initialize:function(s,r){this.parent=s,(this.events=r)||(this.events=s.events?s.events:s),this.list={},this.values={},this._frozen=!1,!s.hasOwnProperty("sys")&&this.events&&this.events.once(i.DESTROY,this.destroy,this)},get:function(s){var r=this.list;if(Array.isArray(s)){for(var n=[],o=0;o<s.length;o++)n.push(r[s[o]]);return n}return r[s]},getAll:function(){var s={};for(var r in this.list)this.list.hasOwnProperty(r)&&(s[r]=this.list[r]);return s},query:function(s){var r={};for(var n in this.list)this.list.hasOwnProperty(n)&&n.match(s)&&(r[n]=this.list[n]);return r},set:function(s,r){if(this._frozen)return this;if(typeof s=="string")return this.setValue(s,r);for(var n in s)this.setValue(n,s[n]);return this},inc:function(s,r){if(this._frozen)return this;r===void 0&&(r=1);var n=this.get(s);return n===void 0&&(n=0),this.set(s,n+r),this},toggle:function(s){return this._frozen||this.set(s,!this.get(s)),this},setValue:function(s,r){return this._frozen||(this.has(s)?this.values[s]=r:(o=(n=this).list,l=this.events,h=this.parent,Object.defineProperty(this.values,s,{enumerable:!0,configurable:!0,get:function(){return o[s]},set:function(u){var c;n._frozen||(c=o[s],o[s]=u,l.emit(i.CHANGE_DATA,h,s,u,c),l.emit(i.CHANGE_DATA_KEY+s,h,u,c))}}),o[s]=r,l.emit(i.SET_DATA,h,s,r))),this;var n,o,l,h},each:function(s,r){for(var n=[this.parent,null,void 0],o=1;o<arguments.length;o++)n.push(arguments[o]);for(var l in this.list)n[1]=l,n[2]=this.list[l],s.apply(r,n);return this},merge:function(s,r){for(var n in r===void 0&&(r=!0),s)s.hasOwnProperty(n)&&(r||!r&&!this.has(n))&&this.setValue(n,s[n]);return this},remove:function(s){if(this._frozen)return this;if(!Array.isArray(s))return this.removeValue(s);for(var r=0;r<s.length;r++)this.removeValue(s[r]);return this},removeValue:function(s){var r;return this.has(s)&&(r=this.list[s],delete this.list[s],delete this.values[s],this.events.emit(i.REMOVE_DATA,this.parent,s,r)),this},pop:function(s){var r=void 0;return!this._frozen&&this.has(s)&&(r=this.list[s],delete this.list[s],delete this.values[s],this.events.emit(i.REMOVE_DATA,this.parent,s,r)),r},has:function(s){return this.list.hasOwnProperty(s)},setFreeze:function(s){return this._frozen=s,this},reset:function(){for(var s in this.list)delete this.list[s],delete this.values[s];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(i.CHANGE_DATA),this.events.off(i.SET_DATA),this.events.off(i.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(s){this._frozen=!!s}},count:{get:function(){var s=0;for(var r in this.list)this.list[r]!==void 0&&s++;return s}}});f.exports=e},function(f,x,t){var a=new(t(0))({initialize:function(i){if(this.entries={},this.size=0,Array.isArray(i))for(var e=0;e<i.length;e++)this.set(i[e][0],i[e][1])},set:function(i,e){return this.has(i)||this.size++,this.entries[i]=e,this},get:function(i){if(this.has(i))return this.entries[i]},getArray:function(){var i=[],e=this.entries;for(var s in e)i.push(e[s]);return i},has:function(i){return this.entries.hasOwnProperty(i)},delete:function(i){return this.has(i)&&(delete this.entries[i],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(i){delete this.entries[i]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var i=[],e=this.entries;for(var s in e)i.push(e[s]);return i},dump:function(){var i=this.entries;for(var e in console.group("Map"),i)console.log(e,i[e]);console.groupEnd()},each:function(i){var e=this.entries;for(var s in e)if(i(s,e[s])===!1)break;return this},contains:function(i){var e=this.entries;for(var s in e)if(e[s]===i)return!0;return!1},merge:function(i,e){e===void 0&&(e=!1);var s=this.entries,r=i.entries;for(var n in r)s.hasOwnProperty(n)&&e?s[n]=r[n]:this.set(n,r[n]);return this}});f.exports=a},function(f,x){f.exports=function(t,a,i){return t<<16|a<<8|i}},function(f,x,t){f.exports={ENTER_FULLSCREEN:t(800),FULLSCREEN_FAILED:t(801),FULLSCREEN_UNSUPPORTED:t(802),LEAVE_FULLSCREEN:t(803),ORIENTATION_CHANGE:t(804),RESIZE:t(805)}},function(f,x,t){(function(a){var i={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};f.exports=function(){if(typeof importScripts=="function")return i;var e=navigator.userAgent;/Windows/.test(e)?i.windows=!0:/Mac OS/.test(e)&&!/like Mac OS/.test(e)?navigator.maxTouchPoints&&2<navigator.maxTouchPoints?(i.iOS=!0,i.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),i.iOSVersion=parseInt(RegExp.$1,10)):i.macOS=!0:/Android/.test(e)?i.android=!0:/Linux/.test(e)?i.linux=!0:/iP[ao]d|iPhone/i.test(e)?(i.iOS=!0,navigator.appVersion.match(/OS (\d+)/),i.iOSVersion=parseInt(RegExp.$1,10),i.iPhone=e.toLowerCase().indexOf("iphone")!==-1,i.iPad=e.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(e)||/\bKF[A-Z][A-Z]+/.test(e)||/Silk.*Mobile Safari/.test(e)?i.kindle=!0:/CrOS/.test(e)&&(i.chromeOS=!0),(/Windows Phone/i.test(e)||/IEMobile/i.test(e))&&(i.android=!1,i.iOS=!1,i.macOS=!1,i.windows=!0,i.windowsPhone=!0);var s=/Silk/.test(e);return(i.windows||i.macOS||i.linux&&!s||i.chromeOS)&&(i.desktop=!0),(i.windowsPhone||/Windows NT/i.test(e)&&/Touch/i.test(e))&&(i.desktop=!1),navigator.standalone&&(i.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(i.cordova=!0),window.ejecta!==void 0&&(i.ejecta=!0)),a!==void 0&&a.versions&&a.versions.node&&(i.node=!0),i.node&&typeof a.versions=="object"&&(i.nodeWebkit=!!a.versions["node-webkit"],i.electron=!!a.versions.electron),/Crosswalk/.test(e)&&(i.crosswalk=!0),i.pixelRatio=window.devicePixelRatio||1,i}()}).call(this,t(807))},function(f,x,t){f.exports={ADD:t(861),ERROR:t(862),LOAD:t(863),READY:t(864),REMOVE:t(865)}},function(f,x){f.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},function(f,x,t){var a=t(0),i=t(59),e=t(2),s=t(878),r=t(879),n=t(25),o=t(12),l=t(107),h=t(58),u=new a({Extends:h,initialize:function(c){var d=c.game.renderer,v=e(c,"fragShader",s);c.fragShader=o.parseFragmentShaderMaxTextures(v,d.maxTextures),c.vertShader=e(c,"vertShader",r),c.attributes=e(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),h.call(this,c),this._tempMatrix1=new n,this._tempMatrix2=new n,this._tempMatrix3=new n,this.calcMatrix=new n,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){h.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(c,d,v){this.manager.set(this,c);var g,m=this._tempMatrix1,y=this._tempMatrix2,T=this._tempMatrix3,E=c.frame,S=E.glTexture,C=E.u0,M=E.v0,P=E.u1,R=E.v1,L=E.x,w=E.y,B=E.cutWidth,G=E.cutHeight,Y=E.customPivot,D=c.displayOriginX,F=c.displayOriginY,N=-D+L,I=-F+w;c.isCropped&&((g=c._crop).flipX===c.flipX&&g.flipY===c.flipY||E.updateCropUVs(g,c.flipX,c.flipY),C=g.u0,M=g.v0,P=g.u1,R=g.v1,B=g.width,G=g.height,N=-D+g.x,I=-F+g.y);var b=1,U=1;c.flipX&&(Y||(N+=-E.realWidth+2*D),b=-1),(c.flipY||E.source.isGLTexture&&!S.flipY)&&(Y||(I+=-E.realHeight+2*F),U=-1),y.applyITRS(c.x,c.y,c.rotation,c.scaleX*b,c.scaleY*U),m.copyFrom(d.matrix),v?(m.multiplyWithOffset(v,-d.scrollX*c.scrollFactorX,-d.scrollY*c.scrollFactorY),y.e=c.x,y.f=c.y):(y.e-=d.scrollX*c.scrollFactorX,y.f-=d.scrollY*c.scrollFactorY),m.multiply(y,T);var X=N+B,z=I+G,V=d.roundPixels,W=T.getXRound(N,I,V),H=T.getYRound(N,I,V),K=T.getXRound(N,z,V),Z=T.getYRound(N,z,V),j=T.getXRound(X,z,V),k=T.getYRound(X,z,V),J=T.getXRound(X,I,V),q=T.getYRound(X,I,V),_=o.getTintAppendFloatAlpha,tt=d.alpha,Q=_(c.tintTopLeft,tt*c._alphaTL),et=_(c.tintTopRight,tt*c._alphaTR),$=_(c.tintBottomLeft,tt*c._alphaBL),it=_(c.tintBottomRight,tt*c._alphaBR);this.shouldFlush(6)&&this.flush();var ot=this.setGameObject(c,E);this.manager.preBatch(c),this.batchQuad(c,W,H,K,Z,j,k,J,q,C,M,P,R,Q,et,$,it,c.tintFill,S,ot),this.manager.postBatch(c)},batchTexture:function(c,d,v,g,m,y,T,E,S,C,M,P,R,L,w,B,G,Y,D,F,N,I,b,U,X,z,V,W,H,K,Z,j){this.manager.set(this,c);var k,J,q,_,tt,Q=this._tempMatrix1,et=this._tempMatrix2,$=this._tempMatrix3,it=Y/v+V,ot=D/g+W,ut=(Y+F)/v+V,rt=(D+N)/g+W,nt=T,lt=E,at=-B,ht=-G;c.isCropped&&(T=nt=J=(k=c._crop).width,E=lt=q=k.height,_=Y=k.x,tt=D=k.y,P&&(_=F-k.x-J),R&&(tt=N-k.y-q),it=_/v+V,ot=tt/g+W,ut=(_+J)/v+V,rt=(tt+q)/g+W,at=-B+Y,ht=-G+D),P&&(nt*=-1,at+=T),(R^=!Z&&d.isRenderTexture?1:0)&&(lt*=-1,ht+=E);var ft=at+nt,dt=ht+lt;et.applyITRS(m,y,M,S,C),Q.copyFrom(H.matrix),K?(Q.multiplyWithOffset(K,-H.scrollX*L,-H.scrollY*w),et.e=m,et.f=y):(et.e-=H.scrollX*L,et.f-=H.scrollY*w),Q.multiply(et,$);var ct=H.roundPixels,pt=$.getXRound(at,ht,ct),vt=$.getYRound(at,ht,ct),gt=$.getXRound(at,dt,ct),yt=$.getYRound(at,dt,ct),Tt=$.getXRound(ft,dt,ct),Et=$.getYRound(ft,dt,ct),At=$.getXRound(ft,ht,ct),Mt=$.getYRound(ft,ht,ct);j===void 0&&(j=this.renderer.setTexture2D(d)),c&&this.manager.preBatch(c),this.batchQuad(c,pt,vt,gt,yt,Tt,Et,At,Mt,it,ot,ut,rt,I,b,U,X,z,d,j),c&&this.manager.postBatch(c)},batchTextureFrame:function(c,d,v,g,m,y,T){this.manager.set(this);var E=this._tempMatrix1.copyFrom(y),S=this._tempMatrix2,C=d+c.width,M=v+c.height;T?E.multiply(T,S):S=E;var P=S.getX(d,v),R=S.getY(d,v),L=S.getX(d,M),w=S.getY(d,M),B=S.getX(C,M),G=S.getY(C,M),Y=S.getX(C,v),D=S.getY(C,v),F=this.renderer.setTextureSource(c.source);g=o.getTintAppendFloatAlpha(g,m),this.batchQuad(null,P,R,L,w,B,G,Y,D,c.u0,c.v0,c.u1,c.v1,g,g,g,g,0,c.glTexture,F)},batchFillRect:function(c,d,v,g,m,y){this.renderer.pipelines.set(this);var T=this.calcMatrix;y&&y.multiply(m,T);var E=c+v,S=d+g,C=T.getX(c,d),M=T.getY(c,d),P=T.getX(c,S),R=T.getY(c,S),L=T.getX(E,S),w=T.getY(E,S),B=T.getX(E,d),G=T.getY(E,d),Y=this.fillTint;this.batchQuad(null,C,M,P,R,L,w,B,G,0,0,1,1,Y.TL,Y.TR,Y.BL,Y.BR,2)},batchFillTriangle:function(c,d,v,g,m,y,T,E){this.renderer.pipelines.set(this);var S=this.calcMatrix;E&&E.multiply(T,S);var C=S.getX(c,d),M=S.getY(c,d),P=S.getX(v,g),R=S.getY(v,g),L=S.getX(m,y),w=S.getY(m,y),B=this.fillTint;this.batchTri(null,C,M,P,R,L,w,0,0,1,1,B.TL,B.TR,B.BL,2)},batchStrokeTriangle:function(c,d,v,g,m,y,T,E,S){var C=this.tempTriangle;C[0].x=c,C[0].y=d,C[0].width=T,C[1].x=v,C[1].y=g,C[1].width=T,C[2].x=m,C[2].y=y,C[2].width=T,C[3].x=c,C[3].y=d,C[3].width=T,this.batchStrokePath(C,T,!1,E,S)},batchFillPath:function(c,d,v){this.renderer.pipelines.set(this);var g=this.calcMatrix;v&&v.multiply(d,g);for(var m,y,T=c.length,E=this.polygonCache,S=this.fillTint.TL,C=this.fillTint.TR,M=this.fillTint.BL,P=0;P<T;++P)y=c[P],E.push(y.x,y.y);T=(m=i(E)).length;for(var R=0;R<T;R+=3){var L=2*m[R+0],w=2*m[R+1],B=2*m[R+2],G=E[0+L],Y=E[1+L],D=E[0+w],F=E[1+w],N=E[0+B],I=E[1+B],b=g.getX(G,Y),U=g.getY(G,Y),X=g.getX(D,F),z=g.getY(D,F),V=g.getX(N,I),W=g.getY(N,I);this.batchTri(null,b,U,X,z,V,W,0,0,1,1,S,C,M,2)}E.length=0},batchStrokePath:function(c,d,v,g,m){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var y=c.length-1,T=0;T<y;T++){var E=c[T],S=c[T+1];this.batchLine(E.x,E.y,S.x,S.y,E.width/2,S.width/2,d,T,!v&&T===y-1,g,m)}},batchLine:function(c,d,v,g,m,y,T,E,S,C,M){this.renderer.pipelines.set(this);var P=this.calcMatrix;M&&M.multiply(C,P);var R,L,w=v-c,B=g-d,G=Math.sqrt(w*w+B*B),Y=m*(g-d)/G,D=m*(c-v)/G,F=y*(g-d)/G,N=y*(c-v)/G,I=v-F,b=g-N,U=c-Y,X=d-D,z=v+F,V=g+N,W=c+Y,H=d+D,K=P.getX(I,b),Z=P.getY(I,b),j=P.getX(U,X),k=P.getY(U,X),J=P.getX(z,V),q=P.getY(z,V),_=P.getX(W,H),tt=P.getY(W,H),Q=this.strokeTint,et=Q.TL,$=Q.TR,it=Q.BL,ot=Q.BR;this.batchQuad(null,_,tt,j,k,K,Z,J,q,0,0,1,1,et,$,it,ot,2),T<=2||(R=this.prevQuad,L=this.firstQuad,0<E&&R[4]?this.batchQuad(null,_,tt,j,k,R[0],R[1],R[2],R[3],0,0,1,1,et,$,it,ot,2):(L[0]=_,L[1]=tt,L[2]=j,L[3]=k,L[4]=1),S&&L[4]?this.batchQuad(null,K,Z,J,q,L[0],L[1],L[2],L[3],0,0,1,1,et,$,it,ot,2):(R[0]=K,R[1]=Z,R[2]=J,R[3]=q,R[4]=1))}});f.exports=u},function(f,x,t){var a=t(0),i=t(18),e=t(17),s=new a({initialize:function(r,n,o,l,h,u,c){this.texture=r,this.name=n,this.source=r.source[o],this.sourceIndex=o,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(u,c,l,h)},setSize:function(r,n,o,l){o===void 0&&(o=0),l===void 0&&(l=0),this.cutX=o,this.cutY=l,this.cutWidth=r,this.cutHeight=n,this.width=r,this.height=n,this.halfWidth=Math.floor(.5*r),this.halfHeight=Math.floor(.5*n),this.centerX=Math.floor(r/2),this.centerY=Math.floor(n/2);var h=this.data,u=h.cut;u.x=o,u.y=l,u.w=r,u.h=n,u.r=o+r,u.b=l+n,h.sourceSize.w=r,h.sourceSize.h=n,h.spriteSourceSize.w=r,h.spriteSourceSize.h=n,h.radius=.5*Math.sqrt(r*r+n*n);var c=h.drawImage;return c.x=o,c.y=l,c.width=r,c.height=n,this.updateUVs()},setTrim:function(r,n,o,l,h,u){var c=this.data,d=c.spriteSourceSize;return c.trim=!0,c.sourceSize.w=r,c.sourceSize.h=n,d.x=o,d.y=l,d.w=h,d.h=u,d.r=o+h,d.b=l+u,this.x=o,this.y=l,this.width=h,this.height=u,this.halfWidth=.5*h,this.halfHeight=.5*u,this.centerX=Math.floor(h/2),this.centerY=Math.floor(u/2),this.updateUVs()},setCropUVs:function(r,n,o,l,h,u,c){var d,v,g,m,y,T,E,S=this.cutX,C=this.cutY,M=this.cutWidth,P=this.cutHeight,R=this.realWidth,L=this.realHeight,w=S+(n=i(n,0,R)),B=C+(o=i(o,0,L)),G=l=i(l,0,R-n),Y=h=i(h,0,L-o),D=this.data;D.trim?(d=D.spriteSourceSize,v=n+(l=i(l,0,M-n)),g=o+(h=i(h,0,P-o)),d.r<n||d.b<o||d.x>v||d.y>g?Y=G=B=w=0:(m=Math.max(d.x,n),y=Math.max(d.y,o),G=T=Math.min(d.r,v)-m,Y=E=Math.min(d.b,g)-y,w=u?S+(M-(m-d.x)-T):S+(m-d.x),B=c?C+(P-(y-d.y)-E):C+(y-d.y),n=m,o=y,l=T,h=E)):(u&&(w=S+(M-n-l)),c&&(B=C+(P-o-h)));var F=this.source.width,N=this.source.height;return r.u0=Math.max(0,w/F),r.v0=Math.max(0,B/N),r.u1=Math.min(1,(w+G)/F),r.v1=Math.min(1,(B+Y)/N),r.x=n,r.y=o,r.cx=w,r.cy=B,r.cw=G,r.ch=Y,r.width=l,r.height=h,r.flipX=u,r.flipY=c,r},updateCropUVs:function(r,n,o){return this.setCropUVs(r,r.x,r.y,r.width,r.height,n,o)},setUVs:function(r,n,o,l,h,u){var c=this.data.drawImage;return c.width=r,c.height=n,this.u0=o,this.v0=l,this.u1=h,this.v1=u,this},updateUVs:function(){var r=this.cutX,n=this.cutY,o=this.cutWidth,l=this.cutHeight,h=this.data.drawImage;h.width=o,h.height=l;var u=this.source.width,c=this.source.height;return this.u0=r/u,this.v0=n/c,this.u1=(r+o)/u,this.v1=(n+l)/c,this},updateUVsInverted:function(){var r=this.source.width,n=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/n,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/n,this},clone:function(){var r=new s(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=e(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});f.exports=s},function(f,x,t){var a=t(208),i=t(0),e=t(1),s=t(79),r=new i({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=e,this.removeCallback=e,this._sortKey=""},add:function(n,o){return o?a.Add(this.list,n):a.Add(this.list,n,0,this.addCallback,this)},addAt:function(n,o,l){return l?a.AddAt(this.list,n,o):a.AddAt(this.list,n,o,0,this.addCallback,this)},getAt:function(n){return this.list[n]},getIndex:function(n){return this.list.indexOf(n)},sort:function(n,o){return n&&(o===void 0&&(o=function(l,h){return l[n]-h[n]}),s(this.list,o)),this},getByName:function(n){return a.GetFirst(this.list,"name",n)},getRandom:function(n,o){return a.GetRandom(this.list,n,o)},getFirst:function(n,o,l,h){return a.GetFirst(this.list,n,o,l,h)},getAll:function(n,o,l,h){return a.GetAll(this.list,n,o,l,h)},count:function(n,o){return a.CountAllMatching(this.list,n,o)},swap:function(n,o){a.Swap(this.list,n,o)},moveTo:function(n,o){return a.MoveTo(this.list,n,o)},moveAbove:function(n,o){return a.MoveAbove(this.list,n,o)},moveBelow:function(n,o){return a.MoveBelow(this.list,n,o)},remove:function(n,o){return o?a.Remove(this.list,n):a.Remove(this.list,n,this.removeCallback,this)},removeAt:function(n,o){return o?a.RemoveAt(this.list,n):a.RemoveAt(this.list,n,this.removeCallback,this)},removeBetween:function(n,o,l){return l?a.RemoveBetween(this.list,n,o):a.RemoveBetween(this.list,n,o,this.removeCallback,this)},removeAll:function(n){for(var o=this.list.length;o--;)this.remove(this.list[o],n);return this},bringToTop:function(n){return a.BringToTop(this.list,n)},sendToBack:function(n){return a.SendToBack(this.list,n)},moveUp:function(n){return a.MoveUp(this.list,n),n},moveDown:function(n){return a.MoveDown(this.list,n),n},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(n,o){return a.Replace(this.list,n,o)},exists:function(n){return-1<this.list.indexOf(n)},setAll:function(n,o,l,h){return a.SetAll(this.list,n,o,l,h),this},each:function(n,o){for(var l=[null],h=2;h<arguments.length;h++)l.push(arguments[h]);for(h=0;h<this.list.length;h++)l[0]=this.list[h],n.apply(o,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return(this.position=0)<this.list.length?this.list[0]:null}},last:{get:function(){return 0<this.list.length?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return 0<this.position?(this.position--,this.list[this.position]):null}}});f.exports=r},function(f,x,t){var a=t(0),i=t(112),e=t(445),s=t(446),r=t(56),n=t(180),o=new a({initialize:function(l,h,u,c){l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=0),this.type=r.ELLIPSE,this.x=l,this.y=h,this.width=u,this.height=c},contains:function(l,h){return i(this,l,h)},getPoint:function(l,h){return e(this,l,h)},getPoints:function(l,h,u){return s(this,l,h,u)},getRandomPoint:function(l){return n(this,l)},setTo:function(l,h,u,c){return this.x=l,this.y=h,this.width=u,this.height=c,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,h){return h===void 0&&(h=l),this.x=l,this.y=h,this},setSize:function(l,h){return h===void 0&&(h=l),this.width=l,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});f.exports=o},function(f,x){f.exports=function(t,a,i){if(t.width<=0||t.height<=0)return!1;var e=(a-t.x)/t.width,s=(i-t.y)/t.height;return(e*=e)+(s*=s)<.25}},function(f,x,t){var a=t(275),i=t(0),e=t(75),s=t(9),r=t(207),n=t(2),o=t(6),l=t(7),h=t(437),u=t(149),c=t(73),d=new i({Extends:s,initialize:function(v,g,m){s.call(this),m?g&&!Array.isArray(g)&&(g=[g]):Array.isArray(g)?l(g[0])&&(m=g,g=null):l(g)&&(m=g,g=null),this.scene=v,this.children=new u,this.isParent=!0,this.type="Group",this.classType=n(m,"classType",c),this.name=n(m,"name",""),this.active=n(m,"active",!0),this.maxSize=n(m,"maxSize",-1),this.defaultKey=n(m,"defaultKey",null),this.defaultFrame=n(m,"defaultFrame",null),this.runChildUpdate=n(m,"runChildUpdate",!1),this.createCallback=n(m,"createCallback",null),this.removeCallback=n(m,"removeCallback",null),this.createMultipleCallback=n(m,"createMultipleCallback",null),this.internalCreateCallback=n(m,"internalCreateCallback",null),this.internalRemoveCallback=n(m,"internalRemoveCallback",null),g&&this.addMultiple(g),m&&this.createMultiple(m),this.on(e.ADDED_TO_SCENE,this.addedToScene,this),this.on(e.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(v,g,m,y,T,E){if(v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=this.defaultKey),y===void 0&&(y=this.defaultFrame),T===void 0&&(T=!0),E===void 0&&(E=!0),this.isFull())return null;var S=new this.classType(this.scene,v,g,m,y);return S.addToDisplayList(this.scene.sys.displayList),S.addToUpdateList(),S.visible=T,S.setActive(E),this.add(S),S},createMultiple:function(v){if(this.isFull())return[];Array.isArray(v)||(v=[v]);var g=[];if(v[0].key)for(var m=0;m<v.length;m++)var y=this.createFromConfig(v[m]),g=g.concat(y);return g},createFromConfig:function(v){if(this.isFull())return[];this.classType=n(v,"classType",this.classType);var g=n(v,"key",void 0),m=n(v,"frame",null),y=n(v,"visible",!0),T=n(v,"active",!0),E=[];if(g===void 0)return E;Array.isArray(g)||(g=[g]),Array.isArray(m)||(m=[m]);var S=n(v,"repeat",0),C=n(v,"randomKey",!1),M=n(v,"randomFrame",!1),P=n(v,"yoyo",!1),R=n(v,"quantity",!1),L=n(v,"frameQuantity",1),w=n(v,"max",0),B=h(g,m,{max:w,qty:R||L,random:C,randomB:M,repeat:S,yoyo:P});v.createCallback&&(this.createCallback=v.createCallback),v.removeCallback&&(this.removeCallback=v.removeCallback);for(var G=0;G<B.length;G++){var Y=this.create(0,0,B[G].a,B[G].b,y,T);if(!Y)break;E.push(Y)}var D=o(v,"setXY.x",0),F=o(v,"setXY.y",0),N=o(v,"setXY.stepX",0),I=o(v,"setXY.stepY",0);a.SetXY(E,D,F,N,I);var b=o(v,"setRotation.value",0),U=o(v,"setRotation.step",0);a.SetRotation(E,b,U);var X=o(v,"setScale.x",1),z=o(v,"setScale.y",X),V=o(v,"setScale.stepX",0),W=o(v,"setScale.stepY",0);a.SetScale(E,X,z,V,W);var H=o(v,"setOrigin.x",.5),K=o(v,"setOrigin.y",H),Z=o(v,"setOrigin.stepX",0),j=o(v,"setOrigin.stepY",0);a.SetOrigin(E,H,K,Z,j);var k=o(v,"setAlpha.value",1),J=o(v,"setAlpha.step",0);a.SetAlpha(E,k,J);var q=o(v,"setDepth.value",0),_=o(v,"setDepth.step",0);a.SetDepth(E,q,_);var tt=o(v,"setScrollFactor.x",1),Q=o(v,"setScrollFactor.y",tt),et=o(v,"setScrollFactor.stepX",0),$=o(v,"setScrollFactor.stepY",0);a.SetScrollFactor(E,tt,Q,et,$);var it=n(v,"hitArea",null),ot=n(v,"hitAreaCallback",null);it&&a.SetHitArea(E,it,ot);var ut=n(v,"gridAlign",!1);return ut&&a.GridAlign(E,ut),this.createMultipleCallback&&this.createMultipleCallback.call(this,E),E},preUpdate:function(v,g){if(this.runChildUpdate&&this.children.size!==0)for(var m=this.children.entries.slice(),y=0;y<m.length;y++){var T=m[y];T.active&&T.update(v,g)}},add:function(v,g){return g===void 0&&(g=!1),this.isFull()||(this.children.set(v),this.internalCreateCallback&&this.internalCreateCallback.call(this,v),this.createCallback&&this.createCallback.call(this,v),g&&(v.addToDisplayList(this.scene.sys.displayList),v.addToUpdateList()),v.on(e.DESTROY,this.remove,this)),this},addMultiple:function(v,g){if(g===void 0&&(g=!1),Array.isArray(v))for(var m=0;m<v.length;m++)this.add(v[m],g);return this},remove:function(v,g,m){return g===void 0&&(g=!1),m===void 0&&(m=!1),this.children.contains(v)&&(this.children.delete(v),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,v),this.removeCallback&&this.removeCallback.call(this,v),v.off(e.DESTROY,this.remove,this),m?v.destroy():g&&(v.removeFromDisplayList(),v.removeFromUpdateList())),this},clear:function(v,g){v===void 0&&(v=!1),g===void 0&&(g=!1);for(var m=this.children,y=0;y<m.size;y++){var T=m.entries[y];T.off(e.DESTROY,this.remove,this),g?T.destroy():v&&(T.removeFromDisplayList(),T.removeFromUpdateList())}return this.children.clear(),this},contains:function(v){return this.children.contains(v)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(v,g,m,y){return r(this.children.entries,v,g,m,y)},getFirst:function(v,g,m,y,T,E,S){return this.getHandler(!0,1,v,g,m,y,T,E,S)},getFirstNth:function(v,g,m,y,T,E,S,C){return this.getHandler(!0,v,g,m,y,T,E,S,C)},getLast:function(v,g,m,y,T,E,S){return this.getHandler(!1,1,v,g,m,y,T,E,S)},getLastNth:function(v,g,m,y,T,E,S,C){return this.getHandler(!1,v,g,m,y,T,E,S,C)},getHandler:function(v,g,m,y,T,E,S,C,M){var P,R;m===void 0&&(m=!1),y===void 0&&(y=!1);var L=0,w=this.children.entries;if(v)for(R=0;R<w.length;R++)if((P=w[R]).active===m){if(++L===g)break}else P=null;else for(R=w.length-1;0<=R;R--)if((P=w[R]).active===m){if(++L===g)break}else P=null;return P?(typeof T=="number"&&(P.x=T),typeof E=="number"&&(P.y=E),P):y?this.create(T,E,S,C,M):null},get:function(v,g,m,y,T){return this.getFirst(!1,!0,v,g,m,y,T)},getFirstAlive:function(v,g,m,y,T,E){return this.getFirst(!0,v,g,m,y,T,E)},getFirstDead:function(v,g,m,y,T,E){return this.getFirst(!1,v,g,m,y,T,E)},playAnimation:function(v,g){return a.PlayAnimation(this.children.entries,v,g),this},isFull:function(){return this.maxSize!==-1&&this.children.size>=this.maxSize},countActive:function(v){v===void 0&&(v=!0);for(var g=0,m=0;m<this.children.size;m++)this.children.entries[m].active===v&&g++;return g},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var v=this.getTotalUsed();return(this.maxSize===-1?999999999999:this.maxSize)-v},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},propertyValueSet:function(v,g,m,y,T){return a.PropertyValueSet(this.children.entries,v,g,m,y,T),this},propertyValueInc:function(v,g,m,y,T){return a.PropertyValueInc(this.children.entries,v,g,m,y,T),this},setX:function(v,g){return a.SetX(this.children.entries,v,g),this},setY:function(v,g){return a.SetY(this.children.entries,v,g),this},setXY:function(v,g,m,y){return a.SetXY(this.children.entries,v,g,m,y),this},incX:function(v,g){return a.IncX(this.children.entries,v,g),this},incY:function(v,g){return a.IncY(this.children.entries,v,g),this},incXY:function(v,g,m,y){return a.IncXY(this.children.entries,v,g,m,y),this},shiftPosition:function(v,g,m){return a.ShiftPosition(this.children.entries,v,g,m),this},angle:function(v,g){return a.Angle(this.children.entries,v,g),this},rotate:function(v,g){return a.Rotate(this.children.entries,v,g),this},rotateAround:function(v,g){return a.RotateAround(this.children.entries,v,g),this},rotateAroundDistance:function(v,g,m){return a.RotateAroundDistance(this.children.entries,v,g,m),this},setAlpha:function(v,g){return a.SetAlpha(this.children.entries,v,g),this},setTint:function(v,g,m,y){return a.SetTint(this.children.entries,v,g,m,y),this},setOrigin:function(v,g,m,y){return a.SetOrigin(this.children.entries,v,g,m,y),this},scaleX:function(v,g){return a.ScaleX(this.children.entries,v,g),this},scaleY:function(v,g){return a.ScaleY(this.children.entries,v,g),this},scaleXY:function(v,g,m,y){return a.ScaleXY(this.children.entries,v,g,m,y),this},setDepth:function(v,g){return a.SetDepth(this.children.entries,v,g),this},setBlendMode:function(v){return a.SetBlendMode(this.children.entries,v),this},setHitArea:function(v,g){return a.SetHitArea(this.children.entries,v,g),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(v){this.children.contains(v)&&v.setActive(!1)},killAndHide:function(v){this.children.contains(v)&&(v.setActive(!1),v.setVisible(!1))},setVisible:function(v,g,m){return a.SetVisible(this.children.entries,v,g,m),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(v,g){v===void 0&&(v=!1),g===void 0&&(g=!1),this.scene&&!this.ignoreDestroy&&(this.emit(e.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(g,v),this.scene=void 0,this.children=void 0)}});f.exports=d},function(f,x,t){var a=t(12);f.exports=function(i,e,s,r,n,o){for(var l=a.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*r),h=s.pathData,u=s.pathIndexes,c=0;c<u.length;c+=3){var d=2*u[c],v=2*u[c+1],g=2*u[c+2],m=h[0+d]-n,y=h[1+d]-o,T=h[0+v]-n,E=h[1+v]-o,S=h[0+g]-n,C=h[1+g]-o,M=e.getX(m,y),P=e.getY(m,y),R=e.getX(T,E),L=e.getY(T,E),w=e.getX(S,C),B=e.getY(S,C);i.batchTri(s,M,P,R,L,w,B,0,0,1,1,l,l,l,2)}}},function(f,x){f.exports=function(t,a,i){var e=t.x3-t.x1,s=t.y3-t.y1,r=t.x2-t.x1,n=t.y2-t.y1,o=a-t.x1,l=i-t.y1,h=e*e+s*s,u=e*r+s*n,c=e*o+s*l,d=r*r+n*n,v=r*o+n*l,g=h*d-u*u,m=g==0?0:1/g,y=(d*c-u*v)*m,T=(h*v-u*c)*m;return 0<=y&&0<=T&&y+T<1}},function(f,x,t){var a=t(0),i=t(10),e=t(3);function s(n,o,l,h){var u=n-l,c=o-h,d=u*u+c*c;return Math.sqrt(d)}var r=new a({initialize:function(n,o,l){this.vertex1=n,this.vertex2=o,this.vertex3=l,this.bounds=new i,this._inCenter=new e},getInCenter:function(n){n===void 0&&(n=!0);var o,l,h,u,c,d=this.vertex1,v=this.vertex2,g=this.vertex3,m=n?(o=d.x,l=d.y,h=v.x,u=v.y,c=g.x,g.y):(o=d.vx,l=d.vy,h=v.vx,u=v.vy,c=g.vx,g.vy),y=s(c,m,h,u),T=s(o,l,c,m),E=s(h,u,o,l),S=y+T+E;return this._inCenter.set((o*y+h*T+c*E)/S,(l*y+u*T+m*E)/S)},contains:function(n,o,l){var h,u,c,d,v,g,m=this.vertex1,y=this.vertex2,T=this.vertex3,E=m.vx,S=m.vy,C=y.vx,M=y.vy,P=T.vx,R=T.vy;l&&(h=l.a,u=l.b,c=l.c,d=l.d,v=l.e,g=l.f,E=m.vx*h+m.vy*c+v,S=m.vx*u+m.vy*d+g,C=y.vx*h+y.vy*c+v,M=y.vx*u+y.vy*d+g,P=T.vx*h+T.vy*c+v,R=T.vx*u+T.vy*d+g);var L=P-E,w=R-S,B=C-E,G=M-S,Y=n-E,D=o-S,F=L*L+w*w,N=L*B+w*G,I=L*Y+w*D,b=B*B+G*G,U=B*Y+G*D,X=F*b-N*N,z=X==0?0:1/X,V=(b*I-N*U)*z,W=(F*U-N*I)*z;return 0<=V&&0<=W&&V+W<1},isCounterClockwise:function(n){var o=this.vertex1,l=this.vertex2,h=this.vertex3,u=(l.vx-o.vx)*(h.vy-o.vy)-(l.vy-o.vy)*(h.vx-o.vx);return n<=0?0<=u:u<0},load:function(n,o,l,h,u){return l=this.vertex1.load(n,o,l,h,u),l=this.vertex2.load(n,o,l,h,u),l=this.vertex3.load(n,o,l,h,u)},transformCoordinatesLocal:function(n,o,l,h){return this.vertex1.transformCoordinatesLocal(n,o,l,h),this.vertex2.transformCoordinatesLocal(n,o,l,h),this.vertex3.transformCoordinatesLocal(n,o,l,h),this},updateBounds:function(){var n=this.vertex1,o=this.vertex2,l=this.vertex3,h=this.bounds;return h.x=Math.min(n.vx,o.vx,l.vx),h.y=Math.min(n.vy,o.vy,l.vy),h.width=Math.max(n.vx,o.vx,l.vx)-h.x,h.height=Math.max(n.vy,o.vy,l.vy)-h.y,this},isInView:function(n,o,l,h,u,c,d,v,g,m,y){var T=this.vertex1.update(u,c,d,v,g,m,y,h),E=this.vertex2.update(u,c,d,v,g,m,y,h),S=this.vertex3.update(u,c,d,v,g,m,y,h);if(T.ta<=0&&E.ta<=0&&S.ta<=0||o&&!this.isCounterClockwise(l))return!1;var C=this.bounds;C.x=Math.min(T.tx,E.tx,S.tx),C.y=Math.min(T.ty,E.ty,S.ty),C.width=Math.max(T.tx,E.tx,S.tx)-C.x,C.height=Math.max(T.ty,E.ty,S.ty)-C.y;var M=n.x+n.width,P=n.y+n.height;return!(C.width<=0||C.height<=0||n.width<=0||n.height<=0)&&!(C.right<n.x||C.bottom<n.y||C.x>M||C.y>P)},translate:function(n,o){o===void 0&&(o=0);var l=this.vertex1,h=this.vertex2,u=this.vertex3;return l.x+=n,l.y+=o,h.x+=n,h.y+=o,u.x+=n,u.y+=o,this},x:{get:function(){return this.getInCenter().x},set:function(n){var o=this.getInCenter();this.translate(n-o.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(n){var o=this.getInCenter();this.translate(0,n-o.y)}},alpha:{get:function(){var n=this.vertex1,o=this.vertex2,l=this.vertex3;return(n.alpha+o.alpha+l.alpha)/3},set:function(n){this.vertex1.alpha=n,this.vertex2.alpha=n,this.vertex3.alpha=n}},depth:{get:function(){var n=this.vertex1,o=this.vertex2,l=this.vertex3;return(n.vz+o.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});f.exports=r},function(f,x,t){var a=t(0),i=t(12),e=t(39),s=new a({Extends:e,initialize:function(r,n,o,l,h,u,c,d,v,g){u===void 0&&(u=16777215),c===void 0&&(c=1),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),e.call(this,r,n,o),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=v,this.nz=g,this.u=l,this.v=h,this.color=u,this.alpha=c,this.tx=0,this.ty=0,this.ta=0},setUVs:function(r,n){return this.u=r,this.v=n,this},transformCoordinatesLocal:function(r,n,o,l){var h=this.x,u=this.y,c=this.z,d=r.val,v=h*d[0]+u*d[4]+c*d[8]+d[12],g=h*d[1]+u*d[5]+c*d[9]+d[13],m=h*d[2]+u*d[6]+c*d[10]+d[14],y=h*d[3]+u*d[7]+c*d[11]+d[15];this.vx=v/y*n,this.vy=-g/y*o,this.vz=l<=0?m/y:-m/y},update:function(r,n,o,l,h,u,c,d){var v=this.vx*r+this.vy*o+h,g=this.vx*n+this.vy*l+u;return c&&(v=Math.round(v),g=Math.round(g)),this.tx=v,this.ty=g,this.ta=this.alpha*d,this},load:function(r,n,o,l,h){return r[++o]=this.tx,r[++o]=this.ty,r[++o]=this.u,r[++o]=this.v,r[++o]=l,r[++o]=h,n[++o]=i.getTintAppendFloatAlpha(this.color,this.ta),o}});f.exports=s},function(f,x,t){var a={};f.exports=a;var i=t(166),e=t(32),s=t(84),r=t(41);a.create=function(n){return e.extend({id:e.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},n)},a.setModified=function(n,o,l,h){if(i.trigger(n,"compositeModified",n),n.isModified=o,l&&n.parent&&a.setModified(n.parent,o,l,h),h)for(var u=0;u<n.composites.length;u++){var c=n.composites[u];a.setModified(c,o,l,h)}},a.add=function(n,o){var l=[].concat(o);i.trigger(n,"beforeAdd",{object:o});for(var h=0;h<l.length;h++){var u=l[h];switch(u.type){case"body":if(u.parent!==u){e.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(n,u);break;case"constraint":a.addConstraint(n,u);break;case"composite":a.addComposite(n,u);break;case"mouseConstraint":a.addConstraint(n,u.constraint)}}return i.trigger(n,"afterAdd",{object:o}),n},a.remove=function(n,o,l){var h=[].concat(o);i.trigger(n,"beforeRemove",{object:o});for(var u=0;u<h.length;u++){var c=h[u];switch(c.type){case"body":a.removeBody(n,c,l);break;case"constraint":a.removeConstraint(n,c,l);break;case"composite":a.removeComposite(n,c,l);break;case"mouseConstraint":a.removeConstraint(n,c.constraint)}}return i.trigger(n,"afterRemove",{object:o}),n},a.addComposite=function(n,o){return n.composites.push(o),o.parent=n,a.setModified(n,!0,!0,!1),n},a.removeComposite=function(n,o,l){var h=n.composites.indexOf(o);if(h!==-1&&(a.removeCompositeAt(n,h),a.setModified(n,!0,!0,!1)),l)for(var u=0;u<n.composites.length;u++)a.removeComposite(n.composites[u],o,!0);return n},a.removeCompositeAt=function(n,o){return n.composites.splice(o,1),a.setModified(n,!0,!0,!1),n},a.addBody=function(n,o){return n.bodies.push(o),a.setModified(n,!0,!0,!1),n},a.removeBody=function(n,o,l){var h=n.bodies.indexOf(o);if(h!==-1&&(a.removeBodyAt(n,h),a.setModified(n,!0,!0,!1)),l)for(var u=0;u<n.composites.length;u++)a.removeBody(n.composites[u],o,!0);return n},a.removeBodyAt=function(n,o){return n.bodies.splice(o,1),a.setModified(n,!0,!0,!1),n},a.addConstraint=function(n,o){return n.constraints.push(o),a.setModified(n,!0,!0,!1),n},a.removeConstraint=function(n,o,l){var h=n.constraints.indexOf(o);if(h!==-1&&a.removeConstraintAt(n,h),l)for(var u=0;u<n.composites.length;u++)a.removeConstraint(n.composites[u],o,!0);return n},a.removeConstraintAt=function(n,o){return n.constraints.splice(o,1),a.setModified(n,!0,!0,!1),n},a.clear=function(n,o,l){if(l)for(var h=0;h<n.composites.length;h++)a.clear(n.composites[h],o,!0);return o?n.bodies=n.bodies.filter(function(u){return u.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,a.setModified(n,!0,!0,!1),n},a.allBodies=function(n){for(var o=[].concat(n.bodies),l=0;l<n.composites.length;l++)o=o.concat(a.allBodies(n.composites[l]));return o},a.allConstraints=function(n){for(var o=[].concat(n.constraints),l=0;l<n.composites.length;l++)o=o.concat(a.allConstraints(n.composites[l]));return o},a.allComposites=function(n){for(var o=[].concat(n.composites),l=0;l<n.composites.length;l++)o=o.concat(a.allComposites(n.composites[l]));return o},a.get=function(n,o,l){var h,u;switch(l){case"body":h=a.allBodies(n);break;case"constraint":h=a.allConstraints(n);break;case"composite":h=a.allComposites(n).concat(n)}return!h||(u=h.filter(function(c){return c.id.toString()===o.toString()})).length===0?null:u[0]},a.move=function(n,o,l){return a.remove(n,o),a.add(l,o),n},a.rebase=function(n){for(var o=a.allBodies(n).concat(a.allConstraints(n)).concat(a.allComposites(n)),l=0;l<o.length;l++)o[l].id=e.nextId();return a.setModified(n,!0,!0,!1),n},a.translate=function(n,o,l){for(var h=l?a.allBodies(n):n.bodies,u=0;u<h.length;u++)r.translate(h[u],o);return a.setModified(n,!0,!0,!1),n},a.rotate=function(n,o,l,h){for(var u=Math.cos(o),c=Math.sin(o),d=h?a.allBodies(n):n.bodies,v=0;v<d.length;v++){var g=d[v],m=g.position.x-l.x,y=g.position.y-l.y;r.setPosition(g,{x:l.x+(m*u-y*c),y:l.y+(m*c+y*u)}),r.rotate(g,o)}return a.setModified(n,!0,!0,!1),n},a.scale=function(n,o,l,h,u){for(var c=u?a.allBodies(n):n.bodies,d=0;d<c.length;d++){var v=c[d],g=v.position.x-h.x,m=v.position.y-h.y;r.setPosition(v,{x:h.x+g*o,y:h.y+m*l}),r.scale(v,o,l)}return a.setModified(n,!0,!0,!1),n},a.bounds=function(n){for(var o=a.allBodies(n),l=[],h=0;h<o.length;h+=1){var u=o[h];l.push(u.bounds.min,u.bounds.max)}return s.create(l)}},function(f,x){f.exports=function(t,a,i){return 0<=t&&t<i.width&&0<=a&&a<i.height}},function(f,x,t){var a=t(0),i=t(29),e=t(2),s=new a({initialize:function(r){r===void 0&&(r={}),this.name=e(r,"name","layer"),this.x=e(r,"x",0),this.y=e(r,"y",0),this.width=e(r,"width",0),this.height=e(r,"height",0),this.tileWidth=e(r,"tileWidth",0),this.tileHeight=e(r,"tileHeight",0),this.baseTileWidth=e(r,"baseTileWidth",this.tileWidth),this.baseTileHeight=e(r,"baseTileHeight",this.tileHeight),this.orientation=e(r,"orientation",i.ORTHOGONAL),this.widthInPixels=e(r,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=e(r,"heightInPixels",this.height*this.baseTileHeight),this.alpha=e(r,"alpha",1),this.visible=e(r,"visible",!0),this.properties=e(r,"properties",[]),this.indexes=e(r,"indexes",[]),this.collideIndexes=e(r,"collideIndexes",[]),this.callbacks=e(r,"callbacks",[]),this.bodies=e(r,"bodies",[]),this.data=e(r,"data",[]),this.tilemapLayer=e(r,"tilemapLayer",null),this.hexSideLength=e(r,"hexSideLength",0)}});f.exports=s},function(f,x,t){var a=t(0),i=t(29),e=t(2),s=new a({initialize:function(r){r===void 0&&(r={}),this.name=e(r,"name","map"),this.width=e(r,"width",0),this.height=e(r,"height",0),this.infinite=e(r,"infinite",!1),this.tileWidth=e(r,"tileWidth",0),this.tileHeight=e(r,"tileHeight",0),this.widthInPixels=e(r,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=e(r,"heightInPixels",this.height*this.tileHeight),this.format=e(r,"format",null),this.orientation=e(r,"orientation",i.ORTHOGONAL),this.renderOrder=e(r,"renderOrder","right-down"),this.version=e(r,"version","1"),this.properties=e(r,"properties",{}),this.layers=e(r,"layers",[]),this.images=e(r,"images",[]),this.objects=e(r,"objects",{}),this.collision=e(r,"collision",{}),this.tilesets=e(r,"tilesets",[]),this.imageCollections=e(r,"imageCollections",[]),this.tiles=e(r,"tiles",[]),this.hexSideLength=e(r,"hexSideLength",0)}});f.exports=s},function(f,x,t){var a=new(t(0))({initialize:function(i,e,s,r,n,o,l,h){(s===void 0||s<=0)&&(s=32),(r===void 0||r<=0)&&(r=32),n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l={}),h===void 0&&(h={}),this.name=i,this.firstgid=e,this.tileWidth=s,this.tileHeight=r,this.tileMargin=n,this.tileSpacing=o,this.tileProperties=l,this.tileData=h,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(i){return this.containsTileIndex(i)?this.tileProperties[i-this.firstgid]:null},getTileData:function(i){return this.containsTileIndex(i)?this.tileData[i-this.firstgid]:null},getTileCollisionGroup:function(i){var e=this.getTileData(i);return e&&e.objectgroup?e.objectgroup:null},containsTileIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},getTileTextureCoordinates:function(i){return this.containsTileIndex(i)?this.texCoordinates[i-this.firstgid]:null},setImage:function(i){return this.image=i,this.glTexture=i.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(i,e){return i!==void 0&&(this.tileWidth=i),e!==void 0&&(this.tileHeight=e),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(i,e){return i!==void 0&&(this.tileMargin=i),e!==void 0&&(this.tileSpacing=e),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(i,e){var s=(e-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),r=(i-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);s%1==0&&r%1==0||console.warn("Image tile area not tile size multiple in: "+this.name),s=Math.floor(s),r=Math.floor(r),this.rows=s,this.columns=r,this.total=s*r,this.texCoordinates.length=0;for(var n=this.tileMargin,o=this.tileMargin,l=0;l<this.rows;l++){for(var h=0;h<this.columns;h++)this.texCoordinates.push({x:n,y:o}),n+=this.tileWidth+this.tileSpacing;n=this.tileMargin,o+=this.tileHeight+this.tileSpacing}return this}});f.exports=a},function(f,x){f.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},function(f,x){f.exports=function(t,a,i){return i===void 0&&(i=1e-4),Math.abs(t-a)<i}},function(f,x,t){var a=t(0),i=t(11),e=t(15),s=t(1068),r=new a({Extends:e,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Size,i.TextureCrop,i.Tint,i.Transform,i.Visible,s],initialize:function(n,o,l,h,u){e.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,u),this.setPosition(o,l),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});f.exports=r},function(f,x){f.exports=function(t,a){return t.hasOwnProperty(a)}},function(f,x,t){var a=t(77);f.exports=function(i,e){var s=a(i);for(var r in e)s.hasOwnProperty(r)||(s[r]=e[r]);return s}},function(f,x,t){var a={};f.exports=a;var i=t(64),e=t(83),s=t(165),r=t(84),n=t(271),o=t(32);a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(l){var h=l;h.bodyA&&!h.pointA&&(h.pointA={x:0,y:0}),h.bodyB&&!h.pointB&&(h.pointB={x:0,y:0});var u=h.bodyA?e.add(h.bodyA.position,h.pointA):h.pointA,c=h.bodyB?e.add(h.bodyB.position,h.pointB):h.pointB,d=e.magnitude(e.sub(u,c));h.length=h.length!==void 0?h.length:d,h.id=h.id||o.nextId(),h.label=h.label||"Constraint",h.type="constraint",h.stiffness=h.stiffness||(0<h.length?1:.7),h.damping=h.damping||0,h.angularStiffness=h.angularStiffness||0,h.angleA=h.bodyA?h.bodyA.angle:h.angleA,h.angleB=h.bodyB?h.bodyB.angle:h.angleB,h.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return h.length===0&&.1<h.stiffness?(v.type="pin",v.anchors=!1):h.stiffness<.9&&(v.type="spring"),h.render=o.extend(v,h.render),h},a.preSolveAll=function(l){for(var h=0;h<l.length;h+=1){var u=l[h],c=u.constraintImpulse;u.isStatic||c.x===0&&c.y===0&&c.angle===0||(u.position.x+=c.x,u.position.y+=c.y,u.angle+=c.angle)}},a.solveAll=function(l,h){for(var u=0;u<l.length;u+=1){var c=l[u],d=!c.bodyA||c.bodyA&&c.bodyA.isStatic,v=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(d||v)&&a.solve(l[u],h)}for(u=0;u<l.length;u+=1)d=!(c=l[u]).bodyA||c.bodyA&&c.bodyA.isStatic,v=!c.bodyB||c.bodyB&&c.bodyB.isStatic,d||v||a.solve(l[u],h)},a.solve=function(l,h){var u,c,d,v,g,m,y,T,E,S,C,M,P,R,L,w=l.bodyA,B=l.bodyB,G=l.pointA,Y=l.pointB;(w||B)&&(w&&!w.isStatic&&(e.rotate(G,w.angle-l.angleA,G),l.angleA=w.angle),B&&!B.isStatic&&(e.rotate(Y,B.angle-l.angleB,Y),l.angleB=B.angle),u=G,c=Y,w&&(u=e.add(w.position,G)),B&&(c=e.add(B.position,Y)),u&&c&&(d=e.sub(u,c),(v=e.magnitude(d))<a._minLength&&(v=a._minLength),g=(v-l.length)/v,m=l.stiffness<1?l.stiffness*h:l.stiffness,y=e.mult(d,g*m),E=(T=(w?w.inverseMass:0)+(B?B.inverseMass:0))+((w?w.inverseInertia:0)+(B?B.inverseInertia:0)),l.damping&&(M=e.create(),P=e.div(d,v),R=e.sub(B&&e.sub(B.position,B.positionPrev)||M,w&&e.sub(w.position,w.positionPrev)||M),L=e.dot(P,R)),w&&!w.isStatic&&(C=w.inverseMass/T,w.constraintImpulse.x-=y.x*C,w.constraintImpulse.y-=y.y*C,w.position.x-=y.x*C,w.position.y-=y.y*C,l.damping&&(w.positionPrev.x-=l.damping*P.x*L*C,w.positionPrev.y-=l.damping*P.y*L*C),S=e.cross(G,y)/E*a._torqueDampen*w.inverseInertia*(1-l.angularStiffness),w.constraintImpulse.angle-=S,w.angle-=S),B&&!B.isStatic&&(C=B.inverseMass/T,B.constraintImpulse.x+=y.x*C,B.constraintImpulse.y+=y.y*C,B.position.x+=y.x*C,B.position.y+=y.y*C,l.damping&&(B.positionPrev.x+=l.damping*P.x*L*C,B.positionPrev.y+=l.damping*P.y*L*C),S=e.cross(Y,y)/E*a._torqueDampen*B.inverseInertia*(1-l.angularStiffness),B.constraintImpulse.angle+=S,B.angle+=S)))},a.postSolveAll=function(l){for(var h=0;h<l.length;h++){var u=l[h],c=u.constraintImpulse;if(!(u.isStatic||c.x===0&&c.y===0&&c.angle===0)){s.set(u,!1);for(var d=0;d<u.parts.length;d++){var v=u.parts[d];i.translate(v.vertices,c),0<d&&(v.position.x+=c.x,v.position.y+=c.y),c.angle!==0&&(i.rotate(v.vertices,c.angle,u.position),n.rotate(v.axes,c.angle),0<d&&e.rotateAbout(v.position,c.angle,u.position,v.position)),r.update(v.bounds,v.vertices,u.velocity)}c.angle*=a._warming,c.x*=a._warming,c.y*=a._warming}}},a.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+l.pointA.x,y:(l.bodyA?l.bodyA.position.y:0)+l.pointA.y}},a.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+l.pointB.x,y:(l.bodyB?l.bodyB.position.y:0)+l.pointB.y}}},function(f,x,t){var a=t(35),i=t(65),e=t(66),s=t(0),r=t(11),n=t(15),o=t(10),l=t(57),h=new s({Extends:n,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(u,c,d,v,g){v===void 0&&(v=1),g===void 0&&(g=v),n.call(this,u,"Zone"),this.setPosition(c,d),this.width=v,this.height=g,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,c,d){d===void 0&&(d=!0),this.width=u,this.height=c,this.updateDisplayOrigin();var v=this.input;return d&&v&&!v.customHitArea&&(v.hitArea.width=u,v.hitArea.height=c),this},setDisplaySize:function(u,c){return this.displayWidth=u,this.displayHeight=c,this},setCircleDropZone:function(u){return this.setDropZone(new i(0,0,u),e)},setRectangleDropZone:function(u,c){return this.setDropZone(new o(0,0,u,c),l)},setDropZone:function(u,c){return u===void 0?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(u,c,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(u,c,d){d.addToRenderList(c)},renderWebGL:function(u,c,d){d.addToRenderList(c)}});f.exports=h},function(f,x){f.exports=function(t){return 2*(t.width+t.height)}},function(f,x){f.exports=function(t){for(var a=t.length-1;0<a;a--){var i=Math.floor(Math.random()*(a+1)),e=t[a];t[a]=t[i],t[i]=e}return t}},function(f,x,t){f.exports={ADD_ANIMATION:t(724),ANIMATION_COMPLETE:t(725),ANIMATION_COMPLETE_KEY:t(726),ANIMATION_REPEAT:t(727),ANIMATION_RESTART:t(728),ANIMATION_START:t(729),ANIMATION_STOP:t(730),ANIMATION_UPDATE:t(731),PAUSE_ALL:t(732),REMOVE_ANIMATION:t(733),RESUME_ALL:t(734)}},function(f,x,t){var a=t(0),i=t(11),e=t(36),s=t(9),r=t(37),n=t(10),o=t(25),l=t(187),h=t(3),u=new a({Extends:s,Mixins:[i.Alpha,i.Visible],initialize:function(c,d,v,g){c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),s.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new n,this.dirty=!0,this._x=c,this._y=d,this._width=v,this._height=g,this._bounds=new n,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new o,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new h(v/2,g/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[]},addToRenderList:function(c){this.renderList.push(c)},setOrigin:function(c,d){return c===void 0&&(c=.5),d===void 0&&(d=c),this.originX=c,this.originY=d,this},getScroll:function(c,d,v){v===void 0&&(v=new h);var g=.5*this.width,m=.5*this.height;return v.x=c-g,v.y=d-m,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(c){var d=.5*this.width;return this.midPoint.x=c,this.scrollX=c-d,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(c){var d=.5*this.height;return this.midPoint.y=c,this.scrollY=c-d,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(c,d){return this.centerOnX(c),this.centerOnY(d),this},centerToBounds:function(){var c,d,v;return this.useBounds&&(c=this._bounds,d=.5*this.width,v=.5*this.height,this.midPoint.set(c.centerX,c.centerY),this.scrollX=c.centerX-d,this.scrollY=c.centerY-v),this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(c){if(this.disableCull)return c;var d=this.matrix.matrix,v=d[0],g=d[1],m=d[2],y=d[3];if(!(v*y-g*m))return c;for(var T=d[4],E=d[5],S=this.scrollX,C=this.scrollY,M=this.width,P=this.height,R=this.y,L=R+P,w=this.x,B=w+M,G=this.culledObjects,Y=c.length,D=G.length=0;D<Y;++D){var F,N,I,b,U=c[D];U.hasOwnProperty("width")&&!U.parentContainer?(F=U.width,N=U.height,w<((I=U.x-S*U.scrollFactorX-F*U.originX)+F)*v+((b=U.y-C*U.scrollFactorY-N*U.originY)+N)*m+T&&I*v+b*m+T<B&&R<(I+F)*g+(b+N)*y+E&&I*g+b*y+E<L&&G.push(U)):G.push(U)}return G},getWorldPoint:function(c,d,v){v===void 0&&(v=new h);var g=this.matrix.matrix,m=g[0],y=g[1],T=g[2],E=g[3],S=g[4],C=g[5],M=m*E-y*T;if(!M)return v.x=c,v.y=d,v;var P=E*(M=1/M),R=-y*M,L=-T*M,w=m*M,B=(T*C-E*S)*M,G=(y*S-m*C)*M,Y=Math.cos(this.rotation),D=Math.sin(this.rotation),F=this.zoomX,N=this.zoomY,I=this.scrollX,b=this.scrollY,U=c+(I*Y-b*D)*F,X=d+(I*D+b*Y)*N;return v.x=U*P+X*L+B,v.y=U*R+X*w+G,v},ignore:function(c){var d=this.id;Array.isArray(c)||(c=[c]);for(var v=0;v<c.length;v++){var g=c[v];Array.isArray(g)?this.ignore(g):g.isParent?this.ignore(g.getChildren()):g.cameraFilter|=d}return this},preRender:function(){this.renderList.length=0;var c=this.width,d=this.height,v=.5*c,g=.5*d,m=this.zoomX,y=this.zoomY,T=this.matrix,E=c*this.originX,S=d*this.originY,C=this.scrollX,M=this.scrollY;this.useBounds&&(C=this.clampX(C),M=this.clampY(M)),this.roundPixels&&(E=Math.round(E),S=Math.round(S));var P=(this.scrollX=C)+v,R=(this.scrollY=M)+g;this.midPoint.set(P,R);var L=c/m,w=d/y;this.worldView.setTo(P-L/2,R-w/2,L,w),T.applyITRS(this.x+E,this.y+S,this.rotation,m,y),T.translate(-E,-S)},clampX:function(c){var d=this._bounds,v=this.displayWidth,g=d.x+(v-this.width)/2,m=Math.max(g,g+d.width-v);return c<g?c=g:m<c&&(c=m),c},clampY:function(c){var d=this._bounds,v=this.displayHeight,g=d.y+(v-this.height)/2,m=Math.max(g,g+d.height-v);return c<g?c=g:m<c&&(c=m),c},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(c){return c===void 0&&(c=0),this.rotation=e(c),this},setBackgroundColor:function(c){return c===void 0&&(c="rgba(0,0,0,0)"),this.backgroundColor=l(c),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(c,d,v,g,m){return m===void 0&&(m=!1),this._bounds.setTo(c,d,v,g),this.dirty=!0,this.useBounds=!0,m?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(c){c===void 0&&(c=new n);var d=this._bounds;return c.setTo(d.x,d.y,d.width,d.height),c},setName:function(c){return c===void 0&&(c=""),this.name=c,this},setPosition:function(c,d){return d===void 0&&(d=c),this.x=c,this.y=d,this},setRotation:function(c){return c===void 0&&(c=0),this.rotation=c,this},setRoundPixels:function(c){return this.roundPixels=c,this},setScene:function(c){this.scene&&this._customViewport&&this.sceneManager.customViewports--;var d=(this.scene=c).sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(c,d){return d===void 0&&(d=c),this.scrollX=c,this.scrollY=d,this},setSize:function(c,d){return d===void 0&&(d=c),this.width=c,this.height=d,this},setViewport:function(c,d,v,g){return this.x=c,this.y=d,this.width=v,this.height=g,this},setZoom:function(c,d){return c===void 0&&(c=1),d===void 0&&(d=c),c===0&&(c=.001),d===0&&(d=.001),this.zoomX=c,this.zoomY=d,this},setMask:function(c,d){return d===void 0&&(d=!0),this.mask=c,this._maskCamera=d?this.cameraManager.default:this,this},clearMask:function(c){return c===void 0&&(c=!1),c&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var c={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(c.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),c},update:function(){},updateSystem:function(){var c,d;this.scaleManager&&(c=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,d=this.sceneManager,c&&!this._customViewport?d.customViewports++:!c&&this._customViewport&&d.customViewports--,this.dirty=!0,this._customViewport=c)},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(c){this._x=c,this.updateSystem()}},y:{get:function(){return this._y},set:function(c){this._y=c,this.updateSystem()}},width:{get:function(){return this._width},set:function(c){this._width=c,this.updateSystem()}},height:{get:function(){return this._height},set:function(c){this._height=c,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(c){this._scrollX=c,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(c){this._scrollY=c,this.dirty=!0}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(c){this._zoomX=c,this._zoomY=c,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(c){this._zoomX=c,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(c){this._zoomY=c,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});f.exports=u},function(f,x,t){var a=t(334),i=t(335),e=t(336),s=t(337),r=t(338),n=t(339),o=t(340),l=t(341),h=t(342),u=t(343),c=t(344),d=t(345);f.exports={Power0:o,Power1:l.Out,Power2:s.Out,Power3:h.Out,Power4:u.Out,Linear:o,Quad:l.Out,Cubic:s.Out,Quart:h.Out,Quint:u.Out,Sine:c.Out,Expo:n.Out,Circ:e.Out,Elastic:r.Out,Back:a.Out,Bounce:i.Out,Stepped:d,"Quad.easeIn":l.In,"Cubic.easeIn":s.In,"Quart.easeIn":h.In,"Quint.easeIn":u.In,"Sine.easeIn":c.In,"Expo.easeIn":n.In,"Circ.easeIn":e.In,"Elastic.easeIn":r.In,"Back.easeIn":a.In,"Bounce.easeIn":i.In,"Quad.easeOut":l.Out,"Cubic.easeOut":s.Out,"Quart.easeOut":h.Out,"Quint.easeOut":u.Out,"Sine.easeOut":c.Out,"Expo.easeOut":n.Out,"Circ.easeOut":e.Out,"Elastic.easeOut":r.Out,"Back.easeOut":a.Out,"Bounce.easeOut":i.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":s.InOut,"Quart.easeInOut":h.InOut,"Quint.easeInOut":u.InOut,"Sine.easeInOut":c.InOut,"Expo.easeInOut":n.InOut,"Circ.easeInOut":e.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":i.InOut}},function(f,x){f.exports=function(t,a,i){return(a-t)*i+t}},function(f,x,t){var a,i=t(105),e={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};f.exports=(a=navigator.userAgent,/Edge\/\d+/.test(a)?e.edge=!0:/Chrome\/(\d+)/.test(a)&&!i.windowsPhone?(e.chrome=!0,e.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(a)?(e.firefox=!0,e.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(a)&&i.iOS?e.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(a)?(e.ie=!0,e.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(a)?e.opera=!0:/Safari/.test(a)&&!i.windowsPhone?e.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(e.ie=!0,e.trident=!0,e.tridentVersion=parseInt(RegExp.$1,10),e.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(e.silk=!0),e)},function(f,x){f.exports=function(t,a){return Math.random()*(a-t)+t}},function(f,x){f.exports=function(t,a){return 0<t&&(t&t-1)==0&&0<a&&(a&a-1)==0}},function(f,x){f.exports=function(t,a,i,e){return i===void 0&&(i=0),a===0?t:(t-=i,t=a*Math.ceil(t/a),e?(i+t)/a:i+t)}},function(f,x,t){var a=new(t(0))({initialize:function(i,e,s,r){this.x=0,this.y=0,this.z=0,this.w=0,typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0,this.w=i.w||0):(this.x=i||0,this.y=e||0,this.z=s||0,this.w=r||0)},clone:function(){return new a(this.x,this.y,this.z,this.w)},copy:function(i){return this.x=i.x,this.y=i.y,this.z=i.z||0,this.w=i.w||0,this},equals:function(i){return this.x===i.x&&this.y===i.y&&this.z===i.z&&this.w===i.w},set:function(i,e,s,r){return typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0,this.w=i.w||0):(this.x=i||0,this.y=e||0,this.z=s||0,this.w=r||0),this},add:function(i){return this.x+=i.x,this.y+=i.y,this.z+=i.z||0,this.w+=i.w||0,this},subtract:function(i){return this.x-=i.x,this.y-=i.y,this.z-=i.z||0,this.w-=i.w||0,this},scale:function(i){return this.x*=i,this.y*=i,this.z*=i,this.w*=i,this},length:function(){var i=this.x,e=this.y,s=this.z,r=this.w;return Math.sqrt(i*i+e*e+s*s+r*r)},lengthSq:function(){var i=this.x,e=this.y,s=this.z,r=this.w;return i*i+e*e+s*s+r*r},normalize:function(){var i=this.x,e=this.y,s=this.z,r=this.w,n=i*i+e*e+s*s+r*r;return 0<n&&(n=1/Math.sqrt(n),this.x=i*n,this.y=e*n,this.z=s*n,this.w=r*n),this},dot:function(i){return this.x*i.x+this.y*i.y+this.z*i.z+this.w*i.w},lerp:function(i,e){e===void 0&&(e=0);var s=this.x,r=this.y,n=this.z,o=this.w;return this.x=s+e*(i.x-s),this.y=r+e*(i.y-r),this.z=n+e*(i.z-n),this.w=o+e*(i.w-o),this},multiply:function(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z||1,this.w*=i.w||1,this},divide:function(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z||1,this.w/=i.w||1,this},distance:function(i){var e=i.x-this.x,s=i.y-this.y,r=i.z-this.z||0,n=i.w-this.w||0;return Math.sqrt(e*e+s*s+r*r+n*n)},distanceSq:function(i){var e=i.x-this.x,s=i.y-this.y,r=i.z-this.z||0,n=i.w-this.w||0;return e*e+s*s+r*r+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(i){var e=this.x,s=this.y,r=this.z,n=this.w,o=i.val;return this.x=o[0]*e+o[4]*s+o[8]*r+o[12]*n,this.y=o[1]*e+o[5]*s+o[9]*r+o[13]*n,this.z=o[2]*e+o[6]*s+o[10]*r+o[14]*n,this.w=o[3]*e+o[7]*s+o[11]*r+o[15]*n,this},transformQuat:function(i){var e=this.x,s=this.y,r=this.z,n=i.x,o=i.y,l=i.z,h=i.w,u=h*e+o*r-l*s,c=h*s+l*e-n*r,d=h*r+n*s-o*e,v=-n*e-o*s-l*r;return this.x=u*h+v*-n+c*-l-d*-o,this.y=c*h+v*-o+d*-n-u*-l,this.z=d*h+v*-l+u*-o-c*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});a.prototype.sub=a.prototype.subtract,a.prototype.mul=a.prototype.multiply,a.prototype.div=a.prototype.divide,a.prototype.dist=a.prototype.distance,a.prototype.distSq=a.prototype.distanceSq,a.prototype.len=a.prototype.length,a.prototype.lenSq=a.prototype.lengthSq,f.exports=a},function(f,x,t){var a=t(0),i=t(91),e=new a({initialize:function(s,r,n,o,l,h,u){o===void 0&&(o=1),l===void 0&&(l=0),h===void 0&&(h=!0),u===void 0&&(u=!1),this.renderer=s,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=o,this.minFilter=l,this.autoClear=h,this.autoResize=!1,this.resize(r,n),u&&this.setAutoResize(!0)},setAutoResize:function(s){return s&&!this.autoResize?(this.renderer.on(i.RESIZE,this.resize,this),this.autoResize=!0):!s&&this.autoResize&&(this.renderer.off(i.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(s,r){var n,o=s*this.scale,l=r*this.scale;return o===this.width&&l===this.height||((n=this.renderer).deleteFramebuffer(this.framebuffer),n.deleteTexture(this.texture),s*=this.scale,r*=this.scale,(s=Math.round(s))<=0&&(s=1),(r=Math.round(r))<=0&&(r=1),this.texture=n.createTextureFromSource(null,s,r,this.minFilter),this.framebuffer=n.createFramebuffer(s,r,this.texture,!1),this.width=s,this.height=r),this},bind:function(s,r,n){var o;s===void 0&&(s=!1),s&&this.renderer.flush(),r&&n&&this.resize(r,n),this.renderer.pushFramebuffer(this.framebuffer,!1,!1,!1),s&&this.adjustViewport(),this.autoClear&&((o=this.renderer.gl).clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT))},adjustViewport:function(){var s=this.renderer.gl;s.viewport(0,0,this.width,this.height),s.disable(s.SCISSOR_TEST)},clear:function(){var s=this.renderer,r=s.gl;s.pushFramebuffer(this.framebuffer),r.disable(r.SCISSOR_TEST),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),s.popFramebuffer(),s.resetScissor()},unbind:function(s){s===void 0&&(s=!1);var r=this.renderer;return s&&r.flush(),r.popFramebuffer()},destroy:function(){var s=this.renderer;s.deleteFramebuffer(this.framebuffer),s.deleteTexture(this.texture),s.off(i.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});f.exports=e},function(f,x){f.exports=function(t,a){var i;if(a)typeof a=="string"?i=document.getElementById(a):typeof a=="object"&&a.nodeType===1&&(i=a);else if(t.parentElement||a===null)return t;return(i=i||document.body).appendChild(t),t}},function(f,x){f.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},function(f,x){f.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},function(f,x,t){var a=t(0),i=t(77),e=t(9),s=t(70),r=t(22),n=t(1),o=t(207),l=t(428),h=new a({Extends:e,initialize:function(u){e.call(this),this.game=u,this.jsonCache=u.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,u.events.on(r.BLUR,this.onGameBlur,this),u.events.on(r.FOCUS,this.onGameFocus,this),u.events.on(r.PRE_STEP,this.update,this),u.events.once(r.DESTROY,this.destroy,this)},add:n,addAudioSprite:function(u,c){c===void 0&&(c={});var d,v,g=this.add(u,c);for(var m in g.spritemap=this.jsonCache.get(u).spritemap,g.spritemap)g.spritemap.hasOwnProperty(m)&&(d=i(c),v=g.spritemap[m],d.loop=!!v.hasOwnProperty("loop")&&v.loop,g.addMarker({name:m,start:v.start,duration:v.end-v.start,config:d}));return g},get:function(u){return l(this.sounds,"key",u)},getAll:function(u){return o(this.sounds,"key",u)},play:function(u,c){var d=this.add(u);return d.once(s.COMPLETE,d.destroy,d),c?c.name?(d.addMarker(c),d.play(c.name)):d.play(c):d.play()},playAudioSprite:function(u,c,d){var v=this.addAudioSprite(u);return v.once(s.COMPLETE,v.destroy,v),v.play(c,d)},remove:function(u){var c=this.sounds.indexOf(u);return c!==-1&&(u.destroy(),this.sounds.splice(c,1),!0)},removeAll:function(){this.sounds.forEach(function(u){u.destroy()}),this.sounds.length=0},removeByKey:function(u){for(var c=0,d=this.sounds.length-1;0<=d;d--){var v=this.sounds[d];v.key===u&&(v.destroy(),this.sounds.splice(d,1),c++)}return c},pauseAll:function(){this.forEachActiveSound(function(u){u.pause()}),this.emit(s.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(u){u.resume()}),this.emit(s.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(u){u.stop()}),this.emit(s.STOP_ALL,this)},stopByKey:function(u){var c=0;return this.getAll(u).forEach(function(d){d.stop()&&c++}),c},unlock:n,onBlur:n,onFocus:n,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(u,c){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(s.UNLOCKED,this));for(var d=this.sounds.length-1;0<=d;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(v){v.update(u,c)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(u,c){var d=this;this.sounds.forEach(function(v,g){v&&!v.pendingRemove&&u.call(c||d,v,g,d.sounds)})},setRate:function(u){return this.rate=u,this},rate:{get:function(){return this._rate},set:function(u){this._rate=u,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(s.GLOBAL_RATE,this,u)}},setDetune:function(u){return this.detune=u,this},detune:{get:function(){return this._detune},set:function(u){this._detune=u,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(s.GLOBAL_DETUNE,this,u)}}});f.exports=h},function(f,x,t){var a=t(0),i=t(9),e=t(70),s=t(17),r=t(1),n=new a({Extends:i,initialize:function(o,l,h){i.call(this),this.manager=o,this.key=l,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=s(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(o){return!(!o||!o.name||typeof o.name!="string")&&(this.markers[o.name]?(console.error("addMarker "+o.name+" already exists in Sound"),!1):(o=s(!0,{name:"",start:0,duration:this.totalDuration-(o.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},o),this.markers[o.name]=o,!0))},updateMarker:function(o){return!(!o||!o.name||typeof o.name!="string")&&(this.markers[o.name]?(this.markers[o.name]=s(!0,this.markers[o.name],o),!0):(console.warn("Audio Marker: "+o.name+" missing in Sound: "+this.key),!1))},removeMarker:function(o){var l=this.markers[o];return l?(this.markers[o]=null,l):null},play:function(o,l){if(o===void 0&&(o=""),typeof o=="object"&&(l=o,o=""),typeof o!="string")return!1;if(o){if(!this.markers[o])return console.warn("Marker: "+o+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[o],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=s(this.currentConfig,l),this.isPlaying=!0,!(this.isPaused=!1)},pause:function(){return!(this.isPaused||!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!0)},resume:function(){return!(!this.isPaused||this.isPlaying)&&(this.isPlaying=!0,!(this.isPaused=!1))},stop:function(){return!(!this.isPaused&&!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var o=this.currentConfig.detune+this.manager.detune,l=Math.pow(1.0005777895065548,o);this.totalRate=this.currentConfig.rate*this.manager.rate*l},destroy:function(){this.pendingRemove||(this.emit(e.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});f.exports=n},function(f,x,t){var a=t(209),i=t(435);f.exports=function(e,s){if(s===void 0&&(s=90),!a(e))return null;if(typeof s!="string"&&(s=(s%360+360)%360),s===90||s===-270||s==="rotateLeft")(e=i(e)).reverse();else if(s===-90||s===270||s==="rotateRight")e.reverse(),e=i(e);else if(Math.abs(s)===180||s==="rotate180"){for(var r=0;r<e.length;r++)e[r].reverse();e.reverse()}return e}},function(f,x,t){var a=t(0),i=t(18),e=t(11),s=t(15),r=t(1043),n=t(1044),o=t(212),l=t(10),h=t(1045),u=new a({Extends:s,Mixins:[e.Alpha,e.BlendMode,e.Depth,e.Mask,e.Origin,e.Pipeline,e.ScrollFactor,e.Texture,e.Tint,e.Transform,e.Visible,h],initialize:function(c,d,v,g,m,y,T){m===void 0&&(m=""),T===void 0&&(T=0),s.call(this,c,"BitmapText"),this.font=g;var E=this.scene.sys.cache.bitmapFont.get(g);E||console.warn("Invalid BitmapText key: "+g),this.fontData=E.data,this._text="",this._fontSize=y||this.fontData.size,this._letterSpacing=0,this._align=T,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=E.fromAtlas,this.setTexture(E.texture,E.frame),this.setPosition(d,v),this.setOrigin(0,0),this.initPipeline(),this.setText(m)},setLeftAlign:function(){return this._align=u.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=u.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=u.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(c){return this._fontSize=c,this._dirty=!0,this},setLetterSpacing:function(c){return c===void 0&&(c=0),this._letterSpacing=c,this._dirty=!0,this},setText:function(c){return c||c===0||(c=""),Array.isArray(c)&&(c=c.join(`
`)),c!==this.text&&(this._text=c.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(c,d,v,g){return c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=.5),this.dropShadowX=c,this.dropShadowY=d,this.dropShadowColor=v,this.dropShadowAlpha=g,this},setCharacterTint:function(c,d,v,g,m,y,T){c===void 0&&(c=0),d===void 0&&(d=1),v===void 0&&(v=!1),g===void 0&&(g=-1),m===void 0&&(T=y=m=g);var E=this.text.length;d===-1&&(d=E),c<0&&(c=E+c),c=i(c,0,E-1);for(var S=i(c+d,c,E),C=this.charColors,M=c;M<S;M++){var P,R=C[M];g===-1?C[M]=null:(P=v?1:0,R?(R.tintEffect=P,R.tintTL=g,R.tintTR=m,R.tintBL=y,R.tintBR=T):C[M]={tintEffect:P,tintTL:g,tintTR:m,tintBL:y,tintBR:T})}return this},setWordTint:function(c,d,v,g,m,y,T){d===void 0&&(d=1);for(var E=this.getTextBounds().words,S=typeof c=="number",C=0,M=0;M<E.length;M++){var P=E[M];if((S&&M===c||!S&&P.word===c)&&(this.setCharacterTint(P.i,P.word.length,v,g,m,y,T),++C===d))return this}return this},getTextBounds:function(c){var d=this._bounds;return(this._dirty||c||this.scaleX!==d.scaleX||this.scaleY!==d.scaleY)&&(r(this,c,!0,d),this._dirty=!1),d},getCharacterAt:function(c,d,v){for(var g=this.getLocalPoint(c,d,null,v),m=this.getTextBounds().characters,y=new l,T=0;T<m.length;T++){var E=m[T];if(y.setTo(E.x,E.t,E.r-E.x,E.b),y.contains(g.x,g.y))return E}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(c,d,v){var g;return d===void 0&&(d=this._fontSize),v===void 0&&(v=this._align),c===this.font||(g=this.scene.sys.cache.bitmapFont.get(c))&&(this.font=c,this.fontData=g.data,this._fontSize=d,this._align=v,this.fromAtlas=g.fromAtlas===!0,this.setTexture(g.texture,g.frame),r(this,!1,!0,this._bounds)),this},setMaxWidth:function(c,d){return this._maxWidth=c,this._dirty=!0,d!==void 0&&(this.wordWrapCharCode=d),this},align:{set:function(c){this._align=c,this._dirty=!0},get:function(){return this._align}},text:{set:function(c){this.setText(c)},get:function(){return this._text}},fontSize:{set:function(c){this._fontSize=c,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(c){this._letterSpacing=c,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(c){this._maxWidth=c,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var c=e.ToJSON(this),d={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return c.data=d,c},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});u.ALIGN_LEFT=0,u.ALIGN_CENTER=1,u.ALIGN_RIGHT=2,u.ParseFromAtlas=n,u.ParseXMLBitmapFont=o,f.exports=u},function(f,x,t){var a=new(t(0))({initialize:function(i){if(this.entries=[],Array.isArray(i))for(var e=0;e<i.length;e++)this.set(i[e])},set:function(i){return this.entries.indexOf(i)===-1&&this.entries.push(i),this},get:function(i,e){for(var s=0;s<this.entries.length;s++){var r=this.entries[s];if(r[i]===e)return r}},getArray:function(){return this.entries.slice(0)},delete:function(i){var e=this.entries.indexOf(i);return-1<e&&this.entries.splice(e,1),this},dump:function(){console.group("Set");for(var i=0;i<this.entries.length;i++){var e=this.entries[i];console.log(e)}console.groupEnd()},each:function(i,e){var s,r=this.entries.slice(),n=r.length;if(e)for(s=0;s<n&&i.call(e,r[s],s)!==!1;s++);else for(s=0;s<n&&i(r[s],s)!==!1;s++);return this},iterate:function(i,e){var s,r=this.entries.length;if(e)for(s=0;s<r&&i.call(e,this.entries[s],s)!==!1;s++);else for(s=0;s<r&&i(this.entries[s],s)!==!1;s++);return this},iterateLocal:function(i){for(var e=[],s=1;s<arguments.length;s++)e.push(arguments[s]);var r=this.entries.length;for(s=0;s<r;s++){var n=this.entries[s];n[i].apply(n,e)}return this},clear:function(){return this.entries.length=0,this},contains:function(i){return-1<this.entries.indexOf(i)},union:function(i){var e=new a;return i.entries.forEach(function(s){e.set(s)}),this.entries.forEach(function(s){e.set(s)}),e},intersect:function(i){var e=new a;return this.entries.forEach(function(s){i.contains(s)&&e.set(s)}),e},difference:function(i){var e=new a;return this.entries.forEach(function(s){i.contains(s)||e.set(s)}),e},size:{get:function(){return this.entries.length},set:function(i){return i<this.entries.length?this.entries.length=i:this.entries.length}}});f.exports=a},function(f,x,t){var a=t(0),i=t(11),e=t(15),s=t(189),r=t(92),n=t(1182),o=new a({Extends:e,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.GetBounds,i.Mask,i.Pipeline,i.ScrollFactor,i.Transform,i.Visible,n],initialize:function(l,h,u,c,d,v,g){c===void 0&&(c=16777215),d===void 0&&(d=128),v===void 0&&(v=1),g===void 0&&(g=.1),e.call(this,l,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.setPosition(h,u),this.color=s(c),this.intensity=v,this.attenuation=g,this.width=2*d,this.height=2*d,this._radius=d},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=2*l,this.height=2*l}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});f.exports=o},function(f,x){f.exports=function(t,a){var i=a.width/2,e=a.height/2,s=Math.abs(t.x-a.x-i),r=Math.abs(t.y-a.y-e),n=i+t.radius,o=e+t.radius;if(n<s||o<r)return!1;if(s<=i||r<=e)return!0;var l=s-i,h=r-e;return l*l+h*h<=t.radius*t.radius}},function(f,x){f.exports=function(t,a){return!(t.width<=0||t.height<=0||a.width<=0||a.height<=0)&&!(t.right<a.x||t.bottom<a.y||t.x>a.right||t.y>a.bottom)}},function(f,x,t){var a=t(6),i={},e={register:function(s,r,n,o,l){i[s]={plugin:r,mapping:n,settingsKey:o,configKey:l}},getPlugin:function(s){return i[s]},install:function(s){var r=s.scene.sys,n=r.settings.input,o=r.game.config;for(var l in i){var h=i[l].plugin,u=i[l].mapping,c=i[l].settingsKey,d=i[l].configKey;a(n,c,o[d])&&(s[u]=new h(s))}},remove:function(s){i.hasOwnProperty(s)&&delete i[s]}};f.exports=e},function(f,x,t){f.exports={ANY_KEY_DOWN:t(1323),ANY_KEY_UP:t(1324),COMBO_MATCH:t(1325),DOWN:t(1326),KEY_DOWN:t(1327),KEY_UP:t(1328),UP:t(1329)}},function(f,x){f.exports=function(t,a){return!!t.url&&(t.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t.url:a+t.url)}},function(f,x){f.exports=function(t,a,i,e,s,r){return t===void 0&&(t=""),a===void 0&&(a=!0),i===void 0&&(i=""),e===void 0&&(e=""),s===void 0&&(s=0),r===void 0&&(r=!1),{responseType:t,async:a,user:i,password:e,timeout:s,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}}},function(f,x,t){var a=t(0),i=t(243),e=t(73),s=new a({Extends:e,Mixins:[i.Acceleration,i.Angular,i.Bounce,i.Debug,i.Drag,i.Enable,i.Friction,i.Gravity,i.Immovable,i.Mass,i.Pushable,i.Size,i.Velocity],initialize:function(r,n,o,l,h){e.call(this,r,n,o,l,h),this.body=null}});f.exports=s},function(f,x,t){var a=t(119);f.exports=function(i,e,s,r){if(s===void 0&&(s=!1),a(i,e,r)){var n=r.data[e][i]||null;return n&&(n.index!==-1||s)?n:null}return null}},function(f,x){f.exports=function(t,a,i,e){var s,r,n,o=t.data,l=t.width,h=t.height,u=t.tilemapLayer,c=Math.max(0,a.left),d=Math.min(l,a.right),v=Math.max(0,a.top),g=Math.min(h,a.bottom);if(i===0)for(r=v;r<g;r++)for(s=c;o[r]&&s<d;s++)(n=o[r][s])&&n.index!==-1&&n.visible&&n.alpha!==0&&e.push(n);else if(i===1)for(r=v;r<g;r++)for(s=d;o[r]&&c<=s;s--)(n=o[r][s])&&n.index!==-1&&n.visible&&n.alpha!==0&&e.push(n);else if(i===2)for(r=g;v<=r;r--)for(s=c;o[r]&&s<d;s++)(n=o[r][s])&&n.index!==-1&&n.visible&&n.alpha!==0&&e.push(n);else if(i===3)for(r=g;v<=r;r--)for(s=d;o[r]&&c<=s;s--)(n=o[r][s])&&n.index!==-1&&n.visible&&n.alpha!==0&&e.push(n);return u.tilesDrawn=e.length,u.tilesTotal=l*h,e}},function(f,x){f.exports=function(t,a,i){var e=i.collideIndexes.indexOf(t);a&&e===-1?i.collideIndexes.push(t):a||e===-1||i.collideIndexes.splice(e,1)}},function(f,x,t){var a=t(2);f.exports=function(i,e,s){if(!e)return{i:0,layers:i.layers,name:"",opacity:1,visible:!0,x:0,y:0};var r=e.x+a(e,"startx",0)*i.tilewidth+a(e,"offsetx",0),n=e.y+a(e,"starty",0)*i.tileheight+a(e,"offsety",0);return{i:0,layers:e.layers,name:s.name+e.name+"/",opacity:s.opacity*e.opacity,visible:s.visible&&e.visible,x:s.x+r,y:s.y+n}}},function(f,x){f.exports=function(t,a,i){return t.hasOwnProperty(a)?typeof t[a]=="function"?function(e,s,r,n,o,l){return t[a](e,s,r,n,o,l)}:function(){return t[a]}:typeof i=="function"?i:function(){return i}}},function(f,x,t){var a=t(265),i=t(13),e=t(99),s=t(80),r=t(162),n=t(583),o=t(263),l=t(6),h=t(264),u=t(266),c=t(268);f.exports=function(d,v,g){g===void 0&&(g=a);for(var m=g.targets?g.targets:o(v),y=n(v),T=r(v,"delay",g.delay),E=r(v,"duration",g.duration),S=l(v,"easeParams",g.easeParams),C=s(l(v,"ease",g.ease),S),M=r(v,"hold",g.hold),P=r(v,"repeat",g.repeat),R=r(v,"repeatDelay",g.repeatDelay),L=e(v,"yoyo",g.yoyo),w=e(v,"flipX",g.flipX),B=e(v,"flipY",g.flipY),G=[],Y=0;Y<y.length;Y++)for(var D=y[Y].key,F=y[Y].value,N=0;N<m.length;N++){var I=h(D,F),b=c(m[N],N,D,I.getEnd,I.getStart,I.getActive,s(l(F,"ease",C),l(F,"easeParams",S)),r(F,"delay",T),r(F,"duration",E),e(F,"yoyo",L),r(F,"hold",M),r(F,"repeat",P),r(F,"repeatDelay",R),e(F,"flipX",w),e(F,"flipY",B));G.push(b)}var U=new u(d,G,m);U.offset=i(v,"offset",null),U.completeDelay=i(v,"completeDelay",0),U.loop=Math.round(i(v,"loop",0)),U.loopDelay=Math.round(i(v,"loopDelay",0)),U.paused=e(v,"paused",!1),U.useFrames=e(v,"useFrames",!1);for(var X=l(v,"callbackScope",U),z=[U,null],V=u.TYPES,W=0;W<V.length;W++){var H,K,Z=V[W],j=l(v,Z,!1);j&&(H=l(v,Z+"Scope",X),K=l(v,Z+"Params",[]),U.setCallback(Z,j,z.concat(K),H))}return U}},function(f,x,t){var a=t(0),i=t(102),e=t(2),s=t(132),r=t(185),n=new a({initialize:function(o){this.parent=o,this.animationManager=o.scene.sys.anims,this.animationManager.on(s.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(o){var l=this.parent;if(o===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,l;Array.isArray(o)||(o=[o]);for(var h=0;h<o.length;h++){var u=o[h];this.nextAnim===null?this.nextAnim=u:this.nextAnimsQueue.push(u)}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(o){this.isPlaying&&this.stop();var l,h,u,c,d,v=this.animationManager,g=typeof o=="string"?o:e(o,"key",null),m=this.exists(g)?this.get(g):v.get(g);return m?(l=(this.currentAnim=m).getTotalFrames(),h=e(o,"frameRate",m.frameRate),u=e(o,"duration",m.duration),m.calculateDuration(this,l,u,h),this.delay=e(o,"delay",m.delay),this.repeat=e(o,"repeat",m.repeat),this.repeatDelay=e(o,"repeatDelay",m.repeatDelay),this.yoyo=e(o,"yoyo",m.yoyo),this.showOnStart=e(o,"showOnStart",m.showOnStart),this.hideOnComplete=e(o,"hideOnComplete",m.hideOnComplete),this.skipMissedFrames=e(o,"skipMissedFrames",m.skipMissedFrames),this.timeScale=e(o,"timeScale",this.timeScale),(c=e(o,"startFrame",0))>m.getTotalFrames()&&(c=0),d=m.frames[c],c!==0||this.forward||(d=m.getLastFrame()),this.currentFrame=d):console.warn("Missing animation: "+g),this.parent},pause:function(o){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),o!==void 0&&this.setCurrentFrame(o),this.parent},resume:function(o){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),o!==void 0&&this.setCurrentFrame(o),this.parent},playAfterDelay:function(o,l){var h,u;return this.isPlaying?(h=this.nextAnim,u=this.nextAnimsQueue,h&&u.unshift(h),this.nextAnim=o,this._pendingStop=1,this._pendingStopValue=l):(this.delayCounter=l,this.play(o,!0)),this.parent},playAfterRepeat:function(o,l){var h,u;return l===void 0&&(l=1),this.isPlaying?(h=this.nextAnim,u=this.nextAnimsQueue,h&&u.unshift(h),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this.nextAnim=o,this._pendingStop=2,this._pendingStopValue=l):this.play(o),this.parent},play:function(o,l){l===void 0&&(l=!1);var h=this.currentAnim,u=this.parent,c=typeof o=="string"?o:o.key;if(l&&this.isPlaying&&h.key===c)return u;if(h&&this.isPlaying){var d=this.animationManager.getMix(h.key,o);if(0<d)return this.playAfterDelay(o,d)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(o)},playReverse:function(o,l){l===void 0&&(l=!1);var h=typeof o=="string"?o:o.key;return l&&this.isPlaying&&this.currentAnim.key===h?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(o))},startAnimation:function(o){this.load(o);var l=this.currentAnim,h=this.parent;return l&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,l.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0&&this.handleStart()),h},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(s.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(s.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(s.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(s.ANIMATION_COMPLETE,s.ANIMATION_COMPLETE_KEY)},emitEvents:function(o,l){var h=this.currentAnim,u=this.currentFrame,c=this.parent,d=u.textureFrame;c.emit(o,h,u,c,d),l&&c.emit(l+h.key,h,u,c,d)},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var o=this.currentFrame;if(!o)return 0;var l=o.progress;return this.inReverse&&(l*=-1),l},setProgress:function(o){return this.forward||(o=1-o),this.setCurrentFrame(this.currentAnim.getFrameByProgress(o)),this.parent},setRepeat:function(o){return this.repeatCounter=o===-1?Number.MAX_VALUE:o,this.parent},globalRemove:function(o,l){l===void 0&&(l=this.currentAnim),this.isPlaying&&l.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(o,l){o===void 0&&(o=!1),l===void 0&&(l=!1);var h=this.currentAnim,u=this.parent;return h?(l&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),h.getFirstTick(this),this.emitEvents(s.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!o,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(h.frames[0]),this.parent):u},complete:function(){var o;return this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim&&(o=this.nextAnim,this.nextAnim=0<this.nextAnimsQueue.length?this.nextAnimsQueue.shift():null,this.play(o)),this.parent},stop:function(){var o;return this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleStop(),this.nextAnim&&(o=this.nextAnim,this.nextAnim=this.nextAnimsQueue.shift(),this.play(o)),this.parent},stopAfterDelay:function(o){return this._pendingStop=1,this._pendingStopValue=o,this.parent},stopAfterRepeat:function(o){return o===void 0&&(o=1),this.repeatCounter!==-1&&o>this.repeatCounter&&(o=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=o,this.parent},stopOnFrame:function(o){return this._pendingStop=3,this._pendingStopValue=o,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(o,l){var h=this.currentAnim;if(this.isPlaying&&h&&!h.paused){if(this.accumulator+=l*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=l,this._pendingStopValue<=0))return this.stop();if(this.hasStarted){if(this.accumulator>=this.nextTick&&(this.forward?h.nextFrame(this):h.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick))for(var u=0;this.forward?h.nextFrame(this):h.previousFrame(this),u++,this.isPlaying&&this.accumulator>this.nextTick&&u<60;);}else this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart())}},setCurrentFrame:function(o){var l=this.parent;return this.currentFrame=o,l.texture=o.frame.texture,l.frame=o.frame,l.isCropped&&l.frame.updateCropUVs(l._crop,l.flipX,l.flipY),o.setAlpha&&(l.alpha=o.alpha),l.setSizeToFrame(),l._originComponent&&(o.frame.customPivot?l.setOrigin(o.frame.pivotX,o.frame.pivotY):l.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(s.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===o&&this.stop()),l},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(o){return this.anims?this.anims.get(o):null},exists:function(o){return!!this.anims&&this.anims.has(o)},create:function(o){var l=o.key,h=!1;return l&&((h=this.get(l))||(h=new r(this,l,o),this.anims||(this.anims=new i),this.anims.set(l,h))),h},generateFrameNames:function(o,l){return this.animationManager.generateFrameNames(o,l)},generateFrameNumbers:function(o,l){return this.animationManager.generateFrameNumbers(o,l)},remove:function(o){var l=this.get(o);return l&&(this.currentAnim===l&&this.stop(),this.anims.delete(o)),l},destroy:function(){this.animationManager.off(s.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});f.exports=n},function(f,x,t){var a={};f.exports=a;var i=t(166);a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(e,s){for(var r=s*s*s,n=0;n<e.length;n++){var o,l,h=e[n],u=h.speed*h.speed+h.angularSpeed*h.angularSpeed;h.force.x===0&&h.force.y===0?(o=Math.min(h.motion,u),l=Math.max(h.motion,u),h.motion=a._minBias*o+(1-a._minBias)*l,0<h.sleepThreshold&&h.motion<a._motionSleepThreshold*r?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold&&a.set(h,!0)):0<h.sleepCounter&&--h.sleepCounter):a.set(h,!1)}},a.afterCollisions=function(e,s){for(var r=s*s*s,n=0;n<e.length;n++){var o,l,h,u,c,d=e[n];d.isActive&&(l=(o=d.collision).bodyA.parent,h=o.bodyB.parent,l.isSleeping&&h.isSleeping||l.isStatic||h.isStatic||(l.isSleeping||h.isSleeping)&&(c=(u=l.isSleeping&&!l.isStatic?l:h)===l?h:l,!u.isStatic&&c.motion>a._motionWakeThreshold*r&&a.set(u,!1)))}},a.set=function(e,s){var r=e.isSleeping;s?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,r||i.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,r&&i.trigger(e,"sleepEnd"))}},function(f,x,t){var a={};f.exports=a;var i=t(32);a.on=function(e,s,r){for(var n,o=s.split(" "),l=0;l<o.length;l++)n=o[l],e.events=e.events||{},e.events[n]=e.events[n]||[],e.events[n].push(r);return r},a.off=function(e,s,r){if(s){typeof s=="function"&&(r=s,s=i.keys(e.events).join(" "));for(var n=s.split(" "),o=0;o<n.length;o++){var l=e.events[n[o]],h=[];if(r&&l)for(var u=0;u<l.length;u++)l[u]!==r&&h.push(l[u]);e.events[n[o]]=h}}else e.events={}},a.trigger=function(e,s,r){var n,o,l,h,u=e.events;if(u&&0<i.keys(u).length){r=r||{},n=s.split(" ");for(var c=0;c<n.length;c++)if(l=u[o=n[c]]){(h=i.clone(r,!1)).name=o,h.source=e;for(var d=0;d<l.length;d++)l[d].apply(e,[h])}}}},function(f,x,t){var a=t(175),i=t(92),e=t(74),s={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(r){r===void 0&&(r=i.MULTI_PIPELINE);var n=this.scene.sys.renderer;if(!n)return!1;var o=n.pipelines;if(this.postPipelines=[],this.pipelineData={},o){var l=o.get(r);if(l)return this.defaultPipeline=l,this.pipeline=l,!0}return!1},setPipeline:function(r,n,o){var l=this.scene.sys.renderer;if(!l)return this;var h,u=l.pipelines;return u&&((h=u.get(r))&&(this.pipeline=h),n&&(this.pipelineData=o?a(n):n)),this},setPostPipeline:function(r,n,o){var l=this.scene.sys.renderer;if(!l)return this;var h=l.pipelines;if(h){Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++){var c=h.getPostPipeline(r[u],this);c&&this.postPipelines.push(c)}n&&(this.pipelineData=o?a(n):n)}return this.hasPostPipeline=0<this.postPipelines.length,this},setPipelineData:function(r,n){var o=this.pipelineData;return n===void 0?delete o[r]:o[r]=n,this},getPostPipeline:function(r){for(var n=this.postPipelines,o=[],l=0;l<n.length;l++){var h=n[l];(typeof r=="string"&&h.name===r||h instanceof r)&&o.push(h)}return o.length===1?o[0]:o},resetPipeline:function(r,n){return r===void 0&&(r=!1),n===void 0&&(n=!1),this.pipeline=this.defaultPipeline,r&&(this.postPipelines=[],this.hasPostPipeline=!1),n&&(this.pipelineData={}),this.pipeline!==null},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var n=this.postPipelines,o=0;o<n.length;o++)n[o].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.pipelineData={})},removePostPipeline:function(r){for(var n=this.postPipelines,o=n.length-1;0<=o;o--){var l=n[o];(typeof r=="string"&&l.name===r||typeof r!="string"&&l instanceof r)&&(l.destroy(),e(n,o))}return this.hasPostPipeline=0<this.postPipelines.length,this},getPipelineName:function(){return this.pipeline.name}};f.exports=s},function(f,x){f.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},function(f,x,t){var a=t(4);f.exports=function(i,e,s){return s===void 0&&(s=new a),s.x=i.x+i.radius*Math.cos(e),s.y=i.y+i.radius*Math.sin(e),s}},function(f,x,t){var a=t(4);f.exports=function(i,e){e===void 0&&(e=new a);var s=2*Math.PI*Math.random(),r=Math.random()+Math.random(),n=1<r?2-r:r,o=n*Math.cos(s),l=n*Math.sin(s);return e.x=i.x+o*i.radius,e.y=i.y+l*i.radius,e}},function(f,x,t){var a=t(130),i=t(4);f.exports=function(e,s,r){if(r===void 0&&(r=new i),s<=0||1<=s)return r.x=e.x,r.y=e.y,r;var n=a(e)*s;return .5<s?(n-=e.width+e.height)<=e.width?(r.x=e.right-n,r.y=e.bottom):(r.x=e.x,r.y=e.bottom-(n-e.width)):n<=e.width?(r.x=e.x+n,r.y=e.y):(r.x=e.right,r.y=e.y+(n-e.width)),r}},function(f,x,t){var a=t(67),i=t(4);f.exports=function(e,s,r,n){n===void 0&&(n=[]),!s&&0<r&&(s=a(e)/r);for(var o=e.x1,l=e.y1,h=e.x2,u=e.y2,c=0;c<s;c++){var d=c/s,v=o+(h-o)*d,g=l+(u-l)*d;n.push(new i(v,g))}return n}},function(f,x,t){var a=t(4);f.exports=function(i,e){e===void 0&&(e=new a);var s=Math.random();return e.x=i.x1+s*(i.x2-i.x1),e.y=i.y1+s*(i.y2-i.y1),e}},function(f,x,t){var a=t(4);f.exports=function(i,e){return e===void 0&&(e=new a),e.x=i.x+Math.random()*i.width,e.y=i.y+Math.random()*i.height,e}},function(f,x){var t=function(a){var i,e,s;if(typeof a!="object"||a===null)return a;for(s in i=Array.isArray(a)?[]:{},a)e=a[s],i[s]=t(e);return i};f.exports=t},function(f,x){f.exports=function(t){var a={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(a.textureKey=t.texture.key,a.frameKey=t.frame.name),a}},function(f,x,t){var a=t(3);f.exports=function(i,e,s,r,n,o,l,h){h===void 0&&(h=new a);var u=Math.sin(n),c=Math.cos(n),d=c*o,v=u*o,g=-u*l,m=c*l,y=1/(d*m+g*-v);return h.x=m*y*i+-g*y*e+(r*g-s*m)*y,h.y=d*y*e+-v*y*i+(-r*d+s*v)*y,h}},function(f,x){f.exports=function(t,a){a===void 0&&(a=1);for(var i=null,e=0;e<a;e++)i=t.shift(),t.push(i);return i}},function(f,x){f.exports=function(t,a){a===void 0&&(a=1);for(var i=null,e=0;e<a;e++)i=t.pop(),t.unshift(i);return i}},function(f,x,t){var a=t(4);f.exports=function(i,e){e===void 0&&(e=new a);var s=Math.random()*Math.PI*2,r=Math.sqrt(Math.random());return e.x=i.x+r*Math.cos(s)*i.width/2,e.y=i.y+r*Math.sin(s)*i.height/2,e}},function(f,x,t){var a=t(4);f.exports=function(i,e){e===void 0&&(e=new a);var s=i.x2-i.x1,r=i.y2-i.y1,n=i.x3-i.x1,o=i.y3-i.y1,l=Math.random(),h=Math.random();return 1<=l+h&&(l=1-l,h=1-h),e.x=i.x1+(s*l+n*h),e.y=i.y1+(r*l+o*h),e}},function(f,x){f.exports=function(t,a,i,e,s){var r=e+Math.atan2(t.y-i,t.x-a);return t.x=a+s*Math.cos(r),t.y=i+s*Math.sin(r),t}},function(f,x){f.exports=function(t,a,i){return(t=Math.max(0,Math.min(1,(t-a)/(i-a))))*t*t*(t*(6*t-15)+10)}},function(f,x){f.exports=function(t,a,i){return t<=a?0:i<=t?1:(t=(t-a)/(i-a))*t*(3-2*t)}},function(f,x,t){var a=t(18),i=t(0),e=t(132),s=t(318),r=t(319),n=t(6),o=t(320),l=new i({initialize:function(h,u,c){this.manager=h,this.key=u,this.type="frame",this.frames=this.getFrames(h.textureManager,n(c,"frames",[]),n(c,"defaultTextureKey",null),n(c,"sortFrames",!0)),this.frameRate=n(c,"frameRate",null),this.duration=n(c,"duration",null),this.msPerFrame,this.skipMissedFrames=n(c,"skipMissedFrames",!0),this.delay=n(c,"delay",0),this.repeat=n(c,"repeat",0),this.repeatDelay=n(c,"repeatDelay",0),this.yoyo=n(c,"yoyo",!1),this.showOnStart=n(c,"showOnStart",!1),this.hideOnComplete=n(c,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(e.PAUSE_ALL,this.pause,this),this.manager.on(e.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(h,u,c,d){c===null&&d===null?(h.frameRate=24,h.duration=24/u*1e3):c&&d===null?(h.duration=c,h.frameRate=u/(c/1e3)):(h.frameRate=d,h.duration=u/d*1e3),h.msPerFrame=1e3/h.frameRate},addFrame:function(h){return this.addFrameAt(this.frames.length,h)},addFrameAt:function(h,u){var c,d,v=this.getFrames(this.manager.textureManager,u);return 0<v.length&&(h===0?this.frames=v.concat(this.frames):h===this.frames.length?this.frames=this.frames.concat(v):(c=this.frames.slice(0,h),d=this.frames.slice(h),this.frames=c.concat(v,d)),this.updateFrameSequence()),this},checkFrame:function(h){return 0<=h&&h<this.frames.length},getFirstTick:function(h){h.accumulator=0,h.nextTick=h.msPerFrame+h.currentFrame.duration},getFrameAt:function(h){return this.frames[h]},getFrames:function(h,u,c,d){d===void 0&&(d=!0);var v,g,m,y=[],T=1;if(typeof u=="string"&&(g=u,m=h.get(g).getFrameNames(),d&&o(m),u=[],m.forEach(function(w){u.push({key:g,frame:w})})),!Array.isArray(u)||u.length===0)return y;for(L=0;L<u.length;L++){var E,S,C,M=u[L],P=n(M,"key",c);P&&(E=n(M,"frame",0),S=h.getFrame(P,E),(C=new r(P,E,T,S)).duration=n(M,"duration",0),C.isFirst=!v,v&&((v.nextFrame=C).prevFrame=v),y.push(C),v=C,T++)}if(0<y.length){C.isLast=!0,C.nextFrame=y[0],y[0].prevFrame=C;for(var R=1/(y.length-1),L=0;L<y.length;L++)y[L].progress=L*R}return y},getNextTick:function(h){h.accumulator-=h.nextTick,h.nextTick=h.msPerFrame+h.currentFrame.duration},getFrameByProgress:function(h){return h=a(h,0,1),s(h,this.frames,"progress")},nextFrame:function(h){var u=h.currentFrame;u.isLast?h.yoyo?this.handleYoyoFrame(h,!1):0<h.repeatCounter?h.inReverse&&h.forward?h.forward=!1:this.repeatAnimation(h):h.complete():this.updateAndGetNextTick(h,u.nextFrame)},handleYoyoFrame:function(h,u){if(u=u||!1,h.inReverse===!u&&0<h.repeatCounter)return h.repeatDelay!==0&&!h.pendingRepeat||(h.forward=u),void this.repeatAnimation(h);var c;h.inReverse===u||h.repeatCounter!==0?(c=(h.forward=u)?h.currentFrame.nextFrame:h.currentFrame.prevFrame,this.updateAndGetNextTick(h,c)):h.complete()},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(h){var u=h.currentFrame;u.isFirst?h.yoyo?this.handleYoyoFrame(h,!0):0<h.repeatCounter?(h.inReverse&&!h.forward||(h.forward=!0),this.repeatAnimation(h)):h.complete():this.updateAndGetNextTick(h,u.prevFrame)},updateAndGetNextTick:function(h,u){h.setCurrentFrame(u),this.getNextTick(h)},removeFrame:function(h){var u=this.frames.indexOf(h);return u!==-1&&this.removeFrameAt(u),this},removeFrameAt:function(h){return this.frames.splice(h,1),this.updateFrameSequence(),this},repeatAnimation:function(h){if(h._pendingStop===2){if(h._pendingStopValue===0)return h.stop();h._pendingStopValue--}0<h.repeatDelay&&!h.pendingRepeat?(h.pendingRepeat=!0,h.accumulator-=h.nextTick,h.nextTick+=h.repeatDelay):(h.repeatCounter--,h.forward?h.setCurrentFrame(h.currentFrame.nextFrame):h.setCurrentFrame(h.currentFrame.prevFrame),h.isPlaying&&(this.getNextTick(h),h.handleRepeat()))},toJSON:function(){var h={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(u){h.frames.push(u.toJSON())}),h},updateFrameSequence:function(){for(var h,u=this.frames.length,c=1/(u-1),d=0;d<u;d++)(h=this.frames[d]).index=d+1,h.isFirst=!1,h.isLast=!1,h.progress=d*c,d===0?(h.isFirst=!0,u===1?(h.isLast=!0,(h.nextFrame=h).prevFrame=h):(h.isLast=!1,h.prevFrame=this.frames[u-1],h.nextFrame=this.frames[d+1])):d===u-1&&1<u?(h.isLast=!0,h.prevFrame=this.frames[u-2],h.nextFrame=this.frames[0]):1<u&&(h.prevFrame=this.frames[d-1],h.nextFrame=this.frames[d+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(e.PAUSE_ALL,this.pause,this),this.manager.off(e.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var h=0;h<this.frames.length;h++)this.frames[h].destroy();this.frames=[],this.manager=null}});f.exports=l},function(f,x){f.exports=function(t,a,i,e){a===void 0&&(a=0),i===void 0&&(i=" "),e===void 0&&(e=3);var s;if(a+1>=(t=t.toString()).length)switch(e){case 1:t=new Array(a+1-t.length).join(i)+t;break;case 3:var r=Math.ceil((s=a-t.length)/2);t=new Array(1+(s-r)).join(i)+t+new Array(r+1).join(i);break;default:t+=new Array(a+1-t.length).join(i)}return t}},function(f,x,t){var a=t(327),i=t(189),e=t(331),s=t(332);f.exports=function(r){switch(typeof r){case"string":return(r.substr(0,3).toLowerCase()==="rgb"?s:a)(r);case"number":return i(r);case"object":return e(r)}}},function(f,x,t){var a=t(103);function i(e,s,r,n){var o=(e+6*s)%6,l=Math.min(o,4-o,1);return Math.round(255*(n-n*r*Math.max(0,l)))}f.exports=function(e,s,r,n){s===void 0&&(s=1),r===void 0&&(r=1);var o=i(5,e,s,r),l=i(3,e,s,r),h=i(1,e,s,r);return n?n.setTo?n.setTo(o,l,h,n.alpha,!1):(n.r=o,n.g=l,n.b=h,n.color=a(o,l,h),n):{r:o,g:l,b:h,color:a(o,l,h)}}},function(f,x,t){var a=t(38),i=t(330);f.exports=function(e){var s=i(e);return new a(s.r,s.g,s.b,s.a)}},function(f,x){f.exports=function(t,a,i){return t.x=a-t.width/2,t.y=i-t.height/2,t}},function(f,x,t){var a=t(105),i=t(136),e=t(31),s={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};f.exports=function(){if(typeof importScripts=="function")return s;s.canvas=!!window.CanvasRenderingContext2D;try{s.localStorage=!!localStorage.getItem}catch{s.localStorage=!1}s.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),s.fileSystem=!!window.requestFileSystem;var r,n,o,l=!1;return s.webGL=function(){if(window.WebGLRenderingContext)try{var h=e.createWebGL(this),u=h.getContext("webgl")||h.getContext("experimental-webgl"),c=e.create2D(this),d=c.getContext("2d").createImageData(1,1);return l=d.data instanceof Uint8ClampedArray,e.remove(h),e.remove(c),!!u}catch{return!1}return!1}(),s.worker=!!window.Worker,s.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,s.getUserMedia=s.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,i.firefox&&i.firefoxVersion<21&&(s.getUserMedia=!1),!a.iOS&&(i.ie||i.firefox||i.chrome)&&(s.canvasBitBltShift=!0),(i.safari||i.mobileSafari)&&(s.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(s.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(s.littleEndian=(r=new ArrayBuffer(4),n=new Uint8Array(r),o=new Uint32Array(r),n[0]=161,n[1]=178,n[2]=195,n[3]=212,o[0]===3569595041||o[0]!==2712847316&&null)),s.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&s.littleEndian!==null&&l,s}()},function(f,x){var t="";function a(i){for(var e=["i","webkitI","msI","mozI","oI"],s=0;s<e.length;s++){var r=e[s]+"mageSmoothingEnabled";if(r in i)return r}return null}f.exports={disable:function(i){return t===""&&(t=a(i)),t&&(i[t]=!1),i},enable:function(i){return t===""&&(t=a(i)),t&&(i[t]=!0),i},getPrefix:a,isEnabled:function(i){return t!==null?i[t]:null}}},function(f,x,t){var a=t(14),i=t(17)(!1,i={Angle:t(812),Distance:t(821),Easing:t(826),Fuzzy:t(827),Interpolation:t(830),Pow2:t(835),Snap:t(837),RandomDataGenerator:t(839),Average:t(840),Bernstein:t(356),Between:t(195),CatmullRom:t(194),CeilTo:t(841),Clamp:t(18),DegToRad:t(36),Difference:t(842),Euler:t(843),Factorial:t(357),FloatBetween:t(137),FloorTo:t(844),FromPercent:t(98),GetSpeed:t(845),IsEven:t(846),IsEvenStrict:t(847),Linear:t(135),MaxAdd:t(848),Median:t(849),MinSub:t(850),Percent:t(851),RadToDeg:t(196),RandomXY:t(852),RandomXYZ:t(853),RandomXYZW:t(854),Rotate:t(362),RotateAround:t(308),RotateAroundDistance:t(182),RotateTo:t(855),RoundAwayFromZero:t(363),RoundTo:t(856),SinCosTableGenerator:t(857),SmootherStep:t(183),SmoothStep:t(184),ToXY:t(858),TransformXY:t(177),Within:t(859),Wrap:t(68),Vector2:t(3),Vector3:t(39),Vector4:t(140),Matrix3:t(364),Matrix4:t(69),Quaternion:t(365),RotateVec3:t(860)},a);f.exports=i},function(f,x){f.exports=function(t,a,i,e,s){var r=.5*(e-a),n=.5*(s-i),o=t*t;return(2*i-2*e+r+n)*(t*o)+(-3*i+3*e-2*r-n)*o+r*t+i}},function(f,x){f.exports=function(t,a){return Math.floor(Math.random()*(a-t+1)+t)}},function(f,x,t){var a=t(14);f.exports=function(i){return i*a.RAD_TO_DEG}},function(f,x,t){f.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},function(f,x,t){var a=new(t(0))({initialize:function(){this._matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1,this._dirty=!0,this._data},set:function(i){return this._matrix=i,this._dirty=!0,this},reset:function(){var i=this._matrix;return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=0,i[6]=1,i[7]=0,i[8]=0,i[9]=0,i[10]=0,i[11]=0,i[12]=1,i[13]=0,i[14]=0,i[15]=0,i[16]=0,i[17]=0,i[18]=1,i[19]=0,this._dirty=!0,this},getData:function(){var i;return this._dirty&&((i=new Float32Array(this._matrix))[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,this._data=i,this._dirty=!1),this._data},brightness:function(i,e){return i===void 0&&(i=0),e===void 0&&(e=!1),this.multiply([i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0],e)},saturate:function(i,e){i===void 0&&(i=0),e===void 0&&(e=!1);var s=2*i/3+1,r=-.5*(s-1);return this.multiply([s,r,r,0,0,r,s,r,0,0,r,r,s,0,0,0,0,0,1,0],e)},desaturate:function(i){return i===void 0&&(i=!1),this.saturate(-1,i)},hue:function(i,e){i===void 0&&(i=0),e===void 0&&(e=!1),i=i/180*Math.PI;var s=Math.cos(i),r=Math.sin(i);return this.multiply([.213+.787*s+-.213*r,.715+-.715*s+-.715*r,.072+-.072*s+.928*r,0,0,.213+-.213*s+.143*r,.715+s*.28500000000000003+.14*r,.072+-.072*s+-.283*r,0,0,.213+-.213*s+-.787*r,.715+-.715*s+.715*r,.072+.928*s+.072*r,0,0,0,0,0,1,0],e)},grayscale:function(i,e){return i===void 0&&(i=1),e===void 0&&(e=!1),this.saturate(-i,e)},blackWhite:function(i){return i===void 0&&(i=!1),this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],i)},contrast:function(i,e){i===void 0&&(i=0),e===void 0&&(e=!1);var s=i+1,r=-.5*(s-1);return this.multiply([s,0,0,0,r,0,s,0,0,r,0,0,s,0,r,0,0,0,1,0],e)},negative:function(i){return i===void 0&&(i=!1),this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],i)},desaturateLuminance:function(i){return i===void 0&&(i=!1),this.multiply([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],i)},sepia:function(i){return i===void 0&&(i=!1),this.multiply([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],i)},night:function(i,e){return i===void 0&&(i=.1),e===void 0&&(e=!1),this.multiply([-2*i,-i,0,0,0,-i,0,i,0,0,0,i,2*i,0,0,0,0,0,1,0],e)},lsd:function(i){return i===void 0&&(i=!1),this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],i)},brown:function(i){return i===void 0&&(i=!1),this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],i)},vintagePinhole:function(i){return i===void 0&&(i=!1),this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],i)},kodachrome:function(i){return i===void 0&&(i=!1),this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],i)},technicolor:function(i){return i===void 0&&(i=!1),this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],i)},polaroid:function(i){return i===void 0&&(i=!1),this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],i)},shiftToBGR:function(i){return i===void 0&&(i=!1),this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],i)},multiply:function(i,e){e||this.reset();for(var s=this._matrix,r=[],n=0;n<20;n++)r[n]=s[n];return s[0]=r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],s[1]=r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],s[2]=r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],s[3]=r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],s[4]=r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],s[5]=r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],s[6]=r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],s[7]=r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],s[8]=r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],s[9]=r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],s[10]=r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],s[11]=r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],s[12]=r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],s[13]=r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],s[14]=r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],s[15]=r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],s[16]=r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],s[17]=r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],s[18]=r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],s[19]=r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19],this._dirty=!0,this}});f.exports=a},function(f,x,t){var a=t(10),i=t(14);f.exports=function(e,s){if(s===void 0&&(s=new a),e.length===0)return s;for(var r,n,o,l=Number.MAX_VALUE,h=Number.MAX_VALUE,u=i.MIN_SAFE_INTEGER,c=i.MIN_SAFE_INTEGER,d=0;d<e.length;d++)r=e[d],o=Array.isArray(r)?(n=r[0],r[1]):(n=r.x,r.y),l=Math.min(l,n),h=Math.min(h,o),u=Math.max(u,n),c=Math.max(c,o);return s.x=l,s.y=h,s.width=u-l,s.height=c-h,s}},function(f,x,t){var a=t(0),i=t(1),e=new a({initialize:function(s,r,n){this._rgb=[0,0,0],this.onChangeCallback=i,this.dirty=!1,this.set(s,r,n)},set:function(s,r,n){return s===void 0&&(s=0),r===void 0&&(r=0),n===void 0&&(n=0),this._rgb=[s,r,n],this.onChange(),this},equals:function(s,r,n){var o=this._rgb;return o.r===s&&o.g===r&&o.b===n},onChange:function(){this.dirty=!0;var s=this._rgb;this.onChangeCallback.call(this,s[0],s[1],s[2])},r:{get:function(){return this._rgb[0]},set:function(s){this._rgb[0]=s,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(s){this._rgb[1]=s,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(s){this._rgb[2]=s,this.onChange()}},destroy:function(){this.onChangeCallback=null}});f.exports=e},function(f,x,t){var a={CENTER:t(403),ORIENTATION:t(404),SCALE_MODE:t(405),ZOOM:t(406)};f.exports=a},function(f,x){f.exports=function(t){t.parentNode&&t.parentNode.removeChild(t)}},function(f,x){f.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},function(f,x,t){var a=t(0),i=t(144),e=t(197),s=t(20),r=t(419),n=t(420),o=t(33),l=t(1),h=t(421),u=new a({initialize:function(c,d){this.scene=c,this.game,this.renderer,this.config=d,this.settings=h.create(d),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=l},init:function(c){this.settings.status=i.INIT,this.sceneUpdate=l,this.game=c,this.renderer=c.renderer,this.canvas=c.canvas,this.context=c.context;var d=c.plugins;(this.plugins=d).addToScene(this,e.Global,[e.CoreScene,n(this),r(this)]),this.events.emit(s.BOOT,this),this.settings.isBooted=!0},step:function(c,d){var v=this.events;v.emit(s.PRE_UPDATE,c,d),v.emit(s.UPDATE,c,d),this.sceneUpdate.call(this.scene,c,d),v.emit(s.POST_UPDATE,c,d)},render:function(c){var d=this.displayList;d.depthSort(),this.events.emit(s.PRE_RENDER,c),this.cameras.render(c,d),this.events.emit(s.RENDER,c)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(c){var d=this.events,v=this.settings;return this.settings.active&&(v.status=i.PAUSED,v.active=!1,d.emit(s.PAUSE,this,c)),this},resume:function(c){var d=this.events,v=this.settings;return this.settings.active||(v.status=i.RUNNING,v.active=!0,d.emit(s.RESUME,this,c)),this},sleep:function(c){var d=this.events,v=this.settings;return v.status=i.SLEEPING,v.active=!1,v.visible=!1,d.emit(s.SLEEP,this,c),this},wake:function(c){var d=this.events,v=this.settings;return v.status=i.RUNNING,v.active=!0,v.visible=!0,d.emit(s.WAKE,this,c),v.isTransition&&d.emit(s.TRANSITION_WAKE,v.transitionFrom,v.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===i.SLEEPING},isActive:function(){return this.settings.status===i.RUNNING},isPaused:function(){return this.settings.status===i.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&0<this.scenePlugin._duration},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(c){return this.settings.visible=c,this},setActive:function(c,d){return c?this.resume(d):this.pause(d)},start:function(c){var d=this.events,v=this.settings;c&&(v.data=c),v.status=i.START,v.active=!0,v.visible=!0,d.emit(s.START,this),d.emit(s.READY,this,c)},shutdown:function(c){var d=this.events,v=this.settings;d.off(s.TRANSITION_INIT),d.off(s.TRANSITION_START),d.off(s.TRANSITION_COMPLETE),d.off(s.TRANSITION_OUT),v.status=i.SHUTDOWN,v.active=!1,v.visible=!1,this.renderer===o.WEBGL&&this.renderer.resetTextures(!0),d.emit(s.SHUTDOWN,this,c)},destroy:function(){var c=this.events,d=this.settings;d.status=i.DESTROYED,d.active=!1,d.visible=!1,c.emit(s.DESTROY,this),c.removeAllListeners();for(var v=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],g=0;g<v.length;g++)this[v[g]]=null}});f.exports=u},function(f,x){f.exports=function(t){return t&&t[0].toUpperCase()+t.slice(1)}},function(f,x,t){var a=t(33),i=t(0),e=t(109),s=t(424),r="Texture.frame missing: ",n=new i({initialize:function(o,l,h,u,c){Array.isArray(h)||(h=[h]),this.manager=o,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE";for(var d=this.frameTotal=0;d<h.length;d++)this.source.push(new s(this,h[d],u,c))},add:function(o,l,h,u,c,d){if(this.has(o))return null;var v=new e(this,o,l,h,u,c,d);return this.frames[o]=v,this.firstFrame==="__BASE"&&(this.firstFrame=o),this.frameTotal++,v},remove:function(o){return!!this.has(o)&&(this.get(o).destroy(),delete this.frames[o],!0)},has:function(o){return this.frames[o]},get:function(o){o=o||this.firstFrame;var l=this.frames[o];return l||(console.warn(r+o),l=this.frames[this.firstFrame]),l},getTextureSourceIndex:function(o){for(var l=0;l<this.source.length;l++)if(this.source[l]===o)return l;return-1},getFramesFromTextureSource:function(o,l){l===void 0&&(l=!1);var h,u=[];for(var c in this.frames)c==="__BASE"&&!l||(h=this.frames[c]).sourceIndex===o&&u.push(h);return u},getFrameNames:function(o){o===void 0&&(o=!1);var l,h=Object.keys(this.frames);return o||(l=h.indexOf("__BASE"))!==-1&&h.splice(l,1),h},getSourceImage:function(o){o!=null&&this.frameTotal!==1||(o="__BASE");var l=this.frames[o];return l?l.source.image:(console.warn(r+o),this.frames.__BASE.source.image)},getDataSourceImage:function(o){o!=null&&this.frameTotal!==1||(o="__BASE");var l=this.frames[o],h=l?l.sourceIndex:(console.warn(r+o),this.frames.__BASE.sourceIndex);return this.dataSource[h].image},setDataSource:function(o){Array.isArray(o)||(o=[o]);for(var l=0;l<o.length;l++){var h=this.source[l];this.dataSource.push(new s(this,o[l],h.width,h.height))}},setFilter:function(o){for(var l=0;l<this.source.length;l++)this.source[l].setFilter(o);for(l=0;l<this.dataSource.length;l++)this.dataSource[l].setFilter(o)},destroy:function(){for(var o=0;o<this.source.length;o++)this.source[o].destroy();for(o=0;o<this.dataSource.length;o++)this.dataSource[o].destroy();for(var l in this.frames)this.frames[l].destroy();this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key);var h=this.manager.game.renderer;h&&h.type===a.WEBGL&&h.resetTextures(!0),this.manager=null}});f.exports=n},function(f,x,t){var a=t(78);f.exports=function(i,e,s,r,n){r===void 0&&(r=0),n===void 0&&(n=i.length);var o=[];if(a(i,r,n))for(var l=r;l<n;l++){var h=i[l];(!e||e&&s===void 0&&h.hasOwnProperty(e)||e&&s!==void 0&&h[e]===s)&&o.push(h)}return o}},function(f,x,t){f.exports={Matrix:t(1013),Add:t(1021),AddAt:t(1022),BringToTop:t(1023),CountAllMatching:t(1024),Each:t(1025),EachInRange:t(1026),FindClosestInSorted:t(318),GetAll:t(207),GetFirst:t(428),GetRandom:t(210),MoveDown:t(1027),MoveTo:t(1028),MoveUp:t(1029),MoveAbove:t(1030),MoveBelow:t(1031),NumberArray:t(322),NumberArrayStep:t(1032),QuickSelect:t(436),Range:t(437),Remove:t(93),RemoveAt:t(1033),RemoveBetween:t(1034),RemoveRandomElement:t(1035),Replace:t(1036),RotateLeft:t(178),RotateRight:t(179),SafeRange:t(78),SendToBack:t(1037),SetAll:t(1038),Shuffle:t(131),SortByDigits:t(320),SpliceOne:t(74),StableSort:t(79),Swap:t(1039)}},function(f,x){f.exports=function(t){if(!Array.isArray(t)||t.length<2||!Array.isArray(t[0]))return!1;for(var a=t[0].length,i=1;i<t.length;i++)if(t[i].length!==a)return!1;return!0}},function(f,x){f.exports=function(t,a,i){a===void 0&&(a=0),i===void 0&&(i=t.length);var e=a+Math.floor(Math.random()*i);return t[e]===void 0?null:t[e]}},function(f,x,t){var a=t(0),i=t(9),e=t(438),s=new a({Extends:i,initialize:function(){i.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},add:function(r){return this._pending.push(r),this._toProcess++,r},remove:function(r){return this._destroy.push(r),this._toProcess++,r},removeAll:function(){for(var r=this._active,n=this._destroy,o=r.length;o--;)n.push(r[o]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;for(var r,n=this._destroy,o=this._active,l=0;l<n.length;l++){r=n[l];var h=o.indexOf(r);h!==-1&&(o.splice(h,1),this.emit(e.PROCESS_QUEUE_REMOVE,r))}for(n.length=0,n=this._pending,l=0;l<n.length;l++)r=n[l],(!this.checkQueue||this.checkQueue&&o.indexOf(r)===-1)&&(o.push(r),this.emit(e.PROCESS_QUEUE_ADD,r));return n.length=0,this._toProcess=0,o},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});f.exports=s},function(f,x){function t(a,i){return parseInt(a.getAttribute(i),10)}f.exports=function(a,i,e,s,r){e===void 0&&(e=0),s===void 0&&(s=0);var n=i.cutX,o=i.cutY,l=i.source.width,h=i.source.height,u=i.sourceIndex,c={},d=a.getElementsByTagName("info")[0],v=a.getElementsByTagName("common")[0];c.font=d.getAttribute("face"),c.size=t(d,"size"),c.lineHeight=t(v,"lineHeight")+s,c.chars={};var g,m,y=a.getElementsByTagName("char"),T=i!==void 0&&i.trimmed;T&&(g=i.height,m=i.width);for(var E=0;E<y.length;E++){var S=y[E],C=t(S,"id"),M=String.fromCharCode(C),P=t(S,"x"),R=t(S,"y"),L=t(S,"width"),w=t(S,"height");T&&(P<m&&(m=P),R<g&&(g=R)),T&&g!==0&&m!==0&&(P-=i.x,R-=i.y);var B,G=(n+P)/l,Y=(o+R)/h,D=(n+P+L)/l,F=(o+R+w)/h;c.chars[C]={x:P,y:R,width:L,height:w,centerX:Math.floor(L/2),centerY:Math.floor(w/2),xOffset:t(S,"xoffset"),yOffset:t(S,"yoffset"),xAdvance:t(S,"xadvance")+e,data:{},kerning:{},u0:G,v0:Y,u1:D,v1:F},!r||L===0||w===0||(B=r.add(M,u,P,R,L,w))&&B.setUVs(L,w,G,Y,D,F)}for(var N=a.getElementsByTagName("kerning"),E=0;E<N.length;E++){var I=N[E],b=t(I,"first"),U=t(I,"second"),X=t(I,"amount");c.chars[U].kerning[b]=X}return c}},function(f,x,t){var a=t(1049),i=t(440),e=t(0),s=t(11),r=t(109),n=t(15),o=t(110),l=new e({Extends:n,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.ScrollFactor,s.Size,s.Texture,s.Transform,s.Visible,a],initialize:function(h,u,c,d,v){n.call(this,h,"Blitter"),this.setTexture(d,v),this.setPosition(u,c),this.initPipeline(),this.children=new o,this.renderList=[],this.dirty=!1},create:function(h,u,c,d,v){d===void 0&&(d=!0),v===void 0&&(v=this.children.length),c===void 0?c=this.frame:c instanceof r||(c=this.texture.get(c));var g=new i(this,h,u,c,d);return this.children.addAt(g,v,!1),this.dirty=!0,g},createFromCallback:function(h,u,c,d){for(var v=this.createMultiple(u,c,d),g=0;g<v.length;g++){var m=v[g];h.call(this,m,g)}return v},createMultiple:function(h,u,c){u===void 0&&(u=this.frame.name),c===void 0&&(c=!0),Array.isArray(u)||(u=[u]);var d=[],v=this;return u.forEach(function(g){for(var m=0;m<h;m++)d.push(v.create(0,0,g,c))}),d},childCanRender:function(h){return h.visible&&0<h.alpha},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});f.exports=l},function(f,x,t){var a=t(208),i=t(35),e=t(0),s=t(11),r=t(75),n=t(15),o=t(10),l=t(1052),h=t(441),u=t(3),c=new e({Extends:n,Mixins:[s.AlphaSingle,s.BlendMode,s.ComputedSize,s.Depth,s.Mask,s.Pipeline,s.Transform,s.Visible,l],initialize:function(d,v,g,m){n.call(this,d,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new s.TransformMatrix,this.tempTransformMatrix=new s.TransformMatrix,this._sortKey="",this._sysEvents=d.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPipeline(),this.setPosition(v,g),this.clearAlpha(),this.setBlendMode(i.SKIP_CHECK),m&&this.add(m)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return .5*this.width}},displayOriginY:{get:function(){return .5*this.height}},setExclusive:function(d){return d===void 0&&(d=!0),this.exclusive=d,this},getBounds:function(d){var v;if(d===void 0&&(d=new o),d.setTo(this.x,this.y,0,0),this.parentContainer&&(v=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y),d.setTo(v.x,v.y,0,0)),0<this.list.length){var g=this.list,m=new o,y=!1;d.setEmpty();for(var T=0;T<g.length;T++){var E=g[T];E.getBounds&&(E.getBounds(m),y?h(m,d,d):(d.setTo(m.x,m.y,m.width,m.height),y=!0))}}return d},addHandler:function(d){d.once(r.DESTROY,this.remove,this),this.exclusive&&(d.parentContainer&&d.parentContainer.remove(d),d.removeFromDisplayList(),d.parentContainer=this)},removeHandler:function(d){d.off(r.DESTROY,this.remove),this.exclusive&&(d.parentContainer=null,d.addToDisplayList())},pointToContainer:function(d,v){v===void 0&&(v=new u),this.parentContainer?this.parentContainer.pointToContainer(d,v):v=new u(d.x,d.y);var g=this.tempTransformMatrix;return g.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),g.invert(),g.transformPoint(d.x,d.y,v),v},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(d){return a.Add(this.list,d,this.maxSize,this.addHandler,this),this},addAt:function(d,v){return a.AddAt(this.list,d,v,this.maxSize,this.addHandler,this),this},getAt:function(d){return this.list[d]},getIndex:function(d){return this.list.indexOf(d)},sort:function(d,v){return d&&(v===void 0&&(v=function(g,m){return g[d]-m[d]}),a.StableSort(this.list,v)),this},getByName:function(d){return a.GetFirst(this.list,"name",d)},getRandom:function(d,v){return a.GetRandom(this.list,d,v)},getFirst:function(d,v,g,m){return a.GetFirst(this.list,d,v,g,m)},getAll:function(d,v,g,m){return a.GetAll(this.list,d,v,g,m)},count:function(d,v,g,m){return a.CountAllMatching(this.list,d,v,g,m)},swap:function(d,v){return a.Swap(this.list,d,v),this},moveTo:function(d,v){return a.MoveTo(this.list,d,v),this},moveAbove:function(d,v){return a.MoveAbove(this.list,d,v),this},moveBelow:function(d,v){return a.MoveBelow(this.list,d,v),this},remove:function(d,v){var g=a.Remove(this.list,d,this.removeHandler,this);if(v&&g){Array.isArray(g)||(g=[g]);for(var m=0;m<g.length;m++)g[m].destroy()}return this},removeAt:function(d,v){var g=a.RemoveAt(this.list,d,this.removeHandler,this);return v&&g&&g.destroy(),this},removeBetween:function(d,v,g){var m=a.RemoveBetween(this.list,d,v,this.removeHandler,this);if(g)for(var y=0;y<m.length;y++)m[y].destroy();return this},removeAll:function(d){var v=a.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(d)for(var g=0;g<v.length;g++)v[g].destroy();return this},bringToTop:function(d){return a.BringToTop(this.list,d),this},sendToBack:function(d){return a.SendToBack(this.list,d),this},moveUp:function(d){return a.MoveUp(this.list,d),this},moveDown:function(d){return a.MoveDown(this.list,d),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(d,v,g){return a.Replace(this.list,d,v)&&(this.addHandler(v),this.removeHandler(d),g&&d.destroy()),this},exists:function(d){return-1<this.list.indexOf(d)},setAll:function(d,v,g,m){return a.SetAll(this.list,d,v,g,m),this},each:function(d,v){for(var g=[null],m=this.list.slice(),y=m.length,T=2;T<arguments.length;T++)g.push(arguments[T]);for(T=0;T<y;T++)g[0]=m[T],d.apply(v,g);return this},iterate:function(d,v){for(var g=[null],m=2;m<arguments.length;m++)g.push(arguments[m]);for(m=0;m<this.list.length;m++)g[0]=this.list[m],d.apply(v,g);return this},setScrollFactor:function(d,v,g){return v===void 0&&(v=d),g===void 0&&(g=!1),this.scrollFactorX=d,this.scrollFactorY=v,g&&(a.SetAll(this.list,"scrollFactorX",d),a.SetAll(this.list,"scrollFactorY",v)),this},length:{get:function(){return this.list.length}},first:{get:function(){return(this.position=0)<this.list.length?this.list[0]:null}},last:{get:function(){return 0<this.list.length?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return 0<this.position?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});f.exports=c},function(f,x,t){var a=t(148),i=t(0),e=t(1057),s=new i({Extends:a,Mixins:[e],initialize:function(r,n,o,l,h,u,c){a.call(this,r,n,o,l,h,u,c),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,n){return this.cropWidth=r,this.cropHeight=n,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});f.exports=s},function(f,x,t){var a=t(133),i=t(0),e=t(217),s=t(303),r=t(304),n=t(305),o=t(309),l=t(167),h=t(312),u=t(313),c=t(314),d=t(111),v=t(15),g=t(2),m=t(6),y=t(14),T=t(1063),E=new i({Extends:v,Mixins:[s,r,n,o,l,u,c,h,T],initialize:function(S,C){var M=m(C,"x",0),P=m(C,"y",0);v.call(this,S,"Graphics"),this.setPosition(M,P),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(C)},setDefaultStyles:function(S){return m(S,"lineStyle",null)&&(this.defaultStrokeWidth=m(S,"lineStyle.width",1),this.defaultStrokeColor=m(S,"lineStyle.color",16777215),this.defaultStrokeAlpha=m(S,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),m(S,"fillStyle",null)&&(this.defaultFillColor=m(S,"fillStyle.color",16777215),this.defaultFillAlpha=m(S,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(S,C,M){return M===void 0&&(M=1),this.commandBuffer.push(e.LINE_STYLE,S,C,M),this._lineWidth=S,this},fillStyle:function(S,C){return C===void 0&&(C=1),this.commandBuffer.push(e.FILL_STYLE,S,C),this},fillGradientStyle:function(S,C,M,P,R,L,w,B){return R===void 0&&(R=1),L===void 0&&(L=R),w===void 0&&(w=R),B===void 0&&(B=R),this.commandBuffer.push(e.GRADIENT_FILL_STYLE,R,L,w,B,S,C,M,P),this},lineGradientStyle:function(S,C,M,P,R,L){return L===void 0&&(L=1),this.commandBuffer.push(e.GRADIENT_LINE_STYLE,S,L,C,M,P,R),this},beginPath:function(){return this.commandBuffer.push(e.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(e.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(e.FILL_PATH),this},fill:function(){return this.commandBuffer.push(e.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(e.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(e.STROKE_PATH),this},fillCircleShape:function(S){return this.fillCircle(S.x,S.y,S.radius)},strokeCircleShape:function(S){return this.strokeCircle(S.x,S.y,S.radius)},fillCircle:function(S,C,M){return this.beginPath(),this.arc(S,C,M,0,y.PI2),this.fillPath(),this},strokeCircle:function(S,C,M){return this.beginPath(),this.arc(S,C,M,0,y.PI2),this.strokePath(),this},fillRectShape:function(S){return this.fillRect(S.x,S.y,S.width,S.height)},strokeRectShape:function(S){return this.strokeRect(S.x,S.y,S.width,S.height)},fillRect:function(S,C,M,P){return this.commandBuffer.push(e.FILL_RECT,S,C,M,P),this},strokeRect:function(S,C,M,P){var R=this._lineWidth/2,L=S-R,w=S+R;return this.beginPath(),this.moveTo(S,C),this.lineTo(S,C+P),this.strokePath(),this.beginPath(),this.moveTo(S+M,C),this.lineTo(S+M,C+P),this.strokePath(),this.beginPath(),this.moveTo(L,C),this.lineTo(w+M,C),this.strokePath(),this.beginPath(),this.moveTo(L,C+P),this.lineTo(w+M,C+P),this.strokePath(),this},fillRoundedRect:function(S,C,M,P,R){R===void 0&&(R=20);var L=R,w=R,B=R,G=R;return typeof R!="number"&&(L=g(R,"tl",20),w=g(R,"tr",20),B=g(R,"bl",20),G=g(R,"br",20)),this.beginPath(),this.moveTo(S+L,C),this.lineTo(S+M-w,C),this.arc(S+M-w,C+w,w,-y.TAU,0),this.lineTo(S+M,C+P-G),this.arc(S+M-G,C+P-G,G,0,y.TAU),this.lineTo(S+B,C+P),this.arc(S+B,C+P-B,B,y.TAU,Math.PI),this.lineTo(S,C+L),this.arc(S+L,C+L,L,-Math.PI,-y.TAU),this.fillPath(),this},strokeRoundedRect:function(S,C,M,P,R){R===void 0&&(R=20);var L=R,w=R,B=R,G=R;return typeof R!="number"&&(L=g(R,"tl",20),w=g(R,"tr",20),B=g(R,"bl",20),G=g(R,"br",20)),this.beginPath(),this.moveTo(S+L,C),this.lineTo(S+M-w,C),this.moveTo(S+M-w,C),this.arc(S+M-w,C+w,w,-y.TAU,0),this.lineTo(S+M,C+P-G),this.moveTo(S+M,C+P-G),this.arc(S+M-G,C+P-G,G,0,y.TAU),this.lineTo(S+B,C+P),this.moveTo(S+B,C+P),this.arc(S+B,C+P-B,B,y.TAU,Math.PI),this.lineTo(S,C+L),this.moveTo(S,C+L),this.arc(S+L,C+L,L,-Math.PI,-y.TAU),this.strokePath(),this},fillPointShape:function(S,C){return this.fillPoint(S.x,S.y,C)},fillPoint:function(S,C,M){return!M||M<1?M=1:(S-=M/2,C-=M/2),this.commandBuffer.push(e.FILL_RECT,S,C,M,M),this},fillTriangleShape:function(S){return this.fillTriangle(S.x1,S.y1,S.x2,S.y2,S.x3,S.y3)},strokeTriangleShape:function(S){return this.strokeTriangle(S.x1,S.y1,S.x2,S.y2,S.x3,S.y3)},fillTriangle:function(S,C,M,P,R,L){return this.commandBuffer.push(e.FILL_TRIANGLE,S,C,M,P,R,L),this},strokeTriangle:function(S,C,M,P,R,L){return this.commandBuffer.push(e.STROKE_TRIANGLE,S,C,M,P,R,L),this},strokeLineShape:function(S){return this.lineBetween(S.x1,S.y1,S.x2,S.y2)},lineBetween:function(S,C,M,P){return this.beginPath(),this.moveTo(S,C),this.lineTo(M,P),this.strokePath(),this},lineTo:function(S,C){return this.commandBuffer.push(e.LINE_TO,S,C),this},moveTo:function(S,C){return this.commandBuffer.push(e.MOVE_TO,S,C),this},strokePoints:function(S,C,M,P){C===void 0&&(C=!1),M===void 0&&(M=!1),P===void 0&&(P=S.length),this.beginPath(),this.moveTo(S[0].x,S[0].y);for(var R=1;R<P;R++)this.lineTo(S[R].x,S[R].y);return C&&this.lineTo(S[0].x,S[0].y),M&&this.closePath(),this.strokePath(),this},fillPoints:function(S,C,M,P){C===void 0&&(C=!1),M===void 0&&(M=!1),P===void 0&&(P=S.length),this.beginPath(),this.moveTo(S[0].x,S[0].y);for(var R=1;R<P;R++)this.lineTo(S[R].x,S[R].y);return C&&this.lineTo(S[0].x,S[0].y),M&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(S,C){C===void 0&&(C=32);var M=S.getPoints(C);return this.strokePoints(M,!0)},strokeEllipse:function(S,C,M,P,R){R===void 0&&(R=32);var L=new d(S,C,M,P).getPoints(R);return this.strokePoints(L,!0)},fillEllipseShape:function(S,C){C===void 0&&(C=32);var M=S.getPoints(C);return this.fillPoints(M,!0)},fillEllipse:function(S,C,M,P,R){R===void 0&&(R=32);var L=new d(S,C,M,P).getPoints(R);return this.fillPoints(L,!0)},arc:function(S,C,M,P,R,L,w){return L===void 0&&(L=!1),w===void 0&&(w=0),this.commandBuffer.push(e.ARC,S,C,M,P,R,L,w),this},slice:function(S,C,M,P,R,L,w){return L===void 0&&(L=!1),w===void 0&&(w=0),this.commandBuffer.push(e.BEGIN_PATH),this.commandBuffer.push(e.MOVE_TO,S,C),this.commandBuffer.push(e.ARC,S,C,M,P,R,L,w),this.commandBuffer.push(e.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(e.SAVE),this},restore:function(){return this.commandBuffer.push(e.RESTORE),this},translateCanvas:function(S,C){return this.commandBuffer.push(e.TRANSLATE,S,C),this},scaleCanvas:function(S,C){return this.commandBuffer.push(e.SCALE,S,C),this},rotateCanvas:function(S){return this.commandBuffer.push(e.ROTATE,S),this},clear:function(){return this.commandBuffer.length=0,-1<this.defaultFillColor&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),-1<this.defaultStrokeColor&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(S,C,M){var P,R,L,w=this.scene.sys,B=w.game.renderer;return C===void 0&&(C=w.scale.width),M===void 0&&(M=w.scale.height),E.TargetCamera.setScene(this.scene),E.TargetCamera.setViewport(0,0,C,M),E.TargetCamera.scrollX=this.x,E.TargetCamera.scrollY=this.y,typeof S=="string"?w.textures.exists(S)?(L=(P=w.textures.get(S)).getSourceImage())instanceof HTMLCanvasElement&&(R=L.getContext("2d")):R=(P=w.textures.createCanvas(S,C,M)).getSourceImage().getContext("2d"):S instanceof HTMLCanvasElement&&(R=S.getContext("2d")),R&&(this.renderCanvas(B,this,E.TargetCamera,null,R,!1),P&&P.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});E.TargetCamera=new a,f.exports=E},function(f,x){f.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(f,x,t){var a=t(4);f.exports=function(i,e,s){s===void 0&&(s=new a);var r=i.width/2,n=i.height/2;return s.x=i.x+r*Math.cos(e),s.y=i.y+n*Math.sin(e),s}},function(f,x,t){var a=t(35),i=t(0),e=t(11),s=t(176),r=t(101),n=t(9),o=t(75),l=t(110),h=t(1071),u=t(20),c=t(79),d=new i({Extends:l,Mixins:[e.AlphaSingle,e.BlendMode,e.Depth,e.Mask,e.Pipeline,e.Visible,n,h],initialize:function(v,g){l.call(this,v),n.call(this),this.scene=v,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=v.sys,this.events=v.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPipeline(),this.clearAlpha(),this.setBlendMode(a.SKIP_CHECK),g&&this.add(g),v.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(v,g){return this.data||(this.data=new r(this)),this.data.set(v,g),this},incData:function(v,g){return this.data||(this.data=new r(this)),this.data.inc(v,g),this},toggleData:function(v){return this.data||(this.data=new r(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new r(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return s(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,g=this.parentContainer,m=[];g&&(m.unshift(g.getIndex(v)),(v=g).parentContainer);)g=g.parentContainer;return m.unshift(this.displayList.getIndex(v)),m},addChildCallback:function(v){v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(o.ADDED_TO_SCENE,v,this.scene),this.events.emit(u.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(o.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(c(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,g){return v._depth-g._depth},getChildren:function(){return this.list},destroy:function(){if(this.scene&&!this.ignoreDestroy){this.emit(o.DESTROY,this);for(var v=this.list.length;v--;)this.list[v].destroy();this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});f.exports=d},function(f,x,t){var a=t(0),i=t(11),e=t(15),s=t(450),r=t(110),n=t(452),o=t(1075),l=new a({Extends:e,Mixins:[i.Depth,i.Mask,i.Pipeline,i.Transform,i.Visible,o],initialize:function(h,u,c,d){if(e.call(this,h,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],c===null||typeof c!="object"&&!Array.isArray(c)||(d=c,c=null),this.setTexture(u,c),this.initPipeline(),this.emitters=new r(this),this.wells=new r(this),d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++)this.createEmitter(d[v])}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setTexture:function(h,u){return this.texture=this.scene.sys.textures.get(h),this.setFrame(u)},setFrame:function(h){this.frame=this.texture.get(h);var u=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),c=[];return u.forEach(function(d){c.push(d.name)}),this.frameNames=c,this.defaultFrame=this.frame,this},setEmitterFrames:function(h,u){Array.isArray(h)||(h=[h]);for(var c=u.frames,d=c.length=0;d<h.length;d++){var v=h[d];this.frameNames.indexOf(v)!==-1&&c.push(this.texture.get(v))}return 0<c.length?u.defaultFrame=c[0]:u.defaultFrame=this.defaultFrame,this},addEmitter:function(h){return this.emitters.add(h)},createEmitter:function(h){return this.addEmitter(new n(this,h))},removeEmitter:function(h){return this.emitters.remove(h,!0)},addGravityWell:function(h){return this.wells.add(h)},createGravityWell:function(h){return this.addGravityWell(new s(h))},emitParticle:function(h,u,c){for(var d=this.emitters.list,v=0;v<d.length;v++){var g=d[v];g.active&&g.emitParticle(h,u,c)}return this},emitParticleAt:function(h,u,c){return this.emitParticle(c,h,u)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(h,u){u*=this.timeScale;for(var c=this.emitters.list,d=0;d<c.length;d++){var v=c[d];v.active&&v.preUpdate(h,u)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});f.exports=l},function(f,x,t){var a=t(35),i=t(133),e=t(31),s=t(0),r=t(11),n=t(33),o=t(109),l=t(15),h=t(1),u=t(92),c=t(1079),d=t(141),v=t(12),g=t(222),m=new s({Extends:l,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,c],initialize:function(y,T,E,S,C,M,P){T===void 0&&(T=0),E===void 0&&(E=0),S===void 0&&(S=32),C===void 0&&(C=32),l.call(this,y,"RenderTexture"),this.renderer=y.sys.renderer,this.textureManager=y.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,M===void 0?(this.canvas=e.create2D(this,S,C),this.texture=y.sys.textures.addCanvas(g(),this.canvas),this.frame=this.texture.get()):(this.texture=y.sys.textures.get(M),this.frame=this.texture.get(P),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new i(0,0,S,C),this.renderTarget=null;var R=this.renderer;R?R.type===n.WEBGL?(this.drawGameObject=this.batchGameObjectWebGL,this.renderTarget=new d(R,S,C,1,0,!1)):R.type===n.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas):this.drawGameObject=h,this.camera.setScene(y),this.setPosition(T,E),M===void 0&&this.setSize(S,C),this.setOrigin(0,0),this.initPipeline(u.SINGLE_PIPELINE)},setSize:function(y,T){return this.resize(y,T)},resize:function(y,T){T===void 0&&(T=y);var E,S,C=this.frame;y!==this.width||T!==this.height?C.name==="__BASE"&&(this.canvas.width=y,this.canvas.height=T,this.texture.width=y,this.texture.height=T,(E=this.renderTarget)&&(E.resize(y,T),C.glTexture=E.texture,C.source.isRenderTexture=!0,C.source.isGLTexture=!0,C.source.glTexture=E.texture),this.camera.setSize(y,T),C.source.width=y,C.source.height=T,C.setSize(y,T),this.width=y,this.height=T):(S=this.texture.getSourceImage(),C.cutX+y>S.width&&(y=S.width-C.cutX),C.cutY+T>S.height&&(T=S.height-C.cutY),C.setSize(y,T,C.cutX,C.cutY)),this.updateDisplayOrigin();var M=this.input;return M&&!M.customHitArea&&(M.hitArea.width=y,M.hitArea.height=T),this},setGlobalTint:function(y){return this.globalTint=y,this},setGlobalAlpha:function(y){return this.globalAlpha=y,this},saveTexture:function(y){return this.textureManager.renameTexture(this.texture.key,y),this._saved=!0,this.texture},fill:function(y,T,E,S,C,M){var P=this.frame,R=this.camera,L=this.renderer;T===void 0&&(T=1),E===void 0&&(E=0),S===void 0&&(S=0),C===void 0&&(C=P.cutWidth),M===void 0&&(M=P.cutHeight);var w,B,G,Y,D,F,N=(y>>16&255)/255,I=(y>>8&255)/255,b=(255&y)/255,U=this.renderTarget;return R.preRender(),U?(U.bind(!0),(w=this.pipeline).manager.set(w),B=U.width,G=U.height,Y=L.width/B,D=L.height/G,w.drawFillRect(E*Y,S*D,C*Y,M*D,v.getTintFromFloats(b,I,N,1),T),U.unbind(!0)):(F=this.context,L.setContext(F),F.fillStyle="rgba("+N+","+I+","+b+","+T+")",F.fillRect(E+P.cutX,S+P.cutY,C,M),L.setContext()),this.dirty=!0,this},clear:function(){var y,T;return this.dirty&&((y=this.renderTarget)?y.clear():((T=this.context).save(),T.setTransform(1,0,0,1,0,0),T.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),T.restore()),this.dirty=!1),this},erase:function(y,T,E){return this._eraseMode=!0,this.draw(y,T,E,1,16777215),this._eraseMode=!1,this},draw:function(y,T,E,S,C){return this.beginDraw(),this.batchDraw(y,T,E,S,C),this.endDraw(),this},drawFrame:function(y,T,E,S,C,M){return this.beginDraw(),this.batchDrawFrame(y,T,E,S,C,M),this.endDraw(),this},beginDraw:function(){var y=this.camera,T=this.renderer,E=this.renderTarget;return y.preRender(),E?T.beginCapture(E.width,E.height):T.setContext(this.context),this},batchDraw:function(y,T,E,S,C){return S===void 0&&(S=this.globalAlpha),C=C===void 0?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(C>>16)+(65280&C)+((255&C)<<16),Array.isArray(y)||(y=[y]),this.batchList(y,T,E,S,C),this},batchDrawFrame:function(y,T,E,S,C,M){E===void 0&&(E=0),S===void 0&&(S=0),C===void 0&&(C=this.globalAlpha),M=M===void 0?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(M>>16)+(65280&M)+((255&M)<<16);var P=this.textureManager.getFrame(y,T);return P&&(this.renderTarget?this.pipeline.batchTextureFrame(P,E,S,M,C,this.camera.matrix,null):this.batchTextureFrame(P,E+this.frame.cutX,S+this.frame.cutY,C,M)),this},endDraw:function(y){y===void 0&&(y=this._eraseMode);var T,E=this.renderer,S=this.renderTarget;return S?(T=E.endCapture(),E.pipelines.setUtility().blitFrame(T,S,1,!1,!1,y),E.resetScissor(),E.resetViewport()):E.setContext(),this.dirty=!0,this},batchList:function(y,T,E,S,C){for(var M=0;M<y.length;M++){var P=y[M];P&&P!==this&&(P.renderWebGL||P.renderCanvas?this.drawGameObject(P,T,E):P.isParent||P.list?this.batchGroup(P.getChildren(),T,E):typeof P=="string"?this.batchTextureFrameKey(P,null,T,E,S,C):P instanceof o?this.batchTextureFrame(P,T,E,S,C):Array.isArray(P)&&this.batchList(P,T,E,S,C))}},batchGroup:function(y,T,E){T===void 0&&(T=0),E===void 0&&(E=0),T+=this.frame.cutX,E+=this.frame.cutY;for(var S=0;S<y.length;S++){var C,M,P=y[S];P.willRender(this.camera)&&(C=P.x+T,M=P.y+E,this.drawGameObject(P,C,M))}},batchGameObjectWebGL:function(y,T,E){T===void 0&&(T=y.x),E===void 0&&(E=y.y);var S=y.x,C=y.y;y.setPosition(T+this.frame.cutX,E+this.frame.cutY),y.renderDirect?y.renderDirect(this.renderer,y,this.camera):y.renderWebGL(this.renderer,y,this.camera),y.setPosition(S,C)},batchGameObjectCanvas:function(y,T,E){T===void 0&&(T=y.x),E===void 0&&(E=y.y);var S,C=y.x,M=y.y;this._eraseMode&&(S=y.blendMode,y.blendMode=a.ERASE),y.setPosition(T+this.frame.cutX,E+this.frame.cutY),y.renderCanvas(this.renderer,y,this.camera,null),y.setPosition(C,M),this._eraseMode&&(y.blendMode=S)},batchTextureFrameKey:function(y,T,E,S,C,M){var P=this.textureManager.getFrame(y,T);P&&this.batchTextureFrame(P,E,S,C,M)},batchTextureFrame:function(y,T,E,S,C){var M,P,R,L;T===void 0&&(T=0),E===void 0&&(E=0),T+=this.frame.cutX,E+=this.frame.cutY,this.renderTarget?this.pipeline.batchTextureFrame(y,T,E,C,S,this.camera.matrix,null):(M=this.context,P=y.canvasData,R=y.source.image,L=this.camera.matrix,M.save(),M.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",M.globalAlpha=S,L.setToContext(M),M.drawImage(R,P.x,P.y,P.width,P.height,T,E,P.width,P.height),M.restore())},snapshotArea:function(y,T,E,S,C,M,P){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,C,!1,y,T,E,S,M,P):this.renderer.snapshotCanvas(this.canvas,C,!1,y,T,E,S,M,P),this},snapshot:function(y,T,E){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,y,!1,0,0,this.width,this.height,T,E):this.renderer.snapshotCanvas(this.canvas,y,!1,0,0,this.width,this.height,T,E),this},snapshotPixel:function(y,T,E){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!0,y,T):this.renderer.snapshotCanvas(this.canvas,E,!0,y,T),this},preDestroy:function(){this._saved||(e.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.texture=null)}});f.exports=m},function(f,x){f.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=16*Math.random()|0;return(t==="x"?a:3&a|8).toString(16)})}},function(f,x,t){var a=t(164),i=t(0),e=t(11),s=t(15),r=t(92),n=t(1085),o=t(3),l=new i({Extends:s,Mixins:[e.AlphaSingle,e.BlendMode,e.Depth,e.Flip,e.Mask,e.Pipeline,e.Size,e.Texture,e.Transform,e.Visible,e.ScrollFactor,n],initialize:function(h,u,c,d,v,g,m,y,T){d===void 0&&(d="__DEFAULT"),g===void 0&&(g=2),m===void 0&&(m=!0),s.call(this,h,"Rope"),this.anims=new a(this),this.points=g,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=m,this._flipX=!1,this._flipY=!1,this._perp=new o,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,v),this.setPosition(u,c),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),Array.isArray(g)&&this.resizeArrays(g.length),this.setPoints(g,y,T),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(h,u){var c=this.anims.currentFrame;this.anims.update(h,u),this.anims.currentFrame!==c&&(this.updateUVs(),this.updateVertices())},play:function(h,u,c){return this.anims.play(h,u,c),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(h,u,c){return h===void 0&&(h=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(h,u,c))},setVertical:function(h,u,c){return h===void 0&&(h=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(h,u,c)):this},setTintFill:function(h){return h===void 0&&(h=!1),this.tintFill=h,this},setAlphas:function(h,u){var c=this.points.length;if(c<1)return this;var d=this.alphas;h===void 0?h=[1]:Array.isArray(h)||u!==void 0||(h=[h]);var v=0;if(u!==void 0)for(m=0;m<c;m++)d[v=2*m]=h,d[v+1]=u;else if(h.length===c)for(m=0;m<c;m++)d[v=2*m]=h[m],d[v+1]=h[m];else for(var g=h[0],m=0;m<c;m++)v=2*m,h.length>v&&(g=h[v]),d[v]=g,h.length>v+1&&(g=h[v+1]),d[v+1]=g;return this},setColors:function(h){var u=this.points.length;if(u<1)return this;var c=this.colors;h===void 0?h=[16777215]:Array.isArray(h)||(h=[h]);var d=0;if(h.length===u)for(g=0;g<u;g++)c[d=2*g]=h[g],c[d+1]=h[g];else for(var v=h[0],g=0;g<u;g++)d=2*g,h.length>d&&(v=h[d]),c[d]=v,h.length>d+1&&(v=h[d+1]),c[d+1]=v;return this},setPoints:function(h,u,c){if(h===void 0&&(h=2),typeof h=="number"){var d,v,g,m=h;if(m<2&&(m=2),h=[],this.horizontal)for(g=-this.frame.halfWidth,v=this.frame.width/(m-1),d=0;d<m;d++)h.push({x:g+d*v,y:0});else for(g=-this.frame.halfHeight,v=this.frame.height/(m-1),d=0;d<m;d++)h.push({x:0,y:g+d*v})}var y=h.length,T=this.points.length;return y<1?console.warn("Rope: Not enough points given"):(y===1&&(h.unshift({x:0,y:0}),y++),T!==y&&this.resizeArrays(y),this.points=h,this.updateUVs(),u!=null&&this.setColors(u),c!=null&&this.setAlphas(c)),this},updateUVs:function(){for(var h=this.uv,u=this.points.length,c=this.frame.u0,d=this.frame.v0,v=this.frame.u1,g=this.frame.v1,m=(v-c)/(u-1),y=(g-d)/(u-1),T=0;T<u;T++){var E,S,C,M=4*T,P=this.horizontal?(C=E=this._flipX?v-T*m:c+T*m,this._flipY?(S=g,d):(S=d,g)):(C=this._flipX?(E=c,v):(E=v,c),S=this._flipY?g-T*y:d+T*y);h[0+M]=E,h[1+M]=S,h[2+M]=C,h[3+M]=P}return this},resizeArrays:function(h){var u=this.colors,c=this.alphas;this.vertices=new Float32Array(4*h),this.uv=new Float32Array(4*h),u=new Uint32Array(2*h),c=new Float32Array(2*h);for(var d=0;d<2*h;d++)u[d]=16777215,c[d]=1;return this.colors=u,this.alphas=c,this.dirty=!0,this},updateVertices:function(){var h=this._perp,u=this.points,c=this.vertices,d=u.length;if(this.dirty=!1,!(d<1)){for(var v=u[0],g=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,m=0;m<d;m++){var y=u[m],T=4*m,E=m<d-1?u[m+1]:y;h.x=E.y-v.y,h.y=-(E.x-v.x);var S=h.length();h.x/=S,h.y/=S,h.x*=g,h.y*=g,c[T]=y.x+h.x,c[1+T]=y.y+h.y,c[2+T]=y.x-h.x,c[3+T]=y.y-h.y,v=y}return this}},setDebug:function(h,u){return this.debugGraphic=h,this.debugCallback=h||u?u||this.renderDebugVerts:null,this},renderDebugVerts:function(h,u,c){var d=h.debugGraphic,v=c[0],g=c[1],m=c[2],y=c[3];d.lineBetween(v,g,m,y);for(var T=4;T<u;T+=4){var E=c[T+0],S=c[T+1],C=c[T+2],M=c[T+3];d.lineBetween(v,g,E,S),d.lineBetween(m,y,C,M),d.lineBetween(m,y,E,S),d.lineBetween(E,S,C,M),v=E,g=S,m=C,y=M}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(h){return this._flipX=h,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(h){return this._flipY=h,this.updateUVs()}}});f.exports=l},function(f,x,t){var a=t(142),i=t(31),e=t(0),s=t(11),r=t(22),n=t(15),o=t(458),l=t(6),h=t(202),u=t(1088),c=t(459),d=new e({Extends:n,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,u],initialize:function(v,g,m,y,T){g===void 0&&(g=0),m===void 0&&(m=0),n.call(this,v,"Text"),this.renderer=v.sys.renderer,this.setPosition(g,m),this.setOrigin(0,0),this.initPipeline(),this.canvas=i.create(this),this.context=this.canvas.getContext("2d"),this.style=new c(this,T),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=v.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(y),T&&T.padding&&this.setPadding(T.padding),T&&T.lineSpacing&&this.setLineSpacing(T.lineSpacing),v.sys.game.events.on(r.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(v){var g=this.style;if(g.wordWrapCallback){var m=g.wordWrapCallback.call(g.wordWrapCallbackScope,v,this);return Array.isArray(m)&&(m=m.join(`
`)),m}return g.wordWrapWidth?g.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,g,m){for(var y="",T=v.replace(/ +/gi," ").split(this.splitRegExp),E=T.length,S=0;S<E;S++){var C="",M=(M=T[S]).replace(/^ *|\s*$/gi,"");if(g.measureText(M).width<m)y+=M+`
`;else{for(var P=m,R=M.split(" "),L=0;L<R.length;L++){var w=R[L],B=w+" ",G=g.measureText(B).width;if(P<G){if(L===0){for(var Y=B;Y.length&&(Y=Y.slice(0,-1),!((G=g.measureText(Y).width)<=P)););if(!Y.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var D=w.substr(Y.length);R[L]=D,C+=Y}var F=R[L].length?L:L+1,N=R.slice(F).join(" ").replace(/[ \n]*$/gi,"");T[S+1]=N+" "+(T[S+1]||""),E=T.length;break}C+=B,P-=G}y+=C.replace(/[ \n]*$/gi,"")+`
`}}return y=y.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(v,g,m){for(var y="",T=v.split(this.splitRegExp),E=T.length-1,S=g.measureText(" ").width,C=0;C<=E;C++){for(var M=m,P=T[C].split(" "),R=P.length-1,L=0;L<=R;L++){var w=P[L],B=g.measureText(w).width,G=B;L<R&&(G+=S),M<G&&0<L&&(y+=`
`,M=m),y+=w,L<R?(y+=" ",M-=G):M-=B}C<E&&(y+=`
`)}return y},getWrappedText:function(v){return v===void 0&&(v=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(v).split(this.splitRegExp)},setText:function(v){return v||v===0||(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this._text&&(this._text=v.toString(),this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,g){return this.style.setFixedSize(v,g)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,g){return this.style.setStroke(v,g)},setShadow:function(v,g,m,y,T,E){return this.style.setShadow(v,g,m,y,T,E)},setShadowOffset:function(v,g){return this.style.setShadowOffset(v,g)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,g){return this.style.setWordWrapWidth(v,g)},setWordWrapCallback:function(v,g){return this.style.setWordWrapCallback(v,g)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setPadding:function(v,g,m,y){var T,E,S;return typeof v=="object"?(m=(E=l(T=v,"x",null))!==null?v=E:(v=l(T,"left",0),l(T,"right",v)),y=(S=l(T,"y",null))!==null?g=S:(g=l(T,"top",0),l(T,"bottom",g))):(v===void 0&&(v=0),g===void 0&&(g=v),m===void 0&&(m=v),y===void 0&&(y=g)),this.padding.left=v,this.padding.top=g,this.padding.right=m,this.padding.bottom=y,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},updateText:function(){var v=this.canvas,g=this.context,m=this.style,y=m.resolution,T=m.metrics;m.syncFont(v,g);var E=this._text;(m.wordWrapWidth||m.wordWrapCallback)&&(E=this.runWordWrap(this._text));var S,C=E.split(this.splitRegExp),M=o(this,T,C),P=this.padding;m.fixedWidth===0?(this.width=M.width+P.left+P.right,S=M.width):(this.width=m.fixedWidth,(S=this.width-P.left-P.right)<M.width&&(S=M.width)),m.fixedHeight===0?this.height=M.height+P.top+P.bottom:this.height=m.fixedHeight;var R,L,w=this.width,B=this.height;this.updateDisplayOrigin(),w*=y,B*=y,w=Math.max(w,1),B=Math.max(B,1),v.width!==w||v.height!==B?(v.width=w,v.height=B,this.frame.setSize(w,B),m.syncFont(v,g)):g.clearRect(0,0,w,B),g.save(),g.scale(y,y),m.backgroundColor&&(g.fillStyle=m.backgroundColor,g.fillRect(0,0,w,B)),m.syncStyle(v,g),g.textBaseline="alphabetic",g.translate(P.left,P.top);for(var G=0;G<M.lines;G++){if(R=m.strokeThickness/2,L=m.strokeThickness/2+G*M.lineHeight+T.ascent,0<G&&(L+=M.lineSpacing*G),m.rtl)R=w-R;else if(m.align==="right")R+=S-M.lineWidths[G];else if(m.align==="center")R+=(S-M.lineWidths[G])/2;else if(m.align==="justify"&&.85<=M.lineWidths[G]/M.width){var Y=M.width-M.lineWidths[G],D=g.measureText(" ").width,F=C[G].trim(),N=F.split(" ");Y+=(C[G].length-F.length)*D;for(var I=Math.floor(Y/D),b=0;0<I;)N[b]+=" ",b=(b+1)%(N.length-1||1),--I;C[G]=N.join(" ")}this.autoRound&&(R=Math.round(R),L=Math.round(L)),m.strokeThickness&&(this.style.syncShadow(g,m.shadowStroke),g.strokeText(C[G],R,L)),m.color&&(this.style.syncShadow(g,m.shadowFill),g.fillText(C[G],R,L))}g.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var U=this.input;return U&&!U.customHitArea&&(U.hitArea.width=this.width,U.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=s.ToJSON(this),g={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=g,v},preDestroy:function(){this.style.rtl&&h(this.canvas),i.remove(this.canvas),this.texture.destroy()}});f.exports=d},function(f,x,t){var a=t(31),i=t(0),e=t(11),s=t(22),r=t(15),n=t(361),o=t(192),l=t(1091),h=t(3),u=new i({Extends:r,Mixins:[e.Alpha,e.BlendMode,e.ComputedSize,e.Crop,e.Depth,e.Flip,e.GetBounds,e.Mask,e.Origin,e.Pipeline,e.ScrollFactor,e.Tint,e.Transform,e.Visible,l],initialize:function(c,d,v,g,m,y,T){var E=c.sys.renderer;r.call(this,c,"TileSprite");var S=c.sys.textures.get(y),C=S.get(T);m=g&&m?(g=Math.floor(g),Math.floor(m)):(g=C.width,C.height),this._tilePosition=new h,this._tileScale=new h(1,1),this.dirty=!1,this.renderer=E,this.canvas=a.create(this,g,m),this.context=this.canvas.getContext("2d"),this.displayTexture=S,this.displayFrame=C,this._crop=this.resetCropObject(),this.texture=c.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=n(C.width),this.potHeight=n(C.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(d,v),this.setSize(g,m),this.setFrame(T),this.setOriginFromFrame(),this.initPipeline(),c.sys.game.events.on(s.CONTEXT_RESTORED,function(M){var P;M&&(P=M.gl,this.dirty=!0,this.fillPattern=null,this.fillPattern=M.createTexture2D(0,P.LINEAR,P.LINEAR,P.REPEAT,P.REPEAT,P.RGBA,this.fillCanvas,this.potWidth,this.potHeight))},this)},setTexture:function(c,d){return this.displayTexture=this.scene.sys.textures.get(c),this.setFrame(d)},setFrame:function(c){var d=this.displayTexture.get(c);return this.potWidth=n(d.width),this.potHeight=n(d.height),this.canvas.width=0,d.cutWidth&&d.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=d,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(c,d){return c!==void 0&&(this.tilePositionX=c),d!==void 0&&(this.tilePositionY=d),this},setTileScale:function(c,d){return c===void 0&&(c=this.tileScaleX),d===void 0&&(d=c),this.tileScaleX=c,this.tileScaleY=d,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var c=this.displayFrame;if(c.source.isRenderTexture||c.source.isGLTexture)return console.warn("TileSprites can only use Image or Canvas based textures"),void(this.dirty=!1);var d=this.fillContext,v=this.fillCanvas,g=this.potWidth,m=this.potHeight;this.renderer&&this.renderer.gl||(g=c.cutWidth,m=c.cutHeight),d.clearRect(0,0,g,m),v.width=g,v.height=m,d.drawImage(c.source.image,c.cutX,c.cutY,c.cutWidth,c.cutHeight,0,0,g,m),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(v,this.fillPattern):this.fillPattern=d.createPattern(v,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var c,d,v,g,m,y=this.canvas;y.width===this.width&&y.height===this.height||(y.width=this.width,y.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl||(c=this.context,this.scene.sys.game.config.antialias||o.disable(c),d=this._tileScale.x,v=this._tileScale.y,g=this._tilePosition.x,m=this._tilePosition.y,c.clearRect(0,0,this.width,this.height),c.save(),c.scale(d,v),c.translate(-g,-m),c.fillStyle=this.fillPattern,c.fillRect(g,m,this.width/d,this.height/v),c.restore()),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(c){this._tilePosition.x=c,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(c){this._tilePosition.y=c,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(c){this._tileScale.x=c,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(c){this._tileScale.y=c,this.dirty=!0}}});f.exports=u},function(f,x,t){var a=t(0),i=t(18),e=t(11),s=t(75),r=t(22),n=t(51),o=t(15),l=t(70),h=t(222),u=t(1094),c=t(14),d=new a({Extends:o,Mixins:[e.Alpha,e.BlendMode,e.Depth,e.Flip,e.GetBounds,e.Mask,e.Origin,e.Pipeline,e.ScrollFactor,e.Size,e.TextureCrop,e.Tint,e.Transform,e.Visible,u],initialize:function(v,g,m,y){o.call(this,v,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=h(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=c.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(g,m),this.initPipeline(),y&&this.changeSource(y,!1);var T=v.sys.game.events;T.on(r.PAUSE,this.globalPause,this),T.on(r.RESUME,this.globalResume,this);var E=v.sys.sound;E&&E.on(l.GLOBAL_MUTE,this.globalMute,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},play:function(v,g,m){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var y=this.video;if(!y)return console.warn("Video not loaded"),this;v===void 0&&(v=y.loop);var T=this.scene.sys.sound;T&&T.mute&&this.setMute(!0),isNaN(g)||(this._markerIn=g),!isNaN(m)&&g<m&&(this._markerOut=m),y.loop=v;var E=this._callbacks,S=y.play();return S!==void 0?S.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(y.addEventListener("playing",E.play,!0),y.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),y.addEventListener("ended",E.end,!0),y.addEventListener("timeupdate",E.time,!0),y.addEventListener("seeking",E.seeking,!0),y.addEventListener("seeked",E.seeked,!0),this},changeSource:function(v,g,m,y,T){g===void 0&&(g=!0),this.video&&this.stop();var E=this.scene.sys.cache.video.get(v);return E?(this.video=E,this._cacheKey=v,this._codePaused=E.paused,this._codeMuted=E.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,E,E.videoWidth,E.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,E.videoWidth,E.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(s.VIDEO_CREATED,this,E.videoWidth,E.videoHeight)):this.updateTexture(),E.currentTime=0,this._lastUpdate=0,g&&this.play(m,y,T)):this.video=null,this},addMarker:function(v,g,m){return!isNaN(g)&&0<=g&&!isNaN(m)&&(this.markers[v]=[g,m]),this},playMarker:function(v,g){var m=this.markers[v];return m&&this.play(g,m[0],m[1]),this},removeMarker:function(v){return delete this.markers[v],this},snapshot:function(v,g){return v===void 0&&(v=this.width),g===void 0&&(g=this.height),this.snapshotArea(0,0,this.width,this.height,v,g)},snapshotArea:function(v,g,m,y,T,E){v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=this.width),y===void 0&&(y=this.height),T===void 0&&(T=m),E===void 0&&(E=y);var S=this.video,C=this.snapshotTexture;return C?C.setSize(T,E):(C=this.scene.sys.textures.createCanvas(h(),T,E),this.snapshotTexture=C),S&&C.context.drawImage(S,v,g,m,y,0,0,T,E),C.update()},saveSnapshotTexture:function(v){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,v):this.snapshotTexture=this.scene.sys.textures.createCanvas(v,this.width,this.height),this.snapshotTexture},loadURL:function(v,g,m){m===void 0&&(m=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var y=document.createElement("video");return y.controls=!1,m&&(y.muted=!0,y.defaultMuted=!0,y.setAttribute("autoplay","autoplay")),y.setAttribute("playsinline","playsinline"),y.setAttribute("preload","auto"),y.addEventListener("error",this._callbacks.error,!0),y.src=v,y.load(),this.video=y,this},loadMediaStream:function(v,g,m){m===void 0&&(m=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var y=document.createElement("video");y.controls=!1,m&&(y.muted=!0,y.defaultMuted=!0,y.setAttribute("autoplay","autoplay")),y.setAttribute("playsinline","playsinline"),y.setAttribute("preload","auto"),y.addEventListener("error",this._callbacks.error,!0);try{y.srcObject=v}catch{y.src=window.URL.createObjectURL(v)}return y.load(),this.video=y,this},playPromiseSuccessHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(s.VIDEO_PLAY,this),-1<this._markerIn&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(v){this.scene.sys.input.once(n.POINTER_DOWN,this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(s.VIDEO_ERROR,this,v)},playHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(s.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(v){this.stop(),this.emit(s.VIDEO_ERROR,this,v)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(s.VIDEO_UNLOCKED,this),-1<this._markerIn&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(s.VIDEO_PLAY,this)},completeHandler:function(){this.emit(s.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(s.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var v,g=this.video;!g||(v=g.currentTime)!==this._lastUpdate&&(this._lastUpdate=v,this.updateTexture(),v>=this._markerOut&&(g.loop?(g.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=v,this.emit(s.VIDEO_LOOP,this)):(this.emit(s.VIDEO_COMPLETE,this),this.stop())))},checkVideoProgress:function(){2<=this.video.readyState?this.updateTexture():(this.retry--,0<this.retry?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(s.VIDEO_TIMEOUT,this))},updateTexture:function(){var v,g=this.video,m=g.videoWidth,y=g.videoHeight;this.videoTexture?((v=this.videoTextureSource).source!==g&&(v.source=g,v.width=m,v.height=y),v.update()):(this.videoTexture=this.scene.sys.textures.create(this._key,g,m,y),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,m,y),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(s.VIDEO_CREATED,this,m,y))},getVideoKey:function(){return this._cacheKey},seekTo:function(v){var g,m,y=this.video;return y&&((g=y.duration)===1/0||isNaN(g)||(m=g*v,this.setCurrentTime(m))),this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(v){var g,m,y=this.video;return y&&(typeof v=="string"&&(g=v[0],m=parseFloat(v.substr(1)),g==="+"?v=y.currentTime+m:g==="-"&&(v=y.currentTime-m)),y.currentTime=v,this._lastUpdate=v),this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(s.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(s.VIDEO_SEEKED,this),this.video&&this.updateTexture()},getProgress:function(){var v=this.video;if(v){var g=v.currentTime,m=v.duration;if(m!==1/0&&!isNaN(m))return g/m}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(v){v===void 0&&(v=!0),this._codeMuted=v;var g=this.video;return g&&(g.muted=!!this._systemMuted||v),this},isMuted:function(){return this._codeMuted},globalMute:function(v,g){this._systemMuted=g;var m=this.video;m&&(m.muted=!!this._codeMuted||g)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(v){v===void 0&&(v=!0);var g=this.video;return this._codePaused=v,g&&(v?g.paused||g.pause():v||g.paused&&!this._systemPaused&&g.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(v){return v===void 0&&(v=1),this.video&&(this.video.volume=i(v,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(v){return this.video&&(this.video.playbackRate=v),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(v){return v===void 0&&(v=!0),this.video&&(this.video.loop=v),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(v,g){return g===void 0&&(g=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,v),this._key=v,this.flipY=g,this.videoTextureSource&&this.videoTextureSource.setFlipY(g),this.videoTexture},stop:function(){var v=this.video;if(v){var g=this._callbacks;for(var m in g)v.removeEventListener(m,g[m],!0);v.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(s.VIDEO_STOP,this),this},removeVideoElement:function(){var v=this.video;if(v){for(v.parentNode&&v.parentNode.removeChild(v);v.hasChildNodes();)v.removeChild(v.firstChild);v.removeAttribute("autoplay"),v.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var v=this.scene.sys.game.events;v.off(r.PAUSE,this.globalPause,this),v.off(r.RESUME,this.globalResume,this);var g=this.scene.sys.sound;g&&g.off(l.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});f.exports=d},function(f,x,t){var a=t(0),i=t(228),e=t(470),s=t(56),r=new a({initialize:function(n){this.type=s.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(n,o){return i(this,n,o)},setTo:function(n){if(this.area=0,this.points=[],typeof n=="string"&&(n=n.split(" ")),!Array.isArray(n))return this;for(var o,l=Number.MAX_VALUE,h=0;h<n.length;h++)o={x:0,y:0},typeof n[h]=="number"||typeof n[h]=="string"?(o.x=parseFloat(n[h]),o.y=parseFloat(n[h+1]),h++):Array.isArray(n[h])?(o.x=n[h][0],o.y=n[h][1]):(o.x=n[h].x,o.y=n[h].y),this.points.push(o),o.y<l&&(l=o.y);return this.calculateArea(l),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var n,o,l=0,h=0;h<this.points.length-1;h++)n=this.points[h],l+=((o=this.points[h+1]).x-n.x)*(n.y+o.y);return n=this.points[0],o=this.points[this.points.length-1],l+=(n.x-o.x)*(o.y+n.y),this.area=.5*-l,this.area},getPoints:function(n,o,l){return e(this,n,o,l)}});f.exports=r},function(f,x){f.exports=function(t,a,i){for(var e=!1,s=-1,r=t.points.length-1;++s<t.points.length;r=s){var n=t.points[s].x,o=t.points[s].y,l=t.points[r].x,h=t.points[r].y;(o<=i&&i<h||h<=i&&i<o)&&a<(l-n)*(i-o)/(h-o)+n&&(e=!e)}return e}},function(f,x,t){var a=t(0),i=t(11),e=t(15),s=t(2),r=t(17),n=t(478),o=t(1176),l=t(25),h=new a({Extends:e,Mixins:[i.ComputedSize,i.Depth,i.GetBounds,i.Mask,i.Origin,i.ScrollFactor,i.Transform,i.Visible,o],initialize:function(u,c,d,v,g,m,y,T){d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=128),m===void 0&&(m=128),e.call(this,u,"Shader"),this.blendMode=-1,this.shader;var E=u.sys.renderer;this.renderer=E,this.gl=E.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=E.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=E.width,this._rendererHeight=E.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(d,v),this.setSize(g,m),this.setOrigin(.5,.5),this.setShader(c,y,T)},willRender:function(u){return!!this.renderToTexture||!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},setRenderToTexture:function(u,c){var d,v,g;return c===void 0&&(c=!1),this.renderToTexture||(d=this.width,v=this.height,g=this.renderer,this.glTexture=g.createTextureFromSource(null,d,v,0),this.glTexture.flipY=c,this.framebuffer=g.createFramebuffer(d,v,this.glTexture,!1),this._rendererWidth=d,this._rendererHeight=v,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),u&&(this.texture=this.scene.sys.textures.addGLTexture(u,this.glTexture,d,v))),this.shader&&(g.pipelines.clear(),this.load(),this.flush(),g.pipelines.rebind()),this},setShader:function(u,c,d){if(c===void 0&&(c=[]),typeof u=="string"){var v=this.scene.sys.cache.shader;if(!v.has(u))return console.warn("Shader missing: "+u),this;this.shader=v.get(u)}else this.shader=u;var g=this.gl,m=this.renderer;this.program&&g.deleteProgram(this.program);var y=m.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);g.uniformMatrix4fv(g.getUniformLocation(y,"uViewMatrix"),!1,this.viewMatrix),g.uniformMatrix4fv(g.getUniformLocation(y,"uProjectionMatrix"),!1,this.projectionMatrix),g.uniform2f(g.getUniformLocation(y,"uResolution"),this.width,this.height),this.program=y;var T=new Date,E={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[T.getFullYear(),T.getMonth(),T.getDate(),60*T.getHours()*60+60*T.getMinutes()+T.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,E):this.uniforms=E;for(var S=0;S<4;S++)c[S]&&this.setSampler2D("iChannel"+S,c[S],S,d);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(u){return this.pointer=u,this},projOrtho:function(u,c,d,v){var g=1/(u-c),m=1/(d-v),y=this.projectionMatrix;y[0]=-2*g,y[5]=-2*m,y[10]=-.001,y[12]=(u+c)*g,y[13]=(v+d)*m,y[14]=-0;var T=this.program,E=this.gl;this.renderer.setProgram(T),E.uniformMatrix4fv(E.getUniformLocation(T,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=c,this._rendererHeight=d},initUniforms:function(){var u=this.gl,c=this.renderer.glFuncMap,d=this.program;for(var v in this._textureCount=0,this.uniforms){var g=this.uniforms[v],m=g.type,y=c[m];g.uniformLocation=u.getUniformLocation(d,v),m!=="sampler2D"&&(g.glMatrix=y.matrix,g.glValueLength=y.length,g.glFunc=y.func)}},setSampler2DBuffer:function(u,c,d,v,g,m){g===void 0&&(g=0),m===void 0&&(m={});var y=this.uniforms[u];return y.value=c,m.width=d,m.height=v,y.textureData=m,this._textureCount=g,this.initSampler2D(y),this},setSampler2D:function(u,c,d,v){d===void 0&&(d=0);var g=this.scene.sys.textures;if(g.exists(c)){var m=g.getFrame(c);if(m.glTexture&&m.glTexture.isRenderTexture)return this.setSampler2DBuffer(u,m.glTexture,m.width,m.height,d,v);var y=this.uniforms[u],T=m.source;y.textureKey=c,y.source=T.image,y.value=m.glTexture,T.isGLTexture&&((v=v||{}).width=T.width,v.height=T.height),v&&(y.textureData=v),this._textureCount=d,this.initSampler2D(y)}return this},setUniform:function(u,c){return n(this.uniforms,u,c),this},getUniform:function(u){return s(this.uniforms,u,null)},setChannel0:function(u,c){return this.setSampler2D("iChannel0",u,0,c)},setChannel1:function(u,c){return this.setSampler2D("iChannel1",u,1,c)},setChannel2:function(u,c){return this.setSampler2D("iChannel2",u,2,c)},setChannel3:function(u,c){return this.setSampler2D("iChannel3",u,3,c)},initSampler2D:function(u){var c,d,v,g,m,y,T,E,S,C;u.value&&((c=this.gl).activeTexture(c.TEXTURE0+this._textureCount),c.bindTexture(c.TEXTURE_2D,u.value),(d=u.textureData)&&!u.value.isRenderTexture&&(v=c[s(d,"magFilter","linear").toUpperCase()],g=c[s(d,"minFilter","linear").toUpperCase()],m=c[s(d,"wrapS","repeat").toUpperCase()],y=c[s(d,"wrapT","repeat").toUpperCase()],T=c[s(d,"format","rgba").toUpperCase()],d.repeat&&(m=c.REPEAT,y=c.REPEAT),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!!d.flipY),d.width?(E=s(d,"width",512),S=s(d,"height",2),C=s(d,"border",0),c.texImage2D(c.TEXTURE_2D,0,T,E,S,C,T,c.UNSIGNED_BYTE,null)):c.texImage2D(c.TEXTURE_2D,0,T,c.RGBA,c.UNSIGNED_BYTE,u.source),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,v),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,g),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,m),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,y)),this.renderer.setProgram(this.program),c.uniform1i(u.uniformLocation,this._textureCount),this._textureCount++)},syncUniforms:function(){var u,c,d,v,g,m=this.gl,y=this.uniforms,T=0;for(var E in y)d=(u=y[E]).glFunc,c=u.glValueLength,v=u.uniformLocation,(g=u.value)!==null&&(c===1?u.glMatrix?d.call(m,v,u.transpose,g):d.call(m,v,g):c===2?d.call(m,v,g.x,g.y):c===3?d.call(m,v,g.x,g.y,g.z):c===4?d.call(m,v,g.x,g.y,g.z,g.w):u.type==="sampler2D"&&(m.activeTexture(m.TEXTURE0+T),m.bindTexture(m.TEXTURE_2D,g),m.uniform1i(v,T),T++))},load:function(u){var c,d,v=this.gl,g=this.width,m=this.height,y=this.renderer,T=this.program,E=this.viewMatrix;this.renderToTexture||(c=-this._displayOriginX,d=-this._displayOriginY,E[0]=u[0],E[1]=u[1],E[4]=u[2],E[5]=u[3],E[8]=u[4],E[9]=u[5],E[12]=E[0]*c+E[4]*d,E[13]=E[1]*c+E[5]*d),v.useProgram(T),v.uniformMatrix4fv(v.getUniformLocation(T,"uViewMatrix"),!1,E),v.uniform2f(v.getUniformLocation(T,"uResolution"),this.width,this.height);var S=this.uniforms,C=S.resolution;C.value.x=g,C.value.y=m,S.time.value=y.game.loop.getDuration();var M,P,R,L=this.pointer;L&&(M=S.mouse,P=L.x/g,R=1-L.y/m,M.value.x=P.toFixed(2),M.value.y=R.toFixed(2)),this.syncUniforms()},flush:function(){var u=this.width,c=this.height,d=this.program,v=this.gl,g=this.vertexBuffer,m=this.renderer,y=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(m.setFramebuffer(this.framebuffer),v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)),v.bindBuffer(v.ARRAY_BUFFER,g);var T=v.getAttribLocation(d,"inPosition");T!==-1&&(v.enableVertexAttribArray(T),v.vertexAttribPointer(T,2,v.FLOAT,!1,y,0));var E=this.vertexViewF32;E[3]=c,E[4]=u,E[5]=c,E[8]=u,E[9]=c,E[10]=u,v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,6*y)),v.drawArrays(v.TRIANGLES,0,6),this.renderToTexture&&m.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var u=this.gl;u.deleteProgram(this.program),u.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});f.exports=h},function(f,x,t){var a=t(0),i=t(11),e=t(36),s=t(116),r=t(15),n=t(479),o=t(480),l=t(19),h=t(69),u=t(1179),c=t(79),d=t(39),v=t(117),g=new a({Extends:r,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.Mask,i.Pipeline,i.Size,i.Texture,i.Transform,i.Visible,i.ScrollFactor,u],initialize:function(m,y,T,E,S,C,M,P,R,L,w,B){y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E="__WHITE"),r.call(this,m,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new h,this.viewPosition=new d,this.viewMatrix=new h,this.projectionMatrix=new h,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1;var G=m.sys.renderer;this.setPosition(y,T),this.setTexture(E,S),this.setSize(G.width,G.height),this.initPipeline(),this.setPerspective(G.width,G.height),C&&this.addVertices(C,M,P,R,L,w,B)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(m){return this.viewPosition.addScale(d.LEFT,m),this.dirtyCache[10]=1,this},panY:function(m){return this.viewPosition.y+=d.DOWN.y*m,this.dirtyCache[10]=1,this},panZ:function(m){return this.viewPosition.z+=m,this.dirtyCache[10]=1,this},setPerspective:function(m,y,T,E,S){return T===void 0&&(T=45),E===void 0&&(E=.01),S===void 0&&(S=1e3),this.projectionMatrix.perspective(e(T),m/y,E,S),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(m,y,T,E){return m===void 0&&(m=this.scene.sys.renderer.getAspectRatio()),y===void 0&&(y=1),T===void 0&&(T=-1e3),E===void 0&&(E=1e3),this.projectionMatrix.ortho(-m,m,-y,y,T,E),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(m){m.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(m,y,T,E,S,C,M,P,R){var L=this.scene.sys.cache.obj.get(m);return L&&o(L,this,y,T,E,S,C,M,P,R),this},sortByDepth:function(m,y){return m.depth-y.depth},depthSort:function(){return c(this.faces,this.sortByDepth),this},addVertex:function(m,y,T,E,S,C,M){var P=new v(m,y,T,E,S,C,M);return this.vertices.push(P),P},addFace:function(m,y,T){var E=new s(m,y,T);return this.faces.push(E),this.dirtyCache[9]=-1,E},addVertices:function(m,y,T,E,S,C,M){var P=n(m,y,T,E,S,C,M);return P&&(this.faces=this.faces.concat(P.faces),this.vertices=this.vertices.concat(P.vertices)),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(m){return this.faces[m]},getFaceAt:function(m,y,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var E=l(this,T).calc,S=this.faces,C=[],M=0;M<S.length;M++){var P=S[M];P.contains(m,y,E)&&C.push(P)}return c(C,this.sortByDepth)},setDebug:function(m,y){return this.debugGraphic=m,this.debugCallback=m||y?y||this.renderDebug:null,this},isDirty:function(){var m=this.modelPosition,y=this.modelRotation,T=this.modelScale,E=this.dirtyCache,S=m.x,C=m.y,M=m.z,P=y.x,R=y.y,L=y.z,w=T.x,B=T.y,G=T.z,Y=this.getFaceCount(),D=E[0],F=E[1],N=E[2],I=E[3],b=E[4],U=E[5],X=E[6],z=E[7],V=E[8],W=E[9];return E[0]=S,E[1]=C,E[2]=M,E[3]=P,E[4]=R,E[5]=L,E[6]=w,E[7]=B,E[8]=G,E[9]=Y,D!==S||F!==C||N!==M||I!==P||b!==R||U!==L||X!==w||z!==B||V!==G||W!==Y},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var m=this.dirtyCache;if(this.ignoreDirtyCache||m[10]||this.isDirty()){var y=this.width,T=this.height,E=this.viewMatrix,S=this.viewPosition;m[10]&&(E.identity(),E.translate(S),E.invert(),m[10]=0);var C=this.transformMatrix;C.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var M=S.z,P=this.faces,R=0;R<P.length;R++)P[R].transformCoordinatesLocal(C,y,T,M);this.depthSort()}},renderDebug:function(m,y){for(var T=m.debugGraphic,E=0;E<y.length;E++){var S=y[E],C=S.vertex1.tx,M=S.vertex1.ty,P=S.vertex2.tx,R=S.vertex2.ty,L=S.vertex3.tx,w=S.vertex3.ty;T.strokeTriangle(C,M,P,R,L,w)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null}});f.exports=g},function(f,x,t){var a=t(50);f.exports=function(i,e){return a(i.x,i.y,e.x,e.y)<=i.radius+e.radius}},function(f,x,t){var a=t(4),i=t(233);f.exports=function(e,s,r){var n,o,l,h,u,c,d,v,g,m,y,T,E,S,C,M,P;return r===void 0&&(r=[]),i(e,s)&&(n=e.x1,o=e.y1,l=e.x2,h=e.y2,(T=(y=2*((c=l-n)*(v=n-s.x)+(d=h-o)*(g=o-s.y)))*y-4*(m=c*c+d*d)*(v*v+g*g-(u=s.radius)*u))==0?(S=n+(E=-y/(2*m))*c,C=o+E*d,0<=E&&E<=1&&r.push(new a(S,C))):0<T&&(S=n+(M=(-y-Math.sqrt(T))/(2*m))*c,C=o+M*d,0<=M&&M<=1&&r.push(new a(S,C)),S=n+(P=(-y+Math.sqrt(T))/(2*m))*c,C=o+P*d,0<=P&&P<=1&&r.push(new a(S,C)))),r}},function(f,x,t){var a=t(66),i=new(t(4));f.exports=function(e,s,r){if(r===void 0&&(r=i),a(s,e.x1,e.y1))return r.x=e.x1,r.y=e.y1,!0;if(a(s,e.x2,e.y2))return r.x=e.x2,r.y=e.y2,!0;var n,o=e.x2-e.x1,l=e.y2-e.y1,h=s.x-e.x1,u=s.y-e.y1,c=o*o+l*l,d=o,v=l;return 0<c&&(d*=n=(h*o+u*l)/c,v*=n),r.x=e.x1+d,r.y=e.y1+v,d*d+v*v<=c&&0<=d*o+v*l&&a(s,r.x,r.y)}},function(f,x,t){var a=t(4),i=t(96),e=t(488);f.exports=function(s,r,n){if(n===void 0&&(n=[]),e(s,r))for(var o=r.getLineA(),l=r.getLineB(),h=r.getLineC(),u=r.getLineD(),c=[new a,new a,new a,new a],d=[i(o,s,c[0]),i(l,s,c[1]),i(h,s,c[2]),i(u,s,c[3])],v=0;v<4;v++)d[v]&&n.push(c[v]);return n}},function(f,x){f.exports=function(t,a,i,e){i===void 0&&(i=!1),e===void 0&&(e=[]);for(var s,r,n,o,l,h,u=t.x3-t.x1,c=t.y3-t.y1,d=t.x2-t.x1,v=t.y2-t.y1,g=u*u+c*c,m=u*d+c*v,y=d*d+v*v,T=g*y-m*m,E=T==0?0:1/T,S=t.x1,C=t.y1,M=0;M<a.length&&(r=(g*(h=d*(n=a[M].x-S)+v*(o=a[M].y-C))-m*(l=u*n+c*o))*E,!(0<=(s=(y*l-m*h)*E)&&0<=r&&s+r<1&&(e.push({x:a[M].x,y:a[M].y}),i)));M++);return e}},function(f,x){f.exports=function(t,a,i,e){var s=Math.cos(e),r=Math.sin(e),n=t.x1-a,o=t.y1-i;return t.x1=n*s-o*r+a,t.y1=n*r+o*s+i,n=t.x2-a,o=t.y2-i,t.x2=n*s-o*r+a,t.y2=n*r+o*s+i,t}},function(f,x){f.exports=function(t){return t.height===0?NaN:t.width/t.height}},function(f,x){f.exports=function(t,a,i,e){var s=Math.cos(e),r=Math.sin(e),n=t.x1-a,o=t.y1-i;return t.x1=n*s-o*r+a,t.y1=n*r+o*s+i,n=t.x2-a,o=t.y2-i,t.x2=n*s-o*r+a,t.y2=n*r+o*s+i,n=t.x3-a,o=t.y3-i,t.x3=n*s-o*r+a,t.y3=n*r+o*s+i,t}},function(f,x,t){f.exports={BUTTON_DOWN:t(1310),BUTTON_UP:t(1311),CONNECTED:t(1312),DISCONNECTED:t(1313),GAMEPAD_BUTTON_DOWN:t(1314),GAMEPAD_BUTTON_UP:t(1315)}},function(f,x,t){var a=t(17),i=t(156);f.exports=function(e,s){var r=e===void 0?i():a({},e);if(s)for(var n in s)s[n]!==void 0&&(r[n]=s[n]);return r}},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(7),o=t(408),l=new a({Extends:e,initialize:function(h,u,c,d){var v,g="xml";n(u)&&(u=r(v=u,"key"),c=r(v,"url"),d=r(v,"xhrSettings"),g=r(v,"extension",g));var m={type:"xml",cache:h.cacheManager.xml,extension:g,responseType:"text",key:u,url:c,xhrSettings:d};e.call(this,h,m)},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=o(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});s.register("xml",function(h,u,c){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new l(this,h[d]));else this.addFile(new l(this,h,u,c));return this}),f.exports=l},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(7),o=new a({Extends:e,initialize:function(l,h,u,c){var d,v="text",g="txt",m=l.cacheManager.text;n(h)&&(h=r(d=h,"key"),u=r(d,"url"),c=r(d,"xhrSettings"),g=r(d,"extension",g),v=r(d,"type",v),m=r(d,"cache",m));var y={type:v,cache:m,extension:g,responseType:"text",key:h,url:u,xhrSettings:c};e.call(this,l,y)},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("text",function(l,h,u){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new o(this,l[c]));else this.addFile(new o(this,l,h,u));return this}),f.exports=o},function(f,x,t){f.exports={Acceleration:t(1368),Angular:t(1369),Bounce:t(1370),Debug:t(1371),Drag:t(1372),Enable:t(1373),Friction:t(1374),Gravity:t(1375),Immovable:t(1376),Mass:t(1377),OverlapCirc:t(523),OverlapRect:t(244),Pushable:t(1378),Size:t(1379),Velocity:t(1380)}},function(f,x){f.exports=function(t,a,i,e,s,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1);var o,l,h,u=[],c=[],d=t.treeMinMax;return d.minX=a,d.minY=i,d.maxX=a+e,d.maxY=i+s,n&&(c=t.staticTree.search(d)),r&&t.useTree?u=t.tree.search(d):r&&(o=t.bodies,l={position:{x:a,y:i},left:a,top:i,right:a+e,bottom:i+s,isCircle:!1},h=t.intersects,o.iterate(function(v){h(v,l)&&u.push(v)})),c.concat(u)}},function(f,x,t){f.exports={COLLIDE:t(1381),OVERLAP:t(1382),PAUSE:t(1383),RESUME:t(1384),TILE_COLLIDE:t(1385),TILE_OVERLAP:t(1386),WORLD_BOUNDS:t(1387),WORLD_STEP:t(1388)}},function(f,x,t){var a=t(62);f.exports=function(i,e,s,r){var n=0,o=i.deltaAbsX()+e.deltaAbsX()+r;return i._dx===0&&e._dx===0?(i.embedded=!0,e.embedded=!0):i._dx>e._dx?o<(n=i.right-e.x)&&!s||i.checkCollision.right===!1||e.checkCollision.left===!1?n=0:(i.touching.none=!1,i.touching.right=!0,e.touching.none=!1,e.touching.left=!0,e.physicsType!==a.STATIC_BODY||s||(i.blocked.none=!1,i.blocked.right=!0),i.physicsType!==a.STATIC_BODY||s||(e.blocked.none=!1,e.blocked.left=!0)):i._dx<e._dx&&(o<-(n=i.x-e.width-e.x)&&!s||i.checkCollision.left===!1||e.checkCollision.right===!1?n=0:(i.touching.none=!1,i.touching.left=!0,e.touching.none=!1,e.touching.right=!0,e.physicsType!==a.STATIC_BODY||s||(i.blocked.none=!1,i.blocked.left=!0),i.physicsType!==a.STATIC_BODY||s||(e.blocked.none=!1,e.blocked.right=!0))),i.overlapX=n,e.overlapX=n}},function(f,x,t){var a=t(62);f.exports=function(i,e,s,r){var n=0,o=i.deltaAbsY()+e.deltaAbsY()+r;return i._dy===0&&e._dy===0?(i.embedded=!0,e.embedded=!0):i._dy>e._dy?o<(n=i.bottom-e.y)&&!s||i.checkCollision.down===!1||e.checkCollision.up===!1?n=0:(i.touching.none=!1,i.touching.down=!0,e.touching.none=!1,e.touching.up=!0,e.physicsType!==a.STATIC_BODY||s||(i.blocked.none=!1,i.blocked.down=!0),i.physicsType!==a.STATIC_BODY||s||(e.blocked.none=!1,e.blocked.up=!0)):i._dy<e._dy&&(o<-(n=i.y-e.bottom)&&!s||i.checkCollision.up===!1||e.checkCollision.down===!1?n=0:(i.touching.none=!1,i.touching.up=!0,e.touching.none=!1,e.touching.down=!0,e.physicsType!==a.STATIC_BODY||s||(i.blocked.none=!1,i.blocked.up=!0),i.physicsType!==a.STATIC_BODY||s||(e.blocked.none=!1,e.blocked.down=!0))),i.overlapY=n,e.overlapY=n}},function(f,x){f.exports=function(t,a){return!(a.right<=t.left||a.bottom<=t.top||a.position.x>=t.right||a.position.y>=t.bottom)}},function(f,x,t){f.exports={Bounce:t(1495),Collision:t(1496),Force:t(1497),Friction:t(1498),Gravity:t(1499),Mass:t(1500),Sensor:t(1501),SetBody:t(1502),Sleep:t(1503),Static:t(1520),Transform:t(1521),Velocity:t(1522)}},function(f,x){var t={};(f.exports=t).create=function(a,i){var e=a.bodyA,s=a.bodyB,r={id:t.id(e,s),bodyA:e,bodyB:s,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:e.isSensor||s.isSensor,timeCreated:i,timeUpdated:i,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return t.update(r,a,i),r},t.update=function(a,i,e){if((a.collision=i).collided){var s=i.supports,r=a.activeContacts,n=i.parentA,o=i.parentB;a.inverseMass=n.inverseMass+o.inverseMass,a.friction=Math.min(n.friction,o.friction),a.frictionStatic=Math.max(n.frictionStatic,o.frictionStatic),a.restitution=Math.max(n.restitution,o.restitution),a.slop=Math.max(n.slop,o.slop);for(var l=0;l<s.length;l++)r[l]=s[l].contact;var h=s.length;h<r.length&&(r.length=h),a.separation=i.depth,t.setActive(a,!0,e)}else a.isActive===!0&&t.setActive(a,!1,e)},t.setActive=function(a,i,e){i?(a.isActive=!0,a.timeUpdated=e):(a.isActive=!1,a.activeContacts.length=0)},t.id=function(a,i){return a.id<i.id?"A"+a.id+"B"+i.id:"A"+i.id+"B"+a.id}},function(f,x,t){f.exports={CalculateFacesAt:t(252),CalculateFacesWithin:t(63),CheckIsoBounds:t(541),Copy:t(1420),CreateFromTiles:t(1421),CullBounds:t(543),CullTiles:t(544),Fill:t(1422),FilterTiles:t(1423),FindByIndex:t(1424),FindTile:t(1425),ForEachTile:t(1426),GetCullTilesFunction:t(1427),GetTileAt:t(158),GetTileAtWorldXY:t(1428),GetTilesWithin:t(26),GetTilesWithinShape:t(1429),GetTilesWithinWorldXY:t(529),GetTileToWorldXFunction:t(1430),GetTileToWorldXYFunction:t(1431),GetTileToWorldYFunction:t(1432),GetWorldToTileXFunction:t(1433),GetWorldToTileXYFunction:t(1434),GetWorldToTileYFunction:t(1435),HasTileAt:t(562),HasTileAtWorldXY:t(1436),HexagonalCullBounds:t(546),HexagonalCullTiles:t(545),HexagonalTileToWorldXY:t(550),HexagonalTileToWorldY:t(554),HexagonalWorldToTileXY:t(556),HexagonalWorldToTileY:t(560),IsInLayerBounds:t(119),IsometricCullTiles:t(547),IsometricTileToWorldXY:t(551),IsometricWorldToTileXY:t(557),PutTileAt:t(257),PutTileAtWorldXY:t(1437),PutTilesAt:t(1438),Randomize:t(1439),RemoveTileAt:t(563),RemoveTileAtWorldXY:t(1440),RenderDebug:t(1441),ReplaceByIndex:t(542),RunCull:t(159),SetCollision:t(1442),SetCollisionBetween:t(1443),SetCollisionByExclusion:t(1444),SetCollisionByProperty:t(1445),SetCollisionFromCollisionGroup:t(1446),SetLayerCollisionIndex:t(160),SetTileCollision:t(72),SetTileIndexCallback:t(1447),SetTileLocationCallback:t(1448),Shuffle:t(1449),StaggeredCullBounds:t(549),StaggeredCullTiles:t(548),StaggeredTileToWorldXY:t(552),StaggeredTileToWorldY:t(555),StaggeredWorldToTileXY:t(558),StaggeredWorldToTileY:t(561),SwapByIndex:t(1450),TileToWorldX:t(253),TileToWorldXY:t(553),TileToWorldY:t(254),WeightedRandomize:t(1451),WorldToTileX:t(255),WorldToTileXY:t(559),WorldToTileY:t(256)}},function(f,x,t){var a=t(158);f.exports=function(i,e,s){var r=a(i,e,!0,s),n=a(i,e-1,!0,s),o=a(i,e+1,!0,s),l=a(i-1,e,!0,s),h=a(i+1,e,!0,s),u=r&&r.collides;return u&&(r.faceTop=!0,r.faceBottom=!0,r.faceLeft=!0,r.faceRight=!0),n&&n.collides&&(u&&(r.faceTop=!1),n.faceBottom=!u),o&&o.collides&&(u&&(r.faceBottom=!1),o.faceTop=!u),l&&l.collides&&(u&&(r.faceLeft=!1),l.faceRight=!u),h&&h.collides&&(u&&(r.faceRight=!1),h.faceLeft=!u),r&&!r.collides&&r.resetFaces(),r}},function(f,x){f.exports=function(t,a,i){var e=i.baseTileWidth,s=i.tilemapLayer,r=0;return s&&(a=a||s.scene.cameras.main,r=s.x+a.scrollX*(1-s.scrollFactorX),e*=s.scaleX),r+t*e}},function(f,x){f.exports=function(t,a,i){var e=i.baseTileHeight,s=i.tilemapLayer,r=0;return s&&(a=a||s.scene.cameras.main,r=s.y+a.scrollY*(1-s.scrollFactorY),e*=s.scaleY),r+t*e}},function(f,x){f.exports=function(t,a,i,e){a===void 0&&(a=!0);var s=e.baseTileWidth,r=e.tilemapLayer;return r&&(i=i||r.scene.cameras.main,t-=r.x+i.scrollX*(1-r.scrollFactorX),s*=r.scaleX),a?Math.floor(t/s):t/s}},function(f,x){f.exports=function(t,a,i,e){a===void 0&&(a=!0);var s=e.baseTileHeight,r=e.tilemapLayer;return r&&(i=i||r.scene.cameras.main,t-=r.y+i.scrollY*(1-r.scrollFactorY),s*=r.scaleY),a?Math.floor(t/s):t/s}},function(f,x,t){var a=t(85),i=t(119),e=t(252),s=t(72);f.exports=function(r,n,o,l,h){if(l===void 0&&(l=!0),!i(n,o,h))return null;var u,c=h.data[o][n],d=c&&c.collides;r instanceof a?(h.data[o][n]===null&&(h.data[o][n]=new a(h,r.index,n,o,h.tileWidth,h.tileHeight)),h.data[o][n].copy(r)):(u=r,h.data[o][n]===null?h.data[o][n]=new a(h,u,n,o,h.tileWidth,h.tileHeight):h.data[o][n].index=u);var v=h.data[o][n],g=h.collideIndexes.indexOf(v.index)!==-1;return s(v,g),l&&d!==v.collides&&e(n,o,h),v}},function(f,x,t){var a=t(29);f.exports=function(i){return(i=i.toLowerCase())==="isometric"?a.ISOMETRIC:i==="staggered"?a.STAGGERED:i==="hexagonal"?a.HEXAGONAL:a.ORTHOGONAL}},function(f,x,t){var a=t(40),i=t(120),e=t(121),s=t(85);f.exports=function(r,n,o,l,h){for(var u=new i({tileWidth:o,tileHeight:l}),c=new e({name:r,tileWidth:o,tileHeight:l,format:a.ARRAY_2D,layers:[u]}),d=[],v=n.length,g=0,m=0;m<n.length;m++){d[m]=[];for(var y=n[m],T=0;T<y.length;T++){var E=parseInt(y[T],10);isNaN(E)||E===-1?d[m][T]=h?null:new s(u,-1,T,m,o,l):d[m][T]=new s(u,E,T,m,o,l)}g===0&&(g=y.length)}return c.width=u.width=g,c.height=u.height=v,c.widthInPixels=u.widthInPixels=g*o,c.heightInPixels=u.heightInPixels=v*l,u.data=d,c}},function(f,x,t){function a(r){return{x:r.x,y:r.y}}var i=t(571),e=t(261),s=["id","name","type","rotation","properties","visible","x","y","width","height"];f.exports=function(r,n,o){n===void 0&&(n=0),o===void 0&&(o=0);var l,h=i(r,s);return h.x+=n,h.y+=o,r.gid?(l=e(r.gid),h.gid=l.gid,h.flippedHorizontal=l.flippedHorizontal,h.flippedVertical=l.flippedVertical,h.flippedAntiDiagonal=l.flippedAntiDiagonal):r.polyline?h.polyline=r.polyline.map(a):r.polygon?h.polygon=r.polygon.map(a):r.ellipse?h.ellipse=r.ellipse:r.text?h.text=r.text:r.point?h.point=!0:h.rectangle=!0,h}},function(f,x){f.exports=function(t){var a=Boolean(2147483648&t),i=Boolean(1073741824&t),e=Boolean(536870912&t);t&=536870911;var s=0,r=!1;return a&&i&&e?(s=Math.PI/2,r=!0):a&&i&&!e?(s=Math.PI,r=!1):a&&!i&&e?(s=Math.PI/2,r=!1):!a||i||e?!a&&i&&e?(s=3*Math.PI/2,r=!1):a||!i||e?a||i||!e?a||i||e||(s=0,r=!1):(s=3*Math.PI/2,r=!0):(s=Math.PI,r=!0):r=!(s=0),{gid:t,flippedHorizontal:a,flippedVertical:i,flippedAntiDiagonal:e,rotation:s,flipped:r}}},function(f,x,t){var a=t(40),i=t(121),e=t(564),s=t(580);f.exports=function(r,n,o,l,h,u,c,d){o===void 0&&(o=32),l===void 0&&(l=32),h===void 0&&(h=10),u===void 0&&(u=10),d===void 0&&(d=!1);var v,g=null;return Array.isArray(c)?g=e(n!==void 0?n:"map",a.ARRAY_2D,c,o,l,d):n!==void 0&&((v=r.cache.tilemap.get(n))?g=e(n,v.format,v.data,o,l,d):console.warn("No map data found for key "+n)),g===null&&(g=new i({tileWidth:o,tileHeight:l,width:h,height:u})),new s(r,g)}},function(f,x,t){var a=t(6);f.exports=function(i){var e=a(i,"targets",null);return e===null||(typeof e=="function"&&(e=e.call()),Array.isArray(e)||(e=[e])),e}},function(f,x){function t(s){return!!s.getActive&&typeof s.getActive=="function"}function a(s){return!!s.getStart&&typeof s.getStart=="function"}function i(s){return!!s.getEnd&&typeof s.getEnd=="function"}var e=function(s,r){var n,o,l,h,u,c,d,v=function(S,C,M){return M},g=function(S,C,M){return M},m=null,y=typeof r;if(y=="number")v=function(){return r};else if(y=="string"){var T=r[0],E=parseFloat(r.substr(2));switch(T){case"+":v=function(S,C,M){return M+E};break;case"-":v=function(S,C,M){return M-E};break;case"*":v=function(S,C,M){return M*E};break;case"/":v=function(S,C,M){return M/E};break;default:v=function(){return parseFloat(r)}}}else y=="function"?v=r:y=="object"&&(a(d=r)||i(d)||t(d)?(t(r)&&(m=r.getActive),i(r)&&(v=r.getEnd),a(r)&&(g=r.getStart)):r.hasOwnProperty("value")?c=e(s,r.value):(n=r.hasOwnProperty("to"),o=r.hasOwnProperty("from"),l=r.hasOwnProperty("start"),n&&(o||l)&&(c=e(s,r.to),l&&(h=e(s,r.start),c.getActive=h.getEnd),o&&(u=e(s,r.from),c.getStart=u.getEnd))));return c=c||{getActive:m,getEnd:v,getStart:g}};f.exports=e},function(f,x){f.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1}},function(f,x,t){var a=t(0),i=t(9),e=t(267),s=t(16),r=t(5),n=t(100),o=t(14),l=new a({Extends:i,initialize:function(h,u,c){i.call(this),this.parent=h,this.parentIsTimeline=h.hasOwnProperty("isTimeline"),this.data=u,this.totalData=u.length,this.targets=c,this.totalTargets=c.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=n.PENDING_ADD,this._pausedState=n.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(h){return h===void 0&&(h=0),this.data[h].current},setTimeScale:function(h){return this.timeScale=h,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===n.ACTIVE},isPaused:function(){return this.state===n.PAUSED},hasTarget:function(h){return this.targets.indexOf(h)!==-1},updateTo:function(h,u,c){c===void 0&&(c=!1);for(var d=0;d<this.totalData;d++){var v=this.data[d];v.key===h&&(v.end=u,c&&(v.start=v.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===n.ACTIVE?this.seek(0):this.state===n.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===n.PENDING_ADD?this:this.play()},calcDuration:function(){for(var h=0,u=o.MAX_SAFE_INTEGER,c=this.data,d=0;d<this.totalData;d++){var v=c[d];v.t1=v.duration+v.hold,v.yoyo&&(v.t1+=v.duration),v.t2=v.t1+v.repeatDelay,v.totalDuration=v.delay+v.t1,v.repeat===-1?v.totalDuration+=999999999999*v.t2:0<v.repeat&&(v.totalDuration+=v.t2*v.repeat),v.totalDuration>h&&(h=v.totalDuration),v.delay<u&&(u=v.delay)}this.duration=Math.max(h,.001),this.loopCounter=this.loop===-1?999999999999:this.loop,0<this.loopCounter?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=u},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=n.PENDING_ADD,this._pausedState=n.INIT,!1;for(var h=this.data,u=this.totalTargets,c=0;c<this.totalData;c++){var d=h[c],v=d.target,g=d.gen,m=d.key,y=d.index;d.delay=g.delay(v,m,0,y,u,this),d.duration=Math.max(g.duration(v,m,0,y,u,this),.001),d.hold=g.hold(v,m,0,y,u,this),d.repeat=g.repeat(v,m,0,y,u,this),d.repeatDelay=g.repeatDelay(v,m,0,y,u,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=n.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(e.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){0<this.loopCounter?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),0<this.loopDelay?(this.countdown=this.loopDelay,this.state=n.LOOP_DELAY):(this.state=n.ACTIVE,this.dispatchTweenEvent(e.TWEEN_LOOP,this.callbacks.onLoop))):0<this.completeDelay?(this.state=n.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=n.PENDING_REMOVE,this.dispatchTweenEvent(e.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===n.PAUSED||(this.paused=!0,this._pausedState=this.state,this.state=n.PAUSED),this},play:function(h){h===void 0&&(h=!1);var u=this.state;return u!==n.INIT||this.parentIsTimeline?u===n.ACTIVE||u===n.PENDING_ADD&&this._pausedState===n.PENDING_ADD||(this.parentIsTimeline||u!==n.PENDING_REMOVE&&u!==n.REMOVED?this.parentIsTimeline?(this.resetTweenData(h),this.calculatedOffset===0?this.state=n.ACTIVE:(this.countdown=this.calculatedOffset,this.state=n.OFFSET_DELAY)):(this.paused?this.paused=!1:(this.resetTweenData(h),this.state=n.ACTIVE),this.makeActive()):(this.seek(0),this.parent.makeActive(this))):(this.resetTweenData(!1),this.state=n.ACTIVE),this},resetTweenData:function(h){for(var u=this.data,c=this.totalData,d=this.totalTargets,v=0;v<c;v++){var g=u[v],m=g.target,y=g.key,T=g.index;g.progress=0,g.elapsed=0,g.repeatCounter=g.repeat===-1?999999999999:g.repeat,h?(g.start=g.getStartValue(m,y,g.start,T,d,this),g.end=g.getEndValue(m,y,g.end,T,d,this),g.current=g.start,g.state=n.PLAYING_FORWARD):g.state=n.PENDING_RENDER,0<g.delay&&(g.elapsed=g.delay,g.state=n.DELAY),g.getActiveValue&&(m[y]=g.getActiveValue(g.target,g.key,g.start))}},resume:function(){return this.state===n.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(h,u){u===void 0&&(u=16.6),this.state===n.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var c=this.data,d=this.totalTargets,v=0;v<this.totalData;v++){var g=c[v],m=g.target,y=g.gen,T=g.key,E=g.index;g.progress=0,g.elapsed=0,g.repeatCounter=g.repeat===-1?999999999999:g.repeat,g.delay=y.delay(m,T,0,E,d,this),g.duration=Math.max(y.duration(m,T,0,E,d,this),.001),g.hold=y.hold(m,T,0,E,d,this),g.repeat=y.repeat(m,T,0,E,d,this),g.repeatDelay=y.repeatDelay(m,T,0,E,d,this),g.current=g.start,g.state=n.PLAYING_FORWARD,this.updateTweenData(this,g,0,E,d),0<g.delay&&(g.elapsed=g.delay,g.state=n.DELAY)}this.calcDuration();var S=!1;for(this.state===n.PAUSED&&(S=!0,this.state=n.ACTIVE),this.isSeeking=!0;this.update(0,u),this.totalProgress<h;);return this.isSeeking=!1,S&&(this.state=n.PAUSED),this},setCallback:function(h,u,c,d){return this.callbacks[h]={func:u,scope:d,params:c},this},complete:function(h){return h===void 0&&(h=0),h?(this.state=n.COMPLETE_DELAY,this.countdown=h):(this.state=n.PENDING_REMOVE,this.dispatchTweenEvent(e.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(h){return this.state===n.ACTIVE&&h!==void 0&&this.seek(h),this.state!==n.REMOVED&&(this.state!==n.PAUSED&&this.state!==n.PENDING_ADD||(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(e.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=n.PENDING_REMOVE),this},update:function(h,u){if(this.state===n.PAUSED)return!1;switch(this.useFrames&&(u=+this.parent.timeScale),u*=this.timeScale,this.elapsed+=u,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=u,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case n.ACTIVE:this.hasStarted||this.isSeeking||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(e.TWEEN_START,this.callbacks.onStart)));for(var c=!1,d=0;d<this.totalData;d++){var v=this.data[d];this.updateTweenData(this,v,u)&&(c=!0)}c||this.nextState();break;case n.LOOP_DELAY:this.countdown-=u,this.countdown<=0&&(this.state=n.ACTIVE,this.dispatchTweenEvent(e.TWEEN_LOOP,this.callbacks.onLoop));break;case n.OFFSET_DELAY:this.countdown-=u,this.countdown<=0&&(this.state=n.ACTIVE);break;case n.COMPLETE_DELAY:this.countdown-=u,this.countdown<=0&&(this.state=n.PENDING_REMOVE,this.dispatchTweenEvent(e.TWEEN_COMPLETE,this.callbacks.onComplete))}return this.state===n.PENDING_REMOVE},dispatchTweenDataEvent:function(h,u,c){this.isSeeking||(this.emit(h,this,c.key,c.target,c.current,c.previous),u&&(u.params[1]=c.target,u.func.apply(u.scope,u.params)))},dispatchTweenEvent:function(h,u){this.isSeeking||(this.emit(h,this,this.targets),u&&(u.params[1]=this.targets,u.func.apply(u.scope,u.params)))},setStateFromEnd:function(h,u,c){return u.yoyo?(u.elapsed=c,u.progress=c/u.duration,u.flipX&&u.target.toggleFlipX(),u.flipY&&u.target.toggleFlipY(),this.dispatchTweenDataEvent(e.TWEEN_YOYO,h.callbacks.onYoyo,u),u.start=u.getStartValue(u.target,u.key,u.start,u.index,h.totalTargets,h),n.PLAYING_BACKWARD):0<u.repeatCounter?(u.repeatCounter--,u.elapsed=c,u.progress=c/u.duration,u.flipX&&u.target.toggleFlipX(),u.flipY&&u.target.toggleFlipY(),u.start=u.getStartValue(u.target,u.key,u.start,u.index,h.totalTargets,h),u.end=u.getEndValue(u.target,u.key,u.start,u.index,h.totalTargets,h),0<u.repeatDelay?(u.elapsed=u.repeatDelay-c,u.current=u.start,u.target[u.key]=u.current,n.REPEAT_DELAY):(this.dispatchTweenDataEvent(e.TWEEN_REPEAT,h.callbacks.onRepeat,u),n.PLAYING_FORWARD)):n.COMPLETE},setStateFromStart:function(h,u,c){return 0<u.repeatCounter?(u.repeatCounter--,u.elapsed=c,u.progress=c/u.duration,u.flipX&&u.target.toggleFlipX(),u.flipY&&u.target.toggleFlipY(),u.end=u.getEndValue(u.target,u.key,u.start,u.index,h.totalTargets,h),0<u.repeatDelay?(u.elapsed=u.repeatDelay-c,u.current=u.start,u.target[u.key]=u.current,n.REPEAT_DELAY):(this.dispatchTweenDataEvent(e.TWEEN_REPEAT,h.callbacks.onRepeat,u),n.PLAYING_FORWARD)):n.COMPLETE},updateTweenData:function(h,u,c){var d=u.target;switch(u.state){case n.PLAYING_FORWARD:case n.PLAYING_BACKWARD:if(!d){u.state=n.COMPLETE;break}var v=u.elapsed,g=u.duration,m=0;g<(v+=c)&&(m=v-g,v=g);var y,T=u.state===n.PLAYING_FORWARD,E=v/g;u.elapsed=v,u.progress=E,u.previous=u.current,E==1?T?(u.current=u.end,d[u.key]=u.end,0<u.hold?(u.elapsed=u.hold-m,u.state=n.HOLD_DELAY):u.state=this.setStateFromEnd(h,u,m)):(u.current=u.start,d[u.key]=u.start,u.state=this.setStateFromStart(h,u,m)):(y=T?u.ease(E):u.ease(1-E),u.current=u.start+(u.end-u.start)*y,d[u.key]=u.current),this.dispatchTweenDataEvent(e.TWEEN_UPDATE,h.callbacks.onUpdate,u);break;case n.DELAY:u.elapsed-=c,u.elapsed<=0&&(u.elapsed=Math.abs(u.elapsed),u.state=n.PENDING_RENDER);break;case n.REPEAT_DELAY:u.elapsed-=c,u.elapsed<=0&&(u.elapsed=Math.abs(u.elapsed),u.state=n.PLAYING_FORWARD,this.dispatchTweenDataEvent(e.TWEEN_REPEAT,h.callbacks.onRepeat,u));break;case n.HOLD_DELAY:u.elapsed-=c,u.elapsed<=0&&(u.state=this.setStateFromEnd(h,u,Math.abs(u.elapsed)));break;case n.PENDING_RENDER:d?(u.start=u.getStartValue(d,u.key,d[u.key],u.index,h.totalTargets,h),u.end=u.getEndValue(d,u.key,u.start,u.index,h.totalTargets,h),u.current=u.start,d[u.key]=u.start,u.state=n.PLAYING_FORWARD):u.state=n.COMPLETE}return u.state!==n.COMPLETE}});l.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],r.register("tween",function(h){return this.scene.sys.tweens.add(h)}),s.register("tween",function(h){return this.scene.sys.tweens.create(h)}),f.exports=l},function(f,x,t){f.exports={TIMELINE_COMPLETE:t(1466),TIMELINE_LOOP:t(1467),TIMELINE_PAUSE:t(1468),TIMELINE_RESUME:t(1469),TIMELINE_START:t(1470),TIMELINE_UPDATE:t(1471),TWEEN_ACTIVE:t(1472),TWEEN_COMPLETE:t(1473),TWEEN_LOOP:t(1474),TWEEN_REPEAT:t(1475),TWEEN_START:t(1476),TWEEN_STOP:t(1477),TWEEN_UPDATE:t(1478),TWEEN_YOYO:t(1479)}},function(f,x){f.exports=function(t,a,i,e,s,r,n,o,l,h,u,c,d,v,g){return{target:t,index:a,key:i,getActiveValue:r,getEndValue:e,getStartValue:s,ease:n,duration:0,totalDuration:0,delay:0,yoyo:h,hold:0,repeat:0,repeatDelay:0,flipX:v,flipY:g,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:o,duration:l,hold:u,repeat:c,repeatDelay:d},state:0}}},function(f,x,t){var a=t(68);f.exports=function(i){return a(i,-Math.PI,Math.PI)}},function(f,x,t){var a=t(68);f.exports=function(i){return a(i,-180,180)}},function(f,x,t){var a={};f.exports=a;var i=t(83),e=t(32);a.fromVertices=function(s){for(var r={},n=0;n<s.length;n++){var o=(n+1)%s.length,l=i.normalise({x:s[o].y-s[n].y,y:s[n].x-s[o].x});r[(l.y===0?1/0:l.x/l.y).toFixed(3).toString()]=l}return e.values(r)},a.rotate=function(s,r){if(r!==0)for(var n=Math.cos(r),o=Math.sin(r),l=0;l<s.length;l++){var h=s[l],u=h.x*n-h.y*o;h.y=h.x*o+h.y*n,h.x=u}}},function(f,x,t){f.exports={AFTER_ADD:t(1504),AFTER_REMOVE:t(1505),AFTER_UPDATE:t(1506),BEFORE_ADD:t(1507),BEFORE_REMOVE:t(1508),BEFORE_UPDATE:t(1509),COLLISION_ACTIVE:t(1510),COLLISION_END:t(1511),COLLISION_START:t(1512),DRAG_END:t(1513),DRAG:t(1514),DRAG_START:t(1515),PAUSE:t(1516),RESUME:t(1517),SLEEP_END:t(1518),SLEEP_START:t(1519)}},function(f,x,t){var a={};f.exports=a;var i=t(274),e=t(250),s=t(84);a.collisions=function(r,n){for(var o=[],l=n.pairs.table,h=n.metrics,u=0;u<r.length;u++){var c=r[u][0],d=r[u][1];if((!c.isStatic&&!c.isSleeping||!d.isStatic&&!d.isSleeping)&&a.canCollide(c.collisionFilter,d.collisionFilter)&&(h.midphaseTests+=1,s.overlaps(c.bounds,d.bounds)))for(var v=1<c.parts.length?1:0;v<c.parts.length;v++)for(var g=c.parts[v],m=1<d.parts.length?1:0;m<d.parts.length;m++){var y,T,E,S=d.parts[m];(g===c&&S===d||s.overlaps(g.bounds,S.bounds))&&(T=(y=l[e.id(g,S)])&&y.isActive?y.collision:null,E=i.collides(g,S,T),h.narrowphaseTests+=1,E.reused&&(h.narrowReuseCount+=1),E.collided&&(o.push(E),h.narrowDetections+=1))}}return o},a.canCollide=function(r,n){return r.group===n.group&&r.group!==0?0<r.group:(r.mask&n.category)!=0&&(n.mask&r.category)!=0}},function(f,x,t){var a={};f.exports=a;var i=t(64),e=t(83);a.collides=function(s,r,n){var o,l,h,u,c,d,v=!1;if(d=n?(h=s.parent,u=r.parent,c=h.speed*h.speed+h.angularSpeed*h.angularSpeed+u.speed*u.speed+u.angularSpeed*u.angularSpeed,v=n&&n.collided&&c<.2,n):{collided:!1,bodyA:s,bodyB:r},n&&v){var g=d.axisBody,m=g===s?r:s,y=[g.axes[n.axisNumber]],T=a._overlapAxes(g.vertices,m.vertices,y);if(d.reused=!0,T.overlap<=0)return d.collided=!1,d}else{if((o=a._overlapAxes(s.vertices,r.vertices,s.axes)).overlap<=0||(l=a._overlapAxes(r.vertices,s.vertices,r.axes)).overlap<=0)return d.collided=!1,d;o.overlap<l.overlap?(T=o,d.axisBody=s):(T=l,d.axisBody=r),d.axisNumber=T.axisNumber}d.bodyA=s.id<r.id?s:r,d.bodyB=s.id<r.id?r:s,d.collided=!0,d.depth=T.overlap,d.parentA=d.bodyA.parent,d.parentB=d.bodyB.parent,s=d.bodyA,r=d.bodyB,e.dot(T.axis,e.sub(r.position,s.position))<0?d.normal={x:T.axis.x,y:T.axis.y}:d.normal={x:-T.axis.x,y:-T.axis.y},d.tangent=e.perp(d.normal),d.penetration=d.penetration||{},d.penetration.x=d.normal.x*d.depth,d.penetration.y=d.normal.y*d.depth;var E,S=a._findSupports(s,r,d.normal),C=[];return i.contains(s.vertices,S[0])&&C.push(S[0]),i.contains(s.vertices,S[1])&&C.push(S[1]),C.length<2&&(E=a._findSupports(r,s,e.neg(d.normal)),i.contains(r.vertices,E[0])&&C.push(E[0]),C.length<2&&i.contains(r.vertices,E[1])&&C.push(E[1])),C.length<1&&(C=[S[0]]),d.supports=C,d},a._overlapAxes=function(s,r,n){for(var o,l,h=e._temp[0],u=e._temp[1],c={overlap:Number.MAX_VALUE},d=0;d<n.length;d++){if(l=n[d],a._projectToAxis(h,s,l),a._projectToAxis(u,r,l),(o=Math.min(h.max-u.min,u.max-h.min))<=0)return c.overlap=o,c;o<c.overlap&&(c.overlap=o,c.axis=l,c.axisNumber=d)}return c},a._projectToAxis=function(s,r,n){for(var o=e.dot(r[0],n),l=o,h=1;h<r.length;h+=1){var u=e.dot(r[h],n);l<u?l=u:u<o&&(o=u)}s.min=o,s.max=l},a._findSupports=function(s,r,n){for(var o,l,h,u=Number.MAX_VALUE,c=e._temp[0],d=r.vertices,v=s.position,g=0;g<d.length;g++)m=d[g],c.x=m.x-v.x,c.y=m.y-v.y,(o=-e.dot(n,c))<u&&(u=o,l=m);var m=d[0<=l.index-1?l.index-1:d.length-1];return c.x=m.x-v.x,c.y=m.y-v.y,u=-e.dot(n,c),h=m,m=d[(l.index+1)%d.length],c.x=m.x-v.x,c.y=m.y-v.y,(o=-e.dot(n,c))<u&&(h=m),[l,h]}},function(f,x,t){f.exports={AlignTo:t(601),Angle:t(602),Call:t(603),GetFirst:t(604),GetLast:t(605),GridAlign:t(606),IncAlpha:t(678),IncX:t(679),IncXY:t(680),IncY:t(681),PlaceOnCircle:t(682),PlaceOnEllipse:t(683),PlaceOnLine:t(684),PlaceOnRectangle:t(685),PlaceOnTriangle:t(686),PlayAnimation:t(687),PropertyValueInc:t(46),PropertyValueSet:t(27),RandomCircle:t(688),RandomEllipse:t(689),RandomLine:t(690),RandomRectangle:t(691),RandomTriangle:t(692),Rotate:t(693),RotateAround:t(694),RotateAroundDistance:t(695),ScaleX:t(696),ScaleXY:t(697),ScaleY:t(698),SetAlpha:t(699),SetBlendMode:t(700),SetDepth:t(701),SetHitArea:t(702),SetOrigin:t(703),SetRotation:t(704),SetScale:t(705),SetScaleX:t(706),SetScaleY:t(707),SetScrollFactor:t(708),SetScrollFactorX:t(709),SetScrollFactorY:t(710),SetTint:t(711),SetVisible:t(712),SetX:t(713),SetXY:t(714),SetY:t(715),ShiftPosition:t(716),Shuffle:t(717),SmootherStep:t(718),SmoothStep:t(719),Spread:t(720),ToggleVisible:t(721),WrapInRectangle:t(722)}},function(f,x,t){var a=t(123),i=[];i[a.BOTTOM_CENTER]=t(277),i[a.BOTTOM_LEFT]=t(278),i[a.BOTTOM_RIGHT]=t(279),i[a.LEFT_BOTTOM]=t(280),i[a.LEFT_CENTER]=t(281),i[a.LEFT_TOP]=t(282),i[a.RIGHT_BOTTOM]=t(283),i[a.RIGHT_CENTER]=t(284),i[a.RIGHT_TOP]=t(285),i[a.TOP_CENTER]=t(286),i[a.TOP_LEFT]=t(287),i[a.TOP_RIGHT]=t(288),f.exports=function(e,s,r,n,o){return i[r](e,s,n,o)}},function(f,x,t){var a=t(42),i=t(87),e=t(88),s=t(52);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),e(r,i(n)+o),s(r,a(n)+l),r}},function(f,x,t){var a=t(42),i=t(43),e=t(53),s=t(52);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),e(r,i(n)-o),s(r,a(n)+l),r}},function(f,x,t){var a=t(42),i=t(44),e=t(54),s=t(52);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),e(r,i(n)+o),s(r,a(n)+l),r}},function(f,x,t){var a=t(42),i=t(43),e=t(55),s=t(54);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),s(r,i(n)-o),e(r,a(n)+l),r}},function(f,x,t){var a=t(89),i=t(43),e=t(90),s=t(54);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),s(r,i(n)-o),e(r,a(n)+l),r}},function(f,x,t){var a=t(43),i=t(45),e=t(54),s=t(52);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),e(r,a(n)-o),s(r,i(n)-l),r}},function(f,x,t){var a=t(42),i=t(44),e=t(55),s=t(53);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),s(r,i(n)+o),e(r,a(n)+l),r}},function(f,x,t){var a=t(89),i=t(44),e=t(90),s=t(53);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),s(r,i(n)+o),e(r,a(n)+l),r}},function(f,x,t){var a=t(44),i=t(45),e=t(53),s=t(52);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),e(r,a(n)+o),s(r,i(n)-l),r}},function(f,x,t){var a=t(87),i=t(45),e=t(55),s=t(88);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),s(r,a(n)+o),e(r,i(n)-l),r}},function(f,x,t){var a=t(43),i=t(45),e=t(55),s=t(53);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),s(r,a(n)-o),e(r,i(n)-l),r}},function(f,x,t){var a=t(44),i=t(45),e=t(55),s=t(54);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),s(r,a(n)+o),e(r,i(n)-l),r}},function(f,x,t){var a=t(123),i=[];i[a.BOTTOM_CENTER]=t(290),i[a.BOTTOM_LEFT]=t(291),i[a.BOTTOM_RIGHT]=t(292),i[a.CENTER]=t(293),i[a.LEFT_CENTER]=t(295),i[a.RIGHT_CENTER]=t(296),i[a.TOP_CENTER]=t(297),i[a.TOP_LEFT]=t(298),i[a.TOP_RIGHT]=t(299),i[a.LEFT_BOTTOM]=i[a.BOTTOM_LEFT],i[a.LEFT_TOP]=i[a.TOP_LEFT],i[a.RIGHT_BOTTOM]=i[a.BOTTOM_RIGHT],i[a.RIGHT_TOP]=i[a.TOP_RIGHT],f.exports=function(e,s,r,n,o){return i[r](e,s,n,o)}},function(f,x,t){var a=t(42),i=t(87),e=t(55),s=t(88);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),s(r,i(n)+o),e(r,a(n)+l),r}},function(f,x,t){var a=t(42),i=t(43),e=t(55),s=t(53);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),s(r,i(n)-o),e(r,a(n)+l),r}},function(f,x,t){var a=t(42),i=t(44),e=t(55),s=t(54);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),s(r,i(n)+o),e(r,a(n)+l),r}},function(f,x,t){var a=t(294),i=t(87),e=t(89);f.exports=function(s,r,n,o){return n===void 0&&(n=0),o===void 0&&(o=0),a(s,i(r)+n,e(r)+o),s}},function(f,x,t){var a=t(88),i=t(90);f.exports=function(e,s,r){return a(e,s),i(e,r)}},function(f,x,t){var a=t(89),i=t(43),e=t(90),s=t(53);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),s(r,i(n)-o),e(r,a(n)+l),r}},function(f,x,t){var a=t(89),i=t(44),e=t(90),s=t(54);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),s(r,i(n)+o),e(r,a(n)+l),r}},function(f,x,t){var a=t(87),i=t(45),e=t(88),s=t(52);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),e(r,a(n)+o),s(r,i(n)-l),r}},function(f,x,t){var a=t(43),i=t(45),e=t(53),s=t(52);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),e(r,a(n)-o),s(r,i(n)-l),r}},function(f,x,t){var a=t(44),i=t(45),e=t(54),s=t(52);f.exports=function(r,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),e(r,a(n)+o),s(r,i(n)-l),r}},function(f,x,t){var a=t(169),i=t(98),e=t(14),s=t(4);f.exports=function(r,n,o){o===void 0&&(o=new s);var l=i(n,0,e.PI2);return a(r,l,o)}},function(f,x,t){var a=t(302),i=t(169),e=t(98),s=t(14);f.exports=function(r,n,o,l){l===void 0&&(l=[]),!n&&0<o&&(n=a(r)/o);for(var h=0;h<n;h++){var u=e(h/n,0,s.PI2);l.push(i(r,u))}return l}},function(f,x){f.exports=function(t){return Math.PI*t.radius*2}},function(f,x,t){var a=t(18),i={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(e){return e===void 0&&(e=1),this.alpha=e,this},alpha:{get:function(){return this._alpha},set:function(e){var s=a(e,0,1);(this._alpha=s)===0?this.renderFlags&=-3:this.renderFlags|=2}}};f.exports=i},function(f,x,t){var a=t(35),i={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(e){typeof e=="string"&&(e=a[e]),-1<=(e|=0)&&(this._blendMode=e)}},setBlendMode:function(e){return this.blendMode=e,this}};f.exports=i},function(f,x){var t={_depth:0,depth:{get:function(){return this._depth},set:function(a){this.displayList&&this.displayList.queueDepthSort(),this._depth=a}},setDepth:function(a){return a===void 0&&(a=0),this.depth=a,this}};f.exports=t},function(f,x,t){var a=t(171),i=t(130);f.exports=function(e,s,r,n){n===void 0&&(n=[]),!s&&0<r&&(s=i(e)/r);for(var o=0;o<s;o++){var l=o/s;n.push(a(e,l))}return n}},function(f,x,t){var a=t(4);f.exports=function(i,e,s){return s===void 0&&(s=new a),s.x=i.x1+(i.x2-i.x1)*e,s.y=i.y1+(i.y2-i.y1)*e,s}},function(f,x){f.exports=function(t,a,i,e){var s=Math.cos(e),r=Math.sin(e),n=t.x-a,o=t.y-i;return t.x=n*s-o*r+a,t.y=n*r+o*s+i,t}},function(f,x,t){var a=t(310),i=t(311),e={mask:null,setMask:function(s){return this.mask=s,this},clearMask:function(s){return s===void 0&&(s=!1),s&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(s){return s===void 0&&(this.texture||this.shader)&&(s=this),new a(this.scene,s)},createGeometryMask:function(s){return s===void 0&&this.type==="Graphics"&&(s=this),new i(this.scene,s)}};f.exports=e},function(f,x,t){var a=t(0),i=t(22),e=t(91),s=new a({initialize:function(r,n){var o=r.sys.renderer;this.renderer=o,this.bitmapMask=n,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,this.createMask(),r.sys.game.events.on(i.CONTEXT_RESTORED,this.createMask,this),o&&o.on(e.RESIZE,this.createMask,this)},createMask:function(){var r,n,o,l,h,u,c=this.renderer;c&&c.gl&&(this.mainTexture&&this.clearMask(),r=c.width,n=c.height,o=(r&r-1)==0&&(n&n-1)==0,l=c.gl,h=o?l.REPEAT:l.CLAMP_TO_EDGE,u=l.LINEAR,this.mainTexture=c.createTexture2D(0,u,u,h,h,l.RGBA,null,r,n),this.maskTexture=c.createTexture2D(0,u,u,h,h,l.RGBA,null,r,n),this.mainFramebuffer=c.createFramebuffer(r,n,this.mainTexture,!0),this.maskFramebuffer=c.createFramebuffer(r,n,this.maskTexture,!0))},clearMask:function(){var r=this.renderer;r&&r.gl&&this.mainTexture&&(r.deleteTexture(this.mainTexture),r.deleteTexture(this.maskTexture),r.deleteFramebuffer(this.mainFramebuffer),r.deleteFramebuffer(this.maskFramebuffer),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null)},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,n,o){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,n,o)},postRenderWebGL:function(r,n){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,n)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask(),this.renderer&&this.renderer.off(e.RESIZE,this.createMask,this),this.bitmapMask=null,this.prevFramebuffer=null,this.renderer=null}});f.exports=s},function(f,x,t){var a=new(t(0))({initialize:function(i,e){this.geometryMask=e,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(i){return this.geometryMask=i,this},setInvertAlpha:function(i){return i===void 0&&(i=!0),this.invertAlpha=i,this},preRenderWebGL:function(i,e,s){var r=i.gl;i.flush(),i.maskStack.length===0&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),i.maskCount=0),i.currentCameraMask.mask!==this&&(i.currentMask.mask=this),i.maskStack.push({mask:this,camera:s}),this.applyStencil(i,s,!0),i.maskCount++},applyStencil:function(i,e,s){var r=i.gl,n=this.geometryMask,o=i.maskCount;r.colorMask(!1,!1,!1,!1),s?(r.stencilFunc(r.EQUAL,o,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,o+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),n.renderWebGL(i,n,e),i.flush(),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),s?this.invertAlpha?r.stencilFunc(r.NOTEQUAL,o+1,255):r.stencilFunc(r.EQUAL,o+1,255):this.invertAlpha?r.stencilFunc(r.NOTEQUAL,o,255):r.stencilFunc(r.EQUAL,o,255)},postRenderWebGL:function(i){var e=i.gl;i.maskStack.pop(),i.maskCount--,i.flush();var s,r=i.currentMask;i.maskStack.length===0?(r.mask=null,e.disable(e.STENCIL_TEST)):((s=i.maskStack[i.maskStack.length-1]).mask.applyStencil(i,s.camera,!1),i.currentCameraMask.mask!==s.mask?(r.mask=s.mask,r.camera=s.camera):r.mask=null)},preRenderCanvas:function(i,e,s){var r=this.geometryMask;i.currentContext.save(),r.renderCanvas(i,r,s,null,null,!0),i.currentContext.clip()},postRenderCanvas:function(i){i.currentContext.restore()},destroy:function(){this.geometryMask=null}});f.exports=a},function(f,x){var t={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(a,i){return i===void 0&&(i=a),this.scrollFactorX=a,this.scrollFactorY=i,this}};f.exports=t},function(f,x,t){var a=t(14),i=t(25),e=t(177),s=t(269),r=t(270),n=t(3),o={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(l){this._scaleX=l,(this._scaleY=l)===0?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(l){(this._scaleX=l)===0?this.renderFlags&=-5:this.renderFlags|=4}},scaleY:{get:function(){return this._scaleY},set:function(l){(this._scaleY=l)===0?this.renderFlags&=-5:this.renderFlags|=4}},angle:{get:function(){return r(this._rotation*a.RAD_TO_DEG)},set:function(l){this.rotation=r(l)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=s(l)}},setPosition:function(l,h,u,c){return l===void 0&&(l=0),h===void 0&&(h=l),u===void 0&&(u=0),c===void 0&&(c=0),this.x=l,this.y=h,this.z=u,this.w=c,this},copyPosition:function(l){return l.x!==void 0&&(this.x=l.x),l.y!==void 0&&(this.y=l.y),l.z!==void 0&&(this.z=l.z),l.w!==void 0&&(this.w=l.w),this},setRandomPosition:function(l,h,u,c){return l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),this.x=l+Math.random()*u,this.y=h+Math.random()*c,this},setRotation:function(l){return l===void 0&&(l=0),this.rotation=l,this},setAngle:function(l){return l===void 0&&(l=0),this.angle=l,this},setScale:function(l,h){return l===void 0&&(l=1),h===void 0&&(h=l),this.scaleX=l,this.scaleY=h,this},setX:function(l){return l===void 0&&(l=0),this.x=l,this},setY:function(l){return l===void 0&&(l=0),this.y=l,this},setZ:function(l){return l===void 0&&(l=0),this.z=l,this},setW:function(l){return l===void 0&&(l=0),this.w=l,this},getLocalTransformMatrix:function(l){return l===void 0&&(l=new i),l.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(l,h){l===void 0&&(l=new i),h===void 0&&(h=new i);var u=this.parentContainer;if(!u)return this.getLocalTransformMatrix(l);for(l.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);u;)h.applyITRS(u.x,u.y,u._rotation,u._scaleX,u._scaleY),h.multiply(l,l),u=u.parentContainer;return l},getLocalPoint:function(l,h,u,c){u=u||new n;var d=(c=c||this.scene.sys.cameras.main).scrollX,v=c.scrollY,g=l+d*this.scrollFactorX-d,m=h+v*this.scrollFactorY-v;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(g,m,u):e(g,m,this.x,this.y,this.rotation,this.scaleX,this.scaleY,u),this._originComponent&&(u.x+=this._displayOriginX,u.y+=this._displayOriginY),u},getParentRotation:function(){for(var l=0,h=this.parentContainer;h;)l+=h.rotation,h=h.parentContainer;return l}};f.exports=o},function(f,x){var t={_visible:!0,visible:{get:function(){return this._visible},set:function(a){a?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(a){return this.visible=a,this}};f.exports=t},function(f,x,t){f.exports={CHANGE_DATA:t(638),CHANGE_DATA_KEY:t(639),DESTROY:t(640),REMOVE_DATA:t(641),SET_DATA:t(642)}},function(f,x,t){var a=t(130),i=t(4);f.exports=function(e,s,r,n){if(n===void 0&&(n=[]),!s&&!r)return n;s?r=Math.round(a(e)/s):s=a(e)/r;for(var o=e.x,l=e.y,h=0,u=0;u<r;u++)switch(n.push(new i(o,l)),h){case 0:(o+=s)>=e.right&&(h=1,l+=o-e.right,o=e.right);break;case 1:(l+=s)>=e.bottom&&(h=2,o-=l-e.bottom,l=e.bottom);break;case 2:(o-=s)<=e.left&&(h=3,l-=e.left-o,o=e.left);break;case 3:(l-=s)<=e.top&&(h=0,l=e.top)}return n}},function(f,x){f.exports=function(t,a,i){a===void 0&&(a=1),i===void 0&&(i=[]);var e=Math.round(t.x1),s=Math.round(t.y1),r=Math.round(t.x2),n=Math.round(t.y2),o=Math.abs(r-e),l=Math.abs(n-s),h=e<r?1:-1,u=s<n?1:-1,c=o-l;i.push({x:e,y:s});for(var d=1;e!==r||s!==n;){var v=c<<1;-l<v&&(c-=l,e+=h),v<o&&(c+=o,s+=u),d%a==0&&i.push({x:e,y:s}),d++}return i}},function(f,x){f.exports=function(t,a,i){if(!a.length)return NaN;if(a.length===1)return a[0];var e,s,r=1;if(i){if(t<a[0][i])return a[0];for(;a[r][i]<t;)r++}else for(;a[r]<t;)r++;return r>a.length&&(r=a.length),i?(e=a[r-1][i],(s=a[r][i])-t<=t-e?a[r]:a[r-1]):(e=a[r-1],(s=a[r])-t<=t-e?s:e)}},function(f,x,t){var a=new(t(0))({initialize:function(i,e,s,r,n){n===void 0&&(n=!1),this.textureKey=i,this.textureFrame=e,this.index=s,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=n},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});f.exports=a},function(f,x){f.exports=function(t){var a=/\D/g;return t.sort(function(i,e){return parseInt(i.replace(a,""),10)-parseInt(e.replace(a,""),10)}),t}},function(f,x,t){var a=t(185),i=t(0),e=t(102),s=t(9),r=t(132),n=t(22),o=t(2),l=t(6),h=t(186),u=t(322),c=new i({Extends:s,initialize:function(d){s.call(this),this.game=d,this.textureManager=null,this.globalTimeScale=1,this.anims=new e,this.mixes=new e,this.paused=!1,this.name="AnimationManager",d.events.once(n.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(n.DESTROY,this.destroy,this)},addMix:function(d,v,g){var m,y=this.anims,T=this.mixes,E=typeof d=="string"?d:d.key,S=typeof v=="string"?v:v.key;return y.has(E)&&y.has(S)&&((m=(m=T.get(E))||{})[S]=g,T.set(E,m)),this},removeMix:function(d,v){var g,m=this.mixes,y=typeof d=="string"?d:d.key,T=m.get(y);return T&&(v?(g=typeof v=="string"?v:v.key,T.hasOwnProperty(g)&&delete T[g]):v||m.delete(y)),this},getMix:function(d,v){var g=this.mixes,m=typeof d=="string"?d:d.key,y=typeof v=="string"?v:v.key,T=g.get(m);return T&&T.hasOwnProperty(y)?T[y]:0},add:function(d,v){return this.anims.has(d)?console.warn("Animation key exists: "+d):(v.key=d,this.anims.set(d,v),this.emit(r.ADD_ANIMATION,d,v)),this},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,v){var g=[],m=this.game.cache.json.get(d);if(!m)return g;var y=this,T=l(m,"meta",null),E=l(m,"frames",null);return T&&E&&l(T,"frameTags",[]).forEach(function(S){var C=[],M=o(S,"name",null),P=o(S,"from",0),R=o(S,"to",0),L=o(S,"direction","forward");if(M&&(!v||v&&-1<v.indexOf(M))){for(var w=[],B=Number.MAX_SAFE_INTEGER,G=P;G<=R;G++){var Y,D=G.toString(),F=E[D];F&&((Y=o(F,"duration",Number.MAX_SAFE_INTEGER))<B&&(B=Y),w.push({frame:D,duration:Y}))}w.forEach(function(U){C.push({key:d,frame:U.frame,duration:B-U.duration})});var N=B*C.length;L==="reverse"&&(C=C.reverse());var I={key:M,frames:C,duration:N,yoyo:L==="pingpong"},b=y.create(I);b&&g.push(b)}}),g},create:function(d){var v=d.key,g=!1;return v&&((g=this.get(v))||(g=new a(this,v,d),this.anims.set(v,g),this.emit(r.ADD_ANIMATION,v,g))),g},fromJSON:function(d,v){v===void 0&&(v=!1),v&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var g=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var m=0;m<d.anims.length;m++)g.push(this.create(d.anims[m]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&g.push(this.create(d));return g},generateFrameNames:function(d,v){var g,m=l(v,"prefix",""),y=l(v,"start",0),T=l(v,"end",0),E=l(v,"suffix",""),S=l(v,"zeroPad",0),C=l(v,"outputArray",[]),M=l(v,"frames",!1),P=this.textureManager.get(d);if(!P)return C;if(v)for(M=M||u(y,T),g=0;g<M.length;g++){var R=m+h(M[g],S,"0",1)+E;P.has(R)?C.push({key:d,frame:R}):console.warn("generateFrameNames: Frame missing: "+R+" from texture: "+d)}else for(M=P.getFrameNames(),g=0;g<M.length;g++)C.push({key:d,frame:M[g]});return C},generateFrameNumbers:function(d,v){var g=l(v,"start",0),m=l(v,"end",-1),y=l(v,"first",!1),T=l(v,"outputArray",[]),E=l(v,"frames",!1),S=this.textureManager.get(d);if(!S)return T;y&&S.has(y)&&T.push({key:d,frame:y}),E||(m===-1&&(m=S.frameTotal-2),E=u(g,m));for(var C=0;C<E.length;C++)S.has(E[C])?T.push({key:d,frame:E[C]}):console.warn("generateFrameNumbers: Frame "+C+" missing from texture: "+d);return T},get:function(d){return this.anims.get(d)},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(d,v){Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++)v[g].anims.play(d);return this},staggerPlay:function(d,v,g,m){g===void 0&&(g=0),m===void 0&&(m=!0),Array.isArray(v)||(v=[v]);var y=v.length;m||y--;for(var T=0;T<v.length;T++){var E=g<0?Math.abs(g)*(y-T):g*T;v[T].anims.playAfterDelay(d,E)}return this},remove:function(d){var v=this.get(d);return v&&(this.emit(r.REMOVE_ANIMATION,d,v),this.anims.delete(d),this.removeMix(d)),v},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(d){var v={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?v.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(g,m){v.anims.push(m.toJSON())}),v},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});f.exports=c},function(f,x){f.exports=function(t,a,i,e){var s,r=[],n=!1;if((i||e)&&(n=!0,i=i||"",e=e||""),a<t)for(s=t;a<=s;s--)n?r.push(i+s.toString()+e):r.push(s);else for(s=t;s<=a;s++)n?r.push(i+s.toString()+e):r.push(s);return r}},function(f,x,t){var a=t(0),i=t(102),e=t(9),s=t(324),r=new a({initialize:function(){this.entries=new i,this.events=new e},add:function(n,o){return this.entries.set(n,o),this.events.emit(s.ADD,this,n,o),this},has:function(n){return this.entries.has(n)},exists:function(n){return this.entries.has(n)},get:function(n){return this.entries.get(n)},remove:function(n){var o=this.get(n);return o&&(this.entries.delete(n),this.events.emit(s.REMOVE,this,n,o.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});f.exports=r},function(f,x,t){f.exports={ADD:t(736),REMOVE:t(737)}},function(f,x,t){var a=t(323),i=t(0),e=t(22),s=new i({initialize:function(r){this.game=r,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(e.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new a),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],n=0;n<r.length;n++)this[r[n]].destroy(),this[r[n]]=null;for(var o in this.custom)this.custom[o].destroy();this.custom=null,this.game=null}});f.exports=s},function(f,x,t){var a=t(133),i=t(190),e=t(18),s=t(0),r=t(11),n=t(333),o=t(37),l=t(135),h=t(10),u=t(3),c=new s({Extends:a,Mixins:[r.Flip,r.Tint,r.Pipeline],initialize:function(d,v,g,m){a.call(this,d,v,g,m),this.postPipelines=[],this.pipelineData={},this.inputEnabled=!0,this.fadeEffect=new n.Fade(this),this.flashEffect=new n.Flash(this),this.shakeEffect=new n.Shake(this),this.panEffect=new n.Pan(this),this.rotateToEffect=new n.RotateTo(this),this.zoomEffect=new n.Zoom(this),this.lerp=new u(1,1),this.followOffset=new u,this.deadzone=null,this._follow=null},setDeadzone:function(d,v){var g,m,y,T;return d===void 0?this.deadzone=null:(this.deadzone?(this.deadzone.width=d,this.deadzone.height=v):this.deadzone=new h(0,0,d,v),this._follow&&(g=this.width/2,m=this.height/2,y=this._follow.x-this.followOffset.x,T=this._follow.y-this.followOffset.y,this.midPoint.set(y,T),this.scrollX=y-g,this.scrollY=T-m),i(this.deadzone,this.midPoint.x,this.midPoint.y)),this},fadeIn:function(d,v,g,m,y,T){return this.fadeEffect.start(!1,d,v,g,m,!0,y,T)},fadeOut:function(d,v,g,m,y,T){return this.fadeEffect.start(!0,d,v,g,m,!0,y,T)},fadeFrom:function(d,v,g,m,y,T,E){return this.fadeEffect.start(!1,d,v,g,m,y,T,E)},fade:function(d,v,g,m,y,T,E){return this.fadeEffect.start(!0,d,v,g,m,y,T,E)},flash:function(d,v,g,m,y,T,E){return this.flashEffect.start(d,v,g,m,y,T,E)},shake:function(d,v,g,m,y){return this.shakeEffect.start(d,v,g,m,y)},pan:function(d,v,g,m,y,T,E){return this.panEffect.start(d,v,g,m,y,T,E)},rotateTo:function(d,v,g,m,y,T,E){return this.rotateToEffect.start(d,v,g,m,y,T,E)},zoomTo:function(d,v,g,m,y,T){return this.zoomEffect.start(d,v,g,m,y,T)},preRender:function(){this.renderList.length=0;var d=this.width,v=this.height,g=.5*d,m=.5*v,y=this.zoom,T=this.matrix,E=d*this.originX,S=v*this.originY,C=this._follow,M=this.deadzone,P=this.scrollX,R=this.scrollY;M&&i(M,this.midPoint.x,this.midPoint.y);var L,w,B=!1;C&&!this.panEffect.isRunning&&(L=C.x-this.followOffset.x,w=C.y-this.followOffset.y,M?(L<M.x?P=l(P,P-(M.x-L),this.lerp.x):L>M.right&&(P=l(P,P+(L-M.right),this.lerp.x)),w<M.y?R=l(R,R-(M.y-w),this.lerp.y):w>M.bottom&&(R=l(R,R+(w-M.bottom),this.lerp.y))):(P=l(P,L-E,this.lerp.x),R=l(R,w-S,this.lerp.y)),B=!0),this.useBounds&&(P=this.clampX(P),R=this.clampY(R)),this.roundPixels&&(E=Math.round(E),S=Math.round(S),P=Math.round(P),R=Math.round(R));var G=(this.scrollX=P)+g,Y=(this.scrollY=R)+m;this.midPoint.set(G,Y);var D=d/y,F=v/y,N=G-D/2,I=Y-F/2;this.roundPixels&&(N=Math.round(N),I=Math.round(I)),this.worldView.setTo(N,I,D,F),T.applyITRS(this.x+E,this.y+S,this.rotation,y,y),T.translate(-E,-S),this.shakeEffect.preRender(),B&&this.emit(o.FOLLOW_UPDATE,this,C)},setLerp:function(d,v){return d===void 0&&(d=1),v===void 0&&(v=d),this.lerp.set(d,v),this},setFollowOffset:function(d,v){return d===void 0&&(d=0),v===void 0&&(v=0),this.followOffset.set(d,v),this},startFollow:function(d,v,g,m,y,T){v===void 0&&(v=!1),g===void 0&&(g=1),m===void 0&&(m=g),y===void 0&&(y=0),T===void 0&&(T=y),this._follow=d,this.roundPixels=v,g=e(g,0,1),m=e(m,0,1),this.lerp.set(g,m),this.followOffset.set(y,T);var E=this.width/2,S=this.height/2,C=d.x-y,M=d.y-T;return this.midPoint.set(C,M),this.scrollX=C-E,this.scrollY=M-S,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(d,v){this.visible&&(this.rotateToEffect.update(d,v),this.panEffect.update(d,v),this.zoomEffect.update(d,v),this.shakeEffect.update(d,v),this.flashEffect.update(d,v),this.fadeEffect.update(d,v))},destroy:function(){this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});f.exports=c},function(f,x,t){var a=t(38);f.exports=function(i){var e=new a;i=i.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(l,h,u,c){return h+h+u+u+c+c});var s,r,n,o=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return o&&(s=parseInt(o[1],16),r=parseInt(o[2],16),n=parseInt(o[3],16),e.setTo(s,r,n)),e}},function(f,x){f.exports=function(t,a,i,e){return e<<24|t<<16|a<<8|i}},function(f,x){f.exports=function(t,a,i,e){e===void 0&&(e={h:0,s:0,v:0}),t/=255,a/=255,i/=255;var s=Math.min(t,a,i),r=Math.max(t,a,i),n=r-s,o=0,l=r===0?0:n/r,h=r;return r!==s&&(r===t?o=(a-i)/n+(a<i?6:0):r===a?o=(i-t)/n+2:r===i&&(o=(t-a)/n+4),o/=6),e.hasOwnProperty("_h")?(e._h=o,e._s=l,e._v=h):(e.h=o,e.s=l,e.v=h),e}},function(f,x){f.exports=function(t){return 16777215<t?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:255&t}:{a:255,r:t>>16&255,g:t>>8&255,b:255&t}}},function(f,x,t){var a=t(38);f.exports=function(i){return new a(i.r,i.g,i.b,i.a)}},function(f,x,t){var a=t(38);f.exports=function(i){var e,s,r,n,o=new a,l=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(i.toLowerCase());return l&&(e=parseInt(l[1],10),s=parseInt(l[2],10),r=parseInt(l[3],10),n=l[4]!==void 0?parseFloat(l[4]):1,o.setTo(e,s,r,255*n)),o}},function(f,x,t){f.exports={Fade:t(761),Flash:t(762),Pan:t(763),Shake:t(796),RotateTo:t(797),Zoom:t(798)}},function(f,x,t){f.exports={In:t(764),Out:t(765),InOut:t(766)}},function(f,x,t){f.exports={In:t(767),Out:t(768),InOut:t(769)}},function(f,x,t){f.exports={In:t(770),Out:t(771),InOut:t(772)}},function(f,x,t){f.exports={In:t(773),Out:t(774),InOut:t(775)}},function(f,x,t){f.exports={In:t(776),Out:t(777),InOut:t(778)}},function(f,x,t){f.exports={In:t(779),Out:t(780),InOut:t(781)}},function(f,x,t){f.exports=t(782)},function(f,x,t){f.exports={In:t(783),Out:t(784),InOut:t(785)}},function(f,x,t){f.exports={In:t(786),Out:t(787),InOut:t(788)}},function(f,x,t){f.exports={In:t(789),Out:t(790),InOut:t(791)}},function(f,x,t){f.exports={In:t(792),Out:t(793),InOut:t(794)}},function(f,x,t){f.exports=t(795)},function(f,x,t){var a=t(0),i=t(33),e=t(347),s=t(2),r=t(6),n=t(7),o=t(193),l=t(1),h=t(197),u=t(187),c=new a({initialize:function(d){d===void 0&&(d={}),this.width=r(d,"width",1024),this.height=r(d,"height",768),this.zoom=r(d,"zoom",1),this.parent=r(d,"parent",void 0),this.scaleMode=r(d,"scaleMode",0),this.expandParent=r(d,"expandParent",!0),this.autoRound=r(d,"autoRound",!1),this.autoCenter=r(d,"autoCenter",0),this.resizeInterval=r(d,"resizeInterval",500),this.fullscreenTarget=r(d,"fullscreenTarget",null),this.minWidth=r(d,"minWidth",0),this.maxWidth=r(d,"maxWidth",0),this.minHeight=r(d,"minHeight",0),this.maxHeight=r(d,"maxHeight",0);var v=r(d,"scale",null);v&&(this.width=r(v,"width",this.width),this.height=r(v,"height",this.height),this.zoom=r(v,"zoom",this.zoom),this.parent=r(v,"parent",this.parent),this.scaleMode=r(v,"mode",this.scaleMode),this.expandParent=r(v,"expandParent",this.expandParent),this.autoRound=r(v,"autoRound",this.autoRound),this.autoCenter=r(v,"autoCenter",this.autoCenter),this.resizeInterval=r(v,"resizeInterval",this.resizeInterval),this.fullscreenTarget=r(v,"fullscreenTarget",this.fullscreenTarget),this.minWidth=r(v,"min.width",this.minWidth),this.maxWidth=r(v,"max.width",this.maxWidth),this.minHeight=r(v,"min.height",this.minHeight),this.maxHeight=r(v,"max.height",this.maxHeight)),this.renderType=r(d,"type",i.AUTO),this.canvas=r(d,"canvas",null),this.context=r(d,"context",null),this.canvasStyle=r(d,"canvasStyle",null),this.customEnvironment=r(d,"customEnvironment",!1),this.sceneConfig=r(d,"scene",null),this.seed=r(d,"seed",[(Date.now()*Math.random()).toString()]),o.RND=new o.RandomDataGenerator(this.seed),this.gameTitle=r(d,"title",""),this.gameURL=r(d,"url","https://phaser.io"),this.gameVersion=r(d,"version",""),this.autoFocus=r(d,"autoFocus",!0),this.domCreateContainer=r(d,"dom.createContainer",!1),this.domBehindCanvas=r(d,"dom.behindCanvas",!1),this.domPointerEvents=r(d,"dom.pointerEvents","none"),this.inputKeyboard=r(d,"input.keyboard",!0),this.inputKeyboardEventTarget=r(d,"input.keyboard.target",window),this.inputKeyboardCapture=r(d,"input.keyboard.capture",[]),this.inputMouse=r(d,"input.mouse",!0),this.inputMouseEventTarget=r(d,"input.mouse.target",null),this.inputMousePreventDefaultDown=r(d,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=r(d,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=r(d,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=r(d,"input.mouse.preventDefaultWheel",!0),this.inputTouch=r(d,"input.touch",e.input.touch),this.inputTouchEventTarget=r(d,"input.touch.target",null),this.inputTouchCapture=r(d,"input.touch.capture",!0),this.inputActivePointers=r(d,"input.activePointers",1),this.inputSmoothFactor=r(d,"input.smoothFactor",0),this.inputWindowEvents=r(d,"input.windowEvents",!0),this.inputGamepad=r(d,"input.gamepad",!1),this.inputGamepadEventTarget=r(d,"input.gamepad.target",window),this.disableContextMenu=r(d,"disableContextMenu",!1),this.audio=r(d,"audio",{}),this.hideBanner=r(d,"banner",null)===!1,this.hidePhaser=r(d,"banner.hidePhaser",!1),this.bannerTextColor=r(d,"banner.text","#ffffff"),this.bannerBackgroundColor=r(d,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=r(d,"fps",null);var g=r(d,"render",d);this.pipeline=r(g,"pipeline",null),this.antialias=r(g,"antialias",!0),this.antialiasGL=r(g,"antialiasGL",!0),this.mipmapFilter=r(g,"mipmapFilter","LINEAR"),this.desynchronized=r(g,"desynchronized",!1),this.roundPixels=r(g,"roundPixels",!1),this.pixelArt=r(g,"pixelArt",this.zoom!==1),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=r(g,"transparent",!1),this.clearBeforeRender=r(g,"clearBeforeRender",!0),this.preserveDrawingBuffer=r(g,"preserveDrawingBuffer",!1),this.premultipliedAlpha=r(g,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=r(g,"failIfMajorPerformanceCaveat",!1),this.powerPreference=r(g,"powerPreference","default"),this.batchSize=r(g,"batchSize",4096),this.maxTextures=r(g,"maxTextures",-1),this.maxLights=r(g,"maxLights",10);var m=r(d,"backgroundColor",0);this.backgroundColor=u(m),this.transparent&&(this.backgroundColor=u(0),this.backgroundColor.alpha=0),this.preBoot=r(d,"callbacks.preBoot",l),this.postBoot=r(d,"callbacks.postBoot",l),this.physics=r(d,"physics",{}),this.defaultPhysicsSystem=r(this.physics,"default",!1),this.loaderBaseURL=r(d,"loader.baseURL",""),this.loaderPath=r(d,"loader.path","");var y=e.os.android?6:32;this.loaderMaxParallelDownloads=r(d,"loader.maxParallelDownloads",y),this.loaderCrossOrigin=r(d,"loader.crossOrigin",void 0),this.loaderResponseType=r(d,"loader.responseType",""),this.loaderAsync=r(d,"loader.async",!0),this.loaderUser=r(d,"loader.user",""),this.loaderPassword=r(d,"loader.password",""),this.loaderTimeout=r(d,"loader.timeout",0),this.loaderWithCredentials=r(d,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var T=r(d,"plugins",null),E=h.DefaultScene;T&&(Array.isArray(T)?this.defaultPlugins=T:n(T)&&(this.installGlobalPlugins=s(T,"global",[]),this.installScenePlugins=s(T,"scene",[]),Array.isArray(T.default)?E=T.default:Array.isArray(T.defaultMerge)&&(E=E.concat(T.defaultMerge)))),this.defaultPlugins=E;var S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=r(d,"images.default",S+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=r(d,"images.missing",S+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=r(d,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=i.WEBGL:window.FORCE_CANVAS&&(this.renderType=i.CANVAS))}});f.exports=c},function(f,x,t){f.exports={os:t(105),browser:t(136),features:t(191),input:t(808),audio:t(809),video:t(810),fullscreen:t(811),canvasFeatures:t(348)}},function(f,x,t){var a,i,e,s=t(31),r={supportInverseAlpha:!1,supportNewBlendModes:!1};f.exports=(typeof importScripts!="function"&&document!==void 0&&(r.supportNewBlendModes=(a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",i="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",(e=new Image).onload=function(){var n=new Image;n.onload=function(){var o=s.create(n,6,1).getContext("2d");if(o.globalCompositeOperation="multiply",o.drawImage(e,0,0),o.drawImage(n,2,0),!o.getImageData(2,0,1,1))return!1;var l=o.getImageData(2,0,1,1).data;s.remove(n),r.supportNewBlendModes=l[0]===255&&l[1]===0&&l[2]===0},n.src=a+"/wCKxvRF"+i},e.src=a+"AP804Oa6"+i,!1),r.supportInverseAlpha=function(){var n=s.create(this,2,1).getContext("2d");n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var o=n.getImageData(0,0,1,1);if(o===null)return!1;n.putImageData(o,1,0);var l=n.getImageData(1,0,1,1);return l.data[0]===o.data[0]&&l.data[1]===o.data[1]&&l.data[2]===o.data[2]&&l.data[3]===o.data[3]}()),r)},function(f,x){f.exports=function(t,a,i,e){return Math.atan2(e-a,i-t)}},function(f,x){f.exports=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)}},function(f,x){f.exports=function(t){return 0<=(t%=2*Math.PI)?t:t+2*Math.PI}},function(f,x){f.exports=function(t,a){var i=t.x-a.x,e=t.y-a.y;return Math.sqrt(i*i+e*e)}},function(f,x){f.exports=function(t,a,i,e){var s=t-i,r=a-e;return s*s+r*r}},function(f,x){f.exports=function(t,a,i){return i===void 0&&(i=1e-4),a-i<t}},function(f,x){f.exports=function(t,a,i){return i===void 0&&(i=1e-4),t<a+i}},function(f,x,t){var a=t(357);f.exports=function(i,e){return a(i)/a(e)/a(i-e)}},function(f,x){f.exports=function(t){if(t===0)return 1;for(var a=t;--t;)a*=t;return a}},function(f,x){f.exports=function(t,a,i,e,s){return(h=1-t)*h*h*a+3*(l=1-(o=t))*l*o*i+3*(1-(n=t))*n*n*e+(r=t)*r*r*s;var r,n,o,l,h}},function(f,x){f.exports=function(t,a,i,e){return(n=1-t)*n*a+2*(1-(r=t))*r*i+(s=t)*s*e;var s,r,n}},function(f,x,t){var a=t(184);f.exports=function(i,e,s){return e+(s-e)*a(i,0,1)}},function(f,x){f.exports=function(t){var a=Math.log(t)/.6931471805599453;return 1<<Math.ceil(a)}},function(f,x){f.exports=function(t,a){var i=t.x,e=t.y;return t.x=i*Math.cos(a)-e*Math.sin(a),t.y=i*Math.sin(a)+e*Math.cos(a),t}},function(f,x){f.exports=function(t){return 0<t?Math.ceil(t):Math.floor(t)}},function(f,x,t){var a=new(t(0))({initialize:function(i){this.val=new Float32Array(9),i?this.copy(i):this.identity()},clone:function(){return new a(this)},set:function(i){return this.copy(i)},copy:function(i){var e=this.val,s=i.val;return e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e[4]=s[4],e[5]=s[5],e[6]=s[6],e[7]=s[7],e[8]=s[8],this},fromMat4:function(i){var e=i.val,s=this.val;return s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[4],s[4]=e[5],s[5]=e[6],s[6]=e[8],s[7]=e[9],s[8]=e[10],this},fromArray:function(i){var e=this.val;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},identity:function(){var i=this.val;return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=0,i[7]=0,i[8]=1,this},transpose:function(){var i=this.val,e=i[1],s=i[2],r=i[5];return i[1]=i[3],i[2]=i[6],i[3]=e,i[5]=i[7],i[6]=s,i[7]=r,this},invert:function(){var i=this.val,e=i[0],s=i[1],r=i[2],n=i[3],o=i[4],l=i[5],h=i[6],u=i[7],c=i[8],d=c*o-l*u,v=-c*n+l*h,g=u*n-o*h,m=e*d+s*v+r*g;return m?(m=1/m,i[0]=d*m,i[1]=(-c*s+r*u)*m,i[2]=(l*s-r*o)*m,i[3]=v*m,i[4]=(c*e-r*h)*m,i[5]=(-l*e+r*n)*m,i[6]=g*m,i[7]=(-u*e+s*h)*m,i[8]=(o*e-s*n)*m,this):null},adjoint:function(){var i=this.val,e=i[0],s=i[1],r=i[2],n=i[3],o=i[4],l=i[5],h=i[6],u=i[7],c=i[8];return i[0]=o*c-l*u,i[1]=r*u-s*c,i[2]=s*l-r*o,i[3]=l*h-n*c,i[4]=e*c-r*h,i[5]=r*n-e*l,i[6]=n*u-o*h,i[7]=s*h-e*u,i[8]=e*o-s*n,this},determinant:function(){var i=this.val,e=i[0],s=i[1],r=i[2],n=i[3],o=i[4],l=i[5],h=i[6],u=i[7],c=i[8];return e*(c*o-l*u)+s*(-c*n+l*h)+r*(u*n-o*h)},multiply:function(i){var e=this.val,s=e[0],r=e[1],n=e[2],o=e[3],l=e[4],h=e[5],u=e[6],c=e[7],d=e[8],v=i.val,g=v[0],m=v[1],y=v[2],T=v[3],E=v[4],S=v[5],C=v[6],M=v[7],P=v[8];return e[0]=g*s+m*o+y*u,e[1]=g*r+m*l+y*c,e[2]=g*n+m*h+y*d,e[3]=T*s+E*o+S*u,e[4]=T*r+E*l+S*c,e[5]=T*n+E*h+S*d,e[6]=C*s+M*o+P*u,e[7]=C*r+M*l+P*c,e[8]=C*n+M*h+P*d,this},translate:function(i){var e=this.val,s=i.x,r=i.y;return e[6]=s*e[0]+r*e[3]+e[6],e[7]=s*e[1]+r*e[4]+e[7],e[8]=s*e[2]+r*e[5]+e[8],this},rotate:function(i){var e=this.val,s=e[0],r=e[1],n=e[2],o=e[3],l=e[4],h=e[5],u=Math.sin(i),c=Math.cos(i);return e[0]=c*s+u*o,e[1]=c*r+u*l,e[2]=c*n+u*h,e[3]=c*o-u*s,e[4]=c*l-u*r,e[5]=c*h-u*n,this},scale:function(i){var e=this.val,s=i.x,r=i.y;return e[0]=s*e[0],e[1]=s*e[1],e[2]=s*e[2],e[3]=r*e[3],e[4]=r*e[4],e[5]=r*e[5],this},fromQuat:function(i){var e=i.x,s=i.y,r=i.z,n=i.w,o=e+e,l=s+s,h=r+r,u=e*o,c=e*l,d=e*h,v=s*l,g=s*h,m=r*h,y=n*o,T=n*l,E=n*h,S=this.val;return S[0]=1-(v+m),S[3]=c+E,S[6]=d-T,S[1]=c-E,S[4]=1-(u+m),S[7]=g+y,S[2]=d+T,S[5]=g-y,S[8]=1-(u+v),this},normalFromMat4:function(i){var e=i.val,s=this.val,r=e[0],n=e[1],o=e[2],l=e[3],h=e[4],u=e[5],c=e[6],d=e[7],v=e[8],g=e[9],m=e[10],y=e[11],T=e[12],E=e[13],S=e[14],C=e[15],M=r*u-n*h,P=r*c-o*h,R=r*d-l*h,L=n*c-o*u,w=n*d-l*u,B=o*d-l*c,G=v*E-g*T,Y=v*S-m*T,D=v*C-y*T,F=g*S-m*E,N=g*C-y*E,I=m*C-y*S,b=M*I-P*N+R*F+L*D-w*Y+B*G;return b?(b=1/b,s[0]=(u*I-c*N+d*F)*b,s[1]=(c*D-h*I-d*Y)*b,s[2]=(h*N-u*D+d*G)*b,s[3]=(o*N-n*I-l*F)*b,s[4]=(r*I-o*D+l*Y)*b,s[5]=(n*D-r*N-l*G)*b,s[6]=(E*B-S*w+C*L)*b,s[7]=(S*R-T*B-C*P)*b,s[8]=(T*w-E*R+C*M)*b,this):null}});f.exports=a},function(f,x,t){var a=t(0),i=t(364),e=t(1),s=t(39),r=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),o=new s(1,0,0),l=new s(0,1,0),h=new s,u=new i,c=new a({initialize:function(d,v,g,m){this.onChangeCallback=e,this.set(d,v,g,m)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,v,g,m,y){return y===void 0&&(y=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=v||0,this._z=g||0,this._w=m||0),y&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,v=this.y,g=this.z,m=this.w;return Math.sqrt(d*d+v*v+g*g+m*m)},lengthSq:function(){var d=this.x,v=this.y,g=this.z,m=this.w;return d*d+v*v+g*g+m*m},normalize:function(){var d=this.x,v=this.y,g=this.z,m=this.w,y=d*d+v*v+g*g+m*m;return 0<y&&(y=1/Math.sqrt(y),this._x=d*y,this._y=v*y,this._z=g*y,this._w=m*y),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,v){v===void 0&&(v=0);var g=this.x,m=this.y,y=this.z,T=this.w;return this.set(g+v*(d.x-g),m+v*(d.y-m),y+v*(d.z-y),T+v*(d.w-T))},rotationTo:function(d,v){var g=d.x*v.x+d.y*v.y+d.z*v.z;return g<-.999999?(h.copy(o).cross(d).length()<1e-6&&h.copy(l).cross(d),h.normalize(),this.setAxisAngle(h,Math.PI)):.999999<g?this.set(0,0,0,1):(h.copy(d).cross(v),this._x=h.x,this._y=h.y,this._z=h.z,this._w=1+g,this.normalize())},setAxes:function(d,v,g){var m=u.val;return m[0]=v.x,m[3]=v.y,m[6]=v.z,m[1]=g.x,m[4]=g.y,m[7]=g.z,m[2]=-d.x,m[5]=-d.y,m[8]=-d.z,this.fromMat3(u).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,v){v*=.5;var g=Math.sin(v);return this.set(g*d.x,g*d.y,g*d.z,Math.cos(v))},multiply:function(d){var v=this.x,g=this.y,m=this.z,y=this.w,T=d.x,E=d.y,S=d.z,C=d.w;return this.set(v*C+y*T+g*S-m*E,g*C+y*E+m*T-v*S,m*C+y*S+v*E-g*T,y*C-v*T-g*E-m*S)},slerp:function(d,v){var g=this.x,m=this.y,y=this.z,T=this.w,E=d.x,S=d.y,C=d.z,M=d.w,P=g*E+m*S+y*C+T*M;P<0&&(P=-P,E=-E,S=-S,C=-C,M=-M);var R,L,w=1-v,B=v;return 1e-6<1-P&&(R=Math.acos(P),L=Math.sin(R),w=Math.sin((1-v)*R)/L,B=Math.sin(v*R)/L),this.set(w*g+B*E,w*m+B*S,w*y+B*C,w*T+B*M)},invert:function(){var d=this.x,v=this.y,g=this.z,m=this.w,y=d*d+v*v+g*g+m*m,T=y?1/y:0;return this.set(-d*T,-v*T,-g*T,m*T)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var v=this.x,g=this.y,m=this.z,y=this.w,T=Math.sin(d),E=Math.cos(d);return this.set(v*E+y*T,g*E+m*T,m*E-g*T,y*E-v*T)},rotateY:function(d){d*=.5;var v=this.x,g=this.y,m=this.z,y=this.w,T=Math.sin(d),E=Math.cos(d);return this.set(v*E-m*T,g*E+y*T,m*E+v*T,y*E-g*T)},rotateZ:function(d){d*=.5;var v=this.x,g=this.y,m=this.z,y=this.w,T=Math.sin(d),E=Math.cos(d);return this.set(v*E+g*T,g*E-v*T,m*E+y*T,y*E-m*T)},calculateW:function(){var d=this.x,v=this.y,g=this.z;return this.w=-Math.sqrt(1-d*d-v*v-g*g),this},setFromEuler:function(d,v){var g=d.x/2,m=d.y/2,y=d.z/2,T=Math.cos(g),E=Math.cos(m),S=Math.cos(y),C=Math.sin(g),M=Math.sin(m),P=Math.sin(y);switch(d.order){case"XYZ":this.set(C*E*S+T*M*P,T*M*S-C*E*P,T*E*P+C*M*S,T*E*S-C*M*P,v);break;case"YXZ":this.set(C*E*S+T*M*P,T*M*S-C*E*P,T*E*P-C*M*S,T*E*S+C*M*P,v);break;case"ZXY":this.set(C*E*S-T*M*P,T*M*S+C*E*P,T*E*P+C*M*S,T*E*S-C*M*P,v);break;case"ZYX":this.set(C*E*S-T*M*P,T*M*S+C*E*P,T*E*P-C*M*S,T*E*S+C*M*P,v);break;case"YZX":this.set(C*E*S+T*M*P,T*M*S+C*E*P,T*E*P-C*M*S,T*E*S-C*M*P,v);break;case"XZY":this.set(C*E*S-T*M*P,T*M*S-C*E*P,T*E*P+C*M*S,T*E*S+C*M*P,v)}return this},setFromRotationMatrix:function(d){var v,g=d.val,m=g[0],y=g[4],T=g[8],E=g[1],S=g[5],C=g[9],M=g[2],P=g[6],R=g[10],L=m+S+R;return 0<L?(v=.5/Math.sqrt(L+1),this.set((P-C)*v,(T-M)*v,(E-y)*v,.25/v)):S<m&&R<m?(v=2*Math.sqrt(1+m-S-R),this.set(.25*v,(y+E)/v,(T+M)/v,(P-C)/v)):R<S?(v=2*Math.sqrt(1+S-m-R),this.set((y+E)/v,.25*v,(C+P)/v,(T-M)/v)):(v=2*Math.sqrt(1+R-m-S),this.set((T+M)/v,(C+P)/v,.25*v,(E-y)/v)),this},fromMat3:function(d){var v,g,m,y,T=d.val,E=T[0]+T[4]+T[8];return 0<E?(y=Math.sqrt(E+1),this.w=.5*y,y=.5/y,this._x=(T[7]-T[5])*y,this._y=(T[2]-T[6])*y,this._z=(T[3]-T[1])*y):(v=0,T[4]>T[0]&&(v=1),T[8]>T[3*v+v]&&(v=2),g=r[v],m=r[g],y=Math.sqrt(T[3*v+v]-T[3*g+g]-T[3*m+m]+1),n[v]=.5*y,y=.5/y,n[g]=(T[3*g+v]+T[3*v+g])*y,n[m]=(T[3*m+v]+T[3*v+m])*y,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(T[3*m+g]-T[3*g+m])*y),this.onChangeCallback(this),this}});f.exports=c},function(f,x,t){var a=t(367),i=t(31),e=t(33),s=t(191);f.exports=function(r){var n=r.config;if((n.customEnvironment||n.canvas)&&n.renderType===e.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==e.HEADLESS)if(n.renderType===e.CANVAS||n.renderType!==e.CANVAS&&!s.webGL){if(!s.canvas)throw new Error("Cannot create Canvas or WebGL context, aborting.");n.renderType=e.CANVAS}else n.renderType=e.WEBGL;n.antialias||i.disableSmoothing();var o,l,h=r.scale.baseSize,u=h.width,c=h.height;n.canvas?(r.canvas=n.canvas,r.canvas.width=u,r.canvas.height=c):r.canvas=i.create(r,u,c,n.renderType),n.canvasStyle&&(r.canvas.style=n.canvasStyle),n.antialias||a.setCrisp(r.canvas),n.renderType!==e.HEADLESS&&(o=t(368),l=t(371),n.renderType===e.WEBGL?r.renderer=new l(r):(r.renderer=new o(r),r.context=r.renderer.gameContext))}},function(f,x){f.exports={setCrisp:function(t){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach(function(a){t.style["image-rendering"]=a}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}}},function(f,x,t){var a=t(37),i=t(369),e=t(0),s=t(33),r=t(9),n=t(91),o=t(370),l=t(104),h=t(106),u=t(25),c=new e({Extends:r,initialize:function(d){r.call(this);var v=d.config;this.config={clearBeforeRender:v.clearBeforeRender,backgroundColor:v.backgroundColor,antialias:v.antialias,roundPixels:v.roundPixels},this.game=d,this.type=s.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=d.canvas;var g={alpha:d.config.transparent,desynchronized:d.config.desynchronized};this.gameContext=v.context?v.context:this.gameCanvas.getContext("2d",g),this.currentContext=this.gameContext,this.antialias=d.config.antialias,this.blendModes=o(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(h.READY,this.boot,this)},boot:function(){var d=this.game,v=d.scale.baseSize;this.width=v.width,this.height=v.height,this.isBooted=!0,d.scale.on(l.RESIZE,this.onResize,this),this.resize(v.width,v.height)},onResize:function(d,v){v.width===this.width&&v.height===this.height||this.resize(v.width,v.height)},resize:function(d,v){this.width=d,this.height=v,this.emit(n.RESIZE,d,v)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(d){return this.currentContext.globalCompositeOperation=d,this},setContext:function(d){return this.currentContext=d||this.gameContext,this},setAlpha:function(d){return this.currentContext.globalAlpha=d,this},preRender:function(){var d=this.gameContext,v=this.config,g=this.width,m=this.height;d.globalAlpha=1,d.globalCompositeOperation="source-over",d.setTransform(1,0,0,1,0,0),v.clearBeforeRender&&(d.clearRect(0,0,g,m),v.transparent||(d.fillStyle=v.backgroundColor.rgba,d.fillRect(0,0,g,m))),d.save(),this.drawCount=0,this.emit(n.PRE_RENDER)},render:function(d,v,g){var m=v.length;this.emit(n.RENDER,d,g);var y=g.x,T=g.y,E=g.width,S=g.height,C=g.renderToTexture?g.context:d.sys.context;C.save(),this.game.scene.customViewports&&(C.beginPath(),C.rect(y,T,E,S),C.clip()),this.currentContext=C;var M=g.mask;M&&M.preRenderCanvas(this,null,g._maskCamera),g.transparent||(C.fillStyle=g.backgroundColor.rgba,C.fillRect(y,T,E,S)),C.globalAlpha=g.alpha,C.globalCompositeOperation="source-over",this.drawCount+=m,g.renderToTexture&&g.emit(a.PRE_RENDER,g),g.matrix.copyToContext(C);for(var P=0;P<m;P++){var R=v[P];R.mask&&R.mask.preRenderCanvas(this,R,g),R.renderCanvas(this,R,g),R.mask&&R.mask.postRenderCanvas(this,R,g)}C.setTransform(1,0,0,1,0,0),C.globalCompositeOperation="source-over",C.globalAlpha=1,g.flashEffect.postRenderCanvas(C),g.fadeEffect.postRenderCanvas(C),g.dirty=!1,M&&M.postRenderCanvas(this),C.restore(),g.renderToTexture&&(g.emit(a.POST_RENDER,g),g.renderToGame&&d.sys.context.drawImage(g.canvas,y,T))},postRender:function(){this.gameContext.restore(),this.emit(n.POST_RENDER);var d=this.snapshotState;d.callback&&(i(this.gameCanvas,d),d.callback=null)},snapshotCanvas:function(d,v,g,m,y,T,E,S,C){g===void 0&&(g=!1),this.snapshotArea(m,y,T,E,v,S,C);var M=this.snapshotState;return M.getPixel=g,i(this.canvas,M),M.callback=null,this},snapshot:function(d,v,g){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,d,v,g)},snapshotArea:function(d,v,g,m,y,T,E){var S=this.snapshotState;return S.callback=y,S.type=T,S.encoder=E,S.getPixel=!1,S.x=d,S.y=v,S.width=Math.min(g,this.gameCanvas.width),S.height=Math.min(m,this.gameCanvas.height),this},snapshotPixel:function(d,v,g){return this.snapshotArea(d,v,1,1,g),this.snapshotState.getPixel=!0,this},batchSprite:function(d,v,g,m){var y,T,E,S,C,M,P,R,L,w,B,G,Y,D,F,N,I,b=g.alpha*d.alpha;b!=0&&(y=this.currentContext,T=this._tempMatrix1,E=this._tempMatrix2,C=(S=v.canvasData).x,M=S.y,P=v.cutWidth,R=v.cutHeight,L=v.customPivot,w=v.source.resolution,B=d.displayOriginX,G=d.displayOriginY,Y=-B+v.x,D=-G+v.y,d.isCropped&&((F=d._crop).flipX===d.flipX&&F.flipY===d.flipY||v.updateCropUVs(F,d.flipX,d.flipY),P=F.cw,R=F.ch,C=F.cx,M=F.cy,Y=-B+F.x,D=-G+F.y,d.flipX&&(0<=Y?Y=-(Y+P):Y<0&&(Y=Math.abs(Y)-P)),d.flipY&&(0<=D?D=-(D+R):D<0&&(D=Math.abs(D)-R))),I=N=1,d.flipX&&(L||(Y+=-v.realWidth+2*B),N=-1),d.flipY&&(L||(D+=-v.realHeight+2*G),I=-1),E.applyITRS(d.x,d.y,d.rotation,d.scaleX*N,d.scaleY*I),T.copyFrom(g.matrix),m?(T.multiplyWithOffset(m,-g.scrollX*d.scrollFactorX,-g.scrollY*d.scrollFactorY),E.e=d.x,E.f=d.y):(E.e-=g.scrollX*d.scrollFactorX,E.f-=g.scrollY*d.scrollFactorY),T.multiply(E),y.save(),T.setToContext(y),y.globalCompositeOperation=this.blendModes[d.blendMode],y.globalAlpha=b,y.imageSmoothingEnabled=!(!this.antialias||v.source.scaleMode),d.mask&&d.mask.preRenderCanvas(this,d,g),y.drawImage(v.source.image,C,M,P,R,Y,D,P/w,R/w),d.mask&&d.mask.postRenderCanvas(this,d,g),y.restore())},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});f.exports=c},function(f,x,t){var a=t(31),i=t(38),e=t(2);f.exports=function(s,r){var n,o,l,h,u=e(r,"callback"),c=e(r,"type","image/png"),d=e(r,"encoder",.92),v=Math.abs(Math.round(e(r,"x",0))),g=Math.abs(Math.round(e(r,"y",0))),m=e(r,"width",s.width),y=e(r,"height",s.height);e(r,"getPixel",!1)?(n=s.getContext("2d").getImageData(v,g,1,1).data,u.call(null,new i(n[0],n[1],n[2],n[3]/255))):v!==0||g!==0||m!==s.width||y!==s.height?((o=a.createWebGL(this,m,y)).getContext("2d").drawImage(s,v,g,m,y,0,0,m,y),(l=new Image).onerror=function(){u.call(null),a.remove(o)},l.onload=function(){u.call(null,l),a.remove(o)},l.src=o.toDataURL(c,d)):((h=new Image).onerror=function(){u.call(null)},h.onload=function(){u.call(null,h)},h.src=s.toDataURL(c,d))}},function(f,x,t){var a=t(35),i=t(348);f.exports=function(){var e=[],s=i.supportNewBlendModes,r="source-over";return e[a.NORMAL]=r,e[a.ADD]="lighter",e[a.MULTIPLY]=s?"multiply":r,e[a.SCREEN]=s?"screen":r,e[a.OVERLAY]=s?"overlay":r,e[a.DARKEN]=s?"darken":r,e[a.LIGHTEN]=s?"lighten":r,e[a.COLOR_DODGE]=s?"color-dodge":r,e[a.COLOR_BURN]=s?"color-burn":r,e[a.HARD_LIGHT]=s?"hard-light":r,e[a.SOFT_LIGHT]=s?"soft-light":r,e[a.DIFFERENCE]=s?"difference":r,e[a.EXCLUSION]=s?"exclusion":r,e[a.HUE]=s?"hue":r,e[a.SATURATION]=s?"saturation":r,e[a.COLOR]=s?"color":r,e[a.LUMINOSITY]=s?"luminosity":r,e[a.ERASE]="destination-out",e[a.SOURCE_IN]="source-in",e[a.SOURCE_OUT]="source-out",e[a.SOURCE_ATOP]="source-atop",e[a.DESTINATION_OVER]="destination-over",e[a.DESTINATION_IN]="destination-in",e[a.DESTINATION_OUT]="destination-out",e[a.DESTINATION_ATOP]="destination-atop",e[a.LIGHTER]="lighter",e[a.COPY]="copy",e[a.XOR]="xor",e}},function(f,x,t){var a=t(93),i=t(37),e=t(0),s=t(33),r=t(9),n=t(91),o=t(22),l=t(138),h=t(69),u=t(1),c=t(372),d=t(141),v=t(104),g=t(106),m=t(12),y=t(383),T=new e({Extends:r,initialize:function(E){r.call(this);var S=E.config,C={alpha:S.transparent,desynchronized:S.desynchronized,depth:!1,antialias:S.antialiasGL,premultipliedAlpha:S.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:S.failIfMajorPerformanceCaveat,powerPreference:S.powerPreference,preserveDrawingBuffer:S.preserveDrawingBuffer};this.config={clearBeforeRender:S.clearBeforeRender,antialias:S.antialias,backgroundColor:S.backgroundColor,contextCreation:C,roundPixels:S.roundPixels,maxTextures:S.maxTextures,maxTextureSize:S.maxTextureSize,batchSize:S.batchSize,maxLights:S.maxLights,mipmapFilter:S.mipmapFilter},this.game=E,this.type=s.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=E.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTexture=0,this.startActiveTexture=0,this.maxTextures=0,this.textureIndexes,this.tempTextures,this.textureZero,this.normalTexture,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=u,this.contextRestoredHandler=u,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.textureFlush=0,this.isTextureClean=!1,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.init(this.config)},init:function(E){var S=this.game,C=this.canvas,M=E.backgroundColor,P=S.config.context?S.config.context:C.getContext("webgl",E.contextCreation)||C.getContext("experimental-webgl",E.contextCreation);if(!P||P.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=P;var R=this;this.contextLostHandler=function(U){R.contextLost=!0,R.game.events.emit(o.CONTEXT_LOST,R),U.preventDefault()},this.contextRestoredHandler=function(){R.contextLost=!1,R.init(R.config),R.game.events.emit(o.CONTEXT_RESTORED,R)},C.addEventListener("webglcontextlost",this.contextLostHandler,!1),C.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),S.context=P;for(var L=0;L<=27;L++)this.blendModes.push({func:[P.ONE,P.ONE_MINUS_SRC_ALPHA],equation:P.FUNC_ADD});this.blendModes[1].func=[P.ONE,P.DST_ALPHA],this.blendModes[2].func=[P.DST_COLOR,P.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[P.ONE,P.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[P.ZERO,P.ONE_MINUS_SRC_ALPHA],equation:P.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=P.BYTE,this.glFormats[1]=P.SHORT,this.glFormats[2]=P.UNSIGNED_BYTE,this.glFormats[3]=P.UNSIGNED_SHORT,this.glFormats[4]=P.FLOAT,this.glFuncMap={mat2:{func:P.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:P.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:P.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:P.uniform1f,length:1},"1fv":{func:P.uniform1fv,length:1},"1i":{func:P.uniform1i,length:1},"1iv":{func:P.uniform1iv,length:1},"2f":{func:P.uniform2f,length:2},"2fv":{func:P.uniform2fv,length:1},"2i":{func:P.uniform2i,length:2},"2iv":{func:P.uniform2iv,length:1},"3f":{func:P.uniform3f,length:3},"3fv":{func:P.uniform3fv,length:1},"3i":{func:P.uniform3i,length:3},"3iv":{func:P.uniform3iv,length:1},"4f":{func:P.uniform4f,length:4},"4fv":{func:P.uniform4fv,length:1},"4i":{func:P.uniform4i,length:4},"4iv":{func:P.uniform4iv,length:1}};var w=P.getSupportedExtensions();E.maxTextures&&E.maxTextures!==-1||(E.maxTextures=P.getParameter(P.MAX_TEXTURE_IMAGE_UNITS)),E.maxTextureSize||(E.maxTextureSize=P.getParameter(P.MAX_TEXTURE_SIZE));var B="WEBGL_compressed_texture_",G="WEBKIT_"+B;this.compression.ETC1=P.getExtension(B+"etc1")||P.getExtension(G+"etc1"),this.compression.PVRTC=P.getExtension(B+"pvrtc")||P.getExtension(G+"pvrtc"),this.compression.S3TC=P.getExtension(B+"s3tc")||P.getExtension(G+"s3tc"),this.supportedExtensions=w;var Y="ANGLE_instanced_arrays";this.instancedArraysExtension=-1<w.indexOf(Y)?P.getExtension(Y):null;var D="OES_vertex_array_object";this.vaoExtension=-1<w.indexOf(D)?P.getExtension(D):null,P.disable(P.DEPTH_TEST),P.disable(P.CULL_FACE),P.enable(P.BLEND),P.clearColor(M.redGL,M.greenGL,M.blueGL,M.alphaGL),this.mipmapFilter=P[E.mipmapFilter],this.maxTextures=m.checkShaderMax(P,E.maxTextures),this.textureIndexes=[];var F=this.tempTextures;if(Array.isArray(F))for(var N=0;L<this.maxTextures;N++)P.deleteTexture(F[N]);else F=new Array(this.maxTextures);for(var I=0;I<this.maxTextures;I++){var b=P.createTexture();P.activeTexture(P.TEXTURE0+I),P.bindTexture(P.TEXTURE_2D,b),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,1,1,0,P.RGBA,P.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),F[I]=b,this.textureIndexes.push(I)}return this.tempTextures=F,this.currentActiveTexture=1,this.startActiveTexture++,P.activeTexture(P.TEXTURE1),this.pipelines=new c(this),this.setBlendMode(s.BlendModes.NORMAL),this.projectionMatrix=new h().identity(),S.textures.once(g.READY,this.boot,this),this},boot:function(){var E=this.game,S=this.pipelines,C=E.scale.baseSize;this.width=C.width,this.height=C.height,this.isBooted=!0,this.renderTarget=new d(this,this.width,this.height,1,0,!0,!0),S.boot(E.config.pipeline),this.blankTexture=E.textures.getFrame("__DEFAULT"),this.whiteTexture=E.textures.getFrame("__WHITE");var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,null),M.enable(M.SCISSOR_TEST),E.scale.on(v.RESIZE,this.onResize,this),this.resize(C.width,C.height)},onResize:function(E,S){S.width===this.width&&S.height===this.height||this.resize(S.width,S.height)},beginCapture:function(E,S){E===void 0&&(E=this.width),S===void 0&&(S=this.height),this.renderTarget.bind(!0,E,S),this.setProjectionMatrix(E,S),this.resetTextures()},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(E,S){var C=this.gl;return this.width=E,this.height=S,this.setProjectionMatrix(E,S),C.viewport(0,0,E,S),this.drawingBufferHeight=C.drawingBufferHeight,C.scissor(0,C.drawingBufferHeight-S,E,S),this.defaultScissor[2]=E,this.defaultScissor[3]=S,this.emit(n.RESIZE,E,S),this},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(E,S){return E===this.projectionWidth&&S===this.projectionHeight||(this.projectionWidth=E,this.projectionHeight=S,this.projectionMatrix.ortho(0,E,S,0,-1e3,1e3)),this},resetProjectionMatrix:function(){this.projectionWidth=this.width,this.projectionHeight=this.height,this.projectionMatrix.ortho(0,this.width,this.height,0,-1e3,1e3)},hasExtension:function(E){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(E)},getExtension:function(E){return this.hasExtension(E)?(E in this.extensions||(this.extensions[E]=this.gl.getExtension(E)),this.extensions[E]):null},flush:function(){this.pipelines.flush()},pushScissor:function(E,S,C,M,P){P===void 0&&(P=this.drawingBufferHeight);var R=[E,S,C,M];return this.scissorStack.push(R),this.setScissor(E,S,C,M,P),this.currentScissor=R},setScissor:function(E,S,C,M,P){P===void 0&&(P=this.drawingBufferHeight);var R,L,w,B,G=this.gl,Y=this.currentScissor,D=0<C&&0<M;Y&&D&&(R=Y[0],L=Y[1],w=Y[2],B=Y[3],D=R!==E||L!==S||w!==C||B!==M),D&&(this.flush(),G.scissor(E,P-S-M,C,M))},resetScissor:function(){var E=this.gl;E.enable(E.SCISSOR_TEST);var S,C,M,P,R=this.currentScissor;R&&(S=R[0],C=R[1],M=R[2],P=R[3],0<M&&0<P&&E.scissor(S,this.drawingBufferHeight-C-P,M,P))},popScissor:function(){var E=this.scissorStack;E.pop();var S=E[E.length-1];S&&this.setScissor(S[0],S[1],S[2],S[3]),this.currentScissor=S},hasActiveStencilMask:function(){var E=this.currentMask.mask,S=this.currentCameraMask.mask;return E&&E.isStencil||S&&S.isStencil},resetViewport:function(){var E=this.gl;E.viewport(0,0,this.width,this.height),this.drawingBufferHeight=E.drawingBufferHeight},setBlendMode:function(E,S){S===void 0&&(S=!1);var C=this.gl,M=this.blendModes[E];return!!(S||E!==s.BlendModes.SKIP_CHECK&&this.currentBlendMode!==E)&&(this.flush(),C.enable(C.BLEND),C.blendEquation(M.equation),2<M.func.length?C.blendFuncSeparate(M.func[0],M.func[1],M.func[2],M.func[3]):C.blendFunc(M.func[0],M.func[1]),this.currentBlendMode=E,!0)},addBlendMode:function(E,S){return this.blendModes.push({func:E,equation:S})-1},updateBlendMode:function(E,S,C){return this.blendModes[E]&&(this.blendModes[E].func=S,C&&(this.blendModes[E].equation=C)),this},removeBlendMode:function(E){return 17<E&&this.blendModes[E]&&this.blendModes.splice(E,1),this},setBlankTexture:function(){this.setTexture2D(this.blankTexture.glTexture)},setTextureSource:function(E){if(this.pipelines.forceZero())return this.setTextureZero(E.glTexture,!0),0;var S=this.gl,C=this.currentActiveTexture;return E.glIndexCounter<this.startActiveTexture&&(E.glIndexCounter=this.startActiveTexture,C<this.maxTextures?(E.glIndex=C,S.activeTexture(S.TEXTURE0+C),S.bindTexture(S.TEXTURE_2D,E.glTexture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,E.glIndexCounter=this.startActiveTexture,E.glIndex=1,S.activeTexture(S.TEXTURE1),S.bindTexture(S.TEXTURE_2D,E.glTexture),this.currentActiveTexture=2)),this.isTextureClean=!1,E.glIndex},isNewNormalMap:function(E,S){return this.textureZero!==E||this.normalTexture!==S},setTextureZero:function(E,S){var C;this.textureZero!==E&&(S&&this.flush(),(C=this.gl).activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,E),this.textureZero=E)},clearTextureZero:function(){this.textureZero=null},setNormalMap:function(E){var S;this.normalTexture!==E&&((S=this.gl).activeTexture(S.TEXTURE1),S.bindTexture(S.TEXTURE_2D,E),this.normalTexture=E,this.currentActiveTexture===1&&(this.currentActiveTexture=2))},clearNormalMap:function(){this.normalTexture=null,this.startActiveTexture++,this.currentActiveTexture=1,this.textureFlush++},unbindTextures:function(){for(var E=this.gl,S=this.tempTextures,C=0;C<S.length;C++)E.activeTexture(E.TEXTURE0+C),E.bindTexture(E.TEXTURE_2D,null);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++},resetTextures:function(E){if(E===void 0&&(E=!1),!this.isTextureClean){this.flush();var S=this.gl,C=this.tempTextures;if(E){for(var M=0;M<C.length;M++)S.activeTexture(S.TEXTURE0+M),S.bindTexture(S.TEXTURE_2D,C[M]);S.activeTexture(S.TEXTURE1),S.bindTexture(S.TEXTURE_2D,C[1]),this.isTextureClean=!0}else S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,C[0]),S.activeTexture(S.TEXTURE1),S.bindTexture(S.TEXTURE_2D,C[1]);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++}},setTexture2D:function(E){if(this.pipelines.forceZero())return this.setTextureZero(E,!0),0;var S=this.gl,C=this.currentActiveTexture;return E.glIndexCounter<this.startActiveTexture&&(E.glIndexCounter=this.startActiveTexture,C<this.maxTextures?(E.glIndex=C,S.activeTexture(S.TEXTURE0+C),S.bindTexture(S.TEXTURE_2D,E),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,E.glIndexCounter=this.startActiveTexture,E.glIndex=1,S.activeTexture(S.TEXTURE1),S.bindTexture(S.TEXTURE_2D,E),this.currentActiveTexture=2)),this.isTextureClean=!1,E.glIndex},pushFramebuffer:function(E,S,C,M){return E===this.currentFramebuffer?this:(this.fboStack.push(E),this.setFramebuffer(E,S,C,M))},setFramebuffer:function(E,S,C,M){if(S===void 0&&(S=!1),C===void 0&&(C=!1),M===void 0&&(M=!0),E===this.currentFramebuffer)return this;var P=this.gl,R=this.width,L=this.height;return E&&E.renderTexture&&M?(R=E.renderTexture.width,L=E.renderTexture.height):this.flush(),P.bindFramebuffer(P.FRAMEBUFFER,E),M&&P.viewport(0,0,R,L),S&&(E?(this.drawingBufferHeight=L,this.pushScissor(0,0,R,L)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=E,C&&this.resetTextures(),this},popFramebuffer:function(E,S,C){E===void 0&&(E=!1),S===void 0&&(S=!1),C===void 0&&(C=!0);var M=this.fboStack;M.pop();var P=(P=M[M.length-1])||null;return this.setFramebuffer(P,E,S,C),P},setProgram:function(E){return E!==this.currentProgram&&(this.flush(),this.gl.useProgram(E),this.currentProgram=E,!0)},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(E,S,C,M){var P=this.gl,R=P.NEAREST,L=P.NEAREST,w=P.CLAMP_TO_EDGE;S=E?E.width:S,C=E?E.height:C;var B=l(S,C);return B&&(w=P.REPEAT),M===s.ScaleModes.LINEAR&&this.config.antialias&&(R=B?this.mipmapFilter:P.LINEAR,L=P.LINEAR),E||typeof S!="number"||typeof C!="number"?this.createTexture2D(0,R,L,w,w,P.RGBA,E):this.createTexture2D(0,R,L,w,w,P.RGBA,null,S,C)},createTexture2D:function(E,S,C,M,P,R,L,w,B,G,Y,D){G=G==null||G,Y===void 0&&(Y=!1),D===void 0&&(D=!1);var F=this.gl,N=F.createTexture();F.activeTexture(F.TEXTURE0);var I=F.getParameter(F.TEXTURE_BINDING_2D);return F.bindTexture(F.TEXTURE_2D,N),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,S),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,C),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,P),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,M),F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G),F.pixelStorei(F.UNPACK_FLIP_Y_WEBGL,D),L==null?F.texImage2D(F.TEXTURE_2D,E,R,w,B,0,R,F.UNSIGNED_BYTE,null):(Y||(w=L.width,B=L.height),F.texImage2D(F.TEXTURE_2D,E,R,R,F.UNSIGNED_BYTE,L)),l(w,B)&&F.generateMipmap(F.TEXTURE_2D),I&&F.bindTexture(F.TEXTURE_2D,I),N.isAlphaPremultiplied=G,N.isRenderTexture=!1,N.width=w,N.height=B,N.glIndex=0,N.glIndexCounter=-1,N},createFramebuffer:function(E,S,C,M){var P,R,L=this.gl,w=L.createFramebuffer();if(this.setFramebuffer(w),M&&(R=L.createRenderbuffer(),L.bindRenderbuffer(L.RENDERBUFFER,R),L.renderbufferStorage(L.RENDERBUFFER,L.DEPTH_STENCIL,E,S),L.framebufferRenderbuffer(L.FRAMEBUFFER,L.DEPTH_STENCIL_ATTACHMENT,L.RENDERBUFFER,R)),C.isRenderTexture=!0,C.isAlphaPremultiplied=!1,L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,C,0),(P=L.checkFramebufferStatus(L.FRAMEBUFFER))===L.FRAMEBUFFER_COMPLETE)return w.renderTexture=C,this.setFramebuffer(null),this.resetTextures(),w;throw new Error("Framebuffer status: "+{36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"}[P])},createProgram:function(E,S){var C=this.gl,M=C.createProgram(),P=C.createShader(C.VERTEX_SHADER),R=C.createShader(C.FRAGMENT_SHADER);if(C.shaderSource(P,E),C.shaderSource(R,S),C.compileShader(P),C.compileShader(R),!C.getShaderParameter(P,C.COMPILE_STATUS))throw new Error(`Vertex Shader failed:
`+C.getShaderInfoLog(P));if(!C.getShaderParameter(R,C.COMPILE_STATUS))throw new Error(`Fragment Shader failed:
`+C.getShaderInfoLog(R));if(C.attachShader(M,P),C.attachShader(M,R),C.linkProgram(M),!C.getProgramParameter(M,C.LINK_STATUS))throw new Error(`Link Program failed:
`+C.getProgramInfoLog(M));return C.useProgram(M),M},createVertexBuffer:function(E,S){var C=this.gl,M=C.createBuffer();return C.bindBuffer(C.ARRAY_BUFFER,M),C.bufferData(C.ARRAY_BUFFER,E,S),C.bindBuffer(C.ARRAY_BUFFER,null),M},createIndexBuffer:function(E,S){var C=this.gl,M=C.createBuffer();return C.bindBuffer(C.ELEMENT_ARRAY_BUFFER,M),C.bufferData(C.ELEMENT_ARRAY_BUFFER,E,S),C.bindBuffer(C.ELEMENT_ARRAY_BUFFER,null),M},deleteTexture:function(E,S){return S&&this.resetTextures(!0),E&&this.gl.deleteTexture(E),this},deleteFramebuffer:function(E){return E&&(this.gl.deleteFramebuffer(E),a(this.fboStack,E),this.currentFramebuffer===E&&(this.currentFramebuffer=null)),this},deleteProgram:function(E){return E&&this.gl.deleteProgram(E),this},deleteBuffer:function(E){return this.gl.deleteBuffer(E),this},preRenderCamera:function(E){var S=E.x,C=E.y,M=E.width,P=E.height,R=E.backgroundColor;E.emit(i.PRE_RENDER,E),this.pipelines.preBatchCamera(E),this.pushScissor(S,C,M,P),E.mask&&(this.currentCameraMask.mask=E.mask,this.currentCameraMask.camera=E._maskCamera,E.mask.preRenderWebGL(this,E,E._maskCamera)),0<R.alphaGL&&this.pipelines.setMulti().drawFillRect(S,C,M,P,m.getTintFromFloats(R.blueGL,R.greenGL,R.redGL,1),R.alphaGL)},getCurrentStencilMask:function(){var E=null,S=this.maskStack,C=this.currentCameraMask;return 0<S.length?E=S[S.length-1]:C.mask&&C.mask.isStencil&&(E=C),E},postRenderCamera:function(E){var S,C=E.flashEffect,M=E.fadeEffect;(C.isRunning||M.isRunning||M.isComplete)&&(S=this.pipelines.setMulti(),C.postRenderWebGL(S,m.getTintFromFloats),M.postRenderWebGL(S,m.getTintFromFloats)),E.dirty=!1,this.popScissor(),E.mask&&(this.currentCameraMask.mask=null,E.mask.postRenderWebGL(this,E._maskCamera)),this.pipelines.postBatchCamera(E),E.emit(i.POST_RENDER,E)},preRender:function(){var E,S;this.contextLost||((E=this.gl).bindFramebuffer(E.FRAMEBUFFER,null),this.config.clearBeforeRender&&(S=this.config.backgroundColor,E.clearColor(S.redGL,S.greenGL,S.blueGL,S.alphaGL),E.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT|E.STENCIL_BUFFER_BIT)),E.enable(E.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&E.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.textureFlush=0,this.emit(n.PRE_RENDER))},render:function(E,S,C){if(!this.contextLost){var M=S.length;if(this.emit(n.RENDER,E,C),this.preRenderCamera(C),M===0)return this.setBlendMode(s.BlendModes.NORMAL),void this.postRenderCamera(C);this.currentType="";for(var P=this.currentMask,R=0;R<M;R++){this.finalType=R===M-1;var L=S[R],w=L.mask;(P=this.currentMask).mask&&P.mask!==w&&P.mask.postRenderWebGL(this,P.camera),w&&P.mask!==w&&w.preRenderWebGL(this,L,C),L.blendMode!==this.currentBlendMode&&this.setBlendMode(L.blendMode);var B=L.type;B!==this.currentType&&(this.newType=!0,this.currentType=B),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=S[R+1].type===this.currentType,L.renderWebGL(this,L,C),this.newType=!1}(P=this.currentMask).mask&&P.mask.postRenderWebGL(this,P.camera),this.setBlendMode(s.BlendModes.NORMAL),this.postRenderCamera(C)}},postRender:function(){var E;this.contextLost||(this.flush(),this.emit(n.POST_RENDER),(E=this.snapshotState).callback&&(y(this.canvas,E),E.callback=null),0<this.textureFlush&&(this.startActiveTexture++,this.currentActiveTexture=1))},snapshot:function(E,S,C){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,E,S,C)},snapshotArea:function(E,S,C,M,P,R,L){var w=this.snapshotState;return w.callback=P,w.type=R,w.encoder=L,w.getPixel=!1,w.x=E,w.y=S,w.width=Math.min(C,this.gl.drawingBufferWidth),w.height=Math.min(M,this.gl.drawingBufferHeight),this},snapshotPixel:function(E,S,C){return this.snapshotArea(E,S,1,1,C),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(E,S,C,M,P,R,L,w,B,G,Y){P===void 0&&(P=!1),R===void 0&&(R=0),L===void 0&&(L=0),w===void 0&&(w=S),B===void 0&&(B=C);var D=this.currentFramebuffer;this.snapshotArea(R,L,w,B,M,G,Y);var F=this.snapshotState;return F.getPixel=P,F.isFramebuffer=!0,F.bufferWidth=S,F.bufferHeight=C,this.setFramebuffer(E),y(this.canvas,F),this.setFramebuffer(D),F.callback=null,F.isFramebuffer=!1,this},canvasToTexture:function(E,S,C,M){return C===void 0&&(C=!1),M===void 0&&(M=!1),S?this.updateCanvasTexture(E,S,M):this.createCanvasTexture(E,C,M)},createCanvasTexture:function(E,S,C){S===void 0&&(S=!1),C===void 0&&(C=!1);var M=this.gl,P=M.NEAREST,R=M.NEAREST,L=E.width,w=E.height,B=M.CLAMP_TO_EDGE,G=l(L,w);return!S&&G&&(B=M.REPEAT),this.config.antialias&&(P=G?this.mipmapFilter:M.LINEAR,R=M.LINEAR),this.createTexture2D(0,P,R,B,B,M.RGBA,E,L,w,!0,!1,C)},updateCanvasTexture:function(E,S,C){C===void 0&&(C=!1);var M,P=this.gl,R=E.width,L=E.height;return 0<R&&0<L&&(P.activeTexture(P.TEXTURE0),M=P.getParameter(P.TEXTURE_BINDING_2D),P.bindTexture(P.TEXTURE_2D,S),P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,C),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,E),S.width=R,S.height=L,M&&P.bindTexture(P.TEXTURE_2D,M)),S},createVideoTexture:function(E,S,C){S===void 0&&(S=!1),C===void 0&&(C=!1);var M=this.gl,P=M.NEAREST,R=M.NEAREST,L=E.videoWidth,w=E.videoHeight,B=M.CLAMP_TO_EDGE,G=l(L,w);return!S&&G&&(B=M.REPEAT),this.config.antialias&&(P=G?this.mipmapFilter:M.LINEAR,R=M.LINEAR),this.createTexture2D(0,P,R,B,B,M.RGBA,E,L,w,!0,!0,C)},updateVideoTexture:function(E,S,C){C===void 0&&(C=!1);var M,P=this.gl,R=E.videoWidth,L=E.videoHeight;return 0<R&&0<L&&(P.activeTexture(P.TEXTURE0),M=P.getParameter(P.TEXTURE_BINDING_2D),P.bindTexture(P.TEXTURE_2D,S),P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,C),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,E),S.width=R,S.height=L,M&&P.bindTexture(P.TEXTURE_2D,M)),S},setTextureFilter:function(E,S){var C=this.gl,M=[C.LINEAR,C.NEAREST][S];C.activeTexture(C.TEXTURE0);var P=C.getParameter(C.TEXTURE_BINDING_2D);return C.bindTexture(C.TEXTURE_2D,E),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,M),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,M),P&&C.bindTexture(C.TEXTURE_2D,P),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);for(var E=this.gl,S=this.tempTextures,C=0;C<S.length;C++)E.deleteTexture(S[C]);this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});f.exports=T},function(f,x,t){var a=t(0),i=t(92),e=t(102),s=t(373),r=t(376),n=t(377),o=t(108),l=t(378),h=t(379),u=t(380),c=t(381),d=new a({initialize:function(v){this.game=v.game,this.renderer=v,this.classes=new e([[i.UTILITY_PIPELINE,c],[i.MULTI_PIPELINE,o],[i.BITMAPMASK_PIPELINE,s],[i.SINGLE_PIPELINE,u],[i.ROPE_PIPELINE,h],[i.LIGHT_PIPELINE,n],[i.POINTLIGHT_PIPELINE,l],[i.GRAPHICS_PIPELINE,r]]),this.postPipelineClasses=new e,this.pipelines=new e,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(v){var g,m=this,y=this.game;if(this.classes.each(function(S,C){T=m.add(S,new C({game:y})),S===i.UTILITY_PIPELINE&&(m.UTILITY_PIPELINE=T,m.fullFrame1=T.fullFrame1,m.fullFrame2=T.fullFrame2,m.halfFrame1=T.halfFrame1,m.halfFrame2=T.halfFrame2)}),this.MULTI_PIPELINE=this.get(i.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(i.BITMAPMASK_PIPELINE),v)for(g in v){var T,E=v[g];(T=new E(y)).isPostFX?this.postPipelineClasses.set(g,E):this.has(g)||(this.classes.set(g,E),this.add(g,T))}},add:function(v,g){if(!g.isPostFX){var m=this.pipelines,y=this.renderer;return m.has(v)?console.warn("Pipeline exists: "+v):(g.name=v,g.manager=this,m.set(v,g)),g.hasBooted||g.boot(),y.width!==0&&y.height!==0&&g.resize(y.width,y.height),g}console.warn(v+" is a Post Pipeline. Use `addPostPipeline` instead")},addPostPipeline:function(v,g){this.postPipelineClasses.has(v)||this.postPipelineClasses.set(v,g)},flush:function(){this.current&&this.current.flush()},has:function(v){var g=this.pipelines;return typeof v=="string"?g.has(v):!!g.contains(v)},get:function(v){var g=this.pipelines;return typeof v=="string"?g.get(v):g.contains(v)?v:void 0},getPostPipeline:function(v,g){var m,y=this.postPipelineClasses;if(typeof v=="string"?m=y.get(v):typeof v=="function"?y.contains(v)&&(m=v):typeof v=="object"&&(m=y.get(v.name)),m){var T=new m(this.game);return g&&(T.gameObject=g),T}},remove:function(v,g,m){g===void 0&&(g=!0),m===void 0&&(m=!0),this.pipelines.delete(v),g&&this.classes.delete(v),m&&this.postPipelineClasses.delete(v)},set:function(v,g,m){if(!v.isPostFX)return this.isCurrent(v,m)||(this.flush(),this.current&&this.current.unbind(),(this.current=v).bind(m)),v.updateProjectionMatrix(),v.onBind(g),v},preBatch:function(v){if(v.hasPostPipeline){this.flush();for(var g=v.postPipelines,m=g.length-1;0<=m;m--){var y=g[m];y.active&&y.preBatch(v)}}},postBatch:function(v){if(v.hasPostPipeline){this.flush();for(var g=v.postPipelines,m=0;m<g.length;m++){var y=g[m];y.active&&y.postBatch(v)}}},preBatchCamera:function(v){if(v.hasPostPipeline){this.flush();for(var g=v.postPipelines,m=g.length-1;0<=m;m--){var y=g[m];y.active&&y.preBatch(v)}}},postBatchCamera:function(v){if(v.hasPostPipeline){this.flush();for(var g=v.postPipelines,m=0;m<g.length;m++){var y=g[m];y.active&&y.postBatch(v)}}},isCurrent:function(v,g){var m=this.renderer,y=this.current;return y&&!g&&(g=y.currentShader),!(y!==v||g.program!==m.currentProgram)},copyFrame:function(v,g,m,y,T){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(v,g,m,y,T),this},copyToGame:function(v){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(v),this},drawFrame:function(v,g,m,y){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(v,g,m,y),this},blendFrames:function(v,g,m,y,T){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(v,g,m,y,T),this},blendFramesAdditive:function(v,g,m,y,T){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(v,g,m,y,T),this},clearFrame:function(v,g){return this.UTILITY_PIPELINE.clearFrame(v,g),this},blitFrame:function(v,g,m,y,T,E){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(v,g,m,y,T,E),this},copyFrameRect:function(v,g,m,y,T,E,S,C){return this.UTILITY_PIPELINE.copyFrameRect(v,g,m,y,T,E,S,C),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(v){return this.UTILITY_PIPELINE.bind(v)},rebind:function(v){v===void 0&&this.previous&&(v=this.previous);var g=this.renderer,m=g.gl;m.disable(m.DEPTH_TEST),m.disable(m.CULL_FACE),g.hasActiveStencilMask()?m.clear(m.DEPTH_BUFFER_BIT):(m.disable(m.STENCIL_TEST),m.clear(m.DEPTH_BUFFER_BIT|m.STENCIL_BUFFER_BIT)),m.viewport(0,0,g.width,g.height),g.currentProgram=null,g.setBlendMode(0,!0);var y=this.pipelines.entries;for(var T in y)y[T].glReset=!0;v&&(this.current=v).rebind(),g.resetTextures()},clear:function(){var v=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,v.currentProgram=null,v.setBlendMode(0,!0)},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.current=null,this.previous=null}});f.exports=d},function(f,x,t){var a=t(0),i=t(2),e=t(866),s=t(867),r=t(107),n=t(58),o=new a({Extends:n,initialize:function(l){l.fragShader=i(l,"fragShader",e),l.vertShader=i(l,"vertShader",s),l.batchSize=i(l,"batchSize",1),l.vertices=i(l,"vertices",[-1,1,-1,-7,7,1]),l.attributes=i(l,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),n.call(this,l)},boot:function(){n.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,h){n.prototype.resize.call(this,l,h),this.set2f("uResolution",l,h)},beginMask:function(l,h,u){var c,d=this.gl;l.bitmapMask&&d&&((c=this.renderer).flush(),c.pushFramebuffer(l.mainFramebuffer),d.disable(d.STENCIL_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),c.currentCameraMask.mask!==l&&(c.currentMask.mask=l,c.currentMask.camera=u))},endMask:function(l,h){var u,c=this.gl,d=this.renderer,v=l.bitmapMask;v&&c&&(d.flush(),d.pushFramebuffer(l.maskFramebuffer),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),d.setBlendMode(0,!0),v.renderWebGL(d,v,h),d.flush(),d.popFramebuffer(),d.popFramebuffer(),(u=d.getCurrentStencilMask())?(c.enable(c.STENCIL_TEST),u.mask.applyStencil(d,u.camera,!0)):d.currentMask.mask=null,d.pipelines.set(this),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,l.maskTexture),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,l.mainTexture),this.set1i("uInvertMaskAlpha",l.invertAlpha),c.drawArrays(this.topology,0,3),d.resetTextures())}});f.exports=o},function(f,x,t){f.exports={AFTER_FLUSH:t(868),BEFORE_FLUSH:t(869),BIND:t(870),BOOT:t(871),DESTROY:t(872),REBIND:t(873),RESIZE:t(874)}},function(f,x,t){var a=t(0),i=t(2),e=t(107),s=new a({initialize:function(r,n,o,l,h){this.pipeline=r,this.name=n,this.renderer=r.renderer,this.gl=this.renderer.gl,this.program=this.renderer.createProgram(o,l),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(h),this.createUniforms()},createAttributes:function(r){for(var n=0,o=0,l=[],h=this.vertexComponentCount=0;h<r.length;h++){var u=r[h],c=u.name,d=i(u,"size",1),v=i(u,"type",e.FLOAT),g=v.enum,m=v.size,y=!!u.normalized;l.push({name:c,size:d,type:g,normalized:y,offset:o,enabled:!1,location:-1}),m===4?n+=d:n++,o+=d*m}this.vertexSize=o,this.vertexComponentCount=n,this.attributes=l},bind:function(r,n){return r===void 0&&(r=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),r&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(r){r===void 0&&(r=!1);for(var n=this.gl,o=this.vertexSize,l=this.attributes,h=this.program,u=0;u<l.length;u++){var c,d=l[u],v=d.size,g=d.type,m=d.offset,y=d.enabled,T=d.location,E=!!d.normalized;r?0<=(c=n.getAttribLocation(h,d.name))?(n.enableVertexAttribArray(c),n.vertexAttribPointer(c,v,g,E,o,m),d.enabled=!0,d.location=c):c!==-1&&n.disableVertexAttribArray(c):y?n.vertexAttribPointer(T,v,g,E,o,m):!y&&-1<T&&(n.disableVertexAttribArray(T),d.location=-1)}return this},createUniforms:function(){for(var r,n,o=this.gl,l=this.program,h=this.uniforms,u=o.getProgramParameter(l,o.ACTIVE_UNIFORMS),c=0;c<u;c++){var d,v=o.getActiveUniform(l,c);v&&(r=v.name,(n=o.getUniformLocation(l,r))!==null&&(h[r]={name:r,location:n,value1:null,value2:null,value3:null,value4:null}),0<(d=r.indexOf("["))&&(r=r.substr(0,d),h.hasOwnProperty(r)||(n=o.getUniformLocation(l,r))!==null&&(h[r]={name:r,location:n,value1:null,value2:null,value3:null,value4:null})))}return this},hasUniform:function(r){return this.uniforms.hasOwnProperty(r)},resetUniform:function(r){var n=this.uniforms[r];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(r,n,o,l){var h=this.uniforms[n];return h&&(!l&&h.value1===o||(h.value1=o,this.renderer.setProgram(this.program),r.call(this.gl,h.location,o),this.pipeline.currentShader=this)),this},setUniform2:function(r,n,o,l,h){var u=this.uniforms[n];return u&&(!h&&u.value1===o&&u.value2===l||(u.value1=o,u.value2=l,this.renderer.setProgram(this.program),r.call(this.gl,u.location,o,l),this.pipeline.currentShader=this)),this},setUniform3:function(r,n,o,l,h,u){var c=this.uniforms[n];return c&&(!u&&c.value1===o&&c.value2===l&&c.value3===h||(c.value1=o,c.value2=l,c.value3=h,this.renderer.setProgram(this.program),r.call(this.gl,c.location,o,l,h),this.pipeline.currentShader=this)),this},setUniform4:function(r,n,o,l,h,u,c){var d=this.uniforms[n];return d&&(!c&&d.value1===o&&d.value2===l&&d.value3===h&&d.value4===u||(d.value1=o,d.value2=l,d.value3=h,d.value4=u,this.renderer.setProgram(this.program),r.call(this.gl,d.location,o,l,h,u),this.pipeline.currentShader=this)),this},set1f:function(r,n){return this.setUniform1(this.gl.uniform1f,r,n)},set2f:function(r,n,o){return this.setUniform2(this.gl.uniform2f,r,n,o)},set3f:function(r,n,o,l){return this.setUniform3(this.gl.uniform3f,r,n,o,l)},set4f:function(r,n,o,l,h){return this.setUniform4(this.gl.uniform4f,r,n,o,l,h)},set1fv:function(r,n){return this.setUniform1(this.gl.uniform1fv,r,n,!0)},set2fv:function(r,n){return this.setUniform1(this.gl.uniform2fv,r,n,!0)},set3fv:function(r,n){return this.setUniform1(this.gl.uniform3fv,r,n,!0)},set4fv:function(r,n){return this.setUniform1(this.gl.uniform4fv,r,n,!0)},set1iv:function(r,n){return this.setUniform1(this.gl.uniform1iv,r,n,!0)},set2iv:function(r,n){return this.setUniform1(this.gl.uniform2iv,r,n,!0)},set3iv:function(r,n){return this.setUniform1(this.gl.uniform3iv,r,n,!0)},set4iv:function(r,n){return this.setUniform1(this.gl.uniform4iv,r,n,!0)},set1i:function(r,n){return this.setUniform1(this.gl.uniform1i,r,n)},set2i:function(r,n,o){return this.setUniform2(this.gl.uniform2i,r,n,o)},set3i:function(r,n,o,l){return this.setUniform3(this.gl.uniform3i,r,n,o,l)},set4i:function(r,n,o,l,h){return this.setUniform4(this.gl.uniform4i,r,n,o,l,h)},setMatrix2fv:function(r,n,o){return this.setUniform2(this.gl.uniformMatrix2fv,r,n,o,!0)},setMatrix3fv:function(r,n,o){return this.setUniform2(this.gl.uniformMatrix3fv,r,n,o,!0)},setMatrix4fv:function(r,n,o){return this.setUniform2(this.gl.uniformMatrix4fv,r,n,o,!0)},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});f.exports=s},function(f,x,t){var a=t(0),i=t(59),e=t(2),s=t(875),r=t(876),n=t(25),o=t(107),l=t(58),h=new a({Extends:l,initialize:function(u){u.fragShader=e(u,"fragShader",s),u.vertShader=e(u,"vertShader",r),u.attributes=e(u,"attributes",[{name:"inPosition",size:2},{name:"inColor",size:4,type:o.UNSIGNED_BYTE,normalized:!0}]),l.call(this,u),this.calcMatrix=new n,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},batchFillRect:function(u,c,d,v,g,m){this.renderer.pipelines.set(this);var y=this.calcMatrix;m&&m.multiply(g,y);var T=u+d,E=c+v,S=y.getX(u,c),C=y.getY(u,c),M=y.getX(u,E),P=y.getY(u,E),R=y.getX(T,E),L=y.getY(T,E),w=y.getX(T,c),B=y.getY(T,c),G=this.fillTint;this.batchQuad(S,C,M,P,R,L,w,B,G.TL,G.TR,G.BL,G.BR)},batchFillTriangle:function(u,c,d,v,g,m,y,T){this.renderer.pipelines.set(this);var E=this.calcMatrix;T&&T.multiply(y,E);var S=E.getX(u,c),C=E.getY(u,c),M=E.getX(d,v),P=E.getY(d,v),R=E.getX(g,m),L=E.getY(g,m),w=this.fillTint;this.batchTri(S,C,M,P,R,L,w.TL,w.TR,w.BL)},batchStrokeTriangle:function(u,c,d,v,g,m,y,T,E){var S=this.tempTriangle;S[0].x=u,S[0].y=c,S[0].width=y,S[1].x=d,S[1].y=v,S[1].width=y,S[2].x=g,S[2].y=m,S[2].width=y,S[3].x=u,S[3].y=c,S[3].width=y,this.batchStrokePath(S,y,!1,T,E)},batchFillPath:function(u,c,d){this.renderer.pipelines.set(this);var v=this.calcMatrix;d&&d.multiply(c,v);for(var g,m,y=u.length,T=this.polygonCache,E=this.fillTint.TL,S=this.fillTint.TR,C=this.fillTint.BL,M=0;M<y;++M)m=u[M],T.push(m.x,m.y);y=(g=i(T)).length;for(var P=0;P<y;P+=3){var R=2*g[P+0],L=2*g[P+1],w=2*g[P+2],B=T[0+R],G=T[1+R],Y=T[0+L],D=T[1+L],F=T[0+w],N=T[1+w],I=v.getX(B,G),b=v.getY(B,G),U=v.getX(Y,D),X=v.getY(Y,D),z=v.getX(F,N),V=v.getY(F,N);this.batchTri(I,b,U,X,z,V,E,S,C)}T.length=0},batchStrokePath:function(u,c,d,v,g){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var m=u.length-1,y=0;y<m;y++){var T=u[y],E=u[y+1];this.batchLine(T.x,T.y,E.x,E.y,T.width/2,E.width/2,c,y,!d&&y===m-1,v,g)}},batchLine:function(u,c,d,v,g,m,y,T,E,S,C){this.renderer.pipelines.set(this);var M=this.calcMatrix;C&&C.multiply(S,M);var P,R,L=d-u,w=v-c,B=Math.sqrt(L*L+w*w),G=g*(v-c)/B,Y=g*(u-d)/B,D=m*(v-c)/B,F=m*(u-d)/B,N=d-D,I=v-F,b=u-G,U=c-Y,X=d+D,z=v+F,V=u+G,W=c+Y,H=M.getX(N,I),K=M.getY(N,I),Z=M.getX(b,U),j=M.getY(b,U),k=M.getX(X,z),J=M.getY(X,z),q=M.getX(V,W),_=M.getY(V,W),tt=this.strokeTint,Q=tt.TL,et=tt.TR,$=tt.BL,it=tt.BR;this.batchQuad(q,_,Z,j,H,K,k,J,Q,et,$,it),y<=2||(P=this.prevQuad,R=this.firstQuad,0<T&&P[4]?this.batchQuad(q,_,Z,j,P[0],P[1],P[2],P[3],Q,et,$,it):(R[0]=q,R[1]=_,R[2]=Z,R[3]=j,R[4]=1),E&&R[4]?this.batchQuad(H,K,k,J,R[0],R[1],R[2],R[3],Q,et,$,it):(P[0]=H,P[1]=K,P[2]=k,P[3]=J,P[4]=1))},batchVert:function(u,c,d){var v=this.vertexViewF32,g=this.vertexViewU32,m=this.vertexCount*this.currentShader.vertexComponentCount-1;v[++m]=u,v[++m]=c,g[++m]=d,this.vertexCount++},batchQuad:function(u,c,d,v,g,m,y,T,E,S,C,M){var P=!1;return this.shouldFlush(6)&&(this.flush(),P=!0),this.batchVert(u,c,E),this.batchVert(d,v,C),this.batchVert(g,m,M),this.batchVert(u,c,E),this.batchVert(g,m,M),this.batchVert(y,T,S),P},batchTri:function(u,c,d,v,g,m,y,T,E){var S=!1;return this.shouldFlush(3)&&(this.flush(),S=!0),this.batchVert(u,c,y),this.batchVert(d,v,T),this.batchVert(g,m,E),S},destroy:function(){return l.prototype.destroy.call(this),this.polygonCache=null,this}});f.exports=h},function(f,x,t){var a=t(0),i=t(2),e=t(877),s=t(108),r=t(3),n=t(58),o=10,l=new r,h=new a({Extends:s,initialize:function(u){o=u.game.renderer.config.maxLights;for(var c=i(u,"fragShader",e),d=[],v=1;v<=o;v++)d.push({name:"lights"+v,fragShader:c.replace("%LIGHT_COUNT%",v.toString())});u.shaders=d,s.call(this,u),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.lightsActive=!0},boot:function(){n.prototype.boot.call(this);var u=this.gl,c=u.createTexture();u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,c),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,1,1,0,u.RGBA,u.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:c};for(var d=0;d<this.shaders.length;d++)this["lightShader"+(d+1)]=this.shaders[d]},onRender:function(u,c){var d=u.sys.lights;if(this.lightsActive=!1,d&&d.active){var v,g=d.getLights(c),m=g.length;if(m!==0){this.lightsActive=!0,this.setShader(this["lightShader"+m],!0);var y=this.renderer.height,T=c.matrix;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",c.x,c.y,c.rotation,c.zoom),this.set3f("uAmbientLightColor",d.ambientColor.r,d.ambientColor.g,d.ambientColor.b),v=0;v<m;v++){var E=g[v].light,S=E.color,C="uLights["+v+"].";T.transformPoint(E.x,E.y,l),this.set2f(C+"position",l.x-c.scrollX*E.scrollFactorX*c.zoom,y-(l.y-c.scrollY*E.scrollFactorY*c.zoom)),this.set3f(C+"color",S.r,S.g,S.b),this.set1f(C+"intensity",E.intensity),this.set1f(C+"radius",E.radius)}this.currentNormalMapRotation=null}}},setNormalMapRotation:function(u){var c,d,v,g;u===this.currentNormalMapRotation&&this.vertexCount!==0||(0<this.vertexCount&&this.flush(),c=this.inverseRotationMatrix,u?(d=-u,v=Math.cos(d),g=Math.sin(d),c[1]=g,c[3]=-g,c[0]=c[4]=v):(c[0]=c[4]=1,c[1]=c[3]=0),this.setMatrix3fv("uInverseRotationMatrix",!1,c),this.currentNormalMapRotation=u)},setTexture2D:function(u,c){var d=this.renderer;u===void 0&&(u=d.tempTextures[0]);var v=this.getNormalMap(c);d.isNewNormalMap(u,v)&&(this.flush(),d.setTextureZero(u),d.setNormalMap(v));var g=c?c.rotation:0;return this.setNormalMapRotation(g),this.currentUnit=0},setGameObject:function(u,c){c===void 0&&(c=u.frame);var d=this.renderer,v=c.glTexture,g=this.getNormalMap(u);return d.isNewNormalMap()&&(this.flush(),d.setTextureZero(v),d.setNormalMap(g)),this.setNormalMapRotation(u.rotation),this.currentUnit=0},getNormalMap:function(u){var c;return u?u.displayTexture?c=u.displayTexture.dataSource[u.displayFrame.sourceIndex]:u.texture?c=u.texture.dataSource[u.frame.sourceIndex]:u.tileset&&(c=Array.isArray(u.tileset)?u.tileset[0].image.dataSource[0]:u.tileset.image.dataSource[0]):c=this.defaultNormalMap,(c=c||this.defaultNormalMap).glTexture},batchSprite:function(u,c,d){this.lightsActive&&s.prototype.batchSprite.call(this,u,c,d)},batchTexture:function(u,c,d,v,g,m,y,T,E,S,C,M,P,R,L,w,B,G,Y,D,F,N,I,b,U,X,z,V,W,H,K,Z){this.lightsActive&&s.prototype.batchTexture.call(this,u,c,d,v,g,m,y,T,E,S,C,M,P,R,L,w,B,G,Y,D,F,N,I,b,U,X,z,V,W,H,K,Z)},batchTextureFrame:function(u,c,d,v,g,m,y){this.lightsActive&&s.prototype.batchTextureFrame.call(this,u,c,d,v,g,m,y)}});h.LIGHT_COUNT=o,f.exports=h},function(f,x,t){var a=t(0),i=t(2),e=t(880),s=t(881),r=t(58),n=new a({Extends:r,initialize:function(o){o.vertShader=i(o,"vertShader",s),o.fragShader=i(o,"fragShader",e),o.attributes=i(o,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,o)},onRender:function(o,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(o,l,h,u,c,d,v,g,m,y,T,E){var S=o.color,C=o.intensity,M=o.radius,P=o.attenuation,R=S.r*C,L=S.g*C,w=S.b*C,B=l.alpha*o.alpha;this.shouldFlush(6)&&this.flush(),this.batchLightVert(h,u,T,E,M,P,R,L,w,B),this.batchLightVert(c,d,T,E,M,P,R,L,w,B),this.batchLightVert(v,g,T,E,M,P,R,L,w,B),this.batchLightVert(h,u,T,E,M,P,R,L,w,B),this.batchLightVert(v,g,T,E,M,P,R,L,w,B),this.batchLightVert(m,y,T,E,M,P,R,L,w,B)},batchLightVert:function(o,l,h,u,c,d,v,g,m,y){var T=this.vertexViewF32,E=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++E]=o,T[++E]=l,T[++E]=h,T[++E]=u,T[++E]=c,T[++E]=d,T[++E]=v,T[++E]=g,T[++E]=m,T[++E]=y,this.vertexCount++}});f.exports=n},function(f,x,t){var a=t(0),i=t(2),e=t(108),s=new a({Extends:e,initialize:function(r){r.topology=5,r.batchSize=i(r,"batchSize",256),e.call(this,r)}});f.exports=s},function(f,x,t){var a=t(0),i=t(2),e=t(108),s=t(882),r=t(883),n=t(58),o=new a({Extends:e,initialize:function(l){l.fragShader=i(l,"fragShader",s),l.vertShader=i(l,"vertShader",r),l.forceZero=!0,e.call(this,l)},boot:function(){n.prototype.boot.call(this),this.set1i("uMainSampler",0)}});f.exports=o},function(f,x,t){var a=t(884),i=t(35),e=t(0),s=t(198),r=t(885),n=t(886),o=t(2),l=t(887),h=t(382),u=t(58),c=new e({Extends:u,initialize:function(d){d.renderTarget=o(d,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),d.vertShader=o(d,"vertShader",h),d.shaders=o(d,"shaders",[{name:"Copy",fragShader:n},{name:"AddBlend",fragShader:a},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:r}]),d.attributes=o(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,u.call(this,d),this.colorMatrix=new s,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){u.prototype.boot.call(this);var d=this.shaders,v=this.renderTargets;this.copyShader=d[0],this.addShader=d[1],this.linearShader=d[2],this.colorMatrixShader=d[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(d,v,g,m,y){g===void 0&&(g=1),m===void 0&&(m=!0),y===void 0&&(y=!0);var T=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",g),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,d.texture),v?(T.viewport(0,0,v.width,v.height),T.bindFramebuffer(T.FRAMEBUFFER,v.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,v.texture,0)):T.viewport(0,0,d.width,d.height),m&&(y?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blitFrame:function(d,v,g,m,y,T){g===void 0&&(g=1),m===void 0&&(m=!0),y===void 0&&(y=!0),T===void 0&&(T=!1);var E,S,C=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",g),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,d.texture),d.height>v.height?(C.viewport(0,0,d.width,d.height),this.setTargetUVs(d,v)):(E=v.height-d.height,C.viewport(0,E,d.width,d.height)),C.bindFramebuffer(C.FRAMEBUFFER,v.framebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,v.texture,0),m&&(y?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT)),T&&(S=this.renderer.currentBlendMode,this.renderer.setBlendMode(i.ERASE)),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),T&&this.renderer.setBlendMode(S),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(d,v,g,m,y,T,E,S){E===void 0&&(E=!0),S===void 0&&(S=!0);var C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,d.framebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,d.texture,0),E&&(S?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT)),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,v.texture),C.copyTexSubImage2D(C.TEXTURE_2D,0,0,0,g,m,y,T),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},copyToGame:function(d){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,d.texture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),this.renderer.resetTextures()},drawFrame:function(d,v,g,m){g===void 0&&(g=!0),m===void 0&&(m=this.colorMatrix);var y=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",m.getData()),this.set1f("uAlpha",m.alpha),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,d.texture),v?(y.viewport(0,0,v.width,v.height),y.bindFramebuffer(y.FRAMEBUFFER,v.framebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,v.texture,0)):y.viewport(0,0,d.width,d.height),g?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blendFrames:function(d,v,g,m,y,T){m===void 0&&(m=1),y===void 0&&(y=!0),T===void 0&&(T=this.linearShader);var E=this.gl;this.setShader(T),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",m),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,d.texture),E.activeTexture(E.TEXTURE1),E.bindTexture(E.TEXTURE_2D,v.texture),g?(E.bindFramebuffer(E.FRAMEBUFFER,g.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,g.texture,0),E.viewport(0,0,g.width,g.height)):E.viewport(0,0,d.width,d.height),y?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blendFramesAdditive:function(d,v,g,m,y){this.blendFrames(d,v,g,m,y,this.addShader)},clearFrame:function(d,v){v===void 0&&(v=!0);var g=this.gl;g.viewport(0,0,d.width,d.height),g.bindFramebuffer(g.FRAMEBUFFER,d.framebuffer),v?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT);var m=this.renderer.currentFramebuffer;g.bindFramebuffer(g.FRAMEBUFFER,m)},setUVs:function(d,v,g,m,y,T,E,S){var C=this.vertexViewF32;C[2]=d,C[3]=v,C[6]=g,C[7]=m,C[10]=y,C[11]=T,C[14]=d,C[15]=v,C[18]=y,C[19]=T,C[22]=E,C[23]=S},setTargetUVs:function(d,v){var g=.5<(g=v.height/d.height)?.5-(g-.5):.5-g+.5;this.setUVs(0,g,0,1+g,1,1+g,1,g)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});f.exports=c},function(f,x){f.exports=["#define SHADER_NAME PHASER_QUAD_VS","","precision mediump float;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","","varying vec2 outFragCoord;","varying vec2 outTexCoord;","","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","","    gl_Position = vec4(inPosition, 0, 1);","}",""].join(`
`)},function(f,x,t){var a=t(31),i=t(38),e=t(2);f.exports=function(s,r){var n=s.getContext("experimental-webgl"),o=e(r,"callback"),l=e(r,"type","image/png"),h=e(r,"encoder",.92),u=e(r,"x",0),c=e(r,"y",0),d=e(r,"getPixel",!1),v=e(r,"isFramebuffer",!1),g=v?e(r,"bufferWidth",1):n.drawingBufferWidth,m=v?e(r,"bufferHeight",1):n.drawingBufferHeight;if(d){var y=new Uint8Array(4),T=v?c:m-c;n.readPixels(u,T,1,1,n.RGBA,n.UNSIGNED_BYTE,y),o.call(null,new i(y[0],y[1],y[2],y[3]/255))}else{var E=e(r,"width",g),S=e(r,"height",m),C=new Uint8Array(E*S*4);n.readPixels(u,m-c-S,E,S,n.RGBA,n.UNSIGNED_BYTE,C);for(var M=a.createWebGL(this,E,S),P=M.getContext("2d"),R=P.getImageData(0,0,E,S),L=R.data,w=0;w<S;w++)for(var B=0;B<E;B++){var G=4*((S-w-1)*E+B),Y=4*(w*E+B);L[0+Y]=C[0+G],L[1+Y]=C[1+G],L[2+Y]=C[2+G],L[3+Y]=C[3+G]}P.putImageData(R,0,0);var D=new Image;D.onerror=function(){o.call(null),a.remove(M)},D.onload=function(){o.call(null,D),a.remove(M)},D.src=M.toDataURL(l,h)}}},function(f,x,t){var a=t(33);f.exports=function(i){var e,s,r,n,o,l,h,u=i.config;u.hideBanner||(e="WebGL",u.renderType===a.CANVAS?e="Canvas":u.renderType===a.HEADLESS&&(e="Headless"),s=u.audio,h=(r=i.device.audio).webAudio&&!s.disableWebAudio?"Web Audio":s.noAudio||!r.webAudio&&!r.audioData?"No Audio":"HTML5 Audio",i.device.browser.ie?window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io"):(o=[n=""],Array.isArray(u.bannerBackgroundColor)?(u.bannerBackgroundColor.forEach(function(c){n=n.concat("%c "),o.push("background: "+c),l=c}),o[o.length-1]="color: "+u.bannerTextColor+"; background: "+l):(n=n.concat("%c "),o.push("color: "+u.bannerTextColor+"; background: "+u.bannerBackgroundColor)),o.push("background: transparent"),u.gameTitle&&(n=n.concat(u.gameTitle),u.gameVersion&&(n=n.concat(" v"+u.gameVersion)),u.hidePhaser||(n=n.concat(" / "))),u.hidePhaser||(n=n.concat("Phaser v"+a.VERSION+" ("+e+" | "+h+")")),n=n.concat(" %c "+u.gameURL),o[0]=n,console.log.apply(console,o)))}},function(f,x,t){var a=t(0),i=t(6),e=t(1),s=t(386),r=new a({initialize:function(n,o){this.game=n,this.raf=new s,this.started=!1,this.running=!1,this.minFps=i(o,"min",5),this.targetFps=i(o,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=e,this.forceSetTimeOut=i(o,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=i(o,"deltaHistory",10),this.panicMax=i(o,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=i(o,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var n=window.performance.now();this.time=n,this.lastTime=n,this.nextFpsUpdate=n+1e3;for(var o=this.framesThisSecond=0;o<this.deltaSmoothingMax;o++)this.deltaHistory[o]=Math.min(this._target,this.deltaHistory[o]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(n){if(this.started)return this;this.started=!0,this.running=!0;for(var o=0;o<this.deltaSmoothingMax;o++)this.deltaHistory[o]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=n,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var n=window.performance.now(),o=(this.now=n)-this.lastTime;o<0&&(o=0),this.rawDelta=o;var l=this.deltaIndex,h=this.deltaHistory,u=this.deltaSmoothingMax,c=o,d=o;if(this.smoothStep){(0<this._coolDown||!this.inFocus)&&(this._coolDown--,c=Math.min(c,this._target)),c>this._min&&(c=h[l],c=Math.min(c,this._min)),h[l]=c,this.deltaIndex++,this.deltaIndex>u&&(this.deltaIndex=0);for(var v=d=0;v<u;v++)d+=h[v];d/=u}this.delta=d,this.time+=this.rawDelta,n>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0),this.framesThisSecond++;var g=d/this._target;this.callback(n,d,g),this.lastTime=n,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(n){this.running||(n&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=e,this.raf=null,this.game=null}});f.exports=r},function(f,x,t){var a=t(0),i=t(1),e=new a({initialize:function(){this.isRunning=!1,this.callback=i,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var s=this;this.step=function r(){var n=window.performance.now();s.lastTime=s.tick,s.tick=n,s.callback(n),s.timeOutID=window.requestAnimationFrame(r)},this.stepTimeout=function r(){var n=Date.now(),o=Math.min(Math.max(2*s.target+s.tick-n,0),s.target);s.lastTime=s.tick,s.tick=n,s.callback(n),s.timeOutID=window.setTimeout(r,o)}},start:function(s,r,n){this.isRunning||(this.callback=s,this.isSetTimeOut=r,this.target=n,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=i}});f.exports=e},function(f,x,t){var a=t(22);f.exports=function(i){var e,s=i.events;document.hidden!==void 0?e="visibilitychange":["webkit","moz","ms"].forEach(function(r){document[r+"Hidden"]!==void 0&&(document.hidden=function(){return document[r+"Hidden"]},e=r+"visibilitychange")}),e&&document.addEventListener(e,function(r){document.hidden||r.type==="pause"?s.emit(a.HIDDEN):s.emit(a.VISIBLE)},!1),window.onblur=function(){s.emit(a.BLUR)},window.onfocus=function(){s.emit(a.FOCUS)},window.focus&&i.config.autoFocus&&window.focus()}},function(f,x,t){var a=t(389),i=t(31),e=t(6);f.exports=function(s){var r=e(s,"data",[]),n=e(s,"canvas",null),o=e(s,"palette",a),l=e(s,"pixelWidth",1),h=e(s,"pixelHeight",l),u=e(s,"resizeCanvas",!0),c=e(s,"clearCanvas",!0),d=e(s,"preRender",null),v=e(s,"postRender",null),g=Math.floor(Math.abs(r[0].length*l)),m=Math.floor(Math.abs(r.length*h));n||(n=i.create2D(this,g,m),c=u=!1),u&&(n.width=g,n.height=m);var y=n.getContext("2d");c&&y.clearRect(0,0,g,m),d&&d(n,y);for(var T=0;T<r.length;T++)for(var E=r[T],S=0;S<E.length;S++){var C=E[S];C!=="."&&C!==" "&&(y.fillStyle=o[C],y.fillRect(S*l,T*h,l,h))}return v&&v(n,y),n}},function(f,x){f.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(f,x,t){var a=t(0),i=t(358),e=t(94),s=t(3),r=new a({Extends:e,initialize:function(n,o,l,h){e.call(this,"CubicBezierCurve"),Array.isArray(n)&&(h=new s(n[6],n[7]),l=new s(n[4],n[5]),o=new s(n[2],n[3]),n=new s(n[0],n[1])),this.p0=n,this.p1=o,this.p2=l,this.p3=h},getStartPoint:function(n){return n===void 0&&(n=new s),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,o){o===void 0&&(o=new s);var l=this.p0,h=this.p1,u=this.p2,c=this.p3;return o.set(i(n,l.x,h.x,u.x,c.x),i(n,l.y,h.y,u.y,c.y))},draw:function(n,o){o===void 0&&(o=32);var l=this.getPoints(o);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var h=1;h<l.length;h++)n.lineTo(l[h].x,l[h].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(n){var o=n.points,l=new s(o[0],o[1]),h=new s(o[2],o[3]),u=new s(o[4],o[5]),c=new s(o[6],o[7]);return new r(l,h,u,c)},f.exports=r},function(f,x,t){var a=t(0),i=t(94),e=t(36),s=t(6),r=t(196),n=t(3),o=new a({Extends:i,initialize:function(l,h,u,c,d,v,g,m){var y;typeof l=="object"?(l=s(y=l,"x",0),h=s(y,"y",0),u=s(y,"xRadius",0),c=s(y,"yRadius",u),d=s(y,"startAngle",0),v=s(y,"endAngle",360),g=s(y,"clockwise",!1),m=s(y,"rotation",0)):(c===void 0&&(c=u),d===void 0&&(d=0),v===void 0&&(v=360),g===void 0&&(g=!1),m===void 0&&(m=0)),i.call(this,"EllipseCurve"),this.p0=new n(l,h),this._xRadius=u,this._yRadius=c,this._startAngle=e(d),this._endAngle=e(v),this._clockwise=g,this._rotation=e(m)},getStartPoint:function(l){return l===void 0&&(l=new n),this.getPoint(0,l)},getResolution:function(l){return 2*l},getPoint:function(l,h){h===void 0&&(h=new n);for(var u=2*Math.PI,c=this._endAngle-this._startAngle,d=Math.abs(c)<Number.EPSILON;c<0;)c+=u;for(;u<c;)c-=u;c<Number.EPSILON&&(c=d?0:u),this._clockwise&&!d&&(c===u?c=-u:c-=u);var v,g,m,y,T=this._startAngle+l*c,E=this.p0.x+this._xRadius*Math.cos(T),S=this.p0.y+this._yRadius*Math.sin(T);return this._rotation!==0&&(v=Math.cos(this._rotation),g=Math.sin(this._rotation),E=(m=E-this.p0.x)*v-(y=S-this.p0.y)*g+this.p0.x,S=m*g+y*v+this.p0.y),h.set(E,S)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return r(this._startAngle)},set:function(l){this._startAngle=e(l)}},endAngle:{get:function(){return r(this._endAngle)},set:function(l){this._endAngle=e(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return r(this._rotation)},set:function(l){this._rotation=e(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});o.fromJSON=function(l){return new o(l)},f.exports=o},function(f,x,t){var a=t(0),i=t(94),e=t(199),s=t(10),r=t(3),n=new a({Extends:i,initialize:function(o,l){i.call(this,"LineCurve"),Array.isArray(o)&&(l=new r(o[2],o[3]),o=new r(o[0],o[1])),this.p0=o,this.p1=l,this.arcLengthDivisions=1},getBounds:function(o){return o===void 0&&(o=new s),e([this.p0,this.p1],o)},getStartPoint:function(o){return o===void 0&&(o=new r),o.copy(this.p0)},getResolution:function(o){return o===void 0&&(o=1),o},getPoint:function(o,l){return l===void 0&&(l=new r),o===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(o).add(this.p0),l)},getPointAt:function(o,l){return this.getPoint(o,l)},getTangent:function(o,l){return l===void 0&&(l=new r),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(o,l,h){var u,c;return l?(c=(u=this.getLengths(h))[u.length-1],Math.min(l,c)/c):o},draw:function(o){return o.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});n.fromJSON=function(o){var l=o.points,h=new r(l[0],l[1]),u=new r(l[2],l[3]);return new n(h,u)},f.exports=n},function(f,x,t){var a=t(0),i=t(3),e=new a({initialize:function(s,r){this.active=!1,this.p0=new i(s,r)},getPoint:function(s,r){return r===void 0&&(r=new i),r.copy(this.p0)},getPointAt:function(s,r){return this.getPoint(s,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});f.exports=e},function(f,x,t){var a=t(0),i=t(94),e=t(359),s=t(3),r=new a({Extends:i,initialize:function(n,o,l){i.call(this,"QuadraticBezier"),Array.isArray(n)&&(l=new s(n[4],n[5]),o=new s(n[2],n[3]),n=new s(n[0],n[1])),this.p0=n,this.p1=o,this.p2=l},getStartPoint:function(n){return n===void 0&&(n=new s),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,o){o===void 0&&(o=new s);var l=this.p0,h=this.p1,u=this.p2;return o.set(e(n,l.x,h.x,u.x),e(n,l.y,h.y,u.y))},draw:function(n,o){o===void 0&&(o=32);var l=this.getPoints(o);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var h=1;h<l.length;h++)n.lineTo(l[h].x,l[h].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(n){var o=n.points,l=new s(o[0],o[1]),h=new s(o[2],o[3]),u=new s(o[4],o[5]);return new r(l,h,u)},f.exports=r},function(f,x,t){var a=t(194),i=t(0),e=t(94),s=t(3),r=new i({Extends:e,initialize:function(n){n===void 0&&(n=[]),e.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(n){for(var o=0;o<n.length;o++){var l=new s;typeof n[o]=="number"?(l.x=n[o],l.y=n[o+1],o++):Array.isArray(n[o])?(l.x=n[o][0],l.y=n[o][1]):(l.x=n[o].x,l.y=n[o].y),this.points.push(l)}return this},addPoint:function(n,o){var l=new s(n,o);return this.points.push(l),l},getStartPoint:function(n){return n===void 0&&(n=new s),n.copy(this.points[0])},getResolution:function(n){return n*this.points.length},getPoint:function(n,o){o===void 0&&(o=new s);var l=this.points,h=(l.length-1)*n,u=Math.floor(h),c=h-u,d=l[u===0?u:u-1],v=l[u],g=l[u>l.length-2?l.length-1:u+1],m=l[u>l.length-3?l.length-1:u+2];return o.set(a(c,d.x,v.x,g.x,m.x),a(c,d.y,v.y,g.y,m.y))},toJSON:function(){for(var n=[],o=0;o<this.points.length;o++)n.push(this.points[o].x),n.push(this.points[o].y);return{type:this.type,points:n}}});r.fromJSON=function(n){return new r(n.points)},f.exports=r},function(f,x,t){var a=new(t(0))({initialize:function(i,e,s,r){e&&e!==""||(e=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),s&&s!==""||(s=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),r===void 0&&(r=null),this.key=i,this.fragmentSrc=e,this.vertexSrc=s,this.uniforms=r}});f.exports=a},function(f,x,t){var a=t(38);a.ColorSpectrum=t(909),a.ColorToRGBA=t(910),a.ComponentToHex=t(398),a.GetColor=t(103),a.GetColor32=t(328),a.HexStringToColor=t(327),a.HSLToColor=t(911),a.HSVColorWheel=t(912),a.HSVToRGB=t(188),a.HueToComponent=t(399),a.IntegerToColor=t(189),a.IntegerToRGB=t(330),a.Interpolate=t(913),a.ObjectToColor=t(331),a.RandomRGB=t(914),a.RGBStringToColor=t(332),a.RGBToHSV=t(329),a.RGBToString=t(915),a.ValueToColor=t(187),f.exports=a},function(f,x){f.exports=function(t){var a=t.toString(16);return a.length===1?"0"+a:a}},function(f,x){f.exports=function(t,a,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(a-t)*i:i<.5?a:i<2/3?t+(a-t)*(2/3-i)*6:t}},function(f,x,t){var a=t(105);f.exports=function(i){var e;document.readyState!=="complete"&&document.readyState!=="interactive"?(e=function(){document.removeEventListener("deviceready",e,!0),document.removeEventListener("DOMContentLoaded",e,!0),window.removeEventListener("load",e,!0),i()},document.body?a.cordova?document.addEventListener("deviceready",e,!1):(document.addEventListener("DOMContentLoaded",e,!0),window.addEventListener("load",e,!0)):window.setTimeout(e,20)):i()}},function(f,x){f.exports=function(t){if(!t)return window.innerHeight;var a=Math.abs(window.orientation),i={w:0,h:0},e=document.createElement("div");return e.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(e),i.w=a===90?e.offsetHeight:window.innerWidth,i.h=a===90?window.innerWidth:e.offsetHeight,document.documentElement.removeChild(e),e=null,Math.abs(window.orientation)!==90?i.h:i.w}},function(f,x,t){var a=t(201);f.exports=function(i,e){var s=window.screen,r=!!s&&(s.orientation||s.mozOrientation||s.msOrientation);return r&&typeof r.type=="string"?r.type:typeof r=="string"?r:typeof window.orientation=="number"?window.orientation===0||window.orientation===180?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?a.ORIENTATION.PORTRAIT:window.matchMedia("(orientation: landscape)").matches?a.ORIENTATION.LANDSCAPE:void 0:i<e?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE}},function(f,x){f.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(f,x){f.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(f,x){f.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(f,x){f.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(f,x){f.exports=function(t){var a;return t!==""&&(typeof t=="string"?a=document.getElementById(t):t&&t.nodeType===1&&(a=t)),a=a||document.body}},function(f,x){f.exports=function(t){var a="";try{window.DOMParser?a=new DOMParser().parseFromString(t,"text/xml"):(a=new ActiveXObject("Microsoft.XMLDOM")).loadXML(t)}catch{a=null}return a&&a.documentElement&&!a.getElementsByTagName("parsererror").length?a:null}},function(f,x,t){var a=t(0),i=t(203),e=t(9),s=t(51),r=t(22),n=t(410),o=t(411),l=t(412),h=t(413),u=t(25),c=t(177),d=new a({initialize:function(v,g){this.game=v,this.scaleManager,this.canvas,this.config=g,this.enabled=!0,this.events=new e,this.isOver=!0,this.defaultCursor="",this.keyboard=g.inputKeyboard?new n(this):null,this.mouse=g.inputMouse?new o(this):null,this.touch=g.inputTouch?new h(this):null,this.pointers=[],this.pointersTotal=g.inputActivePointers,g.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var m=0;m<=this.pointersTotal;m++){var y=new l(this,m);y.smoothFactor=g.inputSmoothFactor,this.pointers.push(y)}this.mousePointer=g.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new u,this._tempMatrix2=new u,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],v.events.once(r.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(s.MANAGER_BOOT),this.game.events.on(r.PRE_RENDER,this.preRender,this),this.game.events.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(s.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(s.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,g=this.game.loop.delta,m=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(s.MANAGER_UPDATE);for(var y=0;y<m.length;y++){var T=m[y];if(T.sys.input&&T.sys.input.updatePoll(v,g)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v){v.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){v===void 0&&(v=1);var g=[];10<this.pointersTotal+v&&(v=10-this.pointersTotal);for(var m=0;m<v;m++){var y=this.pointers.length,T=new l(this,y);T.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(T),this.pointersTotal++,g.push(T)}return g},updateInputPlugins:function(v,g){var m=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var y=0;y<m.length;y++){var T=m[y];if(T.sys.input&&(T.sys.input.update(v,g)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(v){for(var g=this.pointers,m=[],y=0;y<v.changedTouches.length;y++)for(var T=v.changedTouches[y],E=1;E<this.pointersTotal;E++){var S=g[E];if(!S.active){S.touchstart(T,v),this.activePointer=S,m.push(S);break}}this.updateInputPlugins(i.TOUCH_START,m)},onTouchMove:function(v){for(var g=this.pointers,m=[],y=0;y<v.changedTouches.length;y++)for(var T=v.changedTouches[y],E=1;E<this.pointersTotal;E++){var S=g[E];if(S.active&&S.identifier===T.identifier){S.touchmove(T,v),this.activePointer=S,m.push(S);break}}this.updateInputPlugins(i.TOUCH_MOVE,m)},onTouchEnd:function(v){for(var g=this.pointers,m=[],y=0;y<v.changedTouches.length;y++)for(var T=v.changedTouches[y],E=1;E<this.pointersTotal;E++){var S=g[E];if(S.active&&S.identifier===T.identifier){S.touchend(T,v),m.push(S);break}}this.updateInputPlugins(i.TOUCH_END,m)},onTouchCancel:function(v){for(var g=this.pointers,m=[],y=0;y<v.changedTouches.length;y++)for(var T=v.changedTouches[y],E=1;E<this.pointersTotal;E++){var S=g[E];if(S.active&&S.identifier===T.identifier){S.touchcancel(T,v),m.push(S);break}}this.updateInputPlugins(i.TOUCH_CANCEL,m)},onMouseDown:function(v){var g=this.mousePointer;g.down(v),g.updateMotion(),this.activePointer=g,this.updateInputPlugins(i.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var g=this.mousePointer;g.move(v),g.updateMotion(),this.activePointer=g,this.updateInputPlugins(i.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var g=this.mousePointer;g.up(v),g.updateMotion(),this.activePointer=g,this.updateInputPlugins(i.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var g=this.mousePointer;g.wheel(v),this.activePointer=g,this.updateInputPlugins(i.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var g=this.mouse.locked;this.mousePointer.locked=g,this.events.emit(s.POINTERLOCK_CHANGE,v,g)},inputCandidate:function(v,g){var m=v.input;if(!m||!m.enabled||!m.alwaysEnabled&&!v.willRender(g))return!1;var y=!0,T=v.parentContainer;if(T)do{if(!T.willRender(g)){y=!1;break}T=T.parentContainer}while(T);return y},hitTest:function(v,g,m,y){y===void 0&&(y=this._tempHitTest);var T=this._tempPoint,E=m.scrollX,S=m.scrollY;y.length=0;var C=v.x,M=v.y;m.getWorldPoint(C,M,T),v.worldX=T.x,v.worldY=T.y;for(var P={x:0,y:0},R=this._tempMatrix,L=this._tempMatrix2,w=0;w<g.length;w++){var B,G,Y=g[w];this.inputCandidate(Y,m)&&(B=T.x+E*Y.scrollFactorX-E,G=T.y+S*Y.scrollFactorY-S,Y.parentContainer?(Y.getWorldTransformMatrix(R,L),R.applyInverse(B,G,P)):c(B,G,Y.x,Y.y,Y.rotation,Y.scaleX,Y.scaleY,P),this.pointWithinHitArea(Y,P.x,P.y)&&y.push(Y))}return y},pointWithinHitArea:function(v,g,m){g+=v.displayOriginX,m+=v.displayOriginY;var y=v.input;return!(!y||!y.hitAreaCallback(y.hitArea,g,m,v))&&(y.localX=g,y.localY=m,!0)},pointWithinInteractiveObject:function(v,g,m){return!!v.hitArea&&(g+=v.gameObject.displayOriginX,m+=v.gameObject.displayOriginY,v.localX=g,v.localY=m,v.hitAreaCallback(v.hitArea,g,m,v))},transformPointer:function(v,g,m,y){var T=v.position,E=v.prevPosition;E.x=T.x,E.y=T.y;var S=this.scaleManager.transformX(g),C=this.scaleManager.transformY(m),M=v.smoothFactor;y&&M!==0?(T.x=S*M+E.x*(1-M),T.y=C*M+E.y*(1-M)):(T.x=S,T.y=C)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});f.exports=d},function(f,x,t){var a=t(93),i=t(0),e=t(22),s=t(51),r=t(143),n=t(1),o=new i({initialize:function(l){this.manager=l,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=n,this.onKeyUp=n,l.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(e.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(u){var c;!u.defaultPrevented&&l.enabled&&l.manager&&(l.queue.push(u),l.manager.events.emit(s.MANAGER_PROCESS),c=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey,l.preventDefault&&!c&&-1<l.captures.indexOf(u.keyCode)&&u.preventDefault())},this.onKeyUp=function(u){var c;!u.defaultPrevented&&l.enabled&&l.manager&&(l.queue.push(u),l.manager.events.emit(s.MANAGER_PROCESS),c=u.altKey||u.ctrlKey||u.shiftKey||u.metaKey,l.preventDefault&&!c&&-1<l.captures.indexOf(u.keyCode)&&u.preventDefault())};var h=this.target;h&&(h.addEventListener("keydown",this.onKeyDown,!1),h.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var h=this.captures,u=0;u<l.length;u++){var c=l[u];typeof c=="string"&&(c=r[c.trim().toUpperCase()]),h.indexOf(c)===-1&&h.push(c)}this.preventDefault=0<h.length},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var h=this.captures,u=0;u<l.length;u++){var c=l[u];typeof c=="string"&&(c=r[c.toUpperCase()]),a(h,c)}this.preventDefault=0<h.length},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(e.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});f.exports=o},function(f,x,t){var a=t(0),i=t(191),e=t(51),s=t(1),r=new a({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=s,this.onMouseDown=s,this.onMouseUp=s,this.onMouseDownWindow=s,this.onMouseUpWindow=s,this.onMouseOver=s,this.onMouseOut=s,this.onMouseWheel=s,this.pointerLockChange=s,this.isTop=!0,n.events.once(e.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputMouse,this.target=n.inputMouseEventTarget,this.passive=n.inputMousePassive,this.preventDefaultDown=n.inputMousePreventDefaultDown,this.preventDefaultUp=n.inputMousePreventDefaultUp,this.preventDefaultMove=n.inputMousePreventDefaultMove,this.preventDefaultWheel=n.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},requestPointerLock:function(){var n;i.pointerLock&&((n=this.target).requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock,n.requestPointerLock())},releasePointerLock:function(){i.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var n=this.target;if(n){var o=this,l=this.manager,h=l.canvas,u=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(d){!d.defaultPrevented&&o.enabled&&l&&l.enabled&&(l.onMouseMove(d),o.preventDefaultMove&&d.preventDefault())},this.onMouseDown=function(d){u&&window.focus(),!d.defaultPrevented&&o.enabled&&l&&l.enabled&&(l.onMouseDown(d),o.preventDefaultDown&&d.target===h&&d.preventDefault())},this.onMouseDownWindow=function(d){!d.defaultPrevented&&o.enabled&&l&&l.enabled&&d.target!==h&&l.onMouseDown(d)},this.onMouseUp=function(d){!d.defaultPrevented&&o.enabled&&l&&l.enabled&&(l.onMouseUp(d),o.preventDefaultUp&&d.target===h&&d.preventDefault())},this.onMouseUpWindow=function(d){!d.defaultPrevented&&o.enabled&&l&&l.enabled&&d.target!==h&&l.onMouseUp(d)},this.onMouseOver=function(d){!d.defaultPrevented&&o.enabled&&l&&l.enabled&&l.setCanvasOver(d)},this.onMouseOut=function(d){!d.defaultPrevented&&o.enabled&&l&&l.enabled&&l.setCanvasOut(d)},this.onMouseWheel=function(d){!d.defaultPrevented&&o.enabled&&l&&l.enabled&&l.onMouseWheel(d),o.preventDefaultWheel&&d.target===h&&d.preventDefault()};var c={passive:!0};if(n.addEventListener("mousemove",this.onMouseMove),n.addEventListener("mousedown",this.onMouseDown),n.addEventListener("mouseup",this.onMouseUp),n.addEventListener("mouseover",this.onMouseOver,c),n.addEventListener("mouseout",this.onMouseOut,c),this.preventDefaultWheel?n.addEventListener("wheel",this.onMouseWheel,{passive:!1}):n.addEventListener("wheel",this.onMouseWheel,c),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,c),window.top.addEventListener("mouseup",this.onMouseUpWindow,c)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,c),window.addEventListener("mouseup",this.onMouseUpWindow,c),this.isTop=!1}i.pointerLock&&(this.pointerLockChange=function(d){var v=o.target;o.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,l.onPointerLockChange(d)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("mousemove",this.onMouseMove),n.removeEventListener("mousedown",this.onMouseDown),n.removeEventListener("mouseup",this.onMouseUp),n.removeEventListener("mouseover",this.onMouseOver),n.removeEventListener("mouseout",this.onMouseOut),window&&((n=this.isTop?window.top:window).removeEventListener("mousedown",this.onMouseDownWindow),n.removeEventListener("mouseup",this.onMouseUpWindow)),i.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});f.exports=r},function(f,x,t){var a=t(349),i=t(0),e=t(50),s=t(124),r=t(360),n=t(3),o=t(105),l=new i({initialize:function(h,u){this.manager=h,this.id=u,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new n,this.prevPosition=new n,this.midPoint=new n(-1,-1),this.velocity=new n,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=u===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(h){var u=h.getWorldPoint(this.x,this.y);return this.worldX=u.x,this.worldY=u.y,this},positionToCamera:function(h,u){return h.getWorldPoint(this.x,this.y,u)},updateMotion:function(){var h,u,c,d,v=this.position.x,g=this.position.y,m=this.midPoint.x,y=this.midPoint.y;v===m&&g===y||(h=r(this.motionFactor,m,v),u=r(this.motionFactor,y,g),s(h,v,.1)&&(h=v),s(u,g,.1)&&(u=g),this.midPoint.set(h,u),c=v-h,d=g-u,this.velocity.set(c,d),this.angle=a(h,u,v,g),this.distance=Math.sqrt(c*c+d*d))},up:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.button=h.button,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),h.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=h.timeStamp,this.wasTouch=!1)},down:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.button=h.button,this.downElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),h.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),o.macOS&&h.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=h.timeStamp),this.wasTouch=!1},move:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.manager.transformPointer(this,h.pageX,h.pageY,!0),this.locked&&(this.movementX=h.movementX||h.mozMovementX||h.webkitMovementX||0,this.movementY=h.movementY||h.mozMovementY||h.webkitMovementY||0),this.moveTime=h.timeStamp,this.wasTouch=!1},wheel:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.deltaX=h.deltaX,this.deltaY=h.deltaY,this.deltaZ=h.deltaZ,this.wasTouch=!1},touchstart:function(h,u){h.pointerId&&(this.pointerId=h.pointerId),this.identifier=h.identifier,this.target=h.target,this.active=!0,this.buttons=1,this.event=u,this.downElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=u.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(h,u){this.event=u,this.manager.transformPointer(this,h.pageX,h.pageY,!0),this.moveTime=u.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(h,u){this.buttons=0,this.event=u,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(h,u){this.buttons=0,this.event=u,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=u.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?e(this.downX,this.downY,this.x,this.y):e(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(h,u){h===void 0&&(h=10),u===void 0&&(u=[]);for(var c=this.prevPosition.x,d=this.prevPosition.y,v=this.position.x,g=this.position.y,m=0;m<h;m++){var y=1/h*m;u[m]={x:r(y,c,v),y:r(y,d,g)}}return u},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(h){this.position.x=h}},y:{get:function(){return this.position.y},set:function(h){this.position.y=h}},time:{get:function(){return this.event?this.event.timeStamp:0}}});f.exports=l},function(f,x,t){var a=t(0),i=t(51),e=t(1),s=new a({initialize:function(r){this.manager=r,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=e,this.onTouchStartWindow=e,this.onTouchMove=e,this.onTouchEnd=e,this.onTouchEndWindow=e,this.onTouchCancel=e,this.onTouchCancelWindow=e,this.onTouchOver=e,this.onTouchOut=e,r.events.once(i.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this,n=this.manager.canvas,o=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(c){o&&window.focus(),!c.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&(r.manager.onTouchStart(c),r.capture&&c.cancelable&&c.target===n&&c.preventDefault())},this.onTouchStartWindow=function(c){!c.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&c.target!==n&&r.manager.onTouchStart(c)},this.onTouchMove=function(c){!c.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&(r.manager.onTouchMove(c),r.capture&&c.cancelable&&c.preventDefault())},this.onTouchEnd=function(c){!c.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&(r.manager.onTouchEnd(c),r.capture&&c.cancelable&&c.target===n&&c.preventDefault())},this.onTouchEndWindow=function(c){!c.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&c.target!==n&&r.manager.onTouchEnd(c)},this.onTouchCancel=function(c){!c.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&(r.manager.onTouchCancel(c),r.capture&&c.preventDefault())},this.onTouchCancelWindow=function(c){!c.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&r.manager.onTouchCancel(c)},this.onTouchOver=function(c){!c.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&r.manager.setCanvasOver(c)},this.onTouchOut=function(c){!c.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&r.manager.setCanvasOut(c)};var l,h,u=this.target;u&&(h={passive:!(l={passive:!0})},u.addEventListener("touchstart",this.onTouchStart,this.capture?h:l),u.addEventListener("touchmove",this.onTouchMove,this.capture?h:l),u.addEventListener("touchend",this.onTouchEnd,this.capture?h:l),u.addEventListener("touchcancel",this.onTouchCancel,this.capture?h:l),u.addEventListener("touchover",this.onTouchOver,this.capture?h:l),u.addEventListener("touchout",this.onTouchOut,this.capture?h:l),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,h),window.addEventListener("touchend",this.onTouchEndWindow,h),window.addEventListener("touchcancel",this.onTouchCancelWindow,h)),this.enabled=!0)},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),r.removeEventListener("touchover",this.onTouchOver),r.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});f.exports=s},function(f,x,t){var a=t(0),i=t(22),e=t(9),s=t(8),r=t(16),n=t(5),o=t(2),l=t(24),h=t(93),u=new a({Extends:e,initialize:function(c){e.call(this),this.game=c,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],c.isBooted?this.boot():c.events.once(i.BOOT,this.boot,this)},boot:function(){for(var c,d,v,g,m,y,T=this.game.config,E=(E=T.installGlobalPlugins).concat(this._pendingGlobal),S=0;S<E.length;S++)c=E[S],d=o(c,"key",null),v=o(c,"plugin",null),g=o(c,"start",!1),m=o(c,"mapping",null),y=o(c,"data",null),d&&(v?this.install(d,v,g,m,y):console.warn("Missing `plugin` for key: "+d));for(E=(E=T.installScenePlugins).concat(this._pendingScene),S=0;S<E.length;S++)c=E[S],d=o(c,"key",null),v=o(c,"plugin",null),m=o(c,"mapping",null),d&&(v?this.installScenePlugin(d,v,m):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(i.DESTROY,this.destroy,this)},addToScene:function(c,d,v){for(var g,m=this.game,y=c.scene,T=c.settings.map,E=c.settings.isBooted,S=0;S<d.length;S++)m[L=d[S]]?(c[L]=m[L],T.hasOwnProperty(L)&&(y[T[L]]=c[L])):L==="game"&&T.hasOwnProperty(L)&&(y[T[L]]=m);for(var C=0;C<v.length;C++)for(g=v[C],S=0;S<g.length;S++){var M,P,R,L=g[S];l.hasCore(L)&&(P=(M=l.getCore(L)).mapping,R=new M.plugin(y,this,P),c[P]=R,M.custom?y[P]=R:T.hasOwnProperty(P)&&(y[T[P]]=R),E&&R.boot())}for(g=this.plugins,S=0;S<g.length;S++){var w=g[S];w.mapping&&(y[w.mapping]=w.plugin)}},getDefaultScenePlugins:function(){return this.game.config.defaultPlugins.concat(this.scenePlugins)},installScenePlugin:function(c,d,v,g,m){if(m===void 0&&(m=!1),typeof d=="function"){if(l.hasCore(c)){if(!m&&l.hasCore(c))return void console.warn("Scene Plugin key in use: "+c)}else l.register(c,d,v,!0),this.scenePlugins.push(c);var y;g&&(y=new d(g,this,c),g.sys[c]=y,v&&v!==""&&(g[v]=y),y.boot())}else console.warn("Invalid Scene Plugin: "+c)},install:function(c,d,v,g,m){if(v===void 0&&(v=!1),g===void 0&&(g=null),m===void 0&&(m=null),typeof d!="function")return console.warn("Invalid Plugin: "+c),null;if(l.hasCustom(c))return console.warn("Plugin key in use: "+c),null;if(g!==null&&(v=!0),this.game.isBooted){if(l.registerCustom(c,d,g,m),v)return this.start(c)}else this._pendingGlobal.push({key:c,plugin:d,start:v,mapping:g,data:m});return null},getIndex:function(c){for(var d=this.plugins,v=0;v<d.length;v++)if(d[v].key===c)return v;return-1},getEntry:function(c){var d=this.getIndex(c);if(d!==-1)return this.plugins[d]},isActive:function(c){var d=this.getEntry(c);return d&&d.active},start:function(c,d){d===void 0&&(d=c);var v=this.getEntry(d);return v&&!v.active?(v.active=!0,v.plugin.start()):v=v||this.createEntry(c,d),v?v.plugin:null},createEntry:function(c,d){var v,g=l.getCustom(c);return g&&(g={key:d,plugin:v=new g.plugin(this),active:!0,mapping:g.mapping,data:g.data},this.plugins.push(g),v.init(g.data),v.start()),g},stop:function(c){var d=this.getEntry(c);return d&&d.active&&(d.active=!1,d.plugin.stop()),this},get:function(c,d){d===void 0&&(d=!0);var v=this.getEntry(c);if(v)return v.plugin;var g=this.getClass(c);return g&&d?(v=this.createEntry(c,c))?v.plugin:null:g||null},getClass:function(c){return l.getCustomClass(c)},removeGlobalPlugin:function(c){var d=this.getEntry(c);d&&h(this.plugins,d),l.removeCustom(c)},removeScenePlugin:function(c){h(this.scenePlugins,c),l.remove(c)},registerGameObject:function(c,d,v){return d&&n.register(c,d),v&&r.register(c,v),this},removeGameObject:function(c,d,v){return d===void 0&&(d=!0),v===void 0&&(v=!0),d&&n.remove(c),v&&r.remove(c),this},registerFileType:function(c,d,v){s.register(c,d),v&&v.sys.load&&(v.sys.load[c]=d)},destroy:function(){for(var c=0;c<this.plugins.length;c++)this.plugins[c].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});f.exports=u},function(f,x,t){var a=t(201),i=t(0),e=t(9),s=t(104),r=t(22),n=t(401),o=t(407),l=t(402),h=t(1),u=t(10),c=t(416),d=t(76),v=t(3),g=new i({Extends:e,initialize:function(m){e.call(this),this.game=m,this.canvas,this.canvasBounds=new u,this.parent=null,this.parentIsWindow=!1,this.parentSize=new c,this.gameSize=new c,this.baseSize=new c,this.displaySize=new c,this.scaleMode=a.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:h,windowResize:h,fullScreenChange:h,fullScreenError:h}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var m=this.game;this.canvas=m.canvas,this.fullscreen=m.device.fullscreen,this.scaleMode!==a.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),0<this.parentSize.width&&0<this.parentSize.height&&this.displaySize.setParent(this.parentSize),this.refresh()),m.events.on(r.PRE_STEP,this.step,this),m.events.once(r.READY,this.refresh,this),m.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(m){this.getParent(m),this.getParentBounds();var y,T,E,S,C=m.width,M=m.height,P=m.scaleMode,R=m.zoom,L=m.autoRound;typeof C=="string"&&((y=this.parentSize.width)===0&&(y=window.innerWidth),T=parseInt(C,10)/100,C=Math.floor(y*T)),typeof M=="string"&&((E=this.parentSize.height)===0&&(E=window.innerHeight),S=parseInt(M,10)/100,M=Math.floor(E*S)),this.scaleMode=P,this.autoRound=L,this.autoCenter=m.autoCenter,this.resizeInterval=m.resizeInterval,L&&(C=Math.floor(C),M=Math.floor(M)),this.gameSize.setSize(C,M),R===a.ZOOM.MAX_ZOOM&&(R=this.getMaxZoom()),(this.zoom=R)!==1&&(this._resetZoom=!0),this.baseSize.setSize(C,M),L&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),0<m.minWidth&&this.displaySize.setMin(m.minWidth*R,m.minHeight*R),0<m.maxWidth&&this.displaySize.setMax(m.maxWidth*R,m.maxHeight*R),this.displaySize.setSize(C,M),this.orientation=l(C,M)},getParent:function(m){var y,T=m.parent;T!==null&&(this.parent=o(T),this.parentIsWindow=this.parent===document.body,m.expandParent&&m.scaleMode!==a.SCALE_MODE.NONE&&(y=this.parent.getBoundingClientRect(),!this.parentIsWindow&&y.height!==0||(document.documentElement.style.height="100%",document.body.style.height="100%",y=this.parent.getBoundingClientRect(),this.parentIsWindow||y.height!==0||(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))),m.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=o(m.fullscreenTarget)))},getParentBounds:function(){if(!this.parent)return!1;var m=this.parentSize,y=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(y.height=n(!0));var T=y.width,E=y.height;return(m.width!==T||m.height!==E)&&(m.setSize(T,E),!0)},lockOrientation:function(m){var y=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!y&&y.call(screen,m)},setParentSize:function(m,y){return this.parentSize.setSize(m,y),this.refresh()},setGameSize:function(m,y){var T=this.autoRound;T&&(m=Math.floor(m),y=Math.floor(y));var E=this.width,S=this.height;return this.gameSize.resize(m,y),this.baseSize.resize(m,y),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(m/y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(E,S)},resize:function(m,y){var T=this.zoom,E=this.autoRound;E&&(m=Math.floor(m),y=Math.floor(y));var S=this.width,C=this.height;this.gameSize.resize(m,y),this.baseSize.resize(m,y),E&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(m*T,y*T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var M=this.canvas.style,P=m*T,R=y*T;return E&&(P=Math.floor(P),R=Math.floor(R)),P===m&&R===y||(M.width=P+"px",M.height=R+"px"),this.refresh(S,C)},setZoom:function(m){return this.zoom=m,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(m,y){m===void 0&&(m=this.width),y===void 0&&(y=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var T,E,S=this.game.domContainer;return S&&(this.baseSize.setCSS(S),T=this.canvas.style,(E=S.style).transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",E.marginLeft=T.marginLeft,E.marginTop=T.marginTop),this.emit(s.RESIZE,this.gameSize,this.baseSize,this.displaySize,m,y),this},updateOrientation:function(){var m;this._checkOrientation&&(this._checkOrientation=!1,(m=l(this.width,this.height))!==this.orientation&&(this.orientation=m,this.emit(s.ORIENTATION_CHANGE,m)))},updateScale:function(){var m,y,T=this.canvas.style,E=this.gameSize.width,S=this.gameSize.height,C=this.zoom,M=this.autoRound;this.scaleMode===a.SCALE_MODE.NONE?(this.displaySize.setSize(E*C,S*C),m=this.displaySize.width,y=this.displaySize.height,M&&(m=Math.floor(m),y=Math.floor(y)),this._resetZoom&&(T.width=m+"px",T.height=y+"px",this._resetZoom=!1)):this.scaleMode===a.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),m=this.displaySize.width,y=this.displaySize.height,M&&(m=Math.floor(m),y=Math.floor(y)),this.canvas.width=m,this.canvas.height=y):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),m=this.displaySize.width,y=this.displaySize.height,M&&(m=Math.floor(m),y=Math.floor(y)),T.width=m+"px",T.height=y+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var m=d(this.parentSize.width,this.gameSize.width,0,!0),y=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(m,y),1)},updateCenter:function(){var m,y,T,E,S,C,M,P=this.autoCenter;P!==a.CENTER.NO_CENTER&&(y=(m=this.canvas).style,E=(T=m.getBoundingClientRect()).width,S=T.height,C=Math.floor((this.parentSize.width-E)/2),M=Math.floor((this.parentSize.height-S)/2),P===a.CENTER.CENTER_HORIZONTALLY?M=0:P===a.CENTER.CENTER_VERTICALLY&&(C=0),y.marginLeft=C+"px",y.marginTop=M+"px")},updateBounds:function(){var m=this.canvasBounds,y=this.canvas.getBoundingClientRect();m.x=y.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),m.y=y.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),m.width=y.width,m.height=y.height},transformX:function(m){return(m-this.canvasBounds.left)*this.displayScale.x},transformY:function(m){return(m-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(m){m===void 0&&(m={navigationUI:"hide"});var y,T=this.fullscreen;T.available?T.active||(y=this.getFullscreenTarget(),T.keyboard?y[T.request](Element.ALLOW_KEYBOARD_INPUT):y[T.request](m)):this.emit(s.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(s.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(m){this.removeFullscreenTarget(),this.emit(s.FULLSCREEN_FAILED,m)},getFullscreenTarget:function(){var m;return this.fullscreenTarget||((m=document.createElement("div")).style.margin="0",m.style.padding="0",m.style.width="100%",m.style.height="100%",this.fullscreenTarget=m,this._createdFullscreenTarget=!0),this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){var m,y;!this._createdFullscreenTarget||(m=this.fullscreenTarget)&&m.parentNode&&((y=m.parentNode).insertBefore(this.canvas,m),y.removeChild(m))},stopFullscreen:function(){var m=this.fullscreen;if(!m.available)return this.emit(s.FULLSCREEN_UNSUPPORTED),!1;m.active&&document[m.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(s.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(m){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(m)},startListeners:function(){var m=this,y=this.listeners;y.orientationChange=function(){m.updateBounds(),m._checkOrientation=!0,m.dirty=!0},y.windowResize=function(){m.updateBounds(),m.dirty=!0},window.addEventListener("orientationchange",y.orientationChange,!1),window.addEventListener("resize",y.windowResize,!1),this.fullscreen.available&&(y.fullScreenChange=function(T){return m.onFullScreenChange(T)},y.fullScreenError=function(T){return m.onFullScreenError(T)},["webkit","moz",""].forEach(function(T){document.addEventListener(T+"fullscreenchange",y.fullScreenChange,!1),document.addEventListener(T+"fullscreenerror",y.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",y.fullScreenChange,!1),document.addEventListener("MSFullscreenError",y.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(m,y){this.parent&&(this._lastCheck+=y,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var m=this.listeners;window.removeEventListener("orientationchange",m.orientationChange,!1),window.removeEventListener("resize",m.windowResize,!1),["webkit","moz",""].forEach(function(y){document.removeEventListener(y+"fullscreenchange",m.fullScreenChange,!1),document.removeEventListener(y+"fullscreenerror",m.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",m.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",m.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});f.exports=g},function(f,x,t){var a=t(18),i=t(0),e=t(76),s=t(3),r=new i({initialize:function(n,o,l,h){n===void 0&&(n=0),o===void 0&&(o=n),l===void 0&&(l=0),h===void 0&&(h=null),this._width=n,this._height=o,this._parent=h,this.aspectMode=l,this.aspectRatio=o===0?1:n/o,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new s},setAspectMode:function(n){return n===void 0&&(n=0),this.aspectMode=n,this.setSize(this._width,this._height)},setSnap:function(n,o){return n===void 0&&(n=0),o===void 0&&(o=n),this.snapTo.set(n,o),this.setSize(this._width,this._height)},setParent:function(n){return this._parent=n,this.setSize(this._width,this._height)},setMin:function(n,o){return n===void 0&&(n=0),o===void 0&&(o=n),this.minWidth=a(n,0,this.maxWidth),this.minHeight=a(o,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(n,o){return n===void 0&&(n=Number.MAX_VALUE),o===void 0&&(o=n),this.maxWidth=a(n,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(o,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(n,o){switch(n===void 0&&(n=0),o===void 0&&(o=n),this.aspectMode){case r.NONE:this._width=this.getNewWidth(e(n,this.snapTo.x)),this._height=this.getNewHeight(e(o,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(e(n,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(e(o,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(n,o,!0);break;case r.ENVELOP:this.constrain(n,o,!1)}return this},setAspectRatio:function(n){return this.aspectRatio=n,this.setSize(this._width,this._height)},resize:function(n,o){return this._width=this.getNewWidth(e(n,this.snapTo.x)),this._height=this.getNewHeight(e(o,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(n,o){return o===void 0&&(o=!0),n=a(n,this.minWidth,this.maxWidth),o&&this._parent&&n>this._parent.width&&(n=Math.max(this.minWidth,this._parent.width)),n},getNewHeight:function(n,o){return o===void 0&&(o=!0),n=a(n,this.minHeight,this.maxHeight),o&&this._parent&&n>this._parent.height&&(n=Math.max(this.minHeight,this._parent.height)),n},constrain:function(n,o,l){n===void 0&&(n=0),o===void 0&&(o=n),l===void 0&&(l=!0),n=this.getNewWidth(n),o=this.getNewHeight(o);var h=this.snapTo,u=o===0?1:n/o;return l&&this.aspectRatio>u||!l&&this.aspectRatio<u?(o=(n=e(n,h.x))/this.aspectRatio,0<h.y&&(n=(o=e(o,h.y))*this.aspectRatio)):(l&&this.aspectRatio<u||!l&&this.aspectRatio>u)&&(n=(o=e(o,h.y))*this.aspectRatio,0<h.x&&(o=(n=e(n,h.x))*(1/this.aspectRatio))),this._width=n,this._height=o,this},fitTo:function(n,o){return this.constrain(n,o,!0)},envelop:function(n,o){return this.constrain(n,o,!1)},setWidth:function(n){return this.setSize(n,this._height)},setHeight:function(n){return this.setSize(this._width,n)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(n){n&&n.style&&(n.style.width=this._width+"px",n.style.height=this._height+"px")},copy:function(n){return n.setAspectMode(this.aspectMode),n.aspectRatio=this.aspectRatio,n.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(n){this.setSize(n,this._height)}},height:{get:function(){return this._height},set:function(n){this.setSize(this._width,n)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,f.exports=r},function(f,x,t){var a=t(0),i=t(144),e=t(20),s=t(22),r=t(6),n=t(95),o=t(1),l=t(418),h=t(204),u=new a({initialize:function(c,d){if(this.game=c,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++)this._pending.push({key:"default",scene:d[v],autoStart:v===0,data:{}})}c.events.once(s.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){for(var c=0;c<this._pending.length;c++){var d,v,g,m=(v=this._pending[c]).key;(g=v.scene)instanceof l?d=this.createSceneFromInstance(m,g):typeof g=="object"?d=this.createSceneFromObject(m,g):typeof g=="function"&&(d=this.createSceneFromFunction(m,g)),m=d.sys.settings.key,this.keys[m]=d,this.scenes.push(d),this._data[m]&&(d.sys.settings.data=this._data[m].data,this._data[m].autoStart&&(v.autoStart=!0)),(v.autoStart||d.sys.settings.active)&&this._start.push(m)}for(this._pending.length=0,this._data={},this.isBooted=!0,c=0;c<this._start.length;c++)v=this._start[c],this.start(v);this._start.length=0}},processQueue:function(){var c,d,v=this._pending.length,g=this._queue.length;if(v!==0||g!==0){if(v){for(c=0;c<v;c++)d=this._pending[c],this.add(d.key,d.scene,d.autoStart,d.data);for(c=0;c<this._start.length;c++)d=this._start[c],this.start(d);return this._start.length=0,void(this._pending.length=0)}for(c=0;c<this._queue.length;c++)this[(d=this._queue[c]).op](d.keyA,d.keyB);this._queue.length=0}},add:function(c,d,v,g){return v===void 0&&(v=!1),g===void 0&&(g={}),this.isProcessing||!this.isBooted?(this._pending.push({key:c,scene:d,autoStart:v,data:g}),this.isBooted||(this._data[c]={data:g}),null):(c=this.getKey(c,d),d instanceof l?m=this.createSceneFromInstance(c,d):typeof d=="object"?(d.key=c,m=this.createSceneFromObject(c,d)):typeof d=="function"&&(m=this.createSceneFromFunction(c,d)),m.sys.settings.data=g,c=m.sys.settings.key,this.keys[c]=m,this.scenes.push(m),(v||m.sys.settings.active)&&(this._pending.length?this._start.push(c):this.start(c)),m);var m},remove:function(c){if(this.isProcessing)this._queue.push({op:"remove",keyA:c,keyB:null});else{var d=this.getScene(c);if(!d||d.sys.isTransitioning())return this;var v=this.scenes.indexOf(d),g=d.sys.settings.key;-1<v&&(delete this.keys[g],this.scenes.splice(v,1),-1<this._start.indexOf(g)&&(v=this._start.indexOf(g),this._start.splice(v,1)),d.sys.destroy())}return this},bootScene:function(c){var d,v=c.sys,g=v.settings;v.sceneUpdate=o,c.init&&(c.init.call(c,g.data),g.status=i.INIT,g.isTransition&&v.events.emit(e.TRANSITION_INIT,g.transitionFrom,g.transitionDuration)),v.load&&(d=v.load).reset(),d&&c.preload?(c.preload.call(c),d.list.size===0?this.create(c):(g.status=i.LOADING,d.once(n.COMPLETE,this.loadComplete,this),d.start())):this.create(c)},loadComplete:function(c){this.create(c.scene)},payloadComplete:function(c){this.bootScene(c.scene)},update:function(c,d){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;0<=v;v--){var g=this.scenes[v].sys;g.settings.status>i.START&&g.settings.status<=i.RUNNING&&g.step(c,d)}},render:function(c){for(var d=0;d<this.scenes.length;d++){var v=this.scenes[d].sys;v.settings.visible&&v.settings.status>=i.LOADING&&v.settings.status<i.SLEEPING&&v.render(c)}this.isProcessing=!1},create:function(c){var d=c.sys,v=d.settings;c.create&&(v.status=i.CREATING,c.create.call(c,v.data),v.status===i.DESTROYED)||(v.isTransition&&d.events.emit(e.TRANSITION_START,v.transitionFrom,v.transitionDuration),c.update&&(d.sceneUpdate=c.update),v.status=i.RUNNING,d.events.emit(e.CREATE,c))},createSceneFromFunction:function(c,d){var v=new d;if(v instanceof l){var g=v.sys.settings.key;if(g!==""&&(c=g),this.keys.hasOwnProperty(c))throw new Error("Cannot add a Scene with duplicate key: "+c);return this.createSceneFromInstance(c,v)}return v.sys=new h(v),v.sys.settings.key=c,v.sys.init(this.game),v},createSceneFromInstance:function(c,d){return d.sys.settings.key===""&&(d.sys.settings.key=c),d.sys.init(this.game),d},createSceneFromObject:function(c,d){var v=new l(d),g=v.sys.settings.key;g!==""?c=g:v.sys.settings.key=c,v.sys.init(this.game);for(var m,y=["init","preload","create","update","render"],T=0;T<y.length;T++){var E=r(d,y[T],null);E&&(v[y[T]]=E)}if(d.hasOwnProperty("extend"))for(var S in d.extend)d.extend.hasOwnProperty(S)&&(m=d.extend[S],S==="data"&&v.hasOwnProperty("data")&&typeof m=="object"?v.data.merge(m):S!=="sys"&&(v[S]=m));return v},getKey:function(c,d){if(c=c||"default",typeof d=="function")return c;if(d instanceof l?c=d.sys.settings.key:typeof d=="object"&&d.hasOwnProperty("key")&&(c=d.key),this.keys.hasOwnProperty(c))throw new Error("Cannot add a Scene with duplicate key: "+c);return c},getScenes:function(c,d){c===void 0&&(c=!0),d===void 0&&(d=!1);for(var v=[],g=this.scenes,m=0;m<g.length;m++){var y=g[m];y&&(!c||c&&y.sys.isActive())&&v.push(y)}return d?v.reverse():v},getScene:function(c){if(typeof c=="string"){if(this.keys[c])return this.keys[c]}else for(var d=0;d<this.scenes.length;d++)if(c===this.scenes[d])return c;return null},isActive:function(c){var d=this.getScene(c);return d?d.sys.isActive():null},isPaused:function(c){var d=this.getScene(c);return d?d.sys.isPaused():null},isVisible:function(c){var d=this.getScene(c);return d?d.sys.isVisible():null},isSleeping:function(c){var d=this.getScene(c);return d?d.sys.isSleeping():null},pause:function(c,d){var v=this.getScene(c);return v&&v.sys.pause(d),this},resume:function(c,d){var v=this.getScene(c);return v&&v.sys.resume(d),this},sleep:function(c,d){var v=this.getScene(c);return v&&!v.sys.isTransitioning()&&v.sys.sleep(d),this},wake:function(c,d){var v=this.getScene(c);return v&&v.sys.wake(d),this},run:function(c,d){var v=this.getScene(c);if(!v){for(var g=0;g<this._pending.length;g++)if(this._pending[g].key===c){this.queueOp("start",c,d);break}return this}v.sys.isSleeping()?v.sys.wake(d):v.sys.isPaused()?v.sys.resume(d):this.start(c,d)},start:function(c,d){if(!this.isBooted)return this._data[c]={autoStart:!0,data:d},this;var v=this.getScene(c);if(v){var g,m=v.sys;if(m.isActive()||m.isPaused())m.shutdown(),m.sceneUpdate=o,m.start(d);else if(m.sceneUpdate=o,m.start(d),m.load&&(g=m.load),g&&m.settings.hasOwnProperty("pack")&&(g.reset(),g.addPack({payload:m.settings.pack})))return m.settings.status=i.LOADING,g.once(n.COMPLETE,this.payloadComplete,this),g.start(),this;this.bootScene(v)}return this},stop:function(c,d){var v=this.getScene(c);return v&&!v.sys.isTransitioning()&&v.sys.shutdown(d),this},switch:function(c,d){var v=this.getScene(c),g=this.getScene(d);return v&&g&&v!==g&&(this.sleep(c),this.isSleeping(d)?this.wake(d):this.start(d)),this},getAt:function(c){return this.scenes[c]},getIndex:function(c){var d=this.getScene(c);return this.scenes.indexOf(d)},bringToTop:function(c){var d,v;return this.isProcessing?this._queue.push({op:"bringToTop",keyA:c,keyB:null}):(d=this.getIndex(c))!==-1&&d<this.scenes.length&&(v=this.getScene(c),this.scenes.splice(d,1),this.scenes.push(v)),this},sendToBack:function(c){var d,v;return this.isProcessing?this._queue.push({op:"sendToBack",keyA:c,keyB:null}):(d=this.getIndex(c))!==-1&&0<d&&(v=this.getScene(c),this.scenes.splice(d,1),this.scenes.unshift(v)),this},moveDown:function(c){var d,v,g,m;return this.isProcessing?this._queue.push({op:"moveDown",keyA:c,keyB:null}):0<(d=this.getIndex(c))&&(v=d-1,g=this.getScene(c),m=this.getAt(v),this.scenes[d]=m,this.scenes[v]=g),this},moveUp:function(c){var d,v,g,m;return this.isProcessing?this._queue.push({op:"moveUp",keyA:c,keyB:null}):(d=this.getIndex(c))<this.scenes.length-1&&(v=d+1,g=this.getScene(c),m=this.getAt(v),this.scenes[d]=m,this.scenes[v]=g),this},moveAbove:function(c,d){return c===d||(this.isProcessing?this._queue.push({op:"moveAbove",keyA:c,keyB:d}):(v=this.getIndex(c),g=this.getIndex(d),v!==-1&&g!==-1&&(m=this.getAt(g),this.scenes.splice(g,1),this.scenes.splice(v+1,0,m)))),this;var v,g,m},moveBelow:function(c,d){return c===d||(this.isProcessing?this._queue.push({op:"moveBelow",keyA:c,keyB:d}):(v=this.getIndex(c),g=this.getIndex(d),v!==-1&&g!==-1&&(m=this.getAt(g),this.scenes.splice(g,1),v===0?this.scenes.unshift(m):this.scenes.splice(v,0,m)))),this;var v,g,m},queueOp:function(c,d,v){return this._queue.push({op:c,keyA:d,keyB:v}),this},swapPosition:function(c,d){return c===d||(this.isProcessing?this._queue.push({op:"swapPosition",keyA:c,keyB:d}):(v=this.getIndex(c))!==(g=this.getIndex(d))&&v!==-1&&g!==-1&&(m=this.getAt(v),this.scenes[v]=this.scenes[g],this.scenes[g]=m)),this;var v,g,m},dump:function(){for(var c=[],d=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var g=this.scenes[v].sys,m=!g.settings.visible||g.settings.status!==i.RUNNING&&g.settings.status!==i.PAUSED?"[-] ":"[*] ";m+=g.settings.key+" ("+d[g.settings.status]+")",c.push(m)}console.log(c.join(`
`))},destroy:function(){for(var c=0;c<this.scenes.length;c++)this.scenes[c].sys.destroy();this.update=o,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});f.exports=u},function(f,x,t){var a=t(0),i=t(204),e=new a({initialize:function(s){this.sys=new i(this,s),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});f.exports=e},function(f,x,t){var a=t(2),i=t(205);f.exports=function(e){var s=e.game.config.defaultPhysicsSystem,r=a(e.settings,"physics",!1);if(s||r){var n=[];if(s&&n.push(i(s+"Physics")),r)for(var o in r)o=i(o.concat("Physics")),n.indexOf(o)===-1&&n.push(o);return n}}},function(f,x,t){var a=t(2);f.exports=function(i){var e=i.plugins.getDefaultScenePlugins(),s=a(i.settings,"plugins",!1);return Array.isArray(s)?s:e||[]}},function(f,x,t){var a=t(144),i=t(6),e=t(127),s=t(978),r={create:function(n){return typeof n=="string"?n={key:n}:n===void 0&&(n={}),{status:a.PENDING,key:i(n,"key",""),active:i(n,"active",!1),visible:i(n,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:i(n,"pack",!1),cameras:i(n,"cameras",null),map:i(n,"map",e(s,i(n,"mapAdd",{}))),physics:i(n,"physics",{}),loader:i(n,"loader",{}),plugins:i(n,"plugins",!1),input:i(n,"input",{})}}};f.exports=r},function(f,x,t){var a=t(31),i=t(423),e=t(0),s=t(38),r=t(33),n=t(9),o=t(106),l=t(22),h=t(388),u=t(6),c=t(425),d=t(206),v=new e({Extends:n,initialize:function(g){n.call(this),this.game=g,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,g.events.once(l.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(o.LOAD,this.updatePending,this),this.on(o.ERROR,this.updatePending,this);var g=this.game.config;this.addBase64("__DEFAULT",g.defaultImage),this.addBase64("__MISSING",g.missingImage),this.addBase64("__WHITE",g.whiteImage),this.game.events.once(l.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(o.LOAD),this.off(o.ERROR),this.emit(o.READY))},checkKey:function(g){return!this.exists(g)||(console.error("Texture key already in use: "+g),!1)},remove:function(g){if(typeof g=="string"){if(!this.exists(g))return console.warn("No texture found matching key: "+g),this;g=this.get(g)}return this.list.hasOwnProperty(g.key)&&(g.destroy(),this.emit(o.REMOVE,g.key)),this},removeKey:function(g){return this.list.hasOwnProperty(g)&&delete this.list[g],this},addBase64:function(g,m){var y,T;return this.checkKey(g)&&(y=this,(T=new Image).onerror=function(){y.emit(o.ERROR,g)},T.onload=function(){var E=y.create(g,T);c.Image(E,0),y.emit(o.ADD,g,E),y.emit(o.LOAD,g,E)},T.src=m),this},getBase64:function(g,m,y,T){y===void 0&&(y="image/png"),T===void 0&&(T=.92);var E,S,C="",M=this.getFrame(g,m);return M&&(M.source.isRenderTexture||M.source.isGLTexture)?console.warn("Cannot getBase64 from WebGL Texture"):M&&(E=M.canvasData,(S=a.create2D(this,E.width,E.height)).getContext("2d").drawImage(M.source.image,E.x,E.y,E.width,E.height,0,0,E.width,E.height),C=S.toDataURL(y,T),a.remove(S)),C},addImage:function(g,m,y){var T=null;return this.checkKey(g)&&(T=this.create(g,m),c.Image(T,0),y&&T.setDataSource(y),this.emit(o.ADD,g,T)),T},addGLTexture:function(g,m,y,T){var E=null;return this.checkKey(g)&&(y===void 0&&(y=m.width),T===void 0&&(T=m.height),(E=this.create(g,m,y,T)).add("__BASE",0,0,0,y,T),this.emit(o.ADD,g,E)),E},addRenderTexture:function(g,m){var y=null;return this.checkKey(g)&&((y=this.create(g,m)).add("__BASE",0,0,0,m.width,m.height),this.emit(o.ADD,g,y)),y},generate:function(g,m){if(this.checkKey(g)){var y=a.create(this,1,1);return m.canvas=y,h(m),this.addCanvas(g,y)}return null},createCanvas:function(g,m,y){if(m===void 0&&(m=256),y===void 0&&(y=256),this.checkKey(g)){var T=a.create(this,m,y,r.CANVAS,!0);return this.addCanvas(g,T)}return null},addCanvas:function(g,m,y){y===void 0&&(y=!1);var T=null;return y?T=new i(this,g,m,m.width,m.height):this.checkKey(g)&&(T=new i(this,g,m,m.width,m.height),this.list[g]=T,this.emit(o.ADD,g,T)),T},addAtlas:function(g,m,y,T){return Array.isArray(y.textures)||Array.isArray(y.frames)?this.addAtlasJSONArray(g,m,y,T):this.addAtlasJSONHash(g,m,y,T)},addAtlasJSONArray:function(g,m,y,T){var E=null;if(this.checkKey(g)){if(E=this.create(g,m),Array.isArray(y))for(var S=y.length===1,C=0;C<E.source.length;C++){var M=S?y[0]:y[C];c.JSONArray(E,C,M)}else c.JSONArray(E,0,y);T&&E.setDataSource(T),this.emit(o.ADD,g,E)}return E},addAtlasJSONHash:function(g,m,y,T){var E=null;if(this.checkKey(g)){if(E=this.create(g,m),Array.isArray(y))for(var S=0;S<y.length;S++)c.JSONHash(E,S,y[S]);else c.JSONHash(E,0,y);T&&E.setDataSource(T),this.emit(o.ADD,g,E)}return E},addAtlasXML:function(g,m,y,T){var E=null;return this.checkKey(g)&&(E=this.create(g,m),c.AtlasXML(E,0,y),T&&E.setDataSource(T),this.emit(o.ADD,g,E)),E},addUnityAtlas:function(g,m,y,T){var E=null;return this.checkKey(g)&&(E=this.create(g,m),c.UnityYAML(E,0,y),T&&E.setDataSource(T),this.emit(o.ADD,g,E)),E},addSpriteSheet:function(g,m,y){var T,E,S=null;return this.checkKey(g)&&(T=(S=this.create(g,m)).source[0].width,E=S.source[0].height,c.SpriteSheet(S,0,0,0,T,E,y),this.emit(o.ADD,g,S)),S},addSpriteSheetFromAtlas:function(g,m){if(!this.checkKey(g))return null;var y=u(m,"atlas",null),T=u(m,"frame",null);if(y&&T){var E=this.get(y).get(T);if(E){var S=this.create(g,E.source.image);return E.trimmed?c.SpriteSheetFromAtlas(S,E,m):c.SpriteSheet(S,0,E.cutX,E.cutY,E.cutWidth,E.cutHeight,m),this.emit(o.ADD,g,S),S}}},create:function(g,m,y,T){var E=null;return this.checkKey(g)&&(E=new d(this,g,m,y,T),this.list[g]=E),E},exists:function(g){return this.list.hasOwnProperty(g)},get:function(g){return g===void 0&&(g="__DEFAULT"),this.list[g]?this.list[g]:g instanceof d?g:this.list.__MISSING},cloneFrame:function(g,m){if(this.list[g])return this.list[g].get(m).clone()},getFrame:function(g,m){if(this.list[g])return this.list[g].get(m)},getTextureKeys:function(){var g=[];for(var m in this.list)m!=="__DEFAULT"&&m!=="__MISSING"&&g.push(m);return g},getPixel:function(g,m,y,T){var E=this.getFrame(y,T);if(E){g-=E.x,m-=E.y;var S=E.data.cut;if(g+=S.x,m+=S.y,g>=S.x&&g<S.r&&m>=S.y&&m<S.b){var C=this._tempContext;C.clearRect(0,0,1,1),C.drawImage(E.source.image,g,m,1,1,0,0,1,1);var M=C.getImageData(0,0,1,1);return new s(M.data[0],M.data[1],M.data[2],M.data[3])}}return null},getPixelAlpha:function(g,m,y,T){var E=this.getFrame(y,T);if(E){g-=E.x,m-=E.y;var S=E.data.cut;if(g+=S.x,m+=S.y,g>=S.x&&g<S.r&&m>=S.y&&m<S.b){var C=this._tempContext;return C.clearRect(0,0,1,1),C.drawImage(E.source.image,g,m,1,1,0,0,1,1),C.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(g,m,y){return this.list[m]&&(g.texture=this.list[m],g.frame=g.texture.get(y)),g},renameTexture:function(g,m){var y=this.get(g);return!(!y||g===m)&&(y.key=m,this.list[m]=y,delete this.list[g],!0)},each:function(g,m){for(var y=[null],T=1;T<arguments.length;T++)y.push(arguments[T]);for(var E in this.list)y[0]=this.list[E],g.apply(m,y)},destroy:function(){for(var g in this.list)this.list[g].destroy();this.list={},this.game=null,a.remove(this._tempCanvas)}});f.exports=v},function(f,x,t){var a=t(0),i=t(18),e=t(38),s=t(33),r=t(138),n=t(206),o=new a({Extends:n,initialize:function(l,h,u,c,d){n.call(this,l,h,u,c,d),this.add("__BASE",0,0,0,c,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=c,this.height=d,this.imageData=this.context.getImageData(0,0,c,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===s.WEBGL&&this.refresh(),this},draw:function(l,h,u){return this.context.drawImage(u,l,h),this.update()},drawFrame:function(l,h,u,c){u===void 0&&(u=0),c===void 0&&(c=0);var d=this.manager.getFrame(l,h);if(d){var v=d.canvasData,g=d.cutWidth,m=d.cutHeight,y=d.source.resolution;return this.context.drawImage(d.source.image,v.x,v.y,g,m,u,c,g/y,m/y),this.update()}return this},setPixel:function(l,h,u,c,d,v){var g;return v===void 0&&(v=255),l=Math.abs(Math.floor(l)),h=Math.abs(Math.floor(h)),-1<this.getIndex(l,h)&&((g=this.context.getImageData(l,h,1,1)).data[0]=u,g.data[1]=c,g.data[2]=d,g.data[3]=v,this.context.putImageData(g,l,h)),this},putData:function(l,h,u,c,d,v,g){return c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=l.width),g===void 0&&(g=l.height),this.context.putImageData(l,h,u,c,d,v,g),this},getData:function(l,h,u,c){return l=i(Math.floor(l),0,this.width-1),h=i(Math.floor(h),0,this.height-1),u=i(u,1,this.width-l),c=i(c,1,this.height-h),this.context.getImageData(l,h,u,c)},getPixel:function(l,h,u){u=u||new e;var c,d,v,g,m,y=this.getIndex(l,h);return-1<y&&(d=(c=this.data)[y+0],v=c[y+1],g=c[y+2],m=c[y+3],u.setTo(d,v,g,m)),u},getPixels:function(l,h,u,c){l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=this.width),c===void 0&&(c=u),l=Math.abs(Math.round(l)),h=Math.abs(Math.round(h));for(var d=i(l,0,this.width),v=i(l+u,0,this.width),g=i(h,0,this.height),m=i(h+c,0,this.height),y=new e,T=[],E=g;E<m;E++){for(var S=[],C=d;C<v;C++)y=this.getPixel(C,E,y),S.push({x:C,y:E,color:y.color,alpha:y.alphaGL});T.push(S)}return T},getIndex:function(l,h){return l=Math.abs(Math.round(l)),h=Math.abs(Math.round(h)),l<this.width&&h<this.height?4*(l+h*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,h,u,c){return l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=this.width),c===void 0&&(c=this.height),this.context.clearRect(l,h,u,c),this.update()},setSize:function(l,h){return h===void 0&&(h=l),l===this.width&&h===this.height||(this.canvas.width=l,this.canvas.height=h,this._source.width=l,this._source.height=h,this._source.isPowerOf2=r(l,h),this.frames.__BASE.setSize(l,h,0,0),this.width=l,this.height=h,this.refresh()),this},destroy:function(){n.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});f.exports=o},function(f,x,t){var a=t(31),i=t(0),e=t(138),s=t(168),r=new i({initialize:function(n,o,l,h,u){u===void 0&&(u=!1);var c=n.manager.game;this.renderer=c.renderer,this.texture=n,this.source=o,this.image=o,this.compressionAlgorithm=null,this.resolution=1,this.width=l||o.naturalWidth||o.videoWidth||o.width||0,this.height=h||o.naturalHeight||o.videoHeight||o.height||0,this.scaleMode=s.DEFAULT,this.isCanvas=o instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&o instanceof HTMLVideoElement,this.isRenderTexture=o.type==="RenderTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&o instanceof WebGLTexture,this.isPowerOf2=e(this.width,this.height),this.glTexture=null,this.glIndex=0,this.glIndexCounter=-1,this.flipY=u,this.init(c)},init:function(n){var o=this.renderer;o&&(o.gl?this.isCanvas?this.glTexture=o.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=o.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=o.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=o.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),this.flipY=n,this},update:function(){var n=this.renderer.gl;n&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):n&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});f.exports=r},function(f,x,t){f.exports={AtlasXML:t(979),Canvas:t(980),Image:t(981),JSONArray:t(982),JSONHash:t(983),SpriteSheet:t(984),SpriteSheetFromAtlas:t(985),UnityYAML:t(986)}},function(f,x,t){var a=t(427),i=t(430),e=t(432),s={create:function(r){var n=r.config.audio,o=r.device.audio;return new(n.noAudio||!o.webAudio&&!o.audioData?i:o.webAudio&&!n.disableWebAudio?e:a)(r)}};f.exports=s},function(f,x,t){var a=t(145),i=t(0),e=t(70),s=t(429),r=new i({Extends:a,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,n)},add:function(n,o){var l=new s(this,n,o);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var n,o,l,h=this;this.game.cache.audio.entries.each(function(u,c){for(var d=0;d<c.length;d++)if(c[d].dataset.locked==="true")return!(h.locked=!0);return!0}),this.locked&&(n=!1,o=function(){n=!0},l=function(){var u,c;n?n=!1:(document.body.removeEventListener("touchmove",o),document.body.removeEventListener("touchend",l),u=[],h.game.cache.audio.entries.each(function(d,v){for(var g=0;g<v.length;g++){var m=v[g];m.dataset.locked==="true"&&u.push(m)}return!0}),u.length!==0&&((c=u[u.length-1]).oncanplaythrough=function(){c.oncanplaythrough=null,u.forEach(function(d){d.dataset.locked="false"}),h.unlocked=!0},u.forEach(function(d){d.load()})))},this.once(e.UNLOCKED,function(){for(this.forEachActiveSound(function(c){c.currentMarker===null&&c.duration===0&&(c.duration=c.tags[0].duration),c.totalDuration=c.tags[0].duration});this.lockedActionsQueue.length;){var u=this.lockedActionsQueue.shift();u.sound[u.prop].apply?u.sound[u.prop].apply(u.sound,u.value||[]):u.sound[u.prop]=u.value}},this),document.body.addEventListener("touchmove",o,!1),document.body.addEventListener("touchend",l,!1))},onBlur:function(){this.forEachActiveSound(function(n){n.isPlaying&&(this.onBlurPausedSounds.push(n),n.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(n){n.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(n,o,l){return n.tags[0].dataset.locked==="true"&&(this.lockedActionsQueue.push({sound:n,prop:o,value:l}),!0)},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this._mute},set:function(n){this._mute=n,this.forEachActiveSound(function(o){o.updateMute()}),this.emit(e.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this._volume},set:function(n){this._volume=n,this.forEachActiveSound(function(o){o.updateVolume()}),this.emit(e.GLOBAL_VOLUME,this,n)}}});f.exports=r},function(f,x,t){var a=t(78);f.exports=function(i,e,s,r,n){if(r===void 0&&(r=0),n===void 0&&(n=i.length),a(i,r,n))for(var o=r;o<n;o++){var l=i[o];if(!e||e&&s===void 0&&l.hasOwnProperty(e)||e&&s!==void 0&&l[e]===s)return l}return null}},function(f,x,t){var a=t(146),i=t(0),e=t(70),s=t(18),r=new i({Extends:a,initialize:function(n,o,l){if(l===void 0&&(l={}),this.tags=n.game.cache.audio.get(o),!this.tags)throw new Error('There is no audio asset with key "'+o+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,n,o,l)},play:function(n,o){return!this.manager.isLocked(this,"play",[n,o])&&!!a.prototype.play.call(this,n,o)&&!!this.pickAndPlayAudioTag()&&(this.emit(e.PLAY,this),!0)},pause:function(){return!this.manager.isLocked(this,"pause")&&!(0<this.startTime)&&!!a.prototype.pause.call(this)&&(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(e.PAUSE,this),!0)},resume:function(){return!this.manager.isLocked(this,"resume")&&!(0<this.startTime)&&!!a.prototype.resume.call(this)&&!!this.pickAndPlayAudioTag()&&(this.emit(e.RESUME,this),!0)},stop:function(){return!this.manager.isLocked(this,"stop")&&!!a.prototype.stop.call(this)&&(this.stopAndReleaseAudioTag(),this.emit(e.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var n=this.currentConfig.seek,o=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+n;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),o===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*o,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var n=0;n<this.tags.length;n++){var o=this.tags[n];if(o.dataset.used==="false")return o.dataset.used="true",this.audio=o,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(u){u.key===this.key&&u.audio&&l.push(u)},this),l.sort(function(u,c){return u.loop===c.loop?c.seek/c.duration-u.seek/u.duration:u.loop?1:-1});var h=l[0];return this.audio=h.audio,h.reset(),h.audio=null,h.startTime=0,!(h.previousTime=0)},playCatchPromise:function(){var n=this.audio.play();n&&n.catch(function(o){console.warn(o)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(n){if(this.isPlaying)if(0<this.startTime)this.startTime<n-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,n-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());else{var o=this.currentMarker?this.currentMarker.start:0,l=o+this.duration,h=this.audio.currentTime;if(this.currentConfig.loop)h>=l-this.manager.loopEndOffset?(this.audio.currentTime=o+Math.max(0,h-l),h=this.audio.currentTime):h<o&&(this.audio.currentTime+=o,h=this.audio.currentTime),h<this.previousTime&&this.emit(e.LOOPED,this);else if(l<=h)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(e.COMPLETE,this);this.previousTime=h}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=s(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(n){this.currentConfig.mute=n,this.manager.isLocked(this,"mute",n)||(this.updateMute(),this.emit(e.MUTE,this,n))}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.currentConfig.volume},set:function(n){this.currentConfig.volume=n,this.manager.isLocked(this,"volume",n)||(this.updateVolume(),this.emit(e.VOLUME,this,n))}},setVolume:function(n){return this.volume=n,this},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,this.manager.isLocked(this,e.RATE,n)||(this.calculateRate(),this.emit(e.RATE,this,n))}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,this.manager.isLocked(this,e.DETUNE,n)||(this.calculateRate(),this.emit(e.DETUNE,this,n))}},setDetune:function(n){return this.detune=n,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.isLocked(this,"seek",n)||0<this.startTime||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.isPlaying?(this.previousTime=n,this.audio.currentTime=n):this.isPaused&&(this.currentConfig.seek=n),this.emit(e.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,this.manager.isLocked(this,"loop",n)||(this.audio&&(this.audio.loop=n),this.emit(e.LOOP,this,n))}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.currentConfig.pan},set:function(n){this.currentConfig.pan=n,this.emit(e.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});f.exports=r},function(f,x,t){var a=t(145),i=t(0),e=t(9),s=t(431),r=t(1),n=new i({Extends:e,initialize:function(o){e.call(this),this.game=o,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(o,l){var h=new s(this,o,l);return this.sounds.push(h),h},addAudioSprite:function(o,l){var h=this.add(o,l);return h.spritemap={},h},play:function(o,l){return!1},playAudioSprite:function(o,l,h){return!1},remove:function(o){return a.prototype.remove.call(this,o)},removeByKey:function(o){return a.prototype.removeByKey.call(this,o)},pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,forEachActiveSound:function(o,l){a.prototype.forEachActiveSound.call(this,o,l)},destroy:function(){a.prototype.destroy.call(this)}});f.exports=n},function(f,x,t){function a(){return!1}function i(){return this}var e=t(146),s=t(0),r=t(9),n=t(17),o=new s({Extends:r,initialize:function(l,h,u){u===void 0&&(u={}),r.call(this),this.manager=l,this.key=h,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=n({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},u),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:a,updateMarker:a,removeMarker:function(){return null},play:a,pause:a,resume:a,stop:a,destroy:function(){e.prototype.destroy.call(this)},setMute:i,setVolume:i,setRate:i,setDetune:i,setSeek:i,setLoop:i,setPan:i});f.exports=o},function(f,x,t){var a=t(433),i=t(145),e=t(0),s=t(70),r=t(22),n=t(434),o=new e({Extends:i,initialize:function(l){this.context=this.createAudioContext(l),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),i.call(this,l),this.locked&&l.isBooted?this.unlock():l.events.once(r.BOOT,this.unlock,this)},createAudioContext:function(l){var h=l.config.audio;return h.context?(h.context.resume(),h.context):window.hasOwnProperty("AudioContext")?new AudioContext:window.hasOwnProperty("webkitAudioContext")?new window.webkitAudioContext:void 0},setAudioContext:function(l){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=l,this.masterMuteNode=l.createGain(),this.masterVolumeNode=l.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(l.destination),this.destination=this.masterMuteNode,this},add:function(l,h){var u=new n(this,l,h);return this.sounds.push(u),u},decodeAudio:function(l,h){for(var u=Array.isArray(l)?l:[{key:l,data:h}],c=this.game.cache.audio,d=u.length,v=0;v<u.length;v++){var g=u[v],m=g.key,y=g.data;typeof y=="string"&&(y=a(y));var T=function(S,C){c.add(S,C),this.emit(s.DECODED,S),--d===0&&this.emit(s.DECODED_ALL)}.bind(this,m),E=function(S,C){console.error("Error decoding audio: "+S+" - ",C?C.message:""),--d===0&&this.emit(s.DECODED_ALL)}.bind(this,m);this.context.decodeAudioData(y,T,E)}},unlock:function(){function l(){var c;h.context&&u&&(c=u.removeEventListener,h.context.resume().then(function(){c("touchstart",l),c("touchend",l),c("click",l),c("keydown",l),h.unlocked=!0},function(){c("touchstart",l),c("touchend",l),c("click",l),c("keydown",l)}))}var h=this,u=document.body;u&&(u.addEventListener("touchstart",l,!1),u.addEventListener("touchend",l,!1),u.addEventListener("click",l,!1),u.addEventListener("keydown",l,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var l=this.context;l.state!=="suspended"&&l.state!=="interrupted"||this.locked||l.resume()},update:function(l,h){i.prototype.update.call(this,l,h);var u=this.context;u&&u.state==="interrupted"&&u.resume()},destroy:function(){var l;this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context?this.context.suspend():(l=this).context.close().then(function(){l.context=null}),i.prototype.destroy.call(this)},setMute:function(l){return this.mute=l,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(l){this.masterMuteNode.gain.setValueAtTime(l?0:1,0),this.emit(s.GLOBAL_MUTE,this,l)}},setVolume:function(l){return this.volume=l,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(l){this.masterVolumeNode.gain.setValueAtTime(l,0),this.emit(s.GLOBAL_VOLUME,this,l)}}});f.exports=o},function(f,x){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(256),i=0;i<t.length;i++)a[t.charCodeAt(i)]=i;f.exports=function(e){var s,r,n,o,l=(e=e.substr(e.indexOf(",")+1)).length,h=.75*l,u=0;e[l-1]==="="&&(h--,e[l-2]==="="&&h--);for(var c=new ArrayBuffer(h),d=new Uint8Array(c),v=0;v<l;v+=4)s=a[e.charCodeAt(v)],r=a[e.charCodeAt(v+1)],n=a[e.charCodeAt(v+2)],o=a[e.charCodeAt(v+3)],d[u++]=s<<2|r>>4,d[u++]=(15&r)<<4|n>>2,d[u++]=(3&n)<<6|63&o;return c}},function(f,x,t){var a=t(146),i=t(0),e=t(70),s=new i({Extends:a,initialize:function(r,n,o){if(o===void 0&&(o={}),this.audioBuffer=r.game.cache.audio.get(n),!this.audioBuffer)throw new Error('Audio key "'+n+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=r.context.createGain(),this.volumeNode=r.context.createGain(),this.pannerNode=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),r.context.createStereoPanner?(this.pannerNode=r.context.createStereoPanner(),this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(r.destination)):this.volumeNode.connect(r.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,r,n,o)},play:function(r,n){return!!a.prototype.play.call(this,r,n)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(e.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime)&&!!a.prototype.pause.call(this)&&(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(e.PAUSE,this),!0)},resume:function(){return!(this.manager.context.currentTime<this.startTime)&&!!a.prototype.resume.call(this)&&(this.createAndStartBufferSource(),this.emit(e.RESUME,this),!0)},stop:function(){return!!a.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(e.STOP,this),!0)},createAndStartBufferSource:function(){var r=this.currentConfig.seek,n=this.currentConfig.delay,o=this.manager.context.currentTime+n,l=(this.currentMarker?this.currentMarker.start:0)+r,h=this.duration-r;this.playTime=o-r,this.startTime=o,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,o),Math.max(0,l),Math.max(0,h)),this.resetConfig()},createAndStartLoopBufferSource:function(){var r=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,o=this.duration;this.loopTime=r,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,r),Math.max(0,n),Math.max(0,o))},createBufferSource:function(){var r=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(o){o.target===r.source&&(r.currentConfig.loop?r.hasLooped=!0:r.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),a.prototype.applyConfig.call(this)},update:function(){this.hasEnded?(this.hasEnded=!1,a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(e.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(e.LOOPED,this))},destroy:function(){a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){a.prototype.calculateRate.call(this);var r=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,r),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,r)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var r=0,n=0;n<this.rateUpdates.length;n++)r+=((n<this.rateUpdates.length-1?this.rateUpdates[n+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[n].time)*this.rateUpdates[n].rate;return r},getLoopTime:function(){for(var r=0,n=0;n<this.rateUpdates.length-1;n++)r+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var o=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+o.time+(this.duration-r)/o.rate},rate:{get:function(){return this.currentConfig.rate},set:function(r){this.currentConfig.rate=r,this.calculateRate(),this.emit(e.RATE,this,r)}},setRate:function(r){return this.rate=r,this},detune:{get:function(){return this.currentConfig.detune},set:function(r){this.currentConfig.detune=r,this.calculateRate(),this.emit(e.DETUNE,this,r)}},setDetune:function(r){return this.detune=r,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(r){this.currentConfig.mute=r,this.muteNode.gain.setValueAtTime(r?0:1,0),this.emit(e.MUTE,this,r)}},setMute:function(r){return this.mute=r,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(r){this.currentConfig.volume=r,this.volumeNode.gain.setValueAtTime(r,0),this.emit(e.VOLUME,this,r)}},setVolume:function(r){return this.volume=r,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(r){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(r=Math.min(Math.max(0,r),this.duration),this.currentConfig.seek=r,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(e.SEEK,this,r))}},setSeek:function(r){return this.seek=r,this},loop:{get:function(){return this.currentConfig.loop},set:function(r){this.currentConfig.loop=r,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),r&&this.createAndStartLoopBufferSource()),this.emit(e.LOOP,this,r)}},setLoop:function(r){return this.loop=r,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(r){this.currentConfig.pan=r,this.pannerNode&&this.pannerNode.pan.setValueAtTime(r,this.manager.context.currentTime),this.emit(e.PAN,this,r)}},setPan:function(r){return this.pan=r,this}});f.exports=s},function(f,x){f.exports=function(t){for(var a=t.length,i=t[0].length,e=new Array(i),s=0;s<i;s++){e[s]=new Array(a);for(var r=a-1;-1<r;r--)e[s][r]=t[r][s]}return e}},function(f,x){function t(e,s,r){var n=e[s];e[s]=e[r],e[r]=n}function a(e,s){return e<s?-1:s<e?1:0}var i=function(e,s,r,n,o){for(r===void 0&&(r=0),n===void 0&&(n=e.length-1),o===void 0&&(o=a);r<n;){var l,h,u,c,d,v,g;600<n-r&&(l=n-r+1,h=s-r+1,u=Math.log(l),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(l-c)/l)*(h-l/2<0?-1:1),v=Math.max(r,Math.floor(s-h*c/l+d)),g=Math.min(n,Math.floor(s+(l-h)*c/l+d)),i(e,s,v,g,o));var m=e[s],y=r,T=n;for(t(e,r,s),0<o(e[n],m)&&t(e,r,n);y<T;){for(t(e,y,T),y++,T--;o(e[y],m)<0;)y++;for(;0<o(e[T],m);)T--}o(e[r],m)===0?t(e,r,T):t(e,++T,n),T<=s&&(r=T+1),s<=T&&(n=T-1)}};f.exports=i},function(f,x,t){var a=t(6),i=t(131);f.exports=function(e,s,r){var n,o=a(r,"max",0),l=a(r,"qty",1),h=a(r,"random",!1),u=a(r,"randomB",!1),c=a(r,"repeat",0),d=a(r,"yoyo",!1),v=[];u&&i(s),c===-1&&(c=o===0?0:(n=e.length*s.length*l,d&&(n*=2),Math.ceil(o/n)));for(var g=0;g<=c;g++){var m=function(y,T,E){for(var S=[],C=0;C<y.length;C++)for(var M=0;M<T.length;M++)for(var P=0;P<E;P++)S.push({a:y[C],b:T[M]});return S}(e,s,l);h&&i(m),v=v.concat(m),d&&(m.reverse(),v=v.concat(m))}return o&&v.splice(o),v}},function(f,x,t){f.exports={PROCESS_QUEUE_ADD:t(1041),PROCESS_QUEUE_REMOVE:t(1042)}},function(f,x,t){var a=t(13);f.exports=function(i,e){var s,r,n,o,l,h,u,c,d,v,g=a(e,"anims",null);return g===null||(typeof g=="string"?i.anims.play(g):typeof g=="object"&&(s=i.anims,(r=a(g,"key",void 0))&&(n=a(g,"startFrame",void 0),o=a(g,"delay",0),l=a(g,"repeat",0),h=a(g,"repeatDelay",0),u=a(g,"yoyo",!1),c=a(g,"play",!1),d=a(g,"delayedPlay",0),v={key:r,delay:o,repeat:l,repeatDelay:h,yoyo:u,startFrame:n},c?s.play(v):0<d?s.playAfterDelay(v,d):s.load(v)))),i}},function(f,x,t){var a=t(0),i=t(109),e=new a({initialize:function(s,r,n,o,l){this.parent=s,this.x=r,this.y=n,this.frame=o,this.data={},this.tint=16777215,this._visible=l,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(s){return s===void 0?this.frame=this.parent.frame:s instanceof i&&s.texture===this.parent.texture?this.frame=s:this.frame=this.parent.texture.get(s),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(s,r,n){return this.x=s,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,n&&this.setFrame(n),this},setPosition:function(s,r){return this.x=s,this.y=r,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,r){return this.flipX=s,this.flipY=r,this},setVisible:function(s){return this.visible=s,this},setAlpha:function(s){return this.alpha=s,this},setTint:function(s){return this.tint=s,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(s){this.parent.dirty|=this._visible!==s,this._visible=s}},alpha:{get:function(){return this._alpha},set:function(s){this.parent.dirty|=0<this._alpha!=0<s,this._alpha=s}}});f.exports=e},function(f,x,t){var a=t(10);f.exports=function(i,e,s){s===void 0&&(s=new a);var r=Math.min(i.x,e.x),n=Math.min(i.y,e.y),o=Math.max(i.right,e.right)-r,l=Math.max(i.bottom,e.bottom)-n;return s.setTo(r,n,o,l)}},function(f,x,t){var a=t(0),i=t(11),e=t(1055),s=t(15),r=t(7),n=t(202),o=t(20),l=t(140),h=new a({Extends:s,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.Origin,i.ScrollFactor,i.Transform,i.Visible,e],initialize:function(u,c,d,v,g,m){s.call(this,u,"DOMElement"),this.parent=u.sys.game.domContainer,this.cache=u.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(c,d),typeof v=="string"?v[0]==="#"?this.setElement(v.substr(1),g,m):this.createElement(v,g,m):v&&this.setElement(v,g,m),u.sys.events.on(o.SLEEP,this.handleSceneEvent,this),u.sys.events.on(o.WAKE,this.handleSceneEvent,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},handleSceneEvent:function(u){var c=this.node,d=c.style;c&&(d.display=u.settings.visible?"block":"none")},setSkew:function(u,c){return u===void 0&&(u=0),c===void 0&&(c=u),this.skewX=u,this.skewY=c,this},setPerspective:function(u){return this.parent.style.perspective=u+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(u){this.parent.style.perspective=u+"px"}},addListener:function(u){if(this.node){u=u.split(" ");for(var c=0;c<u.length;c++)this.node.addEventListener(u[c],this.handler,!1)}return this},removeListener:function(u){if(this.node){u=u.split(" ");for(var c=0;c<u.length;c++)this.node.removeEventListener(u[c],this.handler)}return this},dispatchNativeEvent:function(u){this.emit(u.type,u)},createElement:function(u,c,d){return this.setElement(document.createElement(u),c,d)},setElement:function(u,c,d){var v;if(this.removeElement(),typeof u=="string"?(u[0]==="#"&&(u=u.substr(1)),v=document.getElementById(u)):typeof u=="object"&&u.nodeType===1&&(v=u),!v)return this;if(this.node=v,c&&r(c))for(var g in c)v.style[g]=c[g];else typeof c=="string"&&(v.style=c);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",(v.phaser=this).parent&&this.parent.appendChild(v),d&&(v.innerText=d),this.updateSize()},createFromCache:function(u,c){var d=this.cache.get(u);return d&&this.createFromHTML(d,c),this},createFromHTML:function(u,c){c===void 0&&(c="div"),this.removeElement();var d=document.createElement(c);return(this.node=d).style.zIndex="0",d.style.display="inline",d.style.position="absolute",(d.phaser=this).parent&&this.parent.appendChild(d),d.innerHTML=u,this.updateSize()},removeElement:function(){return this.node&&(n(this.node),this.node=null),this},updateSize:function(){var u=this.node,c=u.getBoundingClientRect();return this.width=u.clientWidth,this.height=u.clientHeight,this.displayWidth=c.width||0,this.displayHeight=c.height||0,this},getChildByProperty:function(u,c){if(this.node){for(var d=this.node.querySelectorAll("*"),v=0;v<d.length;v++)if(d[v][u]===c)return d[v]}return null},getChildByID:function(u){return this.getChildByProperty("id",u)},getChildByName:function(u){return this.getChildByProperty("name",u)},setClassName:function(u){return this.node&&(this.node.className=u,this.updateSize()),this},setText:function(u){return this.node&&(this.node.innerText=u,this.updateSize()),this},setHTML:function(u){return this.node&&(this.node.innerHTML=u,this.updateSize()),this},preUpdate:function(){var u=this.parentContainer,c=this.node;c&&u&&!u.willRender()&&(c.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(o.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(o.WAKE,this.handleSceneEvent,this)}});f.exports=h},function(f,x,t){var a=t(1056),i=t(15),e=t(25),s=new e,r=new e,n=new e;f.exports=function(o,l,h,u){var c,d,v,g,m,y,T,E,S,C,M;l.node&&(c=l.node.style,d=l.scene.sys.settings,!c||!d.visible||i.RENDER_MASK!==l.renderFlags||l.cameraFilter!==0&&l.cameraFilter&h.id||l.parentContainer&&!l.parentContainer.willRender()?c.display="none":(v=l.parentContainer,g=h.alpha*l.alpha,v&&(g*=v.alpha),m=s,y=r,T=n,S=E=0,M=C="0%",u?(E=l.width*l.scaleX*l.originX,S=l.height*l.scaleY*l.originY,y.applyITRS(l.x-E,l.y-S,l.rotation,l.scaleX,l.scaleY),m.copyFrom(h.matrix),m.multiplyWithOffset(u,-h.scrollX*l.scrollFactorX,-h.scrollY*l.scrollFactorY),y.e=l.x-E,y.f=l.y-S):(E=l.width*l.originX,S=l.height*l.originY,y.applyITRS(l.x-E,l.y-S,l.rotation,l.scaleX,l.scaleY),m.copyFrom(h.matrix),C=100*l.originX+"%",M=100*l.originY+"%",y.e-=h.scrollX*l.scrollFactorX,y.f-=h.scrollY*l.scrollFactorY),m.multiply(y,T),l.transformOnly||(c.display="block",c.opacity=g,c.zIndex=l._depth,c.pointerEvents=l.pointerEvents,c.mixBlendMode=a[l._blendMode]),c.transform=T.getCSSMatrix()+" skew("+l.skewX+"rad, "+l.skewY+"rad) rotate3d("+l.rotate3d.x+","+l.rotate3d.y+","+l.rotate3d.z+","+l.rotate3d.w+l.rotate3dAngle+")",c.transformOrigin=C+" "+M))}},function(f,x,t){var a=t(0),i=t(11),e=t(15),s=t(1060),r=new a({Extends:e,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Flip,i.Origin,i.ScrollFactor,i.Size,i.Texture,i.Tint,i.Transform,i.Visible,s],initialize:function(n){e.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});f.exports=r},function(f,x,t){var a=t(218),i=t(98),e=t(14),s=t(4);f.exports=function(r,n,o){o===void 0&&(o=new s);var l=i(n,0,e.PI2);return a(r,l,o)}},function(f,x,t){var a=t(447),i=t(218),e=t(98),s=t(14);f.exports=function(r,n,o,l){l===void 0&&(l=[]),!n&&0<o&&(n=a(r)/o);for(var h=0;h<n;h++){var u=e(h/n,0,s.PI2);l.push(i(r,u))}return l}},function(f,x){f.exports=function(t){var a=t.width/2,i=t.height/2,e=Math.pow(a-i,2)/Math.pow(a+i,2);return Math.PI*(a+i)*(1+3*e/(10+Math.sqrt(4-3*e)))}},function(f,x,t){var a=t(217),i=t(30);f.exports=function(e,s,r,n,o,l){var h=s.commandBuffer,u=h.length,c=o||e.currentContext;if(u!==0&&i(e,c,s,r,n)){r.addToRenderList(s);var d,v,g,m,y,T=0,E=0,S=0;c.beginPath();for(var C=0;C<u;++C)switch(h[C]){case a.ARC:c.arc(h[C+1],h[C+2],h[C+3],h[C+4],h[C+5],h[C+6]),C+=7;break;case a.LINE_STYLE:y=h[C+1],g=h[C+2],d=h[C+3],T=(16711680&g)>>>16,E=(65280&g)>>>8,S=255&g,c.strokeStyle="rgba("+T+","+E+","+S+","+d+")",c.lineWidth=y,C+=3;break;case a.FILL_STYLE:m=h[C+1],v=h[C+2],T=(16711680&m)>>>16,E=(65280&m)>>>8,S=255&m,c.fillStyle="rgba("+T+","+E+","+S+","+v+")",C+=2;break;case a.BEGIN_PATH:c.beginPath();break;case a.CLOSE_PATH:c.closePath();break;case a.FILL_PATH:l||c.fill();break;case a.STROKE_PATH:l||c.stroke();break;case a.FILL_RECT:l?c.rect(h[C+1],h[C+2],h[C+3],h[C+4]):c.fillRect(h[C+1],h[C+2],h[C+3],h[C+4]),C+=4;break;case a.FILL_TRIANGLE:c.beginPath(),c.moveTo(h[C+1],h[C+2]),c.lineTo(h[C+3],h[C+4]),c.lineTo(h[C+5],h[C+6]),c.closePath(),l||c.fill(),C+=6;break;case a.STROKE_TRIANGLE:c.beginPath(),c.moveTo(h[C+1],h[C+2]),c.lineTo(h[C+3],h[C+4]),c.lineTo(h[C+5],h[C+6]),c.closePath(),l||c.stroke(),C+=6;break;case a.LINE_TO:c.lineTo(h[C+1],h[C+2]),C+=2;break;case a.MOVE_TO:c.moveTo(h[C+1],h[C+2]),C+=2;break;case a.LINE_FX_TO:c.lineTo(h[C+1],h[C+2]),C+=5;break;case a.MOVE_FX_TO:c.moveTo(h[C+1],h[C+2]),C+=5;break;case a.SAVE:c.save();break;case a.RESTORE:c.restore();break;case a.TRANSLATE:c.translate(h[C+1],h[C+2]),C+=2;break;case a.SCALE:c.scale(h[C+1],h[C+2]),C+=2;break;case a.ROTATE:c.rotate(h[C+1]),C+=1;break;case a.GRADIENT_FILL_STYLE:C+=5;break;case a.GRADIENT_LINE_STYLE:C+=6}c.restore()}}},function(f,x,t){var a=t(0),i=t(137),e=t(80),s=t(2),r=t(68),n=new a({initialize:function(o,l,h,u){u===void 0&&(u=!1),this.propertyKey=l,this.propertyValue=h,this.defaultValue=h,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=u,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(o)},loadConfig:function(o,l){o===void 0&&(o={}),l&&(this.propertyKey=l),this.propertyValue=s(o,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(o){return this.propertyValue=o,this.setMethods()},setMethods:function(){var o,l,h,u=this.propertyValue,c=typeof u;return this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,c=="number"?(this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate):Array.isArray(u)?this.onEmit=this.randomStaticValueEmit:c=="function"?this.emitOnly?this.onEmit=u:this.onUpdate=u:c=="object"&&this.hasBoth(u,"start","end")?(this.start=u.start,this.end=u.end,(o=this.has(u,"random"))&&(this.onEmit=this.randomRangedValueEmit),this.has(u,"steps")?(this.steps=u.steps,this.counter=this.start,this.onEmit=this.steppedEmit):(l=this.has(u,"ease")?u.ease:"Linear",this.ease=e(l,u.easeParams),o||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate)):c=="object"&&this.hasBoth(u,"min","max")?(this.start=u.min,this.end=u.max,this.onEmit=this.randomRangedValueEmit):c=="object"&&this.has(u,"random")?(h=u.random,Array.isArray(h)&&(this.start=h[0],this.end=h[1]),this.onEmit=this.randomRangedValueEmit):c=="object"&&this.hasEither(u,"onEmit","onUpdate")&&(this.has(u,"onEmit")&&(this.onEmit=u.onEmit),this.has(u,"onUpdate")&&(this.onUpdate=u.onUpdate)),this},has:function(o,l){return o.hasOwnProperty(l)},hasBoth:function(o,l,h){return o.hasOwnProperty(l)&&o.hasOwnProperty(h)},hasEither:function(o,l,h){return o.hasOwnProperty(l)||o.hasOwnProperty(h)},defaultEmit:function(o,l,h){return h},defaultUpdate:function(o,l,h,u){return u},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var o=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[o]},randomRangedValueEmit:function(o,l){var h=i(this.start,this.end);return o&&o.data[l]&&(o.data[l].min=h),h},steppedEmit:function(){var o=this.counter,l=this.counter+(this.end-this.start)/this.steps;return this.counter=r(l,this.start,this.end),o},easedValueEmit:function(o,l){var h;return o&&o.data[l]&&((h=o.data[l]).min=this.start,h.max=this.end),this.start},easeValueUpdate:function(o,l,h){var u=o.data[l];return(u.max-u.min)*this.ease(h)+u.min}});f.exports=n},function(f,x,t){var a=t(0),i=t(2),e=new a({initialize:function(s,r,n,o,l){var h;typeof s=="object"?(s=i(h=s,"x",0),r=i(h,"y",0),n=i(h,"power",0),o=i(h,"epsilon",100),l=i(h,"gravity",50)):(s===void 0&&(s=0),r===void 0&&(r=0),n===void 0&&(n=0),o===void 0&&(o=100),l===void 0&&(l=50)),this.x=s,this.y=r,this.active=!0,this._gravity=l,this._power=0,this._epsilon=0,this.power=n,this.epsilon=o},update:function(s,r){var n,o,l=this.x-s.x,h=this.y-s.y,u=l*l+h*h;u!==0&&(n=Math.sqrt(u),u<this._epsilon&&(u=this._epsilon),o=this._power*r/(u*n)*100,s.velocityX+=l*o,s.velocityY+=h*o)},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(s){this._epsilon=s*s}},power:{get:function(){return this._power/this._gravity},set:function(s){this._power=s*this._gravity}},gravity:{get:function(){return this._gravity},set:function(s){var r=this.power;this._gravity=s,this.power=r}}});f.exports=e},function(f,x,t){var a=t(0),i=t(36),e=t(50),s=new a({initialize:function(r){this.emitter=r,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return 0<this.lifeCurrent},resetPosition:function(){this.x=0,this.y=0},fire:function(r,n){var o=this.emitter;this.frame=o.getFrame(),o.emitZone&&o.emitZone.getPoint(this),this.x+=r===void 0?o.x.onEmit(this,"x"):r,this.y+=n===void 0?o.y.onEmit(this,"y"):n,this.life=o.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var l,h,u,c,d,v=o.speedX.onEmit(this,"speedX"),g=o.speedY?o.speedY.onEmit(this,"speedY"):v;o.radial?(l=i(o.angle.onEmit(this,"angle")),this.velocityX=Math.cos(l)*Math.abs(v),this.velocityY=Math.sin(l)*Math.abs(g)):o.moveTo?(h=o.moveToX.onEmit(this,"moveToX"),u=o.moveToY?o.moveToY.onEmit(this,"moveToY"):h,c=Math.atan2(u-this.y,h-this.x),d=e(this.x,this.y,h,u)/(this.life/1e3),this.velocityX=Math.cos(c)*d,this.velocityY=Math.sin(c)*d):(this.velocityX=v,this.velocityY=g),o.acceleration&&(this.accelerationX=o.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=o.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=o.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=o.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=o.delay.onEmit(this,"delay"),this.scaleX=o.scaleX.onEmit(this,"scaleX"),this.scaleY=o.scaleY?o.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=o.rotate.onEmit(this,"rotate"),this.rotation=i(this.angle),this.bounce=o.bounce.onEmit(this,"bounce"),this.alpha=o.alpha.onEmit(this,"alpha"),this.tint=o.tint.onEmit(this,"tint")},computeVelocity:function(r,n,o,l){var h=this.velocityX,u=this.velocityY,c=this.accelerationX,d=this.accelerationY,v=this.maxVelocityX,g=this.maxVelocityY;h+=r.gravityX*o,u+=r.gravityY*o,c&&(h+=c*o),d&&(u+=d*o),v<h?h=v:h<-v&&(h=-v),g<u?u=g:u<-g&&(u=-g),this.velocityX=h,this.velocityY=u;for(var m=0;m<l.length;m++)l[m].update(this,n,o)},checkBounds:function(r){var n=r.bounds,o=-this.bounce;this.x<n.x&&r.collideLeft?(this.x=n.x,this.velocityX*=o):this.x>n.right&&r.collideRight&&(this.x=n.right,this.velocityX*=o),this.y<n.y&&r.collideTop?(this.y=n.y,this.velocityY*=o):this.y>n.bottom&&r.collideBottom&&(this.y=n.bottom,this.velocityY*=o)},update:function(r,n,o){if(0<this.delayCurrent)return this.delayCurrent-=r,!1;var l=this.emitter,h=1-this.lifeCurrent/this.life;return this.lifeT=h,this.computeVelocity(l,r,n,o),this.x+=this.velocityX*n,this.y+=this.velocityY*n,l.bounds&&this.checkBounds(l),l.deathZone&&l.deathZone.willKill(this)?!(this.lifeCurrent=0):(this.scaleX=l.scaleX.onUpdate(this,"scaleX",h,this.scaleX),l.scaleY?this.scaleY=l.scaleY.onUpdate(this,"scaleY",h,this.scaleY):this.scaleY=this.scaleX,this.angle=l.rotate.onUpdate(this,"rotate",h,this.angle),this.rotation=i(this.angle),this.alpha=l.alpha.onUpdate(this,"alpha",h,this.alpha),this.tint=l.tint.onUpdate(this,"tint",h,this.tint),this.lifeCurrent-=r,this.lifeCurrent<=0)}});f.exports=s},function(f,x,t){var a=t(35),i=t(0),e=t(11),s=t(453),r=t(454),n=t(449),o=t(2),l=t(210),h=t(455),u=t(126),c=t(451),d=t(456),v=t(10),g=t(79),m=t(3),y=t(68),T=new i({Mixins:[e.BlendMode,e.Mask,e.ScrollFactor,e.Visible],initialize:function(E,S){this.manager=E,this.texture=E.texture,this.frames=[E.defaultFrame],this.defaultFrame=E.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=c,this.x=new n(S,"x",0,!0),this.y=new n(S,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new n(S,"accelerationX",0,!0),this.accelerationY=new n(S,"accelerationY",0,!0),this.maxVelocityX=new n(S,"maxVelocityX",1e4,!0),this.maxVelocityY=new n(S,"maxVelocityY",1e4,!0),this.speedX=new n(S,"speedX",0,!0),this.speedY=new n(S,"speedY",0,!0),this.moveTo=!1,this.moveToX=new n(S,"moveToX",0,!0),this.moveToY=new n(S,"moveToY",0,!0),this.bounce=new n(S,"bounce",0,!0),this.scaleX=new n(S,"scaleX",1),this.scaleY=new n(S,"scaleY",1),this.tint=new n(S,"tint",16777215),this.alpha=new n(S,"alpha",1),this.lifespan=new n(S,"lifespan",1e3,!0),this.angle=new n(S,"angle",{min:0,max:360},!0),this.rotate=new n(S,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new n(S,"quantity",1,!0),this.delay=new n(S,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=a.NORMAL,this.follow=null,this.followOffset=new m,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,S&&this.fromJSON(S)},fromJSON:function(E){if(!E)return this;for(var S,M=0,C="",M=0;M<this.configFastMap.length;M++)C=this.configFastMap[M],u(E,C)&&(this[C]=o(E,C));for(M=0;M<this.configOpMap.length;M++)C=this.configOpMap[M],u(E,C)&&this[C].loadConfig(E);return this.acceleration=this.accelerationX.propertyValue!==0||this.accelerationY.propertyValue!==0,this.moveTo=this.moveToX.propertyValue!==0||this.moveToY.propertyValue!==0,u(E,"speed")&&(this.speedX.loadConfig(E,"speed"),this.speedY=null),(h(E,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),u(E,"scale")&&(this.scaleX.loadConfig(E,"scale"),this.scaleY=null),u(E,"callbackScope")&&(S=o(E,"callbackScope",null),this.emitCallbackScope=S,this.deathCallbackScope=S),u(E,"emitZone")&&this.setEmitZone(E.emitZone),u(E,"deathZone")&&this.setDeathZone(E.deathZone),u(E,"bounds")&&this.setBounds(E.bounds),u(E,"followOffset")&&this.followOffset.setFromObject(o(E,"followOffset",0)),u(E,"frame")&&this.setFrame(E.frame),u(E,"reserve")&&this.reserve(E.reserve),this},toJSON:function(E){E===void 0&&(E={});for(var C=0,S="",C=0;C<this.configFastMap.length;C++)E[S=this.configFastMap[C]]=this[S];for(C=0;C<this.configOpMap.length;C++)this[S=this.configOpMap[C]]&&(E[S]=this[S].toJSON());return this.speedY||(delete E.speedX,E.speed=this.speedX.toJSON()),this.scaleY||(delete E.scaleX,E.scale=this.scaleX.toJSON()),E},startFollow:function(E,S,C,M){return S===void 0&&(S=0),C===void 0&&(C=0),M===void 0&&(M=!1),this.follow=E,this.followOffset.set(S,C),this.trackVisible=M,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(this.frames.length===1)return this.defaultFrame;if(this.randomFrame)return l(this.frames);var E=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=y(this.currentFrame+1,0,this._frameLength)),E},setFrame:function(E,S,C){S===void 0&&(S=!0),C===void 0&&(C=1),this.randomFrame=S,this.frameQuantity=C,this.currentFrame=0,this._frameCounter=0;var M,P,R=typeof E;return Array.isArray(E)||R=="string"||R=="number"?this.manager.setEmitterFrames(E,this):R=="object"&&((E=o(M=E,"frames",null))&&this.manager.setEmitterFrames(E,this),P=o(M,"cycle",!1),this.randomFrame=!P,this.frameQuantity=o(M,"quantity",C)),this._frameLength=this.frames.length,this._frameLength===1&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(E){return E===void 0&&(E=!0),this.radial=E,this},setPosition:function(E,S){return this.x.onChange(E),this.y.onChange(S),this},setBounds:function(E,S,C,M){var P;return typeof E=="object"&&(E=(P=E).x,S=P.y,C=u(P,"w")?P.w:P.width,M=u(P,"h")?P.h:P.height),this.bounds?this.bounds.setTo(E,S,C,M):this.bounds=new v(E,S,C,M),this},setSpeedX:function(E){return this.speedX.onChange(E),this.radial=!1,this},setSpeedY:function(E){return this.speedY&&(this.speedY.onChange(E),this.radial=!1),this},setSpeed:function(E){return this.speedX.onChange(E),this.speedY=null,this.radial=!0,this},setScaleX:function(E){return this.scaleX.onChange(E),this},setScaleY:function(E){return this.scaleY.onChange(E),this},setScale:function(E){return this.scaleX.onChange(E),this.scaleY=null,this},setGravityX:function(E){return this.gravityX=E,this},setGravityY:function(E){return this.gravityY=E,this},setGravity:function(E,S){return this.gravityX=E,this.gravityY=S,this},setAlpha:function(E){return this.alpha.onChange(E),this},setTint:function(E){return this.tint.onChange(E),this},setEmitterAngle:function(E){return this.angle.onChange(E),this},setAngle:function(E){return this.angle.onChange(E),this},setLifespan:function(E){return this.lifespan.onChange(E),this},setQuantity:function(E){return this.quantity.onChange(E),this},setFrequency:function(E,S){return this.frequency=E,this._counter=0,S&&this.quantity.onChange(S),this},setEmitZone:function(E){if(E===void 0)this.emitZone=null;else{var S=o(E,"type","random"),C=o(E,"source",null);switch(S){case"random":this.emitZone=new d(C);break;case"edge":var M=o(E,"quantity",1),P=o(E,"stepRate",0),R=o(E,"yoyo",!1),L=o(E,"seamless",!0);this.emitZone=new r(C,M,P,R,L)}}return this},setDeathZone:function(E){var S,C,M;return E===void 0?this.deathZone=null:(S=o(E,"type","onEnter"),(C=o(E,"source",null))&&typeof C.contains=="function"&&(M=S==="onEnter",this.deathZone=new s(C,M))),this},reserve:function(E){for(var S=this.dead,C=0;C<E;C++)S.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return 0<this.maxParticles&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(E,S){return E===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof E=="function"&&(this.emitCallback=E,S&&(this.emitCallbackScope=S)),this},onParticleDeath:function(E,S){return E===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof E=="function"&&(this.deathCallback=E,S&&(this.deathCallbackScope=S)),this},killAll:function(){for(var E=this.dead,S=this.alive;0<S.length;)E.push(S.pop());return this},forEachAlive:function(E,S){for(var C=this.alive,M=C.length,P=0;P<M;++P)E.call(S,C[P],this);return this},forEachDead:function(E,S){for(var C=this.dead,M=C.length,P=0;P<M;++P)E.call(S,C[P],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return g(this.alive,this.depthSortCallback),this},flow:function(E,S){return S===void 0&&(S=1),this.frequency=E,this.quantity.onChange(S),this.start()},explode:function(E,S,C){return this.frequency=-1,this.emitParticle(E,S,C)},emitParticleAt:function(E,S,C){return this.emitParticle(C,E,S)},emitParticle:function(E,S,C){if(!this.atLimit()){E===void 0&&(E=this.quantity.onEmit());for(var M=this.dead,P=this.follow?this.follow.x+this.followOffset.x:S,R=this.follow?this.follow.y+this.followOffset.y:C,L=0;L<E;L++){var w=M.pop();if((w=w||new this.particleClass(this)).fire(P,R),this.particleBringToTop?this.alive.push(w):this.alive.unshift(w),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,w,this),this.atLimit())break}return w}},preUpdate:function(E,S){var C=(S*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible);var M=this.manager.getProcessors(),P=this.alive,R=this.dead,L=0,w=[],B=P.length;for(L=0;L<B;L++){var G=P[L];G.update(S,C,M)&&w.push({index:L,particle:G})}if(0<(B=w.length))for(var Y=this.deathCallback,D=this.deathCallbackScope,L=B-1;0<=L;L--){var F=w[L];P.splice(F.index,1),R.push(F.particle),Y&&Y.call(D,F.particle),F.particle.resetPosition()}this.on&&(this.frequency===0?this.emitParticle():0<this.frequency&&(this._counter-=S,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(E,S){return E.y-S.y}});f.exports=T},function(f,x,t){var a=new(t(0))({initialize:function(i,e){this.source=i,this.killOnEnter=e},willKill:function(i){var e=this.source.contains(i.x,i.y);return e&&this.killOnEnter||!e&&!this.killOnEnter}});f.exports=a},function(f,x,t){var a=new(t(0))({initialize:function(i,e,s,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),this.source=i,this.points=[],this.quantity=e,this.stepRate=s,this.yoyo=r,this.counter=-1,this.seamless=n,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){var i,e;this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless&&(i=this.points[0],e=this.points[this.points.length-1],i.x===e.x&&i.y===e.y&&this.points.pop());var s=this._length;return this._length=this.points.length,this._length<s&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(i){return this.source=i,this.updateSource()},getPoint:function(i){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var e=this.points[this.counter];e&&(i.x=e.x,i.y=e.y)}});f.exports=a},function(f,x){f.exports=function(t,a){for(var i=0;i<a.length;i++)if(t.hasOwnProperty(a[i]))return!0;return!1}},function(f,x,t){var a=t(0),i=t(3),e=new a({initialize:function(s){this.source=s,this._tempVec=new i},getPoint:function(s){var r=this._tempVec;this.source.getRandomPoint(r),s.x=r.x,s.y=r.y}});f.exports=e},function(f,x,t){var a=t(0),i=t(11),e=t(73),s=new a({Extends:e,Mixins:[i.PathFollower],initialize:function(r,n,o,l,h,u){e.call(this,r,o,l,h,u),this.path=n},preUpdate:function(r,n){this.anims.update(r,n),this.pathUpdate(r)}});f.exports=s},function(f,x){f.exports=function(t,a,i){var e=t.canvas,s=t.context,r=t.style,n=[],o=0,l=i.length;0<r.maxLines&&r.maxLines<i.length&&(l=r.maxLines),r.syncFont(e,s);for(var h=0;h<l;h++){var u=r.strokeThickness;u+=s.measureText(i[h]).width,r.wordWrap&&(u-=s.measureText(" ").width),n[h]=Math.ceil(u),o=Math.max(o,n[h])}var c=a.fontSize+r.strokeThickness,d=c*l,v=t.lineSpacing;return 1<l&&(d+=v*(l-1)),{width:o,height:d,lines:l,lineWidths:n,lineSpacing:v,lineHeight:c}}},function(f,x,t){var a=t(0),i=t(13),e=t(6),s=t(460),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},n=new a({initialize:function(o,l){this.parent=o,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(l,!1,!0);var h=e(l,"metrics",!1);this.metrics=h?{ascent:e(h,"ascent",0),descent:e(h,"descent",0),fontSize:e(h,"fontSize",0)}:s(this)},setStyle:function(o,l,h){for(var u in l===void 0&&(l=!0),h===void 0&&(h=!1),o&&o.hasOwnProperty("fontSize")&&typeof o.fontSize=="number"&&(o.fontSize=o.fontSize.toString()+"px"),r){var c=h?r[u][1]:this[u];this[u]=(u==="wordWrapCallback"||u==="wordWrapCallbackScope"?e:i)(o,r[u][0],c)}var d=e(o,"font",null);d!==null&&this.setFont(d,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=e(o,"fill",null);return v!==null&&(this.color=v),l?this.update(!0):this.parent},syncFont:function(o,l){l.font=this._font},syncStyle:function(o,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(o,l){l?(o.shadowOffsetX=this.shadowOffsetX,o.shadowOffsetY=this.shadowOffsetY,o.shadowColor=this.shadowColor,o.shadowBlur=this.shadowBlur):(o.shadowOffsetX=0,o.shadowOffsetY=0,o.shadowColor=0,o.shadowBlur=0)},update:function(o){return o&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=s(this)),this.parent.updateText()},setFont:function(o,l){l===void 0&&(l=!0);var h,u,c=o,d="",v="";return typeof o!="string"?(c=e(o,"fontFamily","Courier"),d=e(o,"fontSize","16px"),v=e(o,"fontStyle","")):(u=0,v=2<(h=o.split(" ")).length?h[u++]:"",d=h[u++]||"16px",c=h[u++]||"Courier"),c===this.fontFamily&&d===this.fontSize&&v===this.fontStyle||(this.fontFamily=c,this.fontSize=d,this.fontStyle=v,l&&this.update(!0)),this.parent},setFontFamily:function(o){return this.fontFamily!==o&&(this.fontFamily=o,this.update(!0)),this.parent},setFontStyle:function(o){return this.fontStyle!==o&&(this.fontStyle=o,this.update(!0)),this.parent},setFontSize:function(o){return typeof o=="number"&&(o=o.toString()+"px"),this.fontSize!==o&&(this.fontSize=o,this.update(!0)),this.parent},setTestString:function(o){return this.testString=o,this.update(!0)},setFixedSize:function(o,l){return this.fixedWidth=o,this.fixedHeight=l,o&&(this.parent.width=o),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(o){return this.backgroundColor=o,this.update(!1)},setFill:function(o){return this.color=o,this.update(!1)},setColor:function(o){return this.color=o,this.update(!1)},setResolution:function(o){return this.resolution=o,this.update(!1)},setStroke:function(o,l){return l===void 0&&(l=this.strokeThickness),o===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):this.stroke===o&&this.strokeThickness===l||(this.stroke=o,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(o,l,h,u,c,d){return o===void 0&&(o=0),l===void 0&&(l=0),h===void 0&&(h="#000"),u===void 0&&(u=0),c===void 0&&(c=!1),d===void 0&&(d=!0),this.shadowOffsetX=o,this.shadowOffsetY=l,this.shadowColor=h,this.shadowBlur=u,this.shadowStroke=c,this.shadowFill=d,this.update(!1)},setShadowOffset:function(o,l){return o===void 0&&(o=0),l===void 0&&(l=o),this.shadowOffsetX=o,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(o){return o===void 0&&(o="#000"),this.shadowColor=o,this.update(!1)},setShadowBlur:function(o){return o===void 0&&(o=0),this.shadowBlur=o,this.update(!1)},setShadowStroke:function(o){return this.shadowStroke=o,this.update(!1)},setShadowFill:function(o){return this.shadowFill=o,this.update(!1)},setWordWrapWidth:function(o,l){return l===void 0&&(l=!1),this.wordWrapWidth=o,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(o,l){return l===void 0&&(l=null),this.wordWrapCallback=o,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(o){return o===void 0&&(o="left"),this.align=o,this.update(!1)},setMaxLines:function(o){return o===void 0&&(o=0),this.maxLines=o,this.update(!1)},getTextMetrics:function(){var o=this.metrics;return{ascent:o.ascent,descent:o.descent,fontSize:o.fontSize}},toJSON:function(){var o={};for(var l in r)o[l]=this[l];return o.metrics=this.getTextMetrics(),o},destroy:function(){this.parent=void 0}});f.exports=n},function(f,x,t){var a=t(31);f.exports=function(i){var e=a.create(this),s=e.getContext("2d");i.syncFont(e,s);var r=s.measureText(i.testString);if("actualBoundingBoxAscent"in r){var n=r.actualBoundingBoxAscent,o=r.actualBoundingBoxDescent;return a.remove(e),{ascent:n,descent:o,fontSize:n+o}}var l=Math.ceil(r.width*i.baselineX),h=2*(u=l),u=u*i.baselineY|0;e.width=l,e.height=h,s.fillStyle="#f00",s.fillRect(0,0,l,h),s.font=i._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(i.testString,0,u);var c={ascent:0,descent:0,fontSize:0},d=s.getImageData(0,0,l,h);if(!d)return c.ascent=u,c.descent=6+u,c.fontSize=c.ascent+c.descent,a.remove(e),c;for(var v,g=d.data,m=g.length,y=4*l,T=0,E=!1,S=0;S<u;S++){for(v=0;v<y;v+=4)if(g[T+v]!==255){E=!0;break}if(E)break;T+=y}for(c.ascent=u-S,T=m-y,E=!1,S=h;u<S;S--){for(v=0;v<y;v+=4)if(g[T+v]!==255){E=!0;break}if(E)break;T-=y}return c.descent=S-u,c.fontSize=c.ascent+c.descent,a.remove(e),c}},function(f,x,t){var a=t(1097),i=t(0),e=t(36),s=t(59),r=t(65),n=t(14),o=t(34),l=new i({Extends:o,Mixins:[a],initialize:function(h,u,c,d,v,g,m,y,T){u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=128),v===void 0&&(v=0),g===void 0&&(g=360),m===void 0&&(m=!1),o.call(this,h,"Arc",new r(0,0,d)),this._startAngle=v,this._endAngle=g,this._anticlockwise=m,this._iterations=.01,this.setPosition(u,c);var E=2*this.geom.radius;this.setSize(E,E),y!==void 0&&this.setFillStyle(y,T),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(h){this._iterations=h,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(h){var u=2*(this.geom.radius=h);this.setSize(u,u),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(h){this._startAngle=h,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(h){this._endAngle=h,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(h){this._anticlockwise=h,this.updateData()}},setRadius:function(h){return this.radius=h,this},setIterations:function(h){return h===void 0&&(h=.01),this.iterations=h,this},setStartAngle:function(h,u){return this._startAngle=h,u!==void 0&&(this._anticlockwise=u),this.updateData()},setEndAngle:function(h,u){return this._endAngle=h,u!==void 0&&(this._anticlockwise=u),this.updateData()},updateData:function(){var h=this._iterations,u=h,c=this.geom.radius,d=e(this._startAngle),v=e(this._endAngle),g=c,m=c;v-=d,this._anticlockwise?v<-n.PI2?v=-n.PI2:0<v&&(v=-n.PI2+v%n.PI2):v>n.PI2?v=n.PI2:v<0&&(v=n.PI2+v%n.PI2);for(var y,T=[g+Math.cos(d)*c,m+Math.sin(d)*c];u<1;)y=v*u+d,T.push(g+Math.cos(y)*c,m+Math.sin(y)*c),u+=h;return y=v+d,T.push(g+Math.cos(y)*c,m+Math.sin(y)*c),T.push(g+Math.cos(d)*c,m+Math.sin(d)*c),this.pathIndexes=s(T),this.pathData=T,this}});f.exports=l},function(f,x,t){var a=t(0),i=t(1100),e=t(59),s=t(10),r=t(34),n=new a({Extends:r,Mixins:[i],initialize:function(o,l,h,u,c,d){l===void 0&&(l=0),h===void 0&&(h=0),r.call(this,o,"Curve",u),this._smoothness=32,this._curveBounds=new s,this.closePath=!1,this.setPosition(l,h),c!==void 0&&this.setFillStyle(c,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(o){this._smoothness=o,this.updateData()}},setSmoothness:function(o){return this._smoothness=o,this.updateData()},updateData:function(){var o=this._curveBounds,l=this._smoothness;this.geom.getBounds(o,l),this.setSize(o.width,o.height),this.updateDisplayOrigin();for(var h=[],u=this.geom.getPoints(l),c=0;c<u.length;c++)h.push(u[c].x,u[c].y);return h.push(u[0].x,u[0].y),this.pathIndexes=e(h),this.pathData=h,this}});f.exports=n},function(f,x,t){var a=t(0),i=t(59),e=t(1103),s=t(111),r=t(34),n=new a({Extends:r,Mixins:[e],initialize:function(o,l,h,u,c,d,v){l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=128),c===void 0&&(c=128),r.call(this,o,"Ellipse",new s(u/2,c/2,u,c)),this._smoothness=64,this.setPosition(l,h),this.width=u,this.height=c,d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(o){this._smoothness=o,this.updateData()}},setSize:function(o,l){return this.width=o,this.height=l,this.geom.setPosition(o/2,l/2),this.geom.setSize(o,l),this.updateData()},setSmoothness:function(o){return this._smoothness=o,this.updateData()},updateData:function(){for(var o=[],l=this.geom.getPoints(this._smoothness),h=0;h<l.length;h++)o.push(l[h].x,l[h].y);return o.push(l[0].x,l[0].y),this.pathIndexes=i(o),this.pathData=o,this}});f.exports=n},function(f,x,t){var a=t(0),i=t(34),e=t(1106),s=new a({Extends:i,Mixins:[e],initialize:function(r,n,o,l,h,u,c,d,v,g,m){n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=128),h===void 0&&(h=128),u===void 0&&(u=32),c===void 0&&(c=32),i.call(this,r,"Grid",null),this.cellWidth=u,this.cellHeight=c,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,o),this.setSize(l,h),this.setFillStyle(d,v),g!==void 0&&this.setOutlineStyle(g,m),this.updateDisplayOrigin()},setFillStyle:function(r,n){return n===void 0&&(n=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=n,this.showCells=!0),this},setAltFillStyle:function(r,n){return n===void 0&&(n=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=n,this.showAltCells=!0),this},setOutlineStyle:function(r,n){return n===void 0&&(n=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=n,this.showOutline=!0),this}});f.exports=s},function(f,x,t){var a=t(1109),i=t(0),e=t(34),s=new i({Extends:e,Mixins:[a],initialize:function(r,n,o,l,h,u,c,d){n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=48),h===void 0&&(h=32),u===void 0&&(u=15658734),c===void 0&&(c=10066329),d===void 0&&(d=13421772),e.call(this,r,"IsoBox",null),this.projection=4,this.fillTop=u,this.fillLeft=c,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,o),this.setSize(l,h),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,n,o){return r===void 0&&(r=!0),n===void 0&&(n=!0),o===void 0&&(o=!0),this.showTop=r,this.showLeft=n,this.showRight=o,this},setFillStyle:function(r,n,o){return this.fillTop=r,this.fillLeft=n,this.fillRight=o,this.isFilled=!0,this}});f.exports=s},function(f,x,t){var a=t(0),i=t(1112),e=t(34),s=new a({Extends:e,Mixins:[i],initialize:function(r,n,o,l,h,u,c,d,v){n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=48),h===void 0&&(h=32),u===void 0&&(u=!1),c===void 0&&(c=15658734),d===void 0&&(d=10066329),v===void 0&&(v=13421772),e.call(this,r,"IsoTriangle",null),this.projection=4,this.fillTop=c,this.fillLeft=d,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=u,this.isFilled=!0,this.setPosition(n,o),this.setSize(l,h),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,n,o){return r===void 0&&(r=!0),n===void 0&&(n=!0),o===void 0&&(o=!0),this.showTop=r,this.showLeft=n,this.showRight=o,this},setFillStyle:function(r,n,o){return this.fillTop=r,this.fillLeft=n,this.fillRight=o,this.isFilled=!0,this}});f.exports=s},function(f,x,t){var a=t(0),i=t(34),e=t(47),s=t(1115),r=new a({Extends:i,Mixins:[s],initialize:function(n,o,l,h,u,c,d,v,g){o===void 0&&(o=0),l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=128),d===void 0&&(d=0),i.call(this,n,"Line",new e(h,u,c,d));var m=Math.max(1,this.geom.right-this.geom.left),y=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(o,l),this.setSize(m,y),v!==void 0&&this.setStrokeStyle(1,v,g),this.updateDisplayOrigin()},setLineWidth:function(n,o){return o===void 0&&(o=n),this._startWidth=n,this._endWidth=o,this.lineWidth=n,this},setTo:function(n,o,l,h){return this.geom.setTo(n,o,l,h),this}});f.exports=r},function(f,x,t){var a=t(1118),i=t(0),e=t(59),s=t(469),r=t(227),n=t(34),o=t(472),l=new i({Extends:n,Mixins:[a],initialize:function(h,u,c,d,v,g){u===void 0&&(u=0),c===void 0&&(c=0),n.call(this,h,"Polygon",new r(d));var m=s(this.geom);this.setPosition(u,c),this.setSize(m.width,m.height),v!==void 0&&this.setFillStyle(v,g),this.updateDisplayOrigin(),this.updateData()},smooth:function(h){h===void 0&&(h=1);for(var u=0;u<h;u++)o(this.geom);return this.updateData()},updateData:function(){for(var h=[],u=this.geom.points,c=0;c<u.length;c++)h.push(u[c].x,u[c].y);return h.push(u[0].x,u[0].y),this.pathIndexes=e(h),this.pathData=h,this}});f.exports=l},function(f,x,t){var a=t(10);f.exports=function(i,e){e===void 0&&(e=new a);for(var s,r=1/0,n=1/0,o=-r,l=-n,h=0;h<i.points.length;h++)s=i.points[h],r=Math.min(r,s.x),n=Math.min(n,s.y),o=Math.max(o,s.x),l=Math.max(l,s.y);return e.x=r,e.y=n,e.width=o-r,e.height=l-n,e}},function(f,x,t){var a=t(67),i=t(47),e=t(471);f.exports=function(s,r,n,o){o===void 0&&(o=[]);var l=s.points,h=e(s);!r&&0<n&&(r=h/n);for(var u=0;u<r;u++)for(var c=h*(u/r),d=0,v=0;v<l.length;v++){var g=l[v],m=l[(v+1)%l.length],y=new i(g.x,g.y,m.x,m.y),T=a(y);if(!(c<d||d+T<c)){var E=y.getPoint((c-d)/T);o.push(E);break}d+=T}return o}},function(f,x,t){var a=t(67),i=t(47);f.exports=function(e){for(var s=e.points,r=0,n=0;n<s.length;n++){var o=s[n],l=s[(n+1)%s.length],h=new i(o.x,o.y,l.x,l.y);r+=a(h)}return r}},function(f,x){function t(a,i){return a[0]=i[0],a[1]=i[1],a}f.exports=function(a){for(var i=[],e=a.points,s=0;s<e.length;s++)i.push([e[s].x,e[s].y]);var r=[];for(0<i.length&&r.push(t([0,0],i[0])),s=0;s<i.length-1;s++){var n=i[s],o=i[s+1],l=n[0],h=n[1],u=o[0],c=o[1];r.push([.85*l+.15*u,.85*h+.15*c]),r.push([.15*l+.85*u,.15*h+.85*c])}return 1<i.length&&r.push(t([0,0],i[i.length-1])),a.setTo(r)}},function(f,x,t){var a=t(0),i=t(10),e=t(34),s=t(1121),r=new a({Extends:e,Mixins:[s],initialize:function(n,o,l,h,u,c,d){o===void 0&&(o=0),l===void 0&&(l=0),h===void 0&&(h=128),u===void 0&&(u=128),e.call(this,n,"Rectangle",new i(0,0,h,u)),this.setPosition(o,l),this.setSize(h,u),c!==void 0&&this.setFillStyle(c,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(n,o){return this.width=n,this.height=o,this.geom.setSize(n,o),this.updateData(),this},updateData:function(){var n=[],o=this.geom,l=this._tempLine;return o.getLineA(l),n.push(l.x1,l.y1,l.x2,l.y2),o.getLineB(l),n.push(l.x2,l.y2),o.getLineC(l),n.push(l.x2,l.y2),o.getLineD(l),n.push(l.x2,l.y2),this.pathData=n,this}});f.exports=r},function(f,x,t){var a=t(1124),i=t(0),e=t(59),s=t(34),r=new i({Extends:s,Mixins:[a],initialize:function(n,o,l,h,u,c,d,v){o===void 0&&(o=0),l===void 0&&(l=0),h===void 0&&(h=5),u===void 0&&(u=32),c===void 0&&(c=64),s.call(this,n,"Star",null),this._points=h,this._innerRadius=u,this._outerRadius=c,this.setPosition(o,l),this.setSize(2*c,2*c),d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},setPoints:function(n){return this._points=n,this.updateData()},setInnerRadius:function(n){return this._innerRadius=n,this.updateData()},setOuterRadius:function(n){return this._outerRadius=n,this.updateData()},points:{get:function(){return this._points},set:function(n){this._points=n,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(n){this._innerRadius=n,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(n){this._outerRadius=n,this.updateData()}},updateData:function(){var n=[],o=this._points,l=this._innerRadius,h=this._outerRadius,u=Math.PI/2*3,c=Math.PI/o,d=h,v=h;n.push(d,v+-h);for(var g=0;g<o;g++)n.push(d+Math.cos(u)*h,v+Math.sin(u)*h),u+=c,n.push(d+Math.cos(u)*l,v+Math.sin(u)*l),u+=c;return n.push(d,v+-h),this.pathIndexes=e(n),this.pathData=n,this}});f.exports=r},function(f,x,t){var a=t(0),i=t(34),e=t(82),s=t(1127),r=new a({Extends:i,Mixins:[s],initialize:function(n,o,l,h,u,c,d,v,g,m,y){o===void 0&&(o=0),l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=128),c===void 0&&(c=64),d===void 0&&(d=0),v===void 0&&(v=128),g===void 0&&(g=128),i.call(this,n,"Triangle",new e(h,u,c,d,v,g));var T=this.geom.right-this.geom.left,E=this.geom.bottom-this.geom.top;this.setPosition(o,l),this.setSize(T,E),m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},setTo:function(n,o,l,h,u,c){return this.geom.setTo(n,o,l,h,u,c),this.updateData()},updateData:function(){var n=[],o=this.geom,l=this._tempLine;return o.getLineA(l),n.push(l.x1,l.y1,l.x2,l.y2),o.getLineB(l),n.push(l.x2,l.y2),o.getLineC(l),n.push(l.x2,l.y2),this.pathData=n,this}});f.exports=r},function(f,x,t){var a=t(4),i=t(67);f.exports=function(e,s,r){r===void 0&&(r=new a);var n=e.getLineA(),o=e.getLineB(),l=e.getLineC();if(s<=0||1<=s)return r.x=n.x1,r.y=n.y1,r;var h=i(n),u=i(o),c=i(l),d=(h+u+c)*s,v=0;return d<h?(v=d/h,r.x=n.x1+(n.x2-n.x1)*v,r.y=n.y1+(n.y2-n.y1)*v):h+u<d?(v=(d-=h+u)/c,r.x=l.x1+(l.x2-l.x1)*v,r.y=l.y1+(l.y2-l.y1)*v):(v=(d-=h)/u,r.x=o.x1+(o.x2-o.x1)*v,r.y=o.y1+(o.y2-o.y1)*v),r}},function(f,x,t){var a=t(67),i=t(4);f.exports=function(e,s,r,n){n===void 0&&(n=[]);var o=e.getLineA(),l=e.getLineB(),h=e.getLineC(),u=a(o),c=a(l),d=a(h),v=u+c+d;!s&&0<r&&(s=v/r);for(var g=0;g<s;g++){var m=v*(g/s),y=0,T=new i;m<u?(y=m/u,T.x=o.x1+(o.x2-o.x1)*y,T.y=o.y1+(o.y2-o.y1)*y):u+c<m?(y=(m-=u+c)/d,T.x=h.x1+(h.x2-h.x1)*y,T.y=h.y1+(h.y2-h.y1)*y):(y=(m-=u)/c,T.x=l.x1+(l.x2-l.x1)*y,T.y=l.y1+(l.y2-l.y1)*y),n.push(T)}return n}},function(f,x){f.exports=function(t,a,i){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(a))return t[a]=i,!0;if(a.indexOf(".")===-1)return!1;for(var e=a.split("."),s=t,r=t,n=0;n<e.length;n++){if(!s.hasOwnProperty(e[n]))return!1;s=(r=s)[e[n]]}return r[e[e.length-1]]=i,!0}},function(f,x,t){var a=t(116),i=t(117);f.exports=function(e,s,r,n,o,l,h){if(n===void 0&&(n=!1),l===void 0&&(l=16777215),h===void 0&&(h=1),e.length===s.length){var u={faces:[],vertices:[]},c=n?3:2,d=Array.isArray(l),v=Array.isArray(h);if(Array.isArray(r)&&0<r.length)for(D=0;D<r.length;D++){var g=r[D],m=2*r[D],y=r[D]*c,T=e[y],E=e[1+y],S=n?e[2+y]:0,C=s[m],M=s[1+m],P=d?l[g]:l,R=v?h[g]:h,L=0,w=0,B=0;o&&(L=o[y],w=o[1+y],B=n?o[2+y]:0),u.vertices.push(new i(T,E,S,C,M,P,R,L,w,B))}else for(var G=0,Y=0,D=0;D<e.length;D+=c)T=e[D],E=e[D+1],S=n?e[D+2]:0,C=s[G],M=s[G+1],P=d?l[Y]:l,R=v?h[Y]:h,B=w=L=0,o&&(L=o[D],w=o[D+1],B=n?o[D+2]:0),u.vertices.push(new i(T,E,S,C,M,P,R,L,w,B)),G+=2,Y++;for(D=0;D<u.vertices.length;D+=3){var F=u.vertices[D],N=u.vertices[D+1],I=u.vertices[D+2];u.faces.push(new a(F,N,I))}return u}console.warn("GenerateVerts: vertices and uvs count not equal")}},function(f,x,t){var a=t(116),i=t(69),e=t(39),s=t(117),r=new e,n=new e,o=new i;f.exports=function(l,h,u,c,d,v,g,m,y,T){u===void 0&&(u=1),c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),T===void 0&&(T=!0);var E={faces:[],verts:[]},S=l.materials;r.set(c,d,v),n.set(g,m,y),o.fromRotationXYTranslation(n,r,T);for(var C=0;C<l.models.length;C++)for(var M=l.models[C],P=M.vertices,R=M.textureCoords,L=M.faces,w=0;w<L.length;w++){var B=L[w],G=B.vertices[0],Y=B.vertices[1],D=B.vertices[2],F=P[G.vertexIndex],N=P[Y.vertexIndex],I=P[D.vertexIndex],b=G.textureCoordsIndex,U=Y.textureCoordsIndex,X=D.textureCoordsIndex,z=b===-1?{u:0,v:1}:R[b],V=U===-1?{u:0,v:0}:R[U],W=X===-1?{u:1,v:1}:R[X],H=16777215;B.material!==""&&S[B.material]&&(H=S[B.material]);var K=new s(F.x*u,F.y*u,F.z*u,z.u,z.v,H).transformMat4(o),Z=new s(N.x*u,N.y*u,N.z*u,V.u,V.v,H).transformMat4(o),j=new s(I.x*u,I.y*u,I.z*u,W.u,W.v,H).transformMat4(o);E.verts.push(K,Z,j),E.faces.push(new a(K,Z,j))}return h&&(h.faces=h.faces.concat(E.faces),h.vertices=h.vertices.concat(E.verts)),E}},function(f,x,t){var a=t(65),i=t(0),e=t(11),s=t(200),r=t(12),n=new i({Extends:a,Mixins:[e.ScrollFactor,e.Visible],initialize:function(o,l,h,u,c,d,v){a.call(this,o,l,h),this.color=new s(u,c,d),this.intensity=v,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1)},willRender:function(o){return!(n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},setColor:function(o){var l=r.getFloatsFromUintRGB(o);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(o){return this.intensity=o,this},setRadius:function(o){return this.radius=o,this}});n.RENDER_MASK=15,f.exports=n},function(f,x,t){var a=t(151),i=t(0),e=t(50),s=t(481),r=t(150),n=t(200),o=t(74),l=t(79),h=t(12),u=new i({initialize:function(){this.lights=[],this.ambientColor=new n(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(c,d,v,g,m,y){return this.systems.displayList.add(new r(this.scene,c,d,v,g,m,y))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(c){for(var d=this.lights,v=c.worldView,g=[],m=0;m<d.length;m++){var y=d[m];y.willRender(c)&&a(y,v)&&g.push({light:y,distance:e(y.x,y.y,v.centerX,v.centerY)})}return g.length>this.maxLights&&(l(g,this.sortByDistance),g=g.slice(0,this.maxLights)),this.visibleLights=g.length,g},sortByDistance:function(c,d){return c.distance>=d.distance},setAmbientColor:function(c){var d=h.getFloatsFromUintRGB(c);return this.ambientColor.set(d[0],d[1],d[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(c,d,v,g,m){c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=128),g===void 0&&(g=16777215),m===void 0&&(m=1);var y=h.getFloatsFromUintRGB(g),T=new s(c,d,v,y[0],y[1],y[2],m);return this.lights.push(T),T},removeLight:function(c){var d=this.lights.indexOf(c);return 0<=d&&o(this.lights,d),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});f.exports=u},function(f,x,t){var a=t(56),i=t(17)(!1,i={Circle:t(1191),Ellipse:t(1201),Intersects:t(484),Line:t(1221),Mesh:t(1243),Point:t(1246),Polygon:t(1260),Rectangle:t(502),Triangle:t(1293)},a);f.exports=i},function(f,x,t){f.exports={CircleToCircle:t(231),CircleToRectangle:t(151),GetCircleToCircle:t(1211),GetCircleToRectangle:t(1212),GetLineToCircle:t(232),GetLineToLine:t(485),GetLineToPoints:t(486),GetLineToPolygon:t(487),GetLineToRectangle:t(234),GetRaysFromPointToPolygon:t(1213),GetRectangleIntersection:t(1214),GetRectangleToRectangle:t(1215),GetRectangleToTriangle:t(1216),GetTriangleToCircle:t(1217),GetTriangleToLine:t(492),GetTriangleToTriangle:t(1218),LineToCircle:t(233),LineToLine:t(96),LineToRectangle:t(488),PointToLine:t(496),PointToLineSegment:t(1219),RectangleToRectangle:t(152),RectangleToTriangle:t(489),RectangleToValues:t(1220),TriangleToCircle:t(491),TriangleToLine:t(493),TriangleToTriangle:t(494)}},function(f,x,t){var a=t(39);f.exports=function(i,e,s){var r=i.x1,n=i.y1,o=i.x2,l=i.y2,h=e.x1,u=e.y1,c=o-r,d=l-n,v=e.x2-h,g=e.y2-u;if(c==0||g*c-v*d==0)return!1;var m=(c*(u-n)+d*(r-h))/(v*d-g*c),y=(h+v*m-r)/c;return y<0||m<0||1<m?null:(s===void 0&&(s=new a),s.set(r+c*y,n+d*y,y))}},function(f,x,t){var a=t(39),i=t(485),e=new(t(47)),s=new a;f.exports=function(r,n,o){o===void 0&&(o=new a);var l=!1;o.set(),s.set();for(var h=n[0],u=1;u<n.length;u++){var c=n[u];e.setTo(h.x,h.y,c.x,c.y),h=c,i(r,e,s)&&(!l||s.z<o.z)&&(o.copy(s),l=!0)}return l?o:null}},function(f,x,t){var a=t(39),i=t(140),e=t(486),s=new a;f.exports=function(r,n,o){o===void 0&&(o=new i),Array.isArray(n)||(n=[n]);var l=!1;o.set(),s.set();for(var h=0;h<n.length;h++)e(r,n[h].points,s)&&(!l||s.z<o.z)&&(o.set(s.x,s.y,s.z,h),l=!0);return l?o:null}},function(f,x){f.exports=function(t,a){var i=t.x1,e=t.y1,s=t.x2,r=t.y2,n=a.x,o=a.y,l=a.right,h=a.bottom,u=0;if(n<=i&&i<=l&&o<=e&&e<=h||n<=s&&s<=l&&o<=r&&r<=h)return!0;if(i<n&&n<=s){if(o<(u=e+(r-e)*(n-i)/(s-i))&&u<=h)return!0}else if(l<i&&s<=l&&o<=(u=e+(r-e)*(l-i)/(s-i))&&u<=h)return!0;if(e<o&&o<=r){if(n<=(u=i+(s-i)*(o-e)/(r-e))&&u<=l)return!0}else if(h<e&&r<=h&&n<=(u=i+(s-i)*(h-e)/(r-e))&&u<=l)return!0;return!1}},function(f,x,t){var a=t(96),i=t(57),e=t(235),s=t(490);f.exports=function(r,n){if(n.left>r.right||n.right<r.left||n.top>r.bottom||n.bottom<r.top)return!1;var o=n.getLineA(),l=n.getLineB(),h=n.getLineC();if(i(r,o.x1,o.y1)||i(r,o.x2,o.y2)||i(r,l.x1,l.y1)||i(r,l.x2,l.y2)||i(r,h.x1,h.y1)||i(r,h.x2,h.y2))return!0;var u=r.getLineA(),c=r.getLineB(),d=r.getLineC(),v=r.getLineD();if(a(o,u)||a(o,c)||a(o,d)||a(o,v)||a(l,u)||a(l,c)||a(l,d)||a(l,v)||a(h,u)||a(h,c)||a(h,d)||a(h,v))return!0;var g=s(r);return 0<e(n,g,!0).length}},function(f,x){f.exports=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x,y:t.y}),a.push({x:t.right,y:t.y}),a.push({x:t.right,y:t.bottom}),a.push({x:t.x,y:t.bottom}),a}},function(f,x,t){var a=t(233),i=t(115);f.exports=function(e,s){return!(e.left>s.right||e.right<s.left||e.top>s.bottom||e.bottom<s.top)&&(!!i(e,s.x,s.y)||!!a(e.getLineA(),s)||!!a(e.getLineB(),s)||!!a(e.getLineC(),s))}},function(f,x,t){var a=t(4),i=t(493),e=t(96);f.exports=function(s,r,n){if(n===void 0&&(n=[]),i(s,r))for(var o=s.getLineA(),l=s.getLineB(),h=s.getLineC(),u=[new a,new a,new a],c=[e(o,r,u[0]),e(l,r,u[1]),e(h,r,u[2])],d=0;d<3;d++)c[d]&&n.push(u[d]);return n}},function(f,x,t){var a=t(96);f.exports=function(i,e){return!(!i.contains(e.x1,e.y1)&&!i.contains(e.x2,e.y2))||!!a(i.getLineA(),e)||!!a(i.getLineB(),e)||!!a(i.getLineC(),e)}},function(f,x,t){var a=t(235),i=t(495),e=t(96);f.exports=function(s,r){if(s.left>r.right||s.right<r.left||s.top>r.bottom||s.bottom<r.top)return!1;var n=s.getLineA(),o=s.getLineB(),l=s.getLineC(),h=r.getLineA(),u=r.getLineB(),c=r.getLineC();if(e(n,h)||e(n,u)||e(n,c)||e(o,h)||e(o,u)||e(o,c)||e(l,h)||e(l,u)||e(l,c))return!0;var d=i(s),v=a(r,d,!0);return 0<v.length||(d=i(r),0<a(s,d,!0).length)}},function(f,x){f.exports=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x1,y:t.y1}),a.push({x:t.x2,y:t.y2}),a.push({x:t.x3,y:t.y3}),a}},function(f,x){f.exports=function(t,a,i){i===void 0&&(i=1);var e=a.x1,s=a.y1,r=a.x2,n=a.y2,o=t.x,l=t.y,h=(r-e)*(r-e)+(n-s)*(n-s);if(h==0)return!1;var u=((o-e)*(r-e)+(l-s)*(n-s))/h;if(u<0)return Math.sqrt((e-o)*(e-o)+(s-l)*(s-l))<=i;if(0<=u&&u<=1){var c=((s-l)*(r-e)-(e-o)*(n-s))/h;return Math.abs(c)*Math.sqrt(h)<=i}return Math.sqrt((r-o)*(r-o)+(n-l)*(n-l))<=i}},function(f,x,t){var a=t(14),i=t(68),e=t(97);f.exports=function(s){var r=e(s)-a.TAU;return i(r,-Math.PI,Math.PI)}},function(f,x){var t=!0,a="untitled",i="",e="";function s(r){return r.models.length===0&&r.models.push({faces:[],name:a,textureCoords:[],vertexNormals:[],vertices:[]}),i="",r.models[r.models.length-1]}f.exports=function(r,n){n===void 0&&(n=!0),t=n;var o={materials:{},materialLibraries:[],models:[]};e=i="";for(var l,h,u,c,d,v,g,m,y,T,E,S,C,M,P,R,L,w,B,G,Y,D,F,N,I,b,U,X=r.split(`
`),z=0;z<X.length;z++){var V=(b=X[z],U=void 0,-1<(U=b.indexOf("#"))?b.substring(0,U):b).replace(/\s\s+/g," ").trim().split(" ");switch(V[0].toLowerCase()){case"o":N=o,I=void 0,I=2<=(F=V).length?F[1]:a,N.models.push({faces:[],name:I,textureCoords:[],vertexNormals:[],vertices:[]}),i="";break;case"g":(D=V).length===2&&(i=D[1]);break;case"v":L=o,Y=G=B=w=void 0,w=(R=V).length,B=2<=w?parseFloat(R[1]):0,G=3<=w?parseFloat(R[2]):0,Y=4<=w?parseFloat(R[3]):0,s(L).vertices.push({x:B,y:G,z:Y});break;case"vt":E=o,P=M=C=S=void 0,S=(T=V).length,C=2<=S?parseFloat(T[1]):0,M=3<=S?parseFloat(T[2]):0,P=4<=S?parseFloat(T[3]):0,isNaN(C)&&(C=0),isNaN(M)&&(M=0),isNaN(P)&&(P=0),t&&(M=1-M),s(E).textureCoords.push({u:C,v:M,w:P});break;case"vn":d=o,y=m=g=v=void 0,v=(c=V).length,g=2<=v?parseFloat(c[1]):0,m=3<=v?parseFloat(c[2]):0,y=4<=v?parseFloat(c[3]):0,s(d).vertexNormals.push({x:g,y:m,z:y});break;case"f":(function(W,H){var K=W.length-1;if(!(K<3)){for(var Z={group:i,material:e,vertices:[]},j=0;j<K;j++){var k,J,q,_=W[j+1].split("/"),tt=_.length;tt<1||3<tt||(J=k=q=0,q=parseInt(_[0],10),1<tt&&_[1]!==""&&(k=parseInt(_[1],10)),2<tt&&(J=parseInt(_[2],10)),q!==0&&(q<0&&(q=s(H).vertices.length+1+q),--k,--q,--J,Z.vertices.push({textureCoordsIndex:k,vertexIndex:q,vertexNormalIndex:J})))}s(H).faces.push(Z)}})(V,o);break;case"mtllib":u=o,2<=(h=V).length&&u.materialLibraries.push(h[1]);break;case"usemtl":2<=(l=V).length&&(e=l[1])}}return o}},function(f,x,t){var a=t(103);f.exports=function(i){for(var e={},s=i.split(`
`),r="",n=0;n<s.length;n++){var o=s[n].trim();if(o.indexOf("#")!==0&&o!==""){var l=o.replace(/\s\s+/g," ").trim().split(" ");switch(l[0].toLowerCase()){case"newmtl":r=l[1];break;case"kd":var h=Math.floor(255*l[1]),u=2<=l.length?Math.floor(255*l[2]):h,c=3<=l.length?Math.floor(255*l[3]):h;e[r]=a(h,u,c)}}}return e}},function(f,x){f.exports=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)}},function(f,x){f.exports=function(t){return t.x*t.x+t.y*t.y}},function(f,x,t){var a=t(10);a.Area=t(1267),a.Ceil=t(1268),a.CeilAll=t(1269),a.CenterOn=t(190),a.Clone=t(1270),a.Contains=t(57),a.ContainsPoint=t(1271),a.ContainsRect=t(503),a.CopyFrom=t(1272),a.Decompose=t(490),a.Equals=t(1273),a.FitInside=t(1274),a.FitOutside=t(1275),a.Floor=t(1276),a.FloorAll=t(1277),a.FromPoints=t(199),a.FromXY=t(1278),a.GetAspectRatio=t(237),a.GetCenter=t(1279),a.GetPoint=t(171),a.GetPoints=t(306),a.GetSize=t(1280),a.Inflate=t(1281),a.Intersection=t(1282),a.MarchingAnts=t(316),a.MergePoints=t(1283),a.MergeRect=t(1284),a.MergeXY=t(1285),a.Offset=t(1286),a.OffsetPoint=t(1287),a.Overlaps=t(1288),a.Perimeter=t(130),a.PerimeterPoint=t(1289),a.Random=t(174),a.RandomOutside=t(1290),a.SameDimensions=t(1291),a.Scale=t(1292),a.Union=t(441),f.exports=a},function(f,x){f.exports=function(t,a){return!(a.width*a.height>t.width*t.height)&&a.x>t.x&&a.x<t.right&&a.right>t.x&&a.right<t.right&&a.y>t.y&&a.y<t.bottom&&a.bottom>t.y&&a.bottom<t.bottom}},function(f,x,t){var a=t(4);f.exports=function(i,e){return e===void 0&&(e=new a),e.x=(i.x1+i.x2+i.x3)/3,e.y=(i.y1+i.y2+i.y3)/3,e}},function(f,x){f.exports=function(t,a,i){return t.x1+=a,t.y1+=i,t.x2+=a,t.y2+=i,t.x3+=a,t.y3+=i,t}},function(f,x,t){var a=t(4);function i(e,s,r,n){var o=e-r,l=s-n,h=o*o+l*l;return Math.sqrt(h)}f.exports=function(e,s){s===void 0&&(s=new a);var r=e.x1,n=e.y1,o=e.x2,l=e.y2,h=e.x3,u=e.y3,c=i(h,u,o,l),d=i(r,n,h,u),v=i(o,l,r,n),g=c+d+v;return s.x=(r*c+o*d+h*v)/g,s.y=(n*c+l*d+u*v)/g,s}},function(f,x){f.exports=function(t,a){return function(i,e,s,r){var n=t.getPixelAlpha(e,s,r.texture.key,r.frame.name);return n&&a<=n}}},function(f,x){f.exports=function(t,a,i){return{gameObject:t,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:i,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}}},function(f,x,t){var a=new(t(0))({initialize:function(i,e){this.pad=i,this.events=i.events,this.index=e,this.value=0,this.threshold=.1},update:function(i){this.value=i},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});f.exports=a},function(f,x,t){var a=t(0),i=t(239),e=new a({initialize:function(s,r){this.pad=s,this.events=s.manager,this.index=r,this.value=0,this.threshold=1,this.pressed=!1},update:function(s){this.value=s;var r=this.pad,n=this.index;s>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(i.BUTTON_DOWN,r,this,s),this.pad.emit(i.GAMEPAD_BUTTON_DOWN,n,s,this)):this.pressed&&(this.pressed=!1,this.events.emit(i.BUTTON_UP,r,this,s),this.pad.emit(i.GAMEPAD_BUTTON_UP,n,s,this))},destroy:function(){this.pad=null,this.events=null}});f.exports=e},function(f,x,t){var a=t(509),i=t(510),e=t(0),s=t(9),r=t(3),n=new e({Extends:s,initialize:function(o,l){s.call(this),this.manager=o,this.pad=l,this.id=l.id,this.index=l.index;for(var h=[],u=0;u<l.buttons.length;u++)h.push(new i(this,u));this.buttons=h;for(var c=[],u=0;u<l.axes.length;u++)c.push(new a(this,u));this.axes=c,this.vibration=l.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:d,this._LCRight=h[15]?h[15]:d,this._LCTop=h[12]?h[12]:d,this._LCBottom=h[13]?h[13]:d,this._RCLeft=h[2]?h[2]:d,this._RCRight=h[1]?h[1]:d,this._RCTop=h[3]?h[3]:d,this._RCBottom=h[0]?h[0]:d,this._FBLeftTop=h[4]?h[4]:d,this._FBLeftBottom=h[6]?h[6]:d,this._FBRightTop=h[5]?h[5]:d,this._FBRightBottom=h[7]?h[7]:d;var v={value:0};this._HAxisLeft=c[0]?c[0]:v,this._VAxisLeft=c[1]?c[1]:v,this._HAxisRight=c[2]?c[2]:v,this._VAxisRight=c[3]?c[3]:v,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(o){return this.axes[o].getValue()},setAxisThreshold:function(o){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=o},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(o){return this.buttons[o].value},isButtonDown:function(o){return this.buttons[o].pressed},update:function(o){if(!(o.timestamp<this._created)){for(var l=this.buttons,h=o.buttons,v=l.length,u=0;u<v;u++)l[u].update(h[u].value);var c=this.axes,d=o.axes,v=c.length;for(u=0;u<v;u++)c[u].update(d[u]);2<=v&&(this.leftStick.set(c[0].getValue(),c[1].getValue()),4<=v&&this.rightStick.set(c[2].getValue(),c[3].getValue()))}},destroy:function(){var o;for(this.removeAllListeners(),this.manager=null,this.pad=null,o=0;o<this.buttons.length;o++)this.buttons[o].destroy();for(o=0;o<this.axes.length;o++)this.axes[o].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});f.exports=n},function(f,x,t){var a=t(0),i=t(9),e=t(154),s=new a({Extends:i,initialize:function(r,n){i.call(this),this.plugin=r,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(e.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(e.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(e.UP,this,r))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});f.exports=s},function(f,x,t){var a=t(0),i=t(154),e=t(2),s=t(514),r=t(516),n=new a({initialize:function(o,l,h){if(h===void 0&&(h={}),l.length<2)return!1;this.manager=o,this.enabled=!0,this.keyCodes=[];for(var u=0;u<l.length;u++){var c=l[u];typeof c=="string"?this.keyCodes.push(c.toUpperCase().charCodeAt(0)):typeof c=="number"?this.keyCodes.push(c):c.hasOwnProperty("keyCode")&&this.keyCodes.push(c.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=e(h,"resetOnWrongKey",!0),this.maxKeyDelay=e(h,"maxKeyDelay",0),this.resetOnMatch=e(h,"resetOnMatch",!1),this.deleteOnMatch=e(h,"deleteOnMatch",!1);var d=this;this.onKeyDown=function(v){!d.matched&&d.enabled&&s(v,d)&&(d.manager.emit(i.COMBO_MATCH,d,v),d.resetOnMatch?r(d):d.deleteOnMatch&&d.destroy())},this.manager.on(i.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(i.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});f.exports=n},function(f,x,t){var a=t(515);f.exports=function(i,e){if(e.matched)return!0;var s,r=!1,n=!1;return i.keyCode===e.current&&(0<e.index&&0<e.maxKeyDelay?(s=e.timeLastMatched+e.maxKeyDelay,i.timeStamp<=s&&(n=!0,r=a(i,e))):(n=!0,r=a(i,e))),!n&&e.resetOnWrongKey&&(e.index=0,e.current=e.keyCodes[0]),r&&(e.timeLastMatched=i.timeStamp,e.matched=!0,e.timeMatched=i.timeStamp),r}},function(f,x){f.exports=function(t,a){return a.timeLastMatched=t.timeStamp,a.index++,a.index===a.size||(a.current=a.keyCodes[a.index],!1)}},function(f,x){f.exports=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t}},function(f,x,t){var a=t(240);f.exports=function(i,e){var s=a(e,i.xhrSettings),r=new XMLHttpRequest;if(r.open("GET",i.src,s.async,s.user,s.password),r.responseType=i.xhrSettings.responseType,r.timeout=s.timeout,s.headers)for(var n in s.headers)r.setRequestHeader(n,s.headers[n]);return s.header&&s.headerValue&&r.setRequestHeader(s.header,s.headerValue),s.requestedWith&&r.setRequestHeader("X-Requested-With",s.requestedWith),s.overrideMimeType&&r.overrideMimeType(s.overrideMimeType),s.withCredentials&&(r.withCredentials=!0),r.onload=i.onLoad.bind(i,r),r.onerror=i.onError.bind(i,r),r.onprogress=i.onProgress.bind(i),r.send(),r}},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(519),o=t(7),l=new a({Extends:e,initialize:function(h,u,c,d,v){var g;o(u)&&(u=r(g=u,"key"),d=r(g,"xhrSettings"),v=r(g,"context",v));var m={type:"audio",cache:h.cacheManager.audio,extension:c.type,responseType:"arraybuffer",key:u,url:c.url,xhrSettings:d,config:{context:v}};e.call(this,h,m)},onProcess:function(){this.state=i.FILE_PROCESSING;var h=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(u){h.data=u,h.onProcessComplete()},function(u){console.error("Error decoding audio: "+h.key+" - ",u?u.message:null),h.onProcessError()}),this.config.context=null}});l.create=function(h,u,c,d,v){var g=h.systems.game,m=g.config.audio,y=g.device.audio;o(u)&&(c=r(u,"url",[]),d=r(u,"config",{}));var T=l.getAudioURL(g,c);return T?y.webAudio&&!m.disableWebAudio?new l(h,u,T,v,g.sound.context):new n(h,u,T,d):null},l.getAudioURL=function(h,u){Array.isArray(u)||(u=[u]);for(var c=0;c<u.length;c++){var d=r(u[c],"url",u[c]);if(d.indexOf("blob:")===0||d.indexOf("data:")===0)return{url:d,type:""};var v=d.match(/\.([a-zA-Z0-9]+)($|\?)/),v=r(u[c],"type",v?v[1]:"").toLowerCase();if(h.device.audio[v])return{url:d,type:v}}return null},s.register("audio",function(h,u,c,d){var v,g=this.systems.game,m=g.config.audio,y=g.device.audio;if(m.noAudio||!y.webAudio&&!y.audioData)return this;if(Array.isArray(h))for(var T=0;T<h.length;T++)(v=l.create(this,h[T]))&&this.addFile(v);else(v=l.create(this,h,u,c,d))&&this.addFile(v);return this}),f.exports=l},function(f,x,t){var a=t(0),i=t(95),e=t(23),s=t(2),r=t(155),n=t(7),o=new a({Extends:e,initialize:function(l,h,u,c){var d;n(h)&&(h=s(d=h,"key"),c=s(d,"config",c));var v={type:"audio",cache:l.cacheManager.audio,extension:u.type,key:h,url:u.url,config:c};e.call(this,l,v),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var h=this.data[l];h.oncanplaythrough=null,h.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var h=l.target;h.oncanplaythrough=null,h.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(i.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0;for(var h=this.percentComplete=0;h<l;h++){var u=new Audio;u.dataset||(u.dataset={}),u.dataset.name=this.key+("0"+h).slice(-2),u.dataset.used="false",this.locked?u.dataset.locked="true":(u.dataset.locked="false",u.preload="auto",u.oncanplaythrough=this.onProgress.bind(this),u.onerror=this.onError.bind(this)),this.data.push(u)}for(h=0;h<this.data.length;h++)(u=this.data[h]).src=r(this,this.loader.baseURL),this.locked||u.load();this.locked&&setTimeout(this.onLoad.bind(this))}});f.exports=o},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(7),o=new a({Extends:e,initialize:function(l,h,u,c){var d,v="js";n(h)&&(h=r(d=h,"key"),u=r(d,"url"),c=r(d,"xhrSettings"),v=r(d,"extension",v));var g={type:"script",cache:!1,extension:v,responseType:"text",key:h,url:u,xhrSettings:c};e.call(this,l,g)},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("script",function(l,h,u){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new o(this,l[c]));else this.addFile(new o(this,l,h,u));return this}),f.exports=o},function(f,x,t){var a=t(522),i=t(157),e=t(0),s=t(62),r=t(524),n=t(525),o=new e({initialize:function(l){this.world=l,this.scene=l.scene,this.sys=l.scene.sys},collider:function(l,h,u,c,d){return this.world.addCollider(l,h,u,c,d)},overlap:function(l,h,u,c,d){return this.world.addOverlap(l,h,u,c,d)},existing:function(l,h){var u=h?s.STATIC_BODY:s.DYNAMIC_BODY;return this.world.enableBody(l,u),l},staticImage:function(l,h,u,c){var d=new a(this.scene,l,h,u,c);return this.sys.displayList.add(d),this.world.enableBody(d,s.STATIC_BODY),d},image:function(l,h,u,c){var d=new a(this.scene,l,h,u,c);return this.sys.displayList.add(d),this.world.enableBody(d,s.DYNAMIC_BODY),d},staticSprite:function(l,h,u,c){var d=new i(this.scene,l,h,u,c);return this.sys.displayList.add(d),this.sys.updateList.add(d),this.world.enableBody(d,s.STATIC_BODY),d},sprite:function(l,h,u,c){var d=new i(this.scene,l,h,u,c);return this.sys.displayList.add(d),this.sys.updateList.add(d),this.world.enableBody(d,s.DYNAMIC_BODY),d},staticGroup:function(l,h){return this.sys.updateList.add(new n(this.world,this.world.scene,l,h))},group:function(l,h){return this.sys.updateList.add(new r(this.world,this.world.scene,l,h))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});f.exports=o},function(f,x,t){var a=t(0),i=t(243),e=t(125),s=new a({Extends:e,Mixins:[i.Acceleration,i.Angular,i.Bounce,i.Debug,i.Drag,i.Enable,i.Friction,i.Gravity,i.Immovable,i.Mass,i.Pushable,i.Size,i.Velocity],initialize:function(r,n,o,l,h){e.call(this,r,n,o,l,h),this.body=null}});f.exports=s},function(f,x,t){var a=t(244),i=t(65),e=t(231),s=t(151);f.exports=function(r,n,o,l,h,u){var c=a(r,n-l,o-l,2*l,2*l,h,u);if(c.length===0)return c;for(var d=new i(n,o,l),v=new i,g=[],m=0;m<c.length;m++){var y=c[m];y.isCircle?(v.setTo(y.center.x,y.center.y,y.halfWidth),e(d,v)&&g.push(y)):s(d,y)&&g.push(y)}return g}},function(f,x,t){var a=t(157),i=t(0),e=t(62),s=t(2),r=t(113),n=t(7),o=new i({Extends:r,initialize:function(l,h,u,c){var d;u||c?n(u)?(c=u,u=null,c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler):Array.isArray(u)&&n(u[0])?(c=u[0],d=this,u.forEach(function(v){v.internalCreateCallback=d.createCallbackHandler,v.internalRemoveCallback=d.removeCallbackHandler}),u=null):c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=l,c.classType=s(c,"classType",a),this.physicsType=e.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:s(c,"collideWorldBounds",!1),setBoundsRectangle:s(c,"customBoundsRectangle",null),setAccelerationX:s(c,"accelerationX",0),setAccelerationY:s(c,"accelerationY",0),setAllowDrag:s(c,"allowDrag",!0),setAllowGravity:s(c,"allowGravity",!0),setAllowRotation:s(c,"allowRotation",!0),setBounceX:s(c,"bounceX",0),setBounceY:s(c,"bounceY",0),setDragX:s(c,"dragX",0),setDragY:s(c,"dragY",0),setEnable:s(c,"enable",!0),setGravityX:s(c,"gravityX",0),setGravityY:s(c,"gravityY",0),setFrictionX:s(c,"frictionX",0),setFrictionY:s(c,"frictionY",0),setMaxVelocityX:s(c,"maxVelocityX",1e4),setMaxVelocityY:s(c,"maxVelocityY",1e4),setVelocityX:s(c,"velocityX",0),setVelocityY:s(c,"velocityY",0),setAngularVelocity:s(c,"angularVelocity",0),setAngularAcceleration:s(c,"angularAcceleration",0),setAngularDrag:s(c,"angularDrag",0),setMass:s(c,"mass",1),setImmovable:s(c,"immovable",!1)},r.call(this,h,u,c),this.type="PhysicsGroup"},createCallbackHandler:function(l){l.body||this.world.enableBody(l,e.DYNAMIC_BODY);var h=l.body;for(var u in this.defaults)h[u](this.defaults[u])},removeCallbackHandler:function(l){l.body&&this.world.disableBody(l)},setVelocity:function(l,h,u){u===void 0&&(u=0);for(var c=this.getChildren(),d=0;d<c.length;d++)c[d].body.velocity.set(l+d*u,h+d*u);return this},setVelocityX:function(l,h){h===void 0&&(h=0);for(var u=this.getChildren(),c=0;c<u.length;c++)u[c].body.velocity.x=l+c*h;return this},setVelocityY:function(l,h){h===void 0&&(h=0);for(var u=this.getChildren(),c=0;c<u.length;c++)u[c].body.velocity.y=l+c*h;return this}});f.exports=o},function(f,x,t){var a=t(157),i=t(0),e=t(62),s=t(2),r=t(113),n=t(7),o=new i({Extends:r,initialize:function(l,h,u,c){u||c?n(u)?(c=u,u=null,c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler,c.createMultipleCallback=this.createMultipleCallbackHandler,c.classType=s(c,"classType",a)):Array.isArray(u)&&n(u[0])?(c=u,u=null,c.forEach(function(d){d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=s(d,"classType",a)})):c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a},this.world=l,this.physicsType=e.STATIC_BODY,r.call(this,h,u,c),this.type="StaticPhysicsGroup"},createCallbackHandler:function(l){l.body||this.world.enableBody(l,e.STATIC_BODY)},removeCallbackHandler:function(l){l.body&&this.world.disableBody(l)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var l=this.children.entries,h=0;h<l.length;h++)l[h].body.reset();return this}});f.exports=o},function(f,x,t){var a=t(350),i=t(527),e=t(18),s=t(0),r=t(528),n=t(62),o=t(50),l=t(9),h=t(245),u=t(124),c=t(354),d=t(355),v=t(246),g=t(247),m=t(529),y=t(6),T=t(14),E=t(211),S=t(530),C=t(10),M=t(531),P=t(532),R=t(537),L=t(538),w=t(149),B=t(539),G=t(248),Y=t(25),D=t(3),F=t(68),N=new s({Extends:l,initialize:function(I,b){l.call(this),this.scene=I,this.bodies=new w,this.staticBodies=new w,this.pendingDestroy=new w,this.colliders=new E,this.gravity=new D(y(b,"gravity.x",0),y(b,"gravity.y",0)),this.bounds=new C(y(b,"x",0),y(b,"y",0),y(b,"width",I.sys.scale.width),y(b,"height",I.sys.scale.height)),this.checkCollision={up:y(b,"checkCollision.up",!0),down:y(b,"checkCollision.down",!0),left:y(b,"checkCollision.left",!0),right:y(b,"checkCollision.right",!0)},this.fps=y(b,"fps",60),this.fixedStep=y(b,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(b,"timeScale",1),this.OVERLAP_BIAS=y(b,"overlapBias",4),this.TILE_BIAS=y(b,"tileBias",16),this.forceX=y(b,"forceX",!1),this.isPaused=y(b,"isPaused",!1),this._total=0,this.drawDebug=y(b,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:y(b,"debugShowBody",!0),debugShowStaticBody:y(b,"debugShowStaticBody",!0),debugShowVelocity:y(b,"debugShowVelocity",!0),bodyDebugColor:y(b,"debugBodyColor",16711935),staticBodyDebugColor:y(b,"debugStaticBodyColor",255),velocityDebugColor:y(b,"debugVelocityColor",65280)},this.maxEntries=y(b,"maxEntries",16),this.useTree=y(b,"useTree",!0),this.tree=new M(this.maxEntries),this.staticTree=new M(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Y,this._tempMatrix2=new Y,this.drawDebug&&this.createDebugGraphic()},enable:function(I,b){b===void 0&&(b=n.DYNAMIC_BODY),Array.isArray(I)||(I=[I]);for(var U=0;U<I.length;U++){var X=I[U];if(X.isParent)for(var z=X.getChildren(),V=0;V<z.length;V++){var W=z[V];W.isParent?this.enable(W,b):this.enableBody(W,b)}else this.enableBody(X,b)}},enableBody:function(I,b){return b===void 0&&(b=n.DYNAMIC_BODY),I.body||(b===n.DYNAMIC_BODY?I.body=new i(this,I):b===n.STATIC_BODY&&(I.body=new B(this,I))),this.add(I.body),I},add:function(I){return I.physicsType===n.DYNAMIC_BODY?this.bodies.set(I):I.physicsType===n.STATIC_BODY&&(this.staticBodies.set(I),this.staticTree.insert(I)),I.enable=!0,I},disable:function(I){Array.isArray(I)||(I=[I]);for(var b=0;b<I.length;b++){var U=I[b];if(U.isParent)for(var X=U.getChildren(),z=0;z<X.length;z++){var V=X[z];V.isParent?this.disable(V):this.disableBody(V.body)}else this.disableBody(U.body)}},disableBody:function(I){this.remove(I),I.enable=!1},remove:function(I){I.physicsType===n.DYNAMIC_BODY?(this.tree.remove(I),this.bodies.delete(I)):I.physicsType===n.STATIC_BODY&&(this.staticBodies.delete(I),this.staticTree.remove(I))},createDebugGraphic:function(){var I=this.scene.sys.add.graphics({x:0,y:0});return I.setDepth(Number.MAX_VALUE),this.debugGraphic=I,this.drawDebug=!0,I},setBounds:function(I,b,U,X,z,V,W,H){return this.bounds.setTo(I,b,U,X),z!==void 0&&this.setBoundsCollision(z,V,W,H),this},setBoundsCollision:function(I,b,U,X){return I===void 0&&(I=!0),b===void 0&&(b=!0),U===void 0&&(U=!0),X===void 0&&(X=!0),this.checkCollision.left=I,this.checkCollision.right=b,this.checkCollision.up=U,this.checkCollision.down=X,this},pause:function(){return this.isPaused=!0,this.emit(h.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(h.RESUME),this},addCollider:function(I,b,U,X,z){U===void 0&&(U=null),X===void 0&&(X=null),z===void 0&&(z=U);var V=new r(this,!1,I,b,U,X,z);return this.colliders.add(V),V},addOverlap:function(I,b,U,X,z){U===void 0&&(U=null),X===void 0&&(X=null),z===void 0&&(z=U);var V=new r(this,!0,I,b,U,X,z);return this.colliders.add(V),V},removeCollider:function(I){return this.colliders.remove(I),this},setFPS:function(I){return this.fps=I,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(I,b){if(!this.isPaused&&this.bodies.size!==0){var U,X=this._frameTime,z=this._frameTimeMS*this.timeScale;this._elapsed+=b;var V=this.bodies.entries,W=this._elapsed>=z;for(this.fixedStep||(X=.001*b,W=!0,this._elapsed=0),K=0;K<V.length;K++)(U=V[K]).enable&&U.preUpdate(W,X);if(W){this._elapsed-=z,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(V));for(var H=this.colliders.update(),K=0;K<H.length;K++){var Z=H[K];Z.active&&Z.update()}this.emit(h.WORLD_STEP,X)}for(;this._elapsed>=z;)this._elapsed-=z,this.step(X)}},step:function(I){for(var b,U=this.bodies.entries,X=U.length,z=0;z<X;z++)(b=U[z]).enable&&b.update(I);this.useTree&&(this.tree.clear(),this.tree.load(U));var V=this.colliders.update();for(z=0;z<V.length;z++){var W=V[z];W.active&&W.update()}this.emit(h.WORLD_STEP,I),this.stepsLastFrame++},postUpdate:function(){var I,b=(W=this.bodies.entries).length,U=this.bodies,X=this.staticBodies;if(this.stepsLastFrame)for(Z=this.stepsLastFrame=0;Z<b;Z++)(I=W[Z]).enable&&I.postUpdate();if(this.drawDebug){var z=this.debugGraphic;for(z.clear(),Z=0;Z<b;Z++)(I=W[Z]).willDrawDebug()&&I.drawDebug(z);for(b=(W=X.entries).length,Z=0;Z<b;Z++)(I=W[Z]).willDrawDebug()&&I.drawDebug(z)}var V=this.pendingDestroy;if(0<V.size){for(var W,H=this.tree,K=this.staticTree,b=(W=V.entries).length,Z=0;Z<b;Z++)(I=W[Z]).physicsType===n.DYNAMIC_BODY?(H.remove(I),U.delete(I)):I.physicsType===n.STATIC_BODY&&(K.remove(I),X.delete(I)),I.world=void 0,I.gameObject=void 0;V.clear()}},updateMotion:function(I,b){I.allowRotation&&this.computeAngularVelocity(I,b),this.computeVelocity(I,b)},computeAngularVelocity:function(I,b){var U=I.angularVelocity,X=I.angularAcceleration,z=I.angularDrag,V=I.maxAngular;X?U+=X*b:I.allowDrag&&z&&(c(U-(z*=b),0,.1)?U-=z:d(U+z,0,.1)?U+=z:U=0);var W=(U=e(U,-V,V))-I.angularVelocity;I.angularVelocity+=W,I.rotation+=I.angularVelocity*b},computeVelocity:function(I,b){var U=I.velocity.x,X=I.acceleration.x,z=I.drag.x,V=I.maxVelocity.x,W=I.velocity.y,H=I.acceleration.y,K=I.drag.y,Z=I.maxVelocity.y,j=I.speed,k=I.maxSpeed,J=I.allowDrag,q=I.useDamping;I.allowGravity&&(U+=(this.gravity.x+I.gravity.x)*b,W+=(this.gravity.y+I.gravity.y)*b),X?U+=X*b:J&&z&&(q?(U*=z=Math.pow(z,b),j=Math.sqrt(U*U+W*W),u(j,0,.001)&&(U=0)):c(U-(z*=b),0,.01)?U-=z:d(U+z,0,.01)?U+=z:U=0),H?W+=H*b:J&&K&&(q?(W*=K=Math.pow(K,b),j=Math.sqrt(U*U+W*W),u(j,0,.001)&&(W=0)):c(W-(K*=b),0,.01)?W-=K:d(W+K,0,.01)?W+=K:W=0),U=e(U,-V,V),W=e(W,-Z,Z),I.velocity.set(U,W),-1<k&&k<j&&(I.velocity.normalize().scale(k),j=k),I.speed=j},separate:function(I,b,U,X,z,V){if(!V&&!I.enable||!b.enable||I.checkCollision.none||b.checkCollision.none||!this.intersects(I,b)||U&&U.call(X,I.gameObject,b.gameObject)===!1)return!1;if(I.isCircle&&b.isCircle)return this.separateCircle(I,b,z);if(I.isCircle!==b.isCircle){var W=I.isCircle?b:I,H=I.isCircle?I:b,K=W.x,Z=W.y,j=W.right,k=W.bottom,J=H.center;if((J.y<Z||J.y>k)&&(J.x<K||J.x>j))return this.separateCircle(I,b,z)}var q=!1,_=!1;z?(q=R(I,b,z,this.OVERLAP_BIAS),_=L(I,b,z,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+I.gravity.y)<Math.abs(this.gravity.x+I.gravity.x)?(q=R(I,b,z,this.OVERLAP_BIAS),this.intersects(I,b)&&(_=L(I,b,z,this.OVERLAP_BIAS))):(_=L(I,b,z,this.OVERLAP_BIAS),this.intersects(I,b)&&(q=R(I,b,z,this.OVERLAP_BIAS)));var tt=q||_;return tt&&(z?(I.onOverlap||b.onOverlap)&&this.emit(h.OVERLAP,I.gameObject,b.gameObject,I,b):(I.onCollide||b.onCollide)&&this.emit(h.COLLIDE,I.gameObject,b.gameObject,I,b)),tt},separateCircle:function(I,b,U,X){v(I,b,!1,X),g(I,b,!1,X);var z,V,W=0;if(I.isCircle!==b.isCircle?(z={x:b.isCircle?I.position.x:b.position.x,y:b.isCircle?I.position.y:b.position.y,right:b.isCircle?I.right:b.right,bottom:b.isCircle?I.bottom:b.bottom},(V={x:I.isCircle?I.center.x:b.center.x,y:I.isCircle?I.center.y:b.center.y,radius:I.isCircle?I.halfWidth:b.halfWidth}).y<z.y?V.x<z.x?W=o(V.x,V.y,z.x,z.y)-V.radius:z.right<V.x&&(W=o(V.x,V.y,z.right,z.y)-V.radius):z.bottom<V.y&&(V.x<z.x?W=o(V.x,V.y,z.x,z.bottom)-V.radius:z.right<V.x&&(W=o(V.x,V.y,z.right,z.bottom)-V.radius)),W*=-1):W=I.halfWidth+b.halfWidth-o(I.center.x,I.center.y,b.center.x,b.center.y),I.overlapR=W,b.overlapR=W,U||W===0||I.immovable&&b.immovable||I.customSeparateX||b.customSeparateX)return W!==0&&(I.onOverlap||b.onOverlap)&&this.emit(h.OVERLAP,I.gameObject,b.gameObject,I,b),W!==0;var H=I.center.x-b.center.x,K=I.center.y-b.center.y,Z=Math.sqrt(Math.pow(H,2)+Math.pow(K,2)),j=(b.center.x-I.center.x)/Z||0,k=(b.center.y-I.center.y)/Z||0,J=2*(I.velocity.x*j+I.velocity.y*k-b.velocity.x*j-b.velocity.y*k)/(I.mass+b.mass);(I.immovable||b.immovable)&&(J*=2),I.immovable||(I.velocity.x=I.velocity.x-J/I.mass*j,I.velocity.y=I.velocity.y-J/I.mass*k),b.immovable||(b.velocity.x=b.velocity.x+J/b.mass*j,b.velocity.y=b.velocity.y+J/b.mass*k),I.immovable||b.immovable||(W/=2);var q=a(I.center,b.center),_=(W+T.EPSILON)*Math.cos(q),tt=(W+T.EPSILON)*Math.sin(q);return I.immovable||(I.x-=_,I.y-=tt,I.updateCenter()),b.immovable||(b.x+=_,b.y+=tt,b.updateCenter()),I.velocity.x*=I.bounce.x,I.velocity.y*=I.bounce.y,b.velocity.x*=b.bounce.x,b.velocity.y*=b.bounce.y,(I.onCollide||b.onCollide)&&this.emit(h.COLLIDE,I.gameObject,b.gameObject,I,b),!0},intersects:function(I,b){return I!==b&&(I.isCircle||b.isCircle?I.isCircle?b.isCircle?o(I.center.x,I.center.y,b.center.x,b.center.y)<=I.halfWidth+b.halfWidth:this.circleBodyIntersects(I,b):this.circleBodyIntersects(b,I):!(I.right<=b.position.x||I.bottom<=b.position.y||I.position.x>=b.right||I.position.y>=b.bottom))},circleBodyIntersects:function(I,b){var U=e(I.center.x,b.left,b.right),X=e(I.center.y,b.top,b.bottom);return(I.center.x-U)*(I.center.x-U)+(I.center.y-X)*(I.center.y-X)<=I.halfWidth*I.halfWidth},overlap:function(I,b,U,X,z){return U===void 0&&(U=null),X===void 0&&(X=null),z===void 0&&(z=U),this.collideObjects(I,b,U,X,z,!0)},collide:function(I,b,U,X,z){return U===void 0&&(U=null),X===void 0&&(X=null),z===void 0&&(z=U),this.collideObjects(I,b,U,X,z,!1)},collideObjects:function(I,b,U,X,z,V){var W;I.isParent&&I.physicsType===void 0&&(I=I.children.entries),b&&b.isParent&&b.physicsType===void 0&&(b=b.children.entries);var H=Array.isArray(I),K=Array.isArray(b);if(this._total=0,H||K)if(!H&&K)for(W=0;W<b.length;W++)this.collideHandler(I,b[W],U,X,z,V);else if(H&&!K)if(b)for(W=0;W<I.length;W++)this.collideHandler(I[W],b,U,X,z,V);else for(W=0;W<I.length;W++)for(var Z=I[W],j=W+1;j<I.length;j++)W!==j&&this.collideHandler(Z,I[j],U,X,z,V);else for(W=0;W<I.length;W++)for(j=0;j<b.length;j++)this.collideHandler(I[W],b[j],U,X,z,V);else this.collideHandler(I,b,U,X,z,V);return 0<this._total},collideHandler:function(I,b,U,X,z,V){if(b===void 0&&I.isParent)return this.collideGroupVsGroup(I,I,U,X,z,V);if(!I||!b)return!1;if(I.body){if(b.body)return this.collideSpriteVsSprite(I,b,U,X,z,V);if(b.isParent)return this.collideSpriteVsGroup(I,b,U,X,z,V);if(b.isTilemap)return this.collideSpriteVsTilemapLayer(I,b,U,X,z,V)}else if(I.isParent){if(b.body)return this.collideSpriteVsGroup(b,I,U,X,z,V);if(b.isParent)return this.collideGroupVsGroup(I,b,U,X,z,V);if(b.isTilemap)return this.collideGroupVsTilemapLayer(I,b,U,X,z,V)}else if(I.isTilemap){if(b.body)return this.collideSpriteVsTilemapLayer(b,I,U,X,z,V);if(b.isParent)return this.collideGroupVsTilemapLayer(b,I,U,X,z,V)}},collideSpriteVsSprite:function(I,b,U,X,z,V){return!(!I.body||!b.body)&&(this.separate(I.body,b.body,X,z,V)&&(U&&U.call(z,I,b),this._total++),!0)},collideSpriteVsGroup:function(I,b,U,X,z,V){var W,H=I.body;if(b.length!==0&&H&&H.enable&&!H.checkCollision.none)if(this.useTree||b.physicsType===n.STATIC_BODY){var K=this.treeMinMax;K.minX=H.left,K.minY=H.top,K.maxX=H.right,K.maxY=H.bottom;for(var Z=b.physicsType===n.DYNAMIC_BODY?this.tree.search(K):this.staticTree.search(K),j=Z.length,k=0;k<j;k++)H!==(W=Z[k])&&W.enable&&!W.checkCollision.none&&b.contains(W.gameObject)&&this.separate(H,W,X,z,V,!0)&&(U&&U.call(z,H.gameObject,W.gameObject),this._total++)}else{var J=b.getChildren(),q=b.children.entries.indexOf(I);for(j=J.length,k=0;k<j;k++)(W=J[k].body)&&k!==q&&W.enable&&this.separate(H,W,X,z,V)&&(U&&U.call(z,H.gameObject,W.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(I,b,U,X,z,V){var W=I.getChildren();if(W.length===0)return!1;for(var H=!1,K=0;K<W.length;K++)W[K].body&&this.collideSpriteVsTilemapLayer(W[K],b,U,X,z,V)&&(H=!0);return H},collideTiles:function(I,b,U,X,z){return!(!I.body.enable||b.length===0)&&this.collideSpriteVsTilesHandler(I,b,U,X,z,!1,!1)},overlapTiles:function(I,b,U,X,z){return!(!I.body.enable||b.length===0)&&this.collideSpriteVsTilesHandler(I,b,U,X,z,!0,!1)},collideSpriteVsTilemapLayer:function(I,b,U,X,z,V){var W=I.body;if(!W.enable||W.checkCollision.none)return!1;var H,K=W.position.x,Z=W.position.y,j=W.width,k=W.height,J=b.layer;J.tileWidth>J.baseTileWidth&&(K-=H=(J.tileWidth-J.baseTileWidth)*b.scaleX,j+=H),J.tileHeight>J.baseTileHeight&&(k+=(J.tileHeight-J.baseTileHeight)*b.scaleY);var q=m(K,Z,j,k,null,b.scene.cameras.main,b.layer);return q.length!==0&&this.collideSpriteVsTilesHandler(I,q,U,X,z,V,!0)},collideSpriteVsTilesHandler:function(I,b,U,X,z,V,W){for(var H,K,Z=I.body,j={left:0,right:0,top:0,bottom:0},k=!1,J=0;J<b.length;J++){var q=(K=(H=b[J]).tilemapLayer).tileToWorldXY(H.x,H.y);j.left=q.x,j.top=q.y,H.baseHeight!==H.height&&(j.top-=(H.height-H.baseHeight)*K.scaleY),j.right=j.left+H.width*K.scaleX,j.bottom=j.top+H.height*K.scaleY,G(j,Z)&&(!X||X.call(z,I,H))&&S(H,I)&&(V||P(J,Z,H,j,K,this.TILE_BIAS,W))&&(this._total++,k=!0,U&&U.call(z,I,H),V&&Z.onOverlap?this.emit(h.TILE_OVERLAP,I,H,Z):Z.onCollide&&this.emit(h.TILE_COLLIDE,I,H,Z))}return k},collideGroupVsGroup:function(I,b,U,X,z,V){if(I.length!==0&&b.length!==0)for(var W=I.getChildren(),H=0;H<W.length;H++)this.collideSpriteVsGroup(W[H],b,U,X,z,V)},wrap:function(I,b){I.body?this.wrapObject(I,b):I.getChildren?this.wrapArray(I.getChildren(),b):Array.isArray(I)?this.wrapArray(I,b):this.wrapObject(I,b)},wrapArray:function(I,b){for(var U=0;U<I.length;U++)this.wrapObject(I[U],b)},wrapObject:function(I,b){b===void 0&&(b=0),I.x=F(I.x,this.bounds.left-b,this.bounds.right+b),I.y=F(I.y,this.bounds.top-b,this.bounds.bottom+b)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});f.exports=N},function(f,x,t){var a=t(0),i=t(62),e=t(245),s=t(196),r=t(10),n=t(57),o=t(3),l=new a({initialize:function(h,u){var c=u.displayWidth?u.displayWidth:64,d=u.displayHeight?u.displayHeight:64;this.world=h,this.gameObject=u,this.transform={x:u.x,y:u.y,rotation:u.angle,scaleX:u.scaleX,scaleY:u.scaleY,displayOriginX:u.displayOriginX,displayOriginY:u.displayOriginY},this.debugShowBody=h.defaults.debugShowBody,this.debugShowVelocity=h.defaults.debugShowVelocity,this.debugBodyColor=h.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new o,this.position=new o(u.x-u.scaleX*u.displayOriginX,u.y-u.scaleY*u.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=u.angle,this.preRotation=u.angle,this.width=c,this.height=d,this.sourceWidth=c,this.sourceHeight=d,u.frame&&(this.sourceWidth=u.frame.realWidth,this.sourceHeight=u.frame.realHeight),this.halfWidth=Math.abs(c/2),this.halfHeight=Math.abs(d/2),this.center=new o(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new o,this.newVelocity=new o,this.deltaMax=new o,this.acceleration=new o,this.allowDrag=!0,this.drag=new o,this.allowGravity=!0,this.gravity=new o,this.bounce=new o,this.worldBounce=null,this.customBoundsRectangle=h.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new o(1e4,1e4),this.maxSpeed=-1,this.friction=new o(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=i.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=i.DYNAMIC_BODY,this._sx=u.scaleX,this._sy=u.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new r},updateBounds:function(){var h,u=this.gameObject,c=this.transform;u.parentContainer?(h=u.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2),c.x=h.tx,c.y=h.ty,c.rotation=s(h.rotation),c.scaleX=h.scaleX,c.scaleY=h.scaleY):(c.x=u.x,c.y=u.y,c.rotation=u.angle,c.scaleX=u.scaleX,c.scaleY=u.scaleY),c.displayOriginX=u.displayOriginX,c.displayOriginY=u.displayOriginY;var d,v,g,m=!1;this.syncBounds?(d=u.getBounds(this._bounds),this.width=d.width,this.height=d.height,m=!0):(v=Math.abs(c.scaleX),g=Math.abs(c.scaleY),this._sx===v&&this._sy===g||(this.width=this.sourceWidth*v,this.height=this.sourceHeight*g,this._sx=v,this._sy=g,m=!0)),m&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var h=this.transform;this.position.x=h.x+h.scaleX*(this.offset.x-h.displayOriginX),this.position.y=h.y+h.scaleY*(this.offset.y-h.displayOriginY),this.updateCenter()},resetFlags:function(h){h===void 0&&(h=!1);var u=this.wasTouching,c=this.touching,d=this.blocked;h?(u.none=!0,u.up=!1,u.down=!1,u.left=!1,u.right=!1):(u.none=c.none,u.up=c.up,u.down=c.down,u.left=c.left,u.right=c.right),c.none=!0,c.up=!1,c.down=!1,c.left=!1,c.right=!1,d.none=!0,d.up=!1,d.down=!1,d.left=!1,d.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(h,u){h&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),h&&this.update(u)},update:function(h){var u,c;this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves&&(this.world.updateMotion(this,h),u=this.velocity.x,c=this.velocity.y,this.newVelocity.set(u*h,c*h),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(c,u),this.speed=Math.sqrt(u*u+c*c),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(e.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)),this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var h,u,c=this.position.x-this.prevFrame.x,d=this.position.y-this.prevFrame.y;this.moves&&((h=this.deltaMax.x)!==0&&c!==0&&(c<0&&c<-h?c=-h:0<c&&h<c&&(c=h)),(u=this.deltaMax.y)!==0&&d!==0&&(d<0&&d<-u?d=-u:0<d&&u<d&&(d=u)),this.gameObject.x+=c,this.gameObject.y+=d),c<0?this.facing=i.FACING_LEFT:0<c&&(this.facing=i.FACING_RIGHT),d<0?this.facing=i.FACING_UP:0<d&&(this.facing=i.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=c,this._ty=d},setBoundsRectangle:function(h){return this.customBoundsRectangle=h||this.world.bounds,this},checkWorldBounds:function(){var h=this.position,u=this.customBoundsRectangle,c=this.world.checkCollision,d=this.worldBounce?-this.worldBounce.x:-this.bounce.x,v=this.worldBounce?-this.worldBounce.y:-this.bounce.y,g=!1;return h.x<u.x&&c.left?(h.x=u.x,this.velocity.x*=d,g=this.blocked.left=!0):this.right>u.right&&c.right&&(h.x=u.right-this.width,this.velocity.x*=d,g=this.blocked.right=!0),h.y<u.y&&c.up?(h.y=u.y,this.velocity.y*=v,g=this.blocked.up=!0):this.bottom>u.bottom&&c.down&&(h.y=u.bottom-this.height,this.velocity.y*=v,g=this.blocked.down=!0),g&&(this.blocked.none=!1,this.updateCenter()),g},setOffset:function(h,u){return u===void 0&&(u=h),this.offset.set(h,u),this},setSize:function(h,u,c){c===void 0&&(c=!0);var d,v,g=this.gameObject;return!h&&g.frame&&(h=g.frame.realWidth),!u&&g.frame&&(u=g.frame.realHeight),this.sourceWidth=h,this.sourceHeight=u,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),c&&g.getCenter&&(d=(g.width-h)/2,v=(g.height-u)/2,this.offset.set(d,v)),this.isCircle=!1,this.radius=0,this},setCircle:function(h,u,c){return u===void 0&&(u=this.offset.x),c===void 0&&(c=this.offset.y),0<h?(this.isCircle=!0,this.radius=h,this.sourceWidth=2*h,this.sourceHeight=2*h,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,c),this.updateCenter()):this.isCircle=!1,this},reset:function(h,u){this.stop();var c=this.gameObject;c.setPosition(h,u),c.getTopLeft?c.getTopLeft(this.position):this.position.set(h,u),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=c.angle,this.preRotation=c.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(h){return h.x=this.x,h.y=this.y,h.right=this.right,h.bottom=this.bottom,h},hitTest:function(h,u){return this.isCircle?0<this.radius&&h>=this.left&&h<=this.right&&u>=this.top&&u<=this.bottom&&(this.center.x-h)*(this.center.x-h)+(this.center.y-u)*(this.center.y-u)<=this.radius*this.radius:n(this,h,u)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return 0<this._dx?this._dx:-this._dx},deltaAbsY:function(){return 0<this._dy?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(h){var u=this.position,c=u.x+this.halfWidth,d=u.y+this.halfHeight;this.debugShowBody&&(h.lineStyle(h.defaultStrokeWidth,this.debugBodyColor),this.isCircle?h.strokeCircle(c,d,this.width/2):(this.checkCollision.up&&h.lineBetween(u.x,u.y,u.x+this.width,u.y),this.checkCollision.right&&h.lineBetween(u.x+this.width,u.y,u.x+this.width,u.y+this.height),this.checkCollision.down&&h.lineBetween(u.x,u.y+this.height,u.x+this.width,u.y+this.height),this.checkCollision.left&&h.lineBetween(u.x,u.y,u.x,u.y+this.height))),this.debugShowVelocity&&(h.lineStyle(h.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),h.lineBetween(c,d,c+this.velocity.x/2,d+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(h,u,c,d){h===void 0&&(h=!0),this.collideWorldBounds=h;var v=u!==void 0,g=c!==void 0;return(v||g)&&(this.worldBounce||(this.worldBounce=new o),v&&(this.worldBounce.x=u),g&&(this.worldBounce.y=c)),d!==void 0&&(this.onWorldBounds=d),this},setVelocity:function(h,u){return this.velocity.set(h,u),h=this.velocity.x,u=this.velocity.y,this.speed=Math.sqrt(h*h+u*u),this},setVelocityX:function(h){this.velocity.x=h;var u=this.velocity.y;return this.speed=Math.sqrt(h*h+u*u),this},setVelocityY:function(h){this.velocity.y=h;var u=this.velocity.x;return this.speed=Math.sqrt(u*u+h*h),this},setMaxVelocity:function(h,u){return this.maxVelocity.set(h,u),this},setMaxVelocityX:function(h){return this.maxVelocity.x=h,this},setMaxVelocityY:function(h){return this.maxVelocity.y=h,this},setMaxSpeed:function(h){return this.maxSpeed=h,this},setBounce:function(h,u){return this.bounce.set(h,u),this},setBounceX:function(h){return this.bounce.x=h,this},setBounceY:function(h){return this.bounce.y=h,this},setAcceleration:function(h,u){return this.acceleration.set(h,u),this},setAccelerationX:function(h){return this.acceleration.x=h,this},setAccelerationY:function(h){return this.acceleration.y=h,this},setAllowDrag:function(h){return h===void 0&&(h=!0),this.allowDrag=h,this},setAllowGravity:function(h){return h===void 0&&(h=!0),this.allowGravity=h,this},setAllowRotation:function(h){return h===void 0&&(h=!0),this.allowRotation=h,this},setDrag:function(h,u){return this.drag.set(h,u),this},setDamping:function(h){return this.useDamping=h,this},setDragX:function(h){return this.drag.x=h,this},setDragY:function(h){return this.drag.y=h,this},setGravity:function(h,u){return this.gravity.set(h,u),this},setGravityX:function(h){return this.gravity.x=h,this},setGravityY:function(h){return this.gravity.y=h,this},setFriction:function(h,u){return this.friction.set(h,u),this},setFrictionX:function(h){return this.friction.x=h,this},setFrictionY:function(h){return this.friction.y=h,this},setAngularVelocity:function(h){return this.angularVelocity=h,this},setAngularAcceleration:function(h){return this.angularAcceleration=h,this},setAngularDrag:function(h){return this.angularDrag=h,this},setMass:function(h){return this.mass=h,this},setImmovable:function(h){return h===void 0&&(h=!0),this.immovable=h,this},setEnable:function(h){return h===void 0&&(h=!0),this.enable=h,this},processX:function(h,u,c,d){this.x+=h,this.updateCenter(),u!==null&&(this.velocity.x=u);var v=this.blocked;c&&(v.left=!0),d&&(v.right=!0)},processY:function(h,u,c,d){this.y+=h,this.updateCenter(),u!==null&&(this.velocity.y=u);var v=this.blocked;c&&(v.up=!0),d&&(v.down=!0)},x:{get:function(){return this.position.x},set:function(h){this.position.x=h}},y:{get:function(){return this.position.y},set:function(h){this.position.y=h}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});f.exports=l},function(f,x,t){var a=new(t(0))({initialize:function(i,e,s,r,n,o,l){this.world=i,this.name="",this.active=!0,this.overlapOnly=e,this.object1=s,this.object2=r,this.collideCallback=n,this.processCallback=o,this.callbackContext=l},setName:function(i){return this.name=i,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});f.exports=a},function(f,x,t){var a=t(26),i=t(3),e=new i,s=new i;f.exports=function(r,n,o,l,h,u,c){var d=c.tilemapLayer.tilemap._convert.WorldToTileXY;d(r,n,!0,e,u,c);var v=e.x,g=e.y;d(r+o,n+l,!1,s,u,c);var m=Math.ceil(s.x),y=Math.ceil(s.y);return a(v,g,m-v,y-g,h,c)}},function(f,x){f.exports=function(t,a){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,a,t):!t.layer.callbacks[t.index]||!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,a,t)}},function(f,x,t){var a=t(436);function i(g){if(!(this instanceof i))return new i(g);this._maxEntries=Math.max(4,g||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function e(g,m){s(g,0,g.children.length,m,g)}function s(g,m,y,T,E){(E=E||d(null)).minX=1/0,E.minY=1/0,E.maxX=-1/0,E.maxY=-1/0;for(var S,C=m;C<y;C++)S=g.children[C],r(E,g.leaf?T(S):S);return E}function r(g,m){return g.minX=Math.min(g.minX,m.minX),g.minY=Math.min(g.minY,m.minY),g.maxX=Math.max(g.maxX,m.maxX),g.maxY=Math.max(g.maxY,m.maxY),g}function n(g,m){return g.minX-m.minX}function o(g,m){return g.minY-m.minY}function l(g){return(g.maxX-g.minX)*(g.maxY-g.minY)}function h(g){return g.maxX-g.minX+(g.maxY-g.minY)}function u(g,m){return g.minX<=m.minX&&g.minY<=m.minY&&m.maxX<=g.maxX&&m.maxY<=g.maxY}function c(g,m){return m.minX<=g.maxX&&m.minY<=g.maxY&&m.maxX>=g.minX&&m.maxY>=g.minY}function d(g){return{children:g,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(g,m,y,T,E){for(var S,C=[m,y];C.length;)(y=C.pop())-(m=C.pop())<=T||(S=m+Math.ceil((y-m)/T/2)*T,a(g,S,m,y,E),C.push(m,S,S,y))}i.prototype={all:function(){return this._all(this.data,[])},search:function(g){var m=this.data,y=[],T=this.toBBox;if(!c(g,m))return y;for(var E,S,C,M,P=[];m;){for(E=0,S=m.children.length;E<S;E++)C=m.children[E],c(g,M=m.leaf?T(C):C)&&(m.leaf?y.push(C):u(g,M)?this._all(C,y):P.push(C));m=P.pop()}return y},collides:function(g){var m=this.data,y=this.toBBox;if(!c(g,m))return!1;for(var T,E,S,C,M=[];m;){for(T=0,E=m.children.length;T<E;T++)if(S=m.children[T],c(g,C=m.leaf?y(S):S)){if(m.leaf||u(g,C))return!0;M.push(S)}m=M.pop()}return!1},load:function(g){if(!g||!g.length)return this;if(g.length<this._minEntries){for(var m=0,y=g.length;m<y;m++)this.insert(g[m]);return this}var T,E=this._build(g.slice(),0,g.length-1,0);return this.data.children.length?this.data.height===E.height?this._splitRoot(this.data,E):(this.data.height<E.height&&(T=this.data,this.data=E,E=T),this._insert(E,this.data.height-E.height-1,!0)):this.data=E,this},insert:function(g){return g&&this._insert(g,this.data.height-1),this},clear:function(){return this.data=d([]),this},remove:function(g,m){if(!g)return this;for(var y,T,E,S,C=this.data,M=this.toBBox(g),P=[],R=[];C||P.length;){if(C||(C=P.pop(),T=P[P.length-1],y=R.pop(),S=!0),C.leaf&&(E=function(L,w,B){if(!B)return w.indexOf(L);for(var G=0;G<w.length;G++)if(B(L,w[G]))return G;return-1}(g,C.children,m))!==-1)return C.children.splice(E,1),P.push(C),this._condense(P),this;S||C.leaf||!u(C,M)?T?(y++,C=T.children[y],S=!1):C=null:(P.push(C),R.push(y),y=0,C=(T=C).children[0])}return this},toBBox:function(g){return{minX:g.left,minY:g.top,maxX:g.right,maxY:g.bottom}},compareMinX:function(g,m){return g.left-m.left},compareMinY:function(g,m){return g.top-m.top},toJSON:function(){return this.data},fromJSON:function(g){return this.data=g,this},_all:function(g,m){for(var y=[];g;)g.leaf?m.push.apply(m,g.children):y.push.apply(y,g.children),g=y.pop();return m},_build:function(g,m,y,T){var E,S=y-m+1,C=this._maxEntries;if(S<=C)return e(E=d(g.slice(m,y+1)),this.toBBox),E;T||(T=Math.ceil(Math.log(S)/Math.log(C)),C=Math.ceil(S/Math.pow(C,T-1))),(E=d([])).leaf=!1,E.height=T;var M,P,R,L,w=Math.ceil(S/C),B=w*Math.ceil(Math.sqrt(C));for(v(g,m,y,B,this.compareMinX),M=m;M<=y;M+=B)for(v(g,M,R=Math.min(M+B-1,y),w,this.compareMinY),P=M;P<=R;P+=w)L=Math.min(P+w-1,R),E.children.push(this._build(g,P,L,T-1));return e(E,this.toBBox),E},_chooseSubtree:function(g,m,y,T){for(var E,S,C,M,P,R,L,w,B,G;T.push(m),!m.leaf&&T.length-1!==y;){for(L=w=1/0,E=0,S=m.children.length;E<S;E++)P=l(C=m.children[E]),B=g,G=C,(R=(Math.max(G.maxX,B.maxX)-Math.min(G.minX,B.minX))*(Math.max(G.maxY,B.maxY)-Math.min(G.minY,B.minY))-P)<w?(w=R,L=P<L?P:L,M=C):R===w&&P<L&&(L=P,M=C);m=M||m.children[0]}return m},_insert:function(g,m,y){var T=this.toBBox,E=y?g:T(g),S=[],C=this._chooseSubtree(E,this.data,m,S);for(C.children.push(g),r(C,E);0<=m&&S[m].children.length>this._maxEntries;)this._split(S,m),m--;this._adjustParentBBoxes(E,S,m)},_split:function(g,m){var y=g[m],T=y.children.length,E=this._minEntries;this._chooseSplitAxis(y,E,T);var S=this._chooseSplitIndex(y,E,T),C=d(y.children.splice(S,y.children.length-S));C.height=y.height,C.leaf=y.leaf,e(y,this.toBBox),e(C,this.toBBox),m?g[m-1].children.push(C):this._splitRoot(y,C)},_splitRoot:function(g,m){this.data=d([g,m]),this.data.height=g.height+1,this.data.leaf=!1,e(this.data,this.toBBox)},_chooseSplitIndex:function(g,m,y){for(var T,E,S,C,M,P,R,L,w,B,G,Y,D=M=1/0,F=m;F<=y-m;F++)T=s(g,0,F,this.toBBox),E=s(g,F,y,this.toBBox),R=T,L=E,Y=G=B=w=void 0,w=Math.max(R.minX,L.minX),B=Math.max(R.minY,L.minY),G=Math.min(R.maxX,L.maxX),Y=Math.min(R.maxY,L.maxY),S=Math.max(0,G-w)*Math.max(0,Y-B),C=l(T)+l(E),S<D?(D=S,P=F,M=C<M?C:M):S===D&&C<M&&(M=C,P=F);return P},_chooseSplitAxis:function(g,m,y){var T=g.leaf?this.compareMinX:n,E=g.leaf?this.compareMinY:o;this._allDistMargin(g,m,y,T)<this._allDistMargin(g,m,y,E)&&g.children.sort(T)},_allDistMargin:function(g,m,y,T){g.children.sort(T);for(var E,S=this.toBBox,C=s(g,0,m,S),M=s(g,y-m,y,S),P=h(C)+h(M),R=m;R<y-m;R++)E=g.children[R],r(C,g.leaf?S(E):E),P+=h(C);for(R=y-m-1;m<=R;R--)E=g.children[R],r(M,g.leaf?S(E):E),P+=h(M);return P},_adjustParentBBoxes:function(g,m,y){for(var T=y;0<=T;T--)r(m[T],g)},_condense:function(g){for(var m,y=g.length-1;0<=y;y--)g[y].children.length===0?0<y?(m=g[y-1].children).splice(m.indexOf(g[y]),1):this.clear():e(g[y],this.toBBox)}},f.exports=i},function(f,x,t){var a=t(533),i=t(535),e=t(248);f.exports=function(s,r,n,o,l,h,u){var c=o.left,d=o.top,v=o.right,g=o.bottom,m=n.faceLeft||n.faceRight,y=n.faceTop||n.faceBottom;if(u||(y=m=!0),!m&&!y)return!1;var T=0,E=0,S=0,C=1;if(r.deltaAbsX()>r.deltaAbsY()?S=-1:r.deltaAbsX()<r.deltaAbsY()&&(C=-1),r.deltaX()!==0&&r.deltaY()!==0&&m&&y&&(S=Math.min(Math.abs(r.position.x-v),Math.abs(r.right-c)),C=Math.min(Math.abs(r.position.y-g),Math.abs(r.bottom-d))),S<C){if(m&&(T=a(r,n,c,v,h,u))!==0&&!e(o,r))return!0;y&&(E=i(r,n,d,g,h,u))}else{if(y&&(E=i(r,n,d,g,h,u))!==0&&!e(o,r))return!0;m&&(T=a(r,n,c,v,h,u))}return T!==0||E!==0}},function(f,x,t){var a=t(534);f.exports=function(i,e,s,r,n,o){var l=0,h=e.faceLeft,u=e.faceRight,c=e.collideLeft,d=e.collideRight;return o||(d=c=u=h=!0),i.deltaX()<0&&d&&i.checkCollision.left?u&&i.x<r&&(l=i.x-r)<-n&&(l=0):0<i.deltaX()&&c&&i.checkCollision.right&&h&&i.right>s&&n<(l=i.right-s)&&(l=0),l!==0&&(i.customSeparateX?i.overlapX=l:a(i,l)),l}},function(f,x){f.exports=function(t,a){a<0?(t.blocked.none=!1,t.blocked.left=!0):0<a&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=a,t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x}},function(f,x,t){var a=t(536);f.exports=function(i,e,s,r,n,o){var l=0,h=e.faceTop,u=e.faceBottom,c=e.collideUp,d=e.collideDown;return o||(d=c=u=h=!0),i.deltaY()<0&&d&&i.checkCollision.up?u&&i.y<r&&(l=i.y-r)<-n&&(l=0):0<i.deltaY()&&c&&i.checkCollision.down&&h&&i.bottom>s&&n<(l=i.bottom-s)&&(l=0),l!==0&&(i.customSeparateY?i.overlapY=l:a(i,l)),l}},function(f,x){f.exports=function(t,a){a<0?(t.blocked.none=!1,t.blocked.up=!0):0<a&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=a,t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y}},function(f,x,t){var a=t(246),i=t(1389);f.exports=function(e,s,r,n){var o=a(e,s,r,n),l=e.immovable,h=s.immovable;if(r||o===0||l&&h||e.customSeparateX||s.customSeparateX)return o!==0||e.embedded&&s.embedded;var u=i.Set(e,s,o);return l||h?(l?i.RunImmovableBody1(u):h&&i.RunImmovableBody2(u),!0):0<u||i.Check()}},function(f,x,t){var a=t(247),i=t(1390);f.exports=function(e,s,r,n){var o=a(e,s,r,n),l=e.immovable,h=s.immovable;if(r||o===0||l&&h||e.customSeparateY||s.customSeparateY)return o!==0||e.embedded&&s.embedded;var u=i.Set(e,s,o);return l||h?(l?i.RunImmovableBody1(u):h&&i.RunImmovableBody2(u),!0):0<u||i.Check()}},function(f,x,t){var a=t(66),i=t(0),e=t(62),s=t(57),r=t(3),n=new i({initialize:function(o,l){var h=l.displayWidth?l.displayWidth:64,u=l.displayHeight?l.displayHeight:64;this.world=o,this.gameObject=l,this.debugShowBody=o.defaults.debugShowStaticBody,this.debugBodyColor=o.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(l.x-h*l.originX,l.y-u*l.originY),this.width=h,this.height=u,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=r.ZERO,this.allowGravity=!1,this.gravity=r.ZERO,this.bounce=r.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=e.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(o,l){return o&&o!==this.gameObject&&(this.gameObject.body=null,(o.body=this).gameObject=o),l&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var o=this.gameObject;return o.getTopLeft(this.position),this.width=o.displayWidth,this.height=o.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(o,l){return l===void 0&&(l=o),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(o,l),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(o,l,h){h===void 0&&(h=!0);var u,c,d=this.gameObject;return!o&&d.frame&&(o=d.frame.realWidth),!l&&d.frame&&(l=d.frame.realHeight),this.world.staticTree.remove(this),this.width=o,this.height=l,this.halfWidth=Math.floor(o/2),this.halfHeight=Math.floor(l/2),h&&d.getCenter&&(u=d.displayWidth/2,c=d.displayHeight/2,this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(u-this.halfWidth,c-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y),this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(o,l,h){return l===void 0&&(l=this.offset.x),h===void 0&&(h=this.offset.y),0<o?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=o,this.width=2*o,this.height=2*o,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(l,h),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(o,l){var h=this.gameObject;o===void 0&&(o=h.x),l===void 0&&(l=h.y),this.world.staticTree.remove(this),h.setPosition(o,l),h.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(o){return o.x=this.x,o.y=this.y,o.right=this.right,o.bottom=this.bottom,o},hitTest:function(o,l){return(this.isCircle?a:s)(this,o,l)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(o){var l=this.position,h=l.x+this.halfWidth,u=l.y+this.halfHeight;this.debugShowBody&&(o.lineStyle(o.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?o.strokeCircle(h,u,this.width/2):o.strokeRect(l.x,l.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(o){return o<=0&&(o=.1),this.mass=o,this},x:{get:function(){return this.position.x},set:function(o){this.world.staticTree.remove(this),this.position.x=o,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(o){this.world.staticTree.remove(this),this.position.y=o,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});f.exports=n},function(f,x,t){var a=new(t(0))({initialize:function(i){this.pluginManager=i,this.game=i.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});f.exports=a},function(f,x,t){var a=new(t(3));f.exports=function(i,e,s,r){var n=s.tilemapLayer,o=n.cullPaddingX,l=n.cullPaddingY,h=n.tilemap.tileToWorldXY(i,e,a,r,n);return h.x>r.worldView.x+n.scaleX*s.tileWidth*(-o-.5)&&h.x<r.worldView.right+n.scaleX*s.tileWidth*(o-.5)&&h.y>r.worldView.y+n.scaleY*s.tileHeight*(-l-1)&&h.y<r.worldView.bottom+n.scaleY*s.tileHeight*(l-.5)}},function(f,x,t){var a=t(26);f.exports=function(i,e,s,r,n,o,l){for(var h=a(s,r,n,o,null,l),u=0;u<h.length;u++)h[u]&&h[u].index===i&&(h[u].index=e)}},function(f,x,t){var a=t(10),i=t(139),e=t(76),s=new a;f.exports=function(r,n){var o=r.tilemapLayer.tilemap,l=r.tilemapLayer,h=Math.floor(o.tileWidth*l.scaleX),u=Math.floor(o.tileHeight*l.scaleY),c=e(n.worldView.x-l.x,h,0,!0)-l.cullPaddingX,d=i(n.worldView.right-l.x,h,0,!0)+l.cullPaddingX,v=e(n.worldView.y-l.y,u,0,!0)-l.cullPaddingY,g=i(n.worldView.bottom-l.y,u,0,!0)+l.cullPaddingY;return s.setTo(c,v,d-c,g-v)}},function(f,x,t){var a=t(543),i=t(159);f.exports=function(e,s,r,n){r===void 0&&(r=[]),n===void 0&&(n=0),r.length=0;var o=e.tilemapLayer,l=a(e,s);return!o.skipCull&&o.scrollFactorX===1&&o.scrollFactorY===1||(l.left=0,l.right=e.width,l.top=0,l.bottom=e.height),i(e,l,n,r),r}},function(f,x,t){var a=t(546),i=t(159);f.exports=function(e,s,r,n){r===void 0&&(r=[]),n===void 0&&(n=0),r.length=0;var o,l=e.tilemapLayer;return l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1||(o=a(e,s),i(e,o,n,r)),r}},function(f,x,t){var a=t(139),i=t(76);f.exports=function(e,s){var r=e.tilemapLayer.tilemap,n=e.tilemapLayer,o=Math.floor(r.tileWidth*n.scaleX),l=Math.floor(r.tileHeight*n.scaleY),h=e.hexSideLength,u=(l-h)/2+h;return{left:i(s.worldView.x-n.x,o,0,!0)-n.cullPaddingX,right:a(s.worldView.right-n.x,o,0,!0)+n.cullPaddingX,top:i(s.worldView.y-n.y,u,0,!0)-n.cullPaddingY,bottom:a(s.worldView.bottom-n.y,u,0,!0)+n.cullPaddingY}}},function(f,x,t){var a=t(541);f.exports=function(i,e,s,r){s===void 0&&(s=[]),r===void 0&&(r=0),s.length=0;var n,o,l,h=i.tilemapLayer,u=i.data,c=i.width,d=i.height,v=c,g=d;if(!h.skipCull){if(r===0){for(o=0;o<g;o++)for(n=0;u[o]&&n<v;n++)if(a(n,o,i,e)){if(!(l=u[o][n])||l.index===-1||!l.visible||l.alpha===0)continue;s.push(l)}}else if(r===1){for(o=0;o<g;o++)for(n=v;u[o]&&0<=n;n--)if(a(n,o,i,e)){if(!(l=u[o][n])||l.index===-1||!l.visible||l.alpha===0)continue;s.push(l)}}else if(r===2){for(o=g;0<=o;o--)for(n=0;u[o]&&n<v;n++)if(a(n,o,i,e)){if(!(l=u[o][n])||l.index===-1||!l.visible||l.alpha===0)continue;s.push(l)}}else if(r===3){for(o=g;0<=o;o--)for(n=v;u[o]&&0<=n;n--)if(a(n,o,i,e)){if(!(l=u[o][n])||l.index===-1||!l.visible||l.alpha===0)continue;s.push(l)}}}return h.tilesDrawn=s.length,h.tilesTotal=c*d,s}},function(f,x,t){var a=t(549),i=t(159);f.exports=function(e,s,r,n){r===void 0&&(r=[]),n===void 0&&(n=0),r.length=0;var o,l=e.tilemapLayer;return l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1||(o=a(e,s),i(e,o,n,r)),r}},function(f,x,t){var a=t(139),i=t(76);f.exports=function(e,s){var r=e.tilemapLayer.tilemap,n=e.tilemapLayer,o=Math.floor(r.tileWidth*n.scaleX),l=Math.floor(r.tileHeight*n.scaleY);return{left:i(s.worldView.x-n.x,o,0,!0)-n.cullPaddingX,right:a(s.worldView.right-n.x,o,0,!0)+n.cullPaddingX,top:i(s.worldView.y-n.y,l/2,0,!0)-n.cullPaddingY,bottom:a(s.worldView.bottom-n.y,l/2,0,!0)+n.cullPaddingY}}},function(f,x,t){var a=t(3);f.exports=function(i,e,s,r,n){s=s||new a;var o=n.baseTileWidth,l=n.baseTileHeight,h=n.tilemapLayer,u=0,c=0;h&&(r=r||h.scene.cameras.main,u=h.x+r.scrollX*(1-h.scrollFactorX),o*=h.scaleX,c=h.y+r.scrollY*(1-h.scrollFactorY),l*=h.scaleY);var d=n.hexSideLength,v=u+i*o+e%2*(o/2),g=c+e*((l-d)/2+d);return s.set(v,g)}},function(f,x,t){var a=t(3);f.exports=function(i,e,s,r,n){s=s||new a;var o=n.baseTileWidth,l=n.baseTileHeight,h=n.tilemapLayer,u=0,c=0;h&&(r=r||h.scene.cameras.main,u=h.x+r.scrollX*(1-h.scrollFactorX),o*=h.scaleX,c=h.y+r.scrollY*(1-h.scrollFactorY),l*=h.scaleY);var d=u+o/2*(i-e),v=c+(i+e)*(l/2);return s.set(d,v)}},function(f,x,t){var a=t(3);f.exports=function(i,e,s,r,n){s=s||new a;var o=n.baseTileWidth,l=n.baseTileHeight,h=n.tilemapLayer,u=0,c=0;h&&(r=r||h.scene.cameras.main,u=h.x+r.scrollX*(1-h.scrollFactorX),o*=h.scaleX,c=h.y+r.scrollY*(1-h.scrollFactorY),l*=h.scaleY);var d=u+i*o+e%2*(o/2),v=c+e*(l/2);return s.set(d,v)}},function(f,x,t){var a=t(253),i=t(254),e=t(3);f.exports=function(s,r,n,o,l){return(n=n||new e(0,0)).x=a(s,o,l),n.y=i(r,o,l),n}},function(f,x){f.exports=function(t,a,i){var e=i.baseTileHeight,s=i.tilemapLayer,r=0;s&&(a===void 0&&(a=s.scene.cameras.main),r=s.y+a.scrollY*(1-s.scrollFactorY),e*=s.scaleY);var n=s.tilemap.hexSideLength;return r+t*((e-n)/2+n)}},function(f,x){f.exports=function(t,a,i){var e=i.baseTileHeight,s=i.tilemapLayer,r=0;return s&&(a===void 0&&(a=s.scene.cameras.main),r=s.y+a.scrollY*(1-s.scrollFactorY),e*=s.scaleY),r+t*(e/2)}},function(f,x,t){var a=t(3);f.exports=function(i,e,s,r,n,o){r=r||new a;var l=o.baseTileWidth,h=o.baseTileHeight,u=o.tilemapLayer;u&&(n=n||u.scene.cameras.main,e-=u.y+n.scrollY*(1-u.scrollFactorY),h*=u.scaleY,i-=u.x+n.scrollX*(1-u.scrollFactorX),l*=u.scaleX);var c=o.hexSideLength,d=(h-c)/2+c,v=s?Math.floor(e/d):e/d,g=s?Math.floor((i-v%2*.5*l)/l):(i-v%2*.5*l)/l;return r.set(g,v)}},function(f,x,t){var a=t(3);f.exports=function(i,e,s,r,n,o){r=r||new a;var l=o.baseTileWidth,h=o.baseTileHeight,u=o.tilemapLayer;u&&(n=n||u.scene.cameras.main,e-=u.y+n.scrollY*(1-u.scrollFactorY),h*=u.scaleY,i-=u.x+n.scrollX*(1-u.scrollFactorX),l*=u.scaleX);var c=s?Math.floor((i/(l/2)+e/(h/2))/2):(i/(l/2)+e/(h/2))/2,d=s?Math.floor((e/(h/2)-i/(l/2))/2):(e/(h/2)-i/(l/2))/2;return r.set(c,d)}},function(f,x,t){var a=t(3);f.exports=function(i,e,s,r,n,o){r=r||new a;var l=o.baseTileWidth,h=o.baseTileHeight,u=o.tilemapLayer;u&&(n=n||u.scene.cameras.main,e-=u.y+n.scrollY*(1-u.scrollFactorY),h*=u.scaleY,i-=u.x+n.scrollX*(1-u.scrollFactorX),l*=u.scaleX);var c=s?Math.floor(e/(h/2)):e/(h/2),d=s?Math.floor((i+c%2*.5*l)/l):(i+c%2*.5*l)/l;return r.set(d,c)}},function(f,x,t){var a=t(255),i=t(256),e=t(3);f.exports=function(s,r,n,o,l,h){return n===void 0&&(n=!0),(o=o||new e(0,0)).x=a(s,n,l,h),o.y=i(r,n,l,h),o}},function(f,x){f.exports=function(t,a,i,e){var s=e.baseTileHeight,r=e.tilemapLayer;r&&(i=i||r.scene.cameras.main,t-=r.y+i.scrollY*(1-r.scrollFactorY),s*=r.scaleY);var n=e.hexSideLength,o=(s-n)/2+n;return a?Math.floor(t/o):t/o}},function(f,x){f.exports=function(t,a,i,e){var s=e.baseTileHeight,r=e.tilemapLayer;return r&&(i=i||r.scene.cameras.main,t-=r.y+i.scrollY*(1-r.scrollFactorY),s*=r.scaleY),a?Math.floor(t/(s/2)):t/(s/2)}},function(f,x,t){var a=t(119);f.exports=function(i,e,s){if(a(i,e,s)){var r=s.data[e][i];return r!==null&&-1<r.index}return!1}},function(f,x,t){var a=t(85),i=t(119),e=t(252);f.exports=function(s,r,n,o,l){if(n===void 0&&(n=!0),o===void 0&&(o=!0),!i(s,r,l))return null;var h=l.data[r][s];return h?(l.data[r][s]=n?null:new a(l,-1,s,r,l.tileWidth,l.tileHeight),o&&h&&h.collides&&e(s,r,l),h):null}},function(f,x,t){var a=t(40),i=t(259),e=t(565),s=t(566),r=t(577);f.exports=function(n,o,l,h,u,c){var d;switch(o){case a.ARRAY_2D:d=i(n,l,h,u,c);break;case a.CSV:d=e(n,l,h,u,c);break;case a.TILED_JSON:d=s(n,l,c);break;case a.WELTMEISTER:d=r(n,l,c);break;default:console.warn("Unrecognized tilemap data format: "+o),d=null}return d}},function(f,x,t){var a=t(40),i=t(259);f.exports=function(e,s,r,n,o){var l=s.trim().split(`
`).map(function(u){return u.split(",")}),h=i(e,l,r,n,o);return h.format=a.CSV,h}},function(f,x,t){var a=t(567),i=t(568),e=t(29),s=t(40),r=t(258),n=t(121),o=t(569),l=t(570),h=t(573),u=t(575);f.exports=function(c,d,v){var g=new n({width:d.width,height:d.height,name:c,tileWidth:d.tilewidth,tileHeight:d.tileheight,orientation:r(d.orientation),format:s.TILED_JSON,version:d.version,properties:d.properties,renderOrder:d.renderorder,infinite:d.infinite});g.orientation===e.HEXAGONAL&&(g.hexSideLength=d.hexsidelength),g.layers=h(d,v),g.images=o(d);var m=u(d);return g.tilesets=m.tilesets,g.imageCollections=m.imageCollections,g.objects=l(d),g.tiles=i(g),a(g),g}},function(f,x,t){var a=t(17);f.exports=function(i){for(var e,s,r,n,o,l=0;l<i.layers.length;l++){e=i.layers[l];for(var h=0;h<e.data.length;h++){o=e.data[h];for(var u=0;u<o.length;u++)(s=o[u])===null||s.index<0||(r=i.tiles[s.index][2],n=i.tilesets[r],s.width=n.tileWidth,s.height=n.tileHeight,n.tileProperties&&n.tileProperties[s.index-n.firstgid]&&(s.properties=a(s.properties,n.tileProperties[s.index-n.firstgid])))}}}},function(f,x,t){var a=t(122);f.exports=function(i){for(var e=[],s=0;s<i.imageCollections.length;s++)for(var r=i.imageCollections[s],n=r.images,o=0;o<n.length;o++){var l,h=n[o];(l=new a(h.image,h.gid,r.imageWidth,r.imageHeight,0,0)).updateTileData(r.imageWidth,r.imageHeight),i.tilesets.push(l)}for(s=0;s<i.tilesets.length;s++)for(var u=(l=i.tilesets[s]).tileMargin,c=l.tileMargin,d=0,v=0,g=0,m=l.firstgid;m<l.firstgid+l.total&&(e[m]=[u,c,s],u+=l.tileWidth+l.tileSpacing,++d!==l.total)&&(++v!==l.columns||(u=l.tileMargin,c+=l.tileHeight+l.tileSpacing,v=0,++g!==l.rows));m++);return e}},function(f,x,t){var a=t(2),i=t(161);f.exports=function(e){for(var s=[],r=[],n=i(e);n.i<n.layers.length||0<r.length;)if(n.i>=n.layers.length){if(r.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=r.pop()}else{var o,l,h,u=n.layers[n.i];n.i++,u.type==="imagelayer"?(o=a(u,"offsetx",0)+a(u,"startx",0),l=a(u,"offsety",0)+a(u,"starty",0),s.push({name:n.name+u.name,image:u.image,x:n.x+o+u.x,y:n.y+l+u.y,alpha:n.opacity*u.opacity,visible:n.visible&&u.visible,properties:a(u,"properties",{})})):u.type==="group"&&(h=i(e,u,n),r.push(n),n=h)}return s}},function(f,x,t){var a=t(2),i=t(260),e=t(572),s=t(161);f.exports=function(r){for(var n=[],o=[],l=s(r);l.i<l.layers.length||0<o.length;)if(l.i>=l.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}l=o.pop()}else{var h,u=l.layers[l.i];if(l.i++,u.opacity*=l.opacity,u.visible=l.visible&&u.visible,u.type==="objectgroup"){u.name=l.name+u.name;for(var c=l.x+a(u,"startx",0)+a(u,"offsetx",0),d=l.y+a(u,"starty",0)+a(u,"offsety",0),v=[],g=0;g<u.objects.length;g++){var m=i(u.objects[g],c,d);v.push(m)}var y=new e(u);y.objects=v,n.push(y)}else u.type==="group"&&(h=s(r,u,l),o.push(l),l=h)}return n}},function(f,x,t){var a=t(126);f.exports=function(i,e){for(var s={},r=0;r<e.length;r++){var n=e[r];a(i,n)&&(s[n]=i[n])}return s}},function(f,x,t){var a=t(0),i=t(2),e=new a({initialize:function(s){s===void 0&&(s={}),this.name=i(s,"name","object layer"),this.opacity=i(s,"opacity",1),this.properties=i(s,"properties",{}),this.propertyTypes=i(s,"propertytypes",{}),this.type=i(s,"type","objectgroup"),this.visible=i(s,"visible",!0),this.objects=i(s,"objects",[])}});f.exports=e},function(f,x,t){var a=t(574),i=t(29),e=t(161),s=t(258),r=t(2),n=t(120),o=t(261),l=t(85);f.exports=function(h,u){for(var c=r(h,"infinite",!1),d=[],v=[],g=e(h);g.i<g.layers.length||0<v.length;)if(g.i>=g.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}g=v.pop()}else{var m,y=g.layers[g.i];if(g.i++,y.type==="tilelayer")if(y.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+y.name+"'");else{if(y.encoding&&y.encoding==="base64"){if(y.chunks)for(var T=0;T<y.chunks.length;T++)y.chunks[T].data=a(y.chunks[T].data);y.data&&(y.data=a(y.data)),delete y.encoding}var E,S,C=[],M=0;if(c){var P,R=r(y,"startx",0)+y.x,L=r(y,"starty",0)+y.y;(P=new n({name:g.name+y.name,x:g.x+r(y,"offsetx",0)+R*h.tilewidth,y:g.y+r(y,"offsety",0)+L*h.tileheight,width:y.width,height:y.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*y.opacity,visible:g.visible&&y.visible,properties:r(y,"properties",[]),orientation:s(h.orientation)})).orientation===i.HEXAGONAL&&(P.hexSideLength=h.hexsidelength);for(var w=0;w<y.height;w++){C.push([null]);for(var B=0;B<y.width;B++)C[w][B]=null}for(w=0,W=y.chunks.length;w<W;w++)for(var G=y.chunks[w],Y=G.x-R,D=G.y-L,F=0,N=0,I=G.data.length;N<I;N++){var b,U=M+Y,X=F+D;0<(b=o(G.data[N])).gid?((E=new l(P,b.gid,U,X,h.tilewidth,h.tileheight)).rotation=b.rotation,E.flipX=b.flipped,C[X][U]=E):(S=u?null:new l(P,-1,U,X,h.tilewidth,h.tileheight),C[X][U]=S),++M===G.width&&(F++,M=0)}}else{(P=new n({name:g.name+y.name,x:g.x+r(y,"offsetx",0)+y.x,y:g.y+r(y,"offsety",0)+y.y,width:y.width,height:y.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*y.opacity,visible:g.visible&&y.visible,properties:r(y,"properties",[]),orientation:s(h.orientation)})).orientation===i.HEXAGONAL&&(P.hexSideLength=h.hexsidelength);for(var z=[],V=0,W=y.data.length;V<W;V++)0<(b=o(y.data[V])).gid?((E=new l(P,b.gid,M,C.length,h.tilewidth,h.tileheight)).rotation=b.rotation,E.flipX=b.flipped,z.push(E)):(S=u?null:new l(P,-1,M,C.length,h.tilewidth,h.tileheight),z.push(S)),++M===y.width&&(C.push(z),M=0,z=[])}P.data=C,d.push(P)}else y.type==="group"&&(m=e(h,y,g),v.push(g),g=m)}return d}},function(f,x){f.exports=function(t){for(var a=window.atob(t),i=a.length,e=new Array(i/4),s=0;s<i;s+=4)e[s/4]=(a.charCodeAt(s)|a.charCodeAt(s+1)<<8|a.charCodeAt(s+2)<<16|a.charCodeAt(s+3)<<24)>>>0;return e}},function(f,x,t){var a=t(122),i=t(576),e=t(260),s=t(1453);f.exports=function(r){for(var n,o=[],l=[],h=null,u=0;u<r.tilesets.length;u++){var c=r.tilesets[u];if(c.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(c.image){var d=new a(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing);if(1<r.version){var v=void 0,g=void 0;if(Array.isArray(c.tiles)){v=v||{},g=g||{};for(var m=0;m<c.tiles.length;m++){var y,T,E=c.tiles[m];E.properties&&(y={},E.properties.forEach(function(B){y[B.name]=B.value}),g[E.id]=y),E.objectgroup&&((v[E.id]||(v[E.id]={})).objectgroup=E.objectgroup,E.objectgroup.objects&&(T=E.objectgroup.objects.map(function(B){return e(B)}),v[E.id].objectgroup.objects=T)),E.animation&&((v[E.id]||(v[E.id]={})).animation=E.animation),E.type&&((v[E.id]||(v[E.id]={})).type=E.type)}}Array.isArray(c.wangsets)&&(v=v||{},g=g||{},s(c.wangsets,v)),v&&(d.tileData=v,d.tileProperties=g)}else if(c.tileproperties&&(d.tileProperties=c.tileproperties),c.tiles)for(n in d.tileData=c.tiles,d.tileData){var S,C=d.tileData[n].objectgroup;C&&C.objects&&(S=C.objects.map(function(B){return e(B)}),d.tileData[n].objectgroup.objects=S)}d.updateTileData(c.imagewidth,c.imageheight),o.push(d)}else{for(var M=new i(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,c.properties),P=0,m=0;m<c.tiles.length;m++){var R=(E=c.tiles[m]).image,L=parseInt(E.id,10),w=c.firstgid+L;M.addImage(w,R),P=Math.max(L,P)}M.maxId=P,l.push(M)}h&&(h.lastgid=c.firstgid-1),h=c}return{tilesets:o,imageCollections:l}}},function(f,x,t){var a=new(t(0))({initialize:function(i,e,s,r,n,o,l){(s===void 0||s<=0)&&(s=32),(r===void 0||r<=0)&&(r=32),n===void 0&&(n=0),o===void 0&&(o=0),this.name=i,this.firstgid=0|e,this.imageWidth=0|s,this.imageHeight=0|r,this.imageMargin=0|n,this.imageSpacing=0|o,this.properties=l||{},this.images=[],this.total=0},containsImageIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},addImage:function(i,e){return this.images.push({gid:i,image:e}),this.total++,this}});f.exports=a},function(f,x,t){var a=t(40),i=t(121),e=t(578),s=t(579);f.exports=function(r,n,o){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+r),null;for(var l=0,h=0,u=0;u<n.layer.length;u++)n.layer[u].width>l&&(l=n.layer[u].width),n.layer[u].height>h&&(h=n.layer[u].height);var c=new i({width:l,height:h,name:r,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:a.WELTMEISTER});return c.layers=e(n,o),c.tilesets=s(n),c}},function(f,x,t){var a=t(120),i=t(85);f.exports=function(e,s){for(var r=[],n=0;n<e.layer.length;n++){for(var o=e.layer[n],l=new a({name:o.name,width:o.width,height:o.height,tileWidth:o.tilesize,tileHeight:o.tilesize,visible:o.visible===1}),h=[],u=[],c=0;c<o.data.length;c++){for(var d=0;d<o.data[c].length;d++){var v=o.data[c][d]-1,g=-1<v?new i(l,v,d,c,o.tilesize,o.tilesize):s?null:new i(l,-1,d,c,o.tilesize,o.tilesize);h.push(g)}u.push(h),h=[]}l.data=u,r.push(l)}return r}},function(f,x,t){var a=t(122);f.exports=function(i){for(var e=[],s=[],r=0;r<i.layer.length;r++){var n=i.layer[r],o=n.tilesetName;o!==""&&s.indexOf(o)===-1&&(s.push(o),e.push(new a(o,0,n.tilesize,n.tilesize,0,0)))}return e}},function(f,x,t){var a=t(0),i=t(36),e=t(40),s=t(2),r=t(120),n=t(29),o=t(362),l=t(74),h=t(73),u=t(85),c=t(251),d=t(581),v=t(122),g=new a({initialize:function(m,y){this.scene=m,this.tileWidth=y.tileWidth,this.tileHeight=y.tileHeight,this.width=y.width,this.height=y.height,this.orientation=y.orientation,this.renderOrder=y.renderOrder,this.format=y.format,this.version=y.version,this.properties=y.properties,this.widthInPixels=y.widthInPixels,this.heightInPixels=y.heightInPixels,this.imageCollections=y.imageCollections,this.images=y.images,this.layers=y.layers,this.tilesets=y.tilesets,this.objects=y.objects,this.currentLayerIndex=0,this.hexSideLength=y.hexSideLength;var T=this.orientation;this._convert={WorldToTileXY:c.GetWorldToTileXYFunction(T),WorldToTileX:c.GetWorldToTileXFunction(T),WorldToTileY:c.GetWorldToTileYFunction(T),TileToWorldXY:c.GetTileToWorldXYFunction(T),TileToWorldX:c.GetTileToWorldXFunction(T),TileToWorldY:c.GetTileToWorldYFunction(T)}},createBlankDynamicLayer:function(m,y,T,E,S,C,M,P){return console.warn("createBlankDynamicLayer is deprecated. Use createBlankLayer"),this.createBlankLayer(m,y,T,E,S,C,M,P)},createDynamicLayer:function(m,y,T,E){return console.warn("createDynamicLayer is deprecated. Use createLayer"),this.createLayer(m,y,T,E)},createStaticLayer:function(m,y,T,E){return console.warn("createStaticLayer is deprecated. Use createLayer"),this.createLayer(m,y,T,E)},setRenderOrder:function(m){var y=["right-down","left-down","right-up","left-up"];return typeof m=="number"&&(m=y[m]),-1<y.indexOf(m)&&(this.renderOrder=m),this},addTilesetImage:function(m,y,T,E,S,C,M){if(m===void 0)return null;if(y==null&&(y=m),!this.scene.sys.textures.exists(y))return console.warn("Invalid Tileset Image: "+y),null;var P=this.scene.sys.textures.get(y),R=this.getTilesetIndex(m);if(R===null&&this.format===e.TILED_JSON)return console.warn("No data found for Tileset: "+m),null;var L=this.tilesets[R];return L?(L.setTileSize(T,E),L.setSpacing(S,C),L.setImage(P)):(T===void 0&&(T=this.tileWidth),E===void 0&&(E=this.tileHeight),S===void 0&&(S=0),C===void 0&&(C=0),M===void 0&&(M=0),(L=new v(m,M,T,E,S,C)).setImage(P),this.tilesets.push(L)),L},copy:function(m,y,T,E,S,C,M,P){return(P=this.getLayer(P))!==null?(c.Copy(m,y,T,E,S,C,M,P),this):null},createBlankLayer:function(m,y,T,E,S,C,M,P){if(T===void 0&&(T=0),E===void 0&&(E=0),S===void 0&&(S=this.width),C===void 0&&(C=this.height),M===void 0&&(M=this.tileWidth),P===void 0&&(P=this.tileHeight),this.getLayerIndex(m)!==null)return console.warn("Invalid Tilemap Layer ID: "+m),null;for(var R,L=new r({name:m,tileWidth:M,tileHeight:P,width:S,height:C,orientation:this.orientation}),w=0;w<C;w++){R=[];for(var B=0;B<S;B++)R.push(new u(L,-1,B,w,M,P,this.tileWidth,this.tileHeight));L.data.push(R)}this.layers.push(L),this.currentLayerIndex=this.layers.length-1;var G=new d(this.scene,this,this.currentLayerIndex,y,T,E);return G.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(G),G},createLayer:function(m,y,T,E){var S=this.getLayerIndex(m);if(S===null)return console.warn("Invalid Tilemap Layer ID: "+m),typeof m=="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var C=this.layers[S];if(C.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+m),null;this.currentLayerIndex=S,T===void 0&&(T=C.x),E===void 0&&(E=C.y);var M=new d(this.scene,this,S,y,T,E);return M.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(M),M},createFromObjects:function(m,y){var T=[],E=this.getObjectLayer(m);if(!E)return console.warn("createFromObjects: Invalid objectLayerName given: "+m),T;Array.isArray(y)||(y=[y]);for(var S=E.objects,C=0;C<y.length;C++){for(var M,P=y[C],R=s(P,"id",null),L=s(P,"gid",null),w=s(P,"name",null),B=[],G=0;G<S.length;G++)M=S[G],(R===null&&L===null&&w===null||R!==null&&M.id===R||L!==null&&M.gid===L||w!==null&&M.name===w)&&B.push(M);for(var Y=s(P,"classType",h),D=s(P,"scene",this.scene),F=s(P,"container",null),N=s(P,"key",null),I=s(P,"frame",null),b=0;b<B.length;b++){M=B[b];var U=new Y(D);U.setName(M.name),U.setPosition(M.x,M.y),U.setTexture(N,I),M.width&&(U.displayWidth=M.width),M.height&&(U.displayHeight=M.height);var X,z={x:U.originX*M.width,y:(U.originY-1)*M.height};if(M.rotation&&(X=i(M.rotation),o(z,X),U.rotation=X),U.x+=z.x,U.y+=z.y,M.flippedHorizontal===void 0&&M.flippedVertical===void 0||U.setFlip(M.flippedHorizontal,M.flippedVertical),M.visible||(U.visible=!1),Array.isArray(M.properties))M.properties.forEach(function(W){var H=W.name;U[H]!==void 0?U[H]=W.value:U.setData(H,W.value)});else for(var V in M.properties)U[V]!==void 0?U[V]=M.properties[V]:U.setData(V,M.properties[V]);F?F.add(U):D.add.existing(U),T.push(U)}}return T},createFromTiles:function(m,y,T,E,S,C){return(C=this.getLayer(C))===null?null:c.CreateFromTiles(m,y,T,E,S,C)},fill:function(m,y,T,E,S,C,M){return C===void 0&&(C=!0),(M=this.getLayer(M))===null?null:(c.Fill(m,y,T,E,S,C,M),this)},filterObjects:function(m,y,T){if(typeof m=="string"){var E=m;if(!(m=this.getObjectLayer(m)))return console.warn("No object layer found with the name: "+E),null}return m.objects.filter(y,T)},filterTiles:function(m,y,T,E,S,C,M,P){return(P=this.getLayer(P))===null?null:c.FilterTiles(m,y,T,E,S,C,M,P)},findByIndex:function(m,y,T,E){return(E=this.getLayer(E))===null?null:c.FindByIndex(m,y,T,E)},findObject:function(m,y,T){if(typeof m=="string"){var E=m;if(!(m=this.getObjectLayer(m)))return console.warn("No object layer found with the name: "+E),null}return m.objects.find(y,T)||null},findTile:function(m,y,T,E,S,C,M,P){return(P=this.getLayer(P))===null?null:c.FindTile(m,y,T,E,S,C,M,P)},forEachTile:function(m,y,T,E,S,C,M,P){return(P=this.getLayer(P))===null?null:(c.ForEachTile(m,y,T,E,S,C,M,P),this)},getImageIndex:function(m){return this.getIndex(this.images,m)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map(function(m){return m.name}):[]},getIndex:function(m,y){for(var T=0;T<m.length;T++)if(m[T].name===y)return T;return null},getLayer:function(m){var y=this.getLayerIndex(m);return y!==null?this.layers[y]:null},getObjectLayer:function(m){var y=this.getIndex(this.objects,m);return y!==null?this.objects[y]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map(function(m){return m.name}):[]},getLayerIndex:function(m){return m===void 0?this.currentLayerIndex:typeof m=="string"?this.getLayerIndexByName(m):typeof m=="number"&&m<this.layers.length?m:m instanceof d?m.layerIndex:null},getLayerIndexByName:function(m){return this.getIndex(this.layers,m)},getTileAt:function(m,y,T,E){return(E=this.getLayer(E))===null?null:c.GetTileAt(m,y,T,E)},getTileAtWorldXY:function(m,y,T,E,S){return(S=this.getLayer(S))===null?null:c.GetTileAtWorldXY(m,y,T,E,S)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map(function(m){return m.name}):[]},getTilesWithin:function(m,y,T,E,S,C){return(C=this.getLayer(C))===null?null:c.GetTilesWithin(m,y,T,E,S,C)},getTilesWithinShape:function(m,y,T,E){return(E=this.getLayer(E))===null?null:c.GetTilesWithinShape(m,y,T,E)},getTilesWithinWorldXY:function(m,y,T,E,S,C,M){return(M=this.getLayer(M))===null?null:c.GetTilesWithinWorldXY(m,y,T,E,S,C,M)},getTileset:function(m){var y=this.getIndex(this.tilesets,m);return y!==null?this.tilesets[y]:null},getTilesetIndex:function(m){return this.getIndex(this.tilesets,m)},hasTileAt:function(m,y,T){return(T=this.getLayer(T))===null?null:c.HasTileAt(m,y,T)},hasTileAtWorldXY:function(m,y,T,E){return(E=this.getLayer(E))===null?null:c.HasTileAtWorldXY(m,y,T,E)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(m){this.setLayer(m)}},putTileAt:function(m,y,T,E,S){return E===void 0&&(E=!0),(S=this.getLayer(S))===null?null:c.PutTileAt(m,y,T,E,S)},putTileAtWorldXY:function(m,y,T,E,S,C){return E===void 0&&(E=!0),(C=this.getLayer(C))===null?null:c.PutTileAtWorldXY(m,y,T,E,S,C)},putTilesAt:function(m,y,T,E,S){return E===void 0&&(E=!0),(S=this.getLayer(S))===null?null:(c.PutTilesAt(m,y,T,E,S),this)},randomize:function(m,y,T,E,S,C){return(C=this.getLayer(C))===null?null:(c.Randomize(m,y,T,E,S,C),this)},calculateFacesAt:function(m,y,T){return(T=this.getLayer(T))===null?null:(c.CalculateFacesAt(m,y,T),this)},calculateFacesWithin:function(m,y,T,E,S){return(S=this.getLayer(S))===null?null:(c.CalculateFacesWithin(m,y,T,E,S),this)},removeLayer:function(m){var y=this.getLayerIndex(m);if(y===null)return null;l(this.layers,y);for(var T=y;T<this.layers.length;T++)this.layers[T].tilemapLayer&&this.layers[T].tilemapLayer.layerIndex--;return this.currentLayerIndex===y&&(this.currentLayerIndex=0),this},destroyLayer:function(m){var y=this.getLayerIndex(m);return y!==null?((m=this.layers[y]).destroy(),l(this.layers,y),this.currentLayerIndex===y&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var m=this.layers,y=0;y<m.length;y++)m[y].tilemapLayer&&m[y].tilemapLayer.destroy(!1);return m.length=0,this.currentLayerIndex=0,this},removeTile:function(m,y,T){y===void 0&&(y=-1),T===void 0&&(T=!0);var E=[];Array.isArray(m)||(m=[m]);for(var S=0;S<m.length;S++){var C=m[S];E.push(this.removeTileAt(C.x,C.y,!0,T,C.tilemapLayer)),-1<y&&this.putTileAt(y,C.x,C.y,T,C.tilemapLayer)}return E},removeTileAt:function(m,y,T,E,S){return T===void 0&&(T=!0),E===void 0&&(E=!0),(S=this.getLayer(S))===null?null:c.RemoveTileAt(m,y,T,E,S)},removeTileAtWorldXY:function(m,y,T,E,S,C){return T===void 0&&(T=!0),E===void 0&&(E=!0),(C=this.getLayer(C))===null?null:c.RemoveTileAtWorldXY(m,y,T,E,S,C)},renderDebug:function(m,y,T){return(T=this.getLayer(T))===null?null:(this.orientation===n.ORTHOGONAL&&c.RenderDebug(m,y,T),this)},renderDebugFull:function(m,y){for(var T=this.layers,E=0;E<T.length;E++)c.RenderDebug(m,y,T[E]);return this},replaceByIndex:function(m,y,T,E,S,C,M){return(M=this.getLayer(M))===null?null:(c.ReplaceByIndex(m,y,T,E,S,C,M),this)},setCollision:function(m,y,T,E,S){return y===void 0&&(y=!0),T===void 0&&(T=!0),S===void 0&&(S=!0),(E=this.getLayer(E))===null?null:(c.SetCollision(m,y,T,E,S),this)},setCollisionBetween:function(m,y,T,E,S){return T===void 0&&(T=!0),E===void 0&&(E=!0),(S=this.getLayer(S))===null?null:(c.SetCollisionBetween(m,y,T,E,S),this)},setCollisionByProperty:function(m,y,T,E){return y===void 0&&(y=!0),T===void 0&&(T=!0),(E=this.getLayer(E))===null?null:(c.SetCollisionByProperty(m,y,T,E),this)},setCollisionByExclusion:function(m,y,T,E){return y===void 0&&(y=!0),T===void 0&&(T=!0),(E=this.getLayer(E))===null?null:(c.SetCollisionByExclusion(m,y,T,E),this)},setCollisionFromCollisionGroup:function(m,y,T){return m===void 0&&(m=!0),y===void 0&&(y=!0),(T=this.getLayer(T))===null?null:(c.SetCollisionFromCollisionGroup(m,y,T),this)},setTileIndexCallback:function(m,y,T,E){return(E=this.getLayer(E))===null?null:(c.SetTileIndexCallback(m,y,T,E),this)},setTileLocationCallback:function(m,y,T,E,S,C,M){return(M=this.getLayer(M))===null?null:(c.SetTileLocationCallback(m,y,T,E,S,C,M),this)},setLayer:function(m){var y=this.getLayerIndex(m);return y!==null&&(this.currentLayerIndex=y),this},setBaseTileSize:function(m,y){this.tileWidth=m,this.tileHeight=y,this.widthInPixels=this.width*m,this.heightInPixels=this.height*y;for(var T=0;T<this.layers.length;T++){this.layers[T].baseTileWidth=m,this.layers[T].baseTileHeight=y;for(var E=this.layers[T].data,S=this.layers[T].width,C=this.layers[T].height,M=0;M<C;M++)for(var P=0;P<S;P++){var R=E[M][P];R!==null&&R.setSize(void 0,void 0,m,y)}}return this},setLayerTileSize:function(m,y,T){if((T=this.getLayer(T))===null)return this;T.tileWidth=m,T.tileHeight=y;for(var E=T.data,S=T.width,C=T.height,M=0;M<C;M++)for(var P=0;P<S;P++){var R=E[M][P];R!==null&&R.setSize(m,y)}return this},shuffle:function(m,y,T,E,S){return(S=this.getLayer(S))===null?null:(c.Shuffle(m,y,T,E,S),this)},swapByIndex:function(m,y,T,E,S,C,M){return(M=this.getLayer(M))===null?null:(c.SwapByIndex(m,y,T,E,S,C,M),this)},tileToWorldX:function(m,y,T){return(T=this.getLayer(T))===null?null:this._convert.TileToWorldX(m,y,T)},tileToWorldY:function(m,y,T){return(T=this.getLayer(T))===null?null:this._convert.TileToWorldY(m,y,T)},tileToWorldXY:function(m,y,T,E,S){return(S=this.getLayer(S))===null?null:this._convert.TileToWorldXY(m,y,T,E,S)},weightedRandomize:function(m,y,T,E,S,C){return(C=this.getLayer(C))===null?null:(c.WeightedRandomize(y,T,E,S,m,C),this)},worldToTileX:function(m,y,T,E){return(E=this.getLayer(E))===null?null:this._convert.WorldToTileX(m,y,T,E)},worldToTileY:function(m,y,T,E){return(E=this.getLayer(E))===null?null:this._convert.WorldToTileY(m,y,T,E)},worldToTileXY:function(m,y,T,E,S,C){return(C=this.getLayer(C))===null?null:this._convert.WorldToTileXY(m,y,T,E,S,C)},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=null}});f.exports=g},function(f,x,t){var a=t(0),i=t(11),e=t(15),s=t(251),r=t(1456),n=new a({Extends:e,Mixins:[i.Alpha,i.BlendMode,i.ComputedSize,i.Depth,i.Flip,i.GetBounds,i.Origin,i.Pipeline,i.Transform,i.Visible,i.ScrollFactor,r],initialize:function(o,l,h,u,c,d){e.call(this,o,"TilemapLayer"),this.isTilemap=!0,this.tilemap=l,this.layerIndex=h,this.layer=l.layers[h],(this.layer.tilemapLayer=this).tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=s.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.setTilesets(u),this.setAlpha(this.layer.alpha),this.setPosition(c,d),this.setOrigin(),this.setSize(l.tileWidth*this.layer.width,l.tileHeight*this.layer.height),this.initPipeline()},setTilesets:function(o){var l=[],h=[],u=this.tilemap;Array.isArray(o)||(o=[o]);for(var c=0;c<o.length;c++){var d=o[c];if(typeof d=="string"&&(d=u.getTileset(d)),d){h.push(d);for(var v=d.firstgid,g=0;g<d.total;g++)l[v+g]=d}}this.gidMap=l,this.tileset=h},setRenderOrder:function(o){return typeof o=="string"&&(o=["right-down","left-down","right-up","left-up"].indexOf(o)),0<=o&&o<4&&(this._renderOrder=o),this},calculateFacesAt:function(o,l){return s.CalculateFacesAt(o,l,this.layer),this},calculateFacesWithin:function(o,l,h,u){return s.CalculateFacesWithin(o,l,h,u,this.layer),this},createFromTiles:function(o,l,h,u,c){return s.CreateFromTiles(o,l,h,u,c,this.layer)},cull:function(o){return this.cullCallback(this.layer,o,this.culledTiles,this._renderOrder)},copy:function(o,l,h,u,c,d,v){return s.Copy(o,l,h,u,c,d,v,this.layer),this},fill:function(o,l,h,u,c,d){return s.Fill(o,l,h,u,c,d,this.layer),this},filterTiles:function(o,l,h,u,c,d,v){return s.FilterTiles(o,l,h,u,c,d,v,this.layer)},findByIndex:function(o,l,h){return s.FindByIndex(o,l,h,this.layer)},findTile:function(o,l,h,u,c,d,v){return s.FindTile(o,l,h,u,c,d,v,this.layer)},forEachTile:function(o,l,h,u,c,d,v){return s.ForEachTile(o,l,h,u,c,d,v,this.layer),this},getTileAt:function(o,l,h){return s.GetTileAt(o,l,h,this.layer)},getTileAtWorldXY:function(o,l,h,u){return s.GetTileAtWorldXY(o,l,h,u,this.layer)},getTilesWithin:function(o,l,h,u,c){return s.GetTilesWithin(o,l,h,u,c,this.layer)},getTilesWithinShape:function(o,l,h){return s.GetTilesWithinShape(o,l,h,this.layer)},getTilesWithinWorldXY:function(o,l,h,u,c,d){return s.GetTilesWithinWorldXY(o,l,h,u,c,d,this.layer)},hasTileAt:function(o,l){return s.HasTileAt(o,l,this.layer)},hasTileAtWorldXY:function(o,l,h){return s.HasTileAtWorldXY(o,l,h,this.layer)},putTileAt:function(o,l,h,u){return s.PutTileAt(o,l,h,u,this.layer)},putTileAtWorldXY:function(o,l,h,u,c){return s.PutTileAtWorldXY(o,l,h,u,c,this.layer)},putTilesAt:function(o,l,h,u){return s.PutTilesAt(o,l,h,u,this.layer),this},randomize:function(o,l,h,u,c){return s.Randomize(o,l,h,u,c,this.layer),this},removeTileAt:function(o,l,h,u){return s.RemoveTileAt(o,l,h,u,this.layer)},removeTileAtWorldXY:function(o,l,h,u,c){return s.RemoveTileAtWorldXY(o,l,h,u,c,this.layer)},renderDebug:function(o,l){return s.RenderDebug(o,l,this.layer),this},replaceByIndex:function(o,l,h,u,c,d){return s.ReplaceByIndex(o,l,h,u,c,d,this.layer),this},setSkipCull:function(o){return o===void 0&&(o=!0),this.skipCull=o,this},setCullPadding:function(o,l){return o===void 0&&(o=1),l===void 0&&(l=1),this.cullPaddingX=o,this.cullPaddingY=l,this},setCollision:function(o,l,h,u){return s.SetCollision(o,l,h,this.layer,u),this},setCollisionBetween:function(o,l,h,u){return s.SetCollisionBetween(o,l,h,u,this.layer),this},setCollisionByProperty:function(o,l,h){return s.SetCollisionByProperty(o,l,h,this.layer),this},setCollisionByExclusion:function(o,l,h){return s.SetCollisionByExclusion(o,l,h,this.layer),this},setCollisionFromCollisionGroup:function(o,l){return s.SetCollisionFromCollisionGroup(o,l,this.layer),this},setTileIndexCallback:function(o,l,h){return s.SetTileIndexCallback(o,l,h,this.layer),this},setTileLocationCallback:function(o,l,h,u,c,d){return s.SetTileLocationCallback(o,l,h,u,c,d,this.layer),this},shuffle:function(o,l,h,u){return s.Shuffle(o,l,h,u,this.layer),this},swapByIndex:function(o,l,h,u,c,d){return s.SwapByIndex(o,l,h,u,c,d,this.layer),this},tileToWorldX:function(o,l){return this.tilemap.tileToWorldX(o,l,this)},tileToWorldY:function(o,l){return this.tilemap.tileToWorldY(o,l,this)},tileToWorldXY:function(o,l,h,u){return this.tilemap.tileToWorldXY(o,l,h,u,this)},weightedRandomize:function(o,l,h,u,c){return s.WeightedRandomize(l,h,u,c,o,this.layer),this},worldToTileX:function(o,l,h){return this.tilemap.worldToTileX(o,l,h,this)},worldToTileY:function(o,l,h){return this.tilemap.worldToTileY(o,l,h,this)},worldToTileXY:function(o,l,h,u,c){return this.tilemap.worldToTileXY(o,l,h,u,c,this)},destroy:function(o){o===void 0&&(o=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),o&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],e.prototype.destroy.call(this))}});f.exports=n},function(f,x,t){var a=t(0),i=t(2),e=new a({initialize:function(s){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(s)},reset:function(s){return this.delay=i(s,"delay",0),this.repeat=i(s,"repeat",0),this.loop=i(s,"loop",!1),this.callback=i(s,"callback",void 0),this.callbackScope=i(s,"callbackScope",this.callback),this.args=i(s,"args",[]),this.timeScale=i(s,"timeScale",1),this.startAt=i(s,"startAt",0),this.paused=i(s,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(0<this.repeat){var s=this.delay+this.delay*this.repeat;return(this.elapsed+this.delay*(this.repeat-this.repeatCount))/s}return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return .001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return .001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return .001*this.getOverallRemaining()},remove:function(s){s===void 0&&(s=!1),this.elapsed=this.delay,this.hasDispatched=!s,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});f.exports=e},function(f,x,t){var a=t(1465);f.exports=function(i){var e,s=[];if(i.hasOwnProperty("props"))for(e in i.props)e.substr(0,1)!=="_"&&s.push({key:e,value:i.props[e]});else for(e in i)a.indexOf(e)===-1&&e.substr(0,1)!=="_"&&s.push({key:e,value:i[e]});return s}},function(f,x,t){var a=t(6);f.exports=function(i){var e=a(i,"tweens",null);return e===null?[]:(typeof e=="function"&&(e=e.call()),Array.isArray(e)||(e=[e]),e)}},function(f,x,t){var a=t(265),i=t(13),e=t(99),s=t(80),r=t(162),n=t(6),o=t(264),l=t(266),h=t(268);f.exports=function(u,c,d){d===void 0&&(d=a);var v=n(c,"from",0),g=n(c,"to",1),m=[{value:v}],y=r(c,"delay",d.delay),T=r(c,"duration",d.duration),E=n(c,"easeParams",d.easeParams),S=s(n(c,"ease",d.ease),E),C=r(c,"hold",d.hold),M=r(c,"repeat",d.repeat),P=r(c,"repeatDelay",d.repeatDelay),R=e(c,"yoyo",d.yoyo),L=[],w=o("value",g),B=h(m[0],0,"value",w.getEnd,w.getStart,w.getActive,S,y,T,R,C,M,P,!1,!1);B.start=v,B.current=v,B.to=g,L.push(B);var G=new l(u,L,m);G.offset=i(c,"offset",null),G.completeDelay=i(c,"completeDelay",0),G.loop=Math.round(i(c,"loop",0)),G.loopDelay=Math.round(i(c,"loopDelay",0)),G.paused=e(c,"paused",!1),G.useFrames=e(c,"useFrames",!1);for(var Y=n(c,"callbackScope",G),D=[G,null],F=l.TYPES,N=0;N<F.length;N++){var I,b,U=F[N],X=n(c,U,!1);X&&(I=n(c,U+"Scope",Y),b=n(c,U+"Params",[]),G.setCallback(U,X,D.concat(b),I))}return G}},function(f,x,t){var a=t(80),i=t(6),e=t(14);f.exports=function(s,r){r===void 0&&(r={});var n=i(r,"start",0),o=i(r,"ease",null),l=i(r,"grid",null),h=i(r,"from",0),u=h==="first",c=h==="center",d=h==="last",v=typeof h=="number",g=Array.isArray(s),m=parseFloat(g?s[0]:s),y=g?parseFloat(s[1]):0,T=Math.max(m,y);if(g&&(n+=m),l){var E,S,C=l[0],M=l[1],P=0,R=0,L=[];d?(P=C-1,R=M-1):v?(P=h%C,R=Math.floor(h/C)):c&&(P=(C-1)/2,R=(M-1)/2);for(var w=e.MIN_SAFE_INTEGER,B=0;B<M;B++){L[B]=[];for(var G=0;G<C;G++){E=P-G,S=R-B;var Y=Math.sqrt(E*E+S*S);w<Y&&(w=Y),L[B][G]=Y}}}var D=o?a(o):null;return l?function(F,N,I,b){var U,X=0,z=b%C,V=Math.floor(b/C);return 0<=z&&z<C&&0<=V&&V<M&&(X=L[V][z]),(g?(U=y-m,D?X/w*U*D(X/w):X/w*U):D?X*m*D(X/w):X*m)+n}:function(F,N,I,b,U){var X,z;return U--,u?X=b:c?X=Math.abs(U/2-b):d?X=U-b:v&&(X=Math.abs(h-b)),(g?(z=c?(y-m)/U*(2*X):(y-m)/U*X,D?z*D(X/U):z):D?U*T*D(X/U):X*m)+n}}},function(f,x,t){var a=t(77),i=t(265),e=t(13),s=t(99),r=t(80),n=t(162),o=t(263),l=t(584),h=t(6),u=t(588),c=t(163);f.exports=function(d,v){var g=new u(d);g.completeDelay=e(v,"completeDelay",0),g.loop=Math.round(e(v,"loop",0)),g.loopDelay=Math.round(e(v,"loopDelay",0)),g.paused=s(v,"paused",!1),g.useFrames=s(v,"useFrames",!1);var m,y,T=h(v,"callbackScope",g),E=[g],S=h(v,"onStart",!1);S&&(m=h(v,"onStartScope",T),y=h(v,"onStartParams",[]),g.setCallback("onStart",S,E.concat(y),m));var C,M,P=h(v,"onUpdate",!1);P&&(C=h(v,"onUpdateScope",T),M=h(v,"onUpdateParams",[]),g.setCallback("onUpdate",P,E.concat(M),C));var R,L,w=h(v,"onLoop",!1);w&&(R=h(v,"onLoopScope",T),L=h(v,"onLoopParams",[]),g.setCallback("onLoop",w,E.concat(L),R));var B,G,Y=h(v,"onYoyo",!1);Y&&(B=h(v,"onYoyoScope",T),G=h(v,"onYoyoParams",[]),g.setCallback("onYoyo",Y,E.concat(null,G),B));var D,F,N=h(v,"onComplete",!1);N&&(D=h(v,"onCompleteScope",T),F=h(v,"onCompleteParams",[]),g.setCallback("onComplete",N,E.concat(F),D));var I=l(v);if(I.length===0)return g.paused=!0,g;var b=a(i);b.targets=o(v);var U=e(v,"totalDuration",0);b.duration=0<U?Math.floor(U/I.length):n(v,"duration",b.duration),b.delay=n(v,"delay",b.delay),b.easeParams=h(v,"easeParams",b.easeParams),b.ease=r(h(v,"ease",b.ease),b.easeParams),b.hold=n(v,"hold",b.hold),b.repeat=n(v,"repeat",b.repeat),b.repeatDelay=n(v,"repeatDelay",b.repeatDelay),b.yoyo=s(v,"yoyo",b.yoyo),b.flipX=s(v,"flipX",b.flipX),b.flipY=s(v,"flipY",b.flipY);for(var X=0;X<I.length;X++)g.queue(c(g,I[X],b));return g}},function(f,x,t){var a=t(0),i=t(9),e=t(267),s=t(163),r=t(100),n=new a({Extends:i,initialize:function(o){i.call(this),this.manager=o,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING_ADD,this._pausedState=r.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(o,l){this.emit(o,this),l&&l.func.apply(l.scope,l.params)},setTimeScale:function(o){return this.timeScale=o,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===r.ACTIVE},add:function(o){return this.queue(s(this,o))},queue:function(o){return this.isPlaying()||(o.parent=this,o.parentIsTimeline=!0,this.data.push(o),this.totalData=this.data.length),this},hasOffset:function(o){return o.offset!==null},isOffsetAbsolute:function(o){return typeof o=="number"},isOffsetRelative:function(o){if(typeof o=="string"){var l=o[0];if(l==="-"||l==="+")return!0}return!1},getRelativeOffset:function(o,l){var h=o[0],u=parseFloat(o.substr(2)),c=l;switch(h){case"+":c+=u;break;case"-":c-=u}return Math.max(0,c)},calcDuration:function(){for(var o=0,l=0,h=0,u=0;u<this.totalData;u++){var c=this.data[u];c.init(),this.hasOffset(c)?this.isOffsetAbsolute(c.offset)?(c.calculatedOffset=c.offset,c.offset===0&&(h=0)):this.isOffsetRelative(c.offset)&&(c.calculatedOffset=this.getRelativeOffset(c.offset,o)):c.calculatedOffset=h,o=c.totalDuration+c.calculatedOffset,l+=c.totalDuration,h+=c.totalDuration}this.duration=l,this.loopCounter=this.loop===-1?999999999999:this.loop,0<this.loopCounter?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,!this.paused||(this.state=r.PAUSED,!1)},resetTweens:function(o){for(var l=0;l<this.totalData;l++)this.data[l].play(o)},setCallback:function(o,l,h,u){return n.TYPES.indexOf(o)!==-1&&(this.callbacks[o]={func:l,scope:u,params:h}),this},makeActive:function(o){return this.manager.makeActive(o)},play:function(){if(this.state!==r.ACTIVE){if(this.paused)return this.paused=!1,void this.manager.makeActive(this);this.resetTweens(!1),this.state=r.ACTIVE,this.dispatchTimelineEvent(e.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){0<this.loopCounter?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),0<this.loopDelay?(this.countdown=this.loopDelay,this.state=r.LOOP_DELAY):(this.state=r.ACTIVE,this.dispatchTimelineEvent(e.TIMELINE_LOOP,this.callbacks.onLoop))):0<this.completeDelay?(this.state=r.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=r.PENDING_REMOVE,this.dispatchTimelineEvent(e.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(o,l){if(this.state!==r.PAUSED){switch(this.useFrames&&(l=+this.manager.timeScale),l*=this.timeScale,this.elapsed+=l,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=l,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case r.ACTIVE:for(var h=this.totalData,u=0;u<this.totalData;u++)this.data[u].update(o,l)&&h--;this.dispatchTimelineEvent(e.TIMELINE_UPDATE,this.callbacks.onUpdate),h===0&&this.nextState();break;case r.LOOP_DELAY:this.countdown-=l,this.countdown<=0&&(this.state=r.ACTIVE,this.dispatchTimelineEvent(e.TIMELINE_LOOP,this.callbacks.onLoop));break;case r.COMPLETE_DELAY:this.countdown-=l,this.countdown<=0&&(this.state=r.PENDING_REMOVE,this.dispatchTimelineEvent(e.TIMELINE_COMPLETE,this.callbacks.onComplete))}return this.state===r.PENDING_REMOVE}},stop:function(){this.state=r.PENDING_REMOVE},pause:function(){if(this.state!==r.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=r.PAUSED,this.emit(e.TIMELINE_PAUSE,this),this},resume:function(){return this.state===r.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(e.TIMELINE_RESUME,this)),this},hasTarget:function(o){for(var l=0;l<this.data.length;l++)if(this.data[l].hasTarget(o))return!0;return!1},destroy:function(){for(var o=0;o<this.data.length;o++)this.data[o].stop()}});n.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],f.exports=n},function(f,x,t){var a=t(86),i=t(41),e=t(32),s=t(2),r=t(64),n={parseBody:function(o,l,h,u){u===void 0&&(u={});for(var c=s(h,"fixtures",[]),d=[],v=0;v<c.length;v++)for(var g=this.parseFixture(c[v]),m=0;m<g.length;m++)d.push(g[m]);var y=e.clone(h,!0);e.extend(y,u,!0),delete y.fixtures,delete y.type;var T=i.create(y);return i.setParts(T,d),i.setPosition(T,{x:o,y:l}),T},parseFixture:function(o){var l,h,u,c,d=e.extend({},!1,o);return delete d.circle,delete d.vertices,o.circle?(l=s(o.circle,"x"),h=s(o.circle,"y"),u=s(o.circle,"radius"),c=[a.circle(l,h,u,d)]):o.vertices&&(c=this.parseVertices(o.vertices,d)),c},parseVertices:function(o,l){l===void 0&&(l={});for(var h=[],u=0;u<o.length;u++)r.clockwiseSort(o[u]),h.push(i.create(e.extend({position:r.centre(o[u]),vertices:o[u]},l)));return a.flagCoincidentParts(h)}};f.exports=n},function(f,x,t){var a=t(86),i=t(41),e={parseBody:function(s,r,n,o){var l;o===void 0&&(o={});var h=n.vertices;if(h.length===1)o.vertices=h[0],l=i.create(o),a.flagCoincidentParts(l.parts);else{for(var u=[],c=0;c<h.length;c++){var d=i.create({vertices:h[c]});u.push(d)}a.flagCoincidentParts(u),o.parts=u,l=i.create(o)}return l.label=n.label,i.setPosition(l,{x:s,y:r}),l}};f.exports=e},function(f,x,t){var a={};f.exports=a;var i=t(118),e=t(128),s=t(32),r=t(41),n=t(86);a.stack=function(o,l,h,u,c,d,v){for(var g,m=i.create({label:"Stack"}),y=o,T=l,E=0,S=0;S<u;S++){for(var C=0,M=0;M<h;M++){var P,R,L=v(y,T,M,S,g,E);L?(P=L.bounds.max.y-L.bounds.min.y,R=L.bounds.max.x-L.bounds.min.x,C<P&&(C=P),r.translate(L,{x:.5*R,y:.5*P}),y=L.bounds.max.x+c,i.addBody(m,L),g=L,E+=1):y+=c}T+=C+d,y=o}return m},a.chain=function(o,l,h,u,c,d){for(var v=o.bodies,g=1;g<v.length;g++){var m=v[g-1],y=v[g],T=m.bounds.max.y-m.bounds.min.y,E=m.bounds.max.x-m.bounds.min.x,S=y.bounds.max.y-y.bounds.min.y,C={bodyA:m,pointA:{x:E*l,y:T*h},bodyB:y,pointB:{x:(y.bounds.max.x-y.bounds.min.x)*u,y:S*c}},M=s.extend(C,d);i.addConstraint(o,e.create(M))}return o.label+=" Chain",o},a.mesh=function(o,l,h,u,c){for(var d,v,g,m,y=o.bodies,T=0;T<h;T++){for(d=1;d<l;d++)v=y[d-1+T*l],g=y[d+T*l],i.addConstraint(o,e.create(s.extend({bodyA:v,bodyB:g},c)));if(0<T)for(d=0;d<l;d++)v=y[d+(T-1)*l],g=y[d+T*l],i.addConstraint(o,e.create(s.extend({bodyA:v,bodyB:g},c))),u&&0<d&&(m=y[d-1+(T-1)*l],i.addConstraint(o,e.create(s.extend({bodyA:m,bodyB:g},c)))),u&&d<l-1&&(m=y[d+1+(T-1)*l],i.addConstraint(o,e.create(s.extend({bodyA:m,bodyB:g},c))))}return o.label+=" Mesh",o},a.pyramid=function(o,l,h,u,c,d,v){return a.stack(o,l,h,u,c,d,function(g,m,y,T,E,S){var C=Math.min(u,Math.ceil(h/2)),M=E?E.bounds.max.x-E.bounds.min.x:0;if(!(C<T)&&!(y<(T=C-T)||h-1-T<y))return S===1&&r.translate(E,{x:(y+(h%2==1?1:-1))*M,y:0}),v(o+(E?y*M:0)+y*c,m,y,T,E,S)})},a.newtonsCradle=function(o,l,h,u,c){for(var d=i.create({label:"Newtons Cradle"}),v=0;v<h;v++){var g=n.circle(o+v*(1.9*u),l+c,u,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=e.create({pointA:{x:o+v*(1.9*u),y:l},bodyB:g});i.addBody(d,g),i.addConstraint(d,m)}return d},a.car=function(o,l,h,u,c){var d=r.nextGroup(!0),v=.5*-h+20,g=.5*h-20,m=i.create({label:"Car"}),y=n.rectangle(o,l,h,u,{collisionFilter:{group:d},chamfer:{radius:.5*u},density:2e-4}),T=n.circle(o+v,l+0,c,{collisionFilter:{group:d},friction:.8}),E=n.circle(o+g,l+0,c,{collisionFilter:{group:d},friction:.8}),S=e.create({bodyB:y,pointB:{x:v,y:0},bodyA:T,stiffness:1,length:0}),C=e.create({bodyB:y,pointB:{x:g,y:0},bodyA:E,stiffness:1,length:0});return i.addBody(m,y),i.addBody(m,T),i.addBody(m,E),i.addConstraint(m,S),i.addConstraint(m,C),m},a.softBody=function(o,l,h,u,c,d,v,g,m,y){m=s.extend({inertia:1/0},m),y=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},y);var T=a.stack(o,l,h,u,c,d,function(E,S){return n.circle(E,S,g,m)});return a.mesh(T,h,u,v,y),T.label="Soft Body",T}},function(f,x,t){var a={};f.exports=a,t(84);var i=t(32);a.pathToVertices=function(e,s){typeof window>"u"||"SVGPathSeg"in window||i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,n,o,l,h,u,c,d,v,g,m,y=[],T=0,E=0,S=0;s=s||15;function C(P,R,L){var w,B=L%2==1&&1<L;v&&P==v.x&&R==v.y||(m=v&&B?(g=v.x,v.y):g=0,w={x:g+P,y:m+R},!B&&v||(v=w),y.push(w),E=g+P,S=m+R)}function M(P){var R=P.pathSegTypeAsLetter.toUpperCase();if(R!=="Z"){switch(R){case"M":case"L":case"T":case"C":case"S":case"Q":E=P.x,S=P.y;break;case"H":E=P.x;break;case"V":S=P.y}C(E,S,P.pathSegType)}}for(a._svgPathToAbsolute(e),o=e.getTotalLength(),u=[],r=0;r<e.pathSegList.numberOfItems;r+=1)u.push(e.pathSegList.getItem(r));for(c=u.concat();T<o;){if((h=u[e.getPathSegAtLength(T)])!=d){for(;c.length&&c[0]!=h;)M(c.shift());d=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=e.getPointAtLength(T),C(l.x,l.y,0)}T+=s}for(r=0,n=c.length;r<n;++r)M(c[r]);return y},a._svgPathToAbsolute=function(e){for(var s,r,n,o,l,h,u=e.pathSegList,c=0,d=0,v=u.numberOfItems,g=0;g<v;++g){var m=u.getItem(g),y=m.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(y))"x"in m&&(c=m.x),"y"in m&&(d=m.y);else switch("x1"in m&&(n=c+m.x1),"x2"in m&&(l=c+m.x2),"y1"in m&&(o=d+m.y1),"y2"in m&&(h=d+m.y2),"x"in m&&(c+=m.x),"y"in m&&(d+=m.y),y){case"m":u.replaceItem(e.createSVGPathSegMovetoAbs(c,d),g);break;case"l":u.replaceItem(e.createSVGPathSegLinetoAbs(c,d),g);break;case"h":u.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(c),g);break;case"v":u.replaceItem(e.createSVGPathSegLinetoVerticalAbs(d),g);break;case"c":u.replaceItem(e.createSVGPathSegCurvetoCubicAbs(c,d,n,o,l,h),g);break;case"s":u.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(c,d,l,h),g);break;case"q":u.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(c,d,n,o),g);break;case"t":u.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(c,d),g);break;case"a":u.replaceItem(e.createSVGPathSegArcAbs(c,d,m.r1,m.r2,m.angle,m.largeArcFlag,m.sweepFlag),g);break;case"z":case"Z":c=s,d=r}y!="M"&&y!="m"||(s=c,r=d)}}},function(f,x,t){var a=t(86),i=t(41),e=t(0),s=t(249),r=t(9),n=t(2),o=t(126),l=t(64),h=new e({Extends:r,Mixins:[s.Bounce,s.Collision,s.Friction,s.Gravity,s.Mass,s.Sensor,s.Sleep,s.Static],initialize:function(u,c,d){r.call(this),this.tile=c,this.world=u,c.physics.matterBody&&c.physics.matterBody.destroy(),c.physics.matterBody=this;var v,g=n(d,"body",null),m=n(d,"addToWorld",!0);g?this.setBody(g,m):(v=c.getCollisionGroup(),0<n(v,"objects",[]).length?this.setFromTileCollision(d):this.setFromTileRectangle(d))},setFromTileRectangle:function(u){u===void 0&&(u={}),o(u,"isStatic")||(u.isStatic=!0),o(u,"addToWorld")||(u.addToWorld=!0);var c=this.tile.getBounds(),d=c.x+c.width/2,v=c.y+c.height/2,g=a.rectangle(d,v,c.width,c.height,u);return this.setBody(g,u.addToWorld),this},setFromTileCollision:function(u){u===void 0&&(u={}),o(u,"isStatic")||(u.isStatic=!0),o(u,"addToWorld")||(u.addToWorld=!0);for(var c=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,v=this.tile.getLeft(),g=this.tile.getTop(),m=this.tile.getCollisionGroup(),y=n(m,"objects",[]),T=[],E=0;E<y.length;E++){var S,C,M,P=y[E],R=v+P.x*c,L=g+P.y*d,w=P.width*c,B=P.height*d,G=null;P.rectangle?G=a.rectangle(R+w/2,L+B/2,w,B,u):P.ellipse?G=a.circle(R+w/2,L+B/2,w/2,u):(P.polygon||P.polyline)&&(S=(P.polygon?P.polygon:P.polyline).map(function(Y){return{x:Y.x*c,y:Y.y*d}}),C=l.create(S),R+=(M=l.centre(C)).x,L+=M.y,G=a.fromVertices(R,L,C,u)),G&&T.push(G)}return T.length===1?this.setBody(T[0],u.addToWorld):1<T.length&&(u.parts=T,this.setBody(i.create(u),u.addToWorld)),this},setBody:function(u,c){return c===void 0&&(c=!0),this.body&&this.removeBody(),this.body=u,this.body.gameObject=this,c&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});f.exports=h},function(f,x,t){var a=t(1399);a.Body=t(41),a.Composite=t(118),a.World=t(596),a.Detector=t(273),a.Grid=t(597),a.Pairs=t(598),a.Pair=t(250),a.Query=t(1400),a.Resolver=t(599),a.SAT=t(274),a.Constraint=t(128),a.Common=t(32),a.Engine=t(1401),a.Events=t(166),a.Sleeping=t(165),a.Plugin=t(595),a.Bodies=t(86),a.Composites=t(591),a.Axes=t(271),a.Bounds=t(84),a.Svg=t(592),a.Vector=t(83),a.Vertices=t(64),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,f.exports=a},function(f,x,t){var a={};f.exports=a;var i=t(32);a._registry={},a.register=function(e){var s,r,n;return a.isPlugin(e)||i.warn("Plugin.register:",a.toString(e),"does not implement all required fields."),e.name in a._registry?(s=a._registry[e.name],r=a.versionParse(e.version).number,(n=a.versionParse(s.version).number)<r?(i.warn("Plugin.register:",a.toString(s),"was upgraded to",a.toString(e)),a._registry[e.name]=e):r<n?i.warn("Plugin.register:",a.toString(s),"can not be downgraded to",a.toString(e)):e!==s&&i.warn("Plugin.register:",a.toString(e),"is already registered to different plugin object")):a._registry[e.name]=e,e},a.resolve=function(e){return a._registry[a.dependencyParse(e).name]},a.toString=function(e){return typeof e=="string"?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},a.isPlugin=function(e){return e&&e.name&&e.version&&e.install},a.isUsed=function(e,s){return-1<e.used.indexOf(s)},a.isFor=function(e,s){var r=e.for&&a.dependencyParse(e.for);return!e.for||s.name===r.name&&a.versionSatisfies(s.version,r.range)},a.use=function(e,s){if(e.uses=(e.uses||[]).concat(s||[]),e.uses.length!==0){for(var r,n=a.dependencies(e),o=i.topologicalSort(n),l=[],h=0;h<o.length;h+=1)o[h]!==e.name&&((r=a.resolve(o[h]))?a.isUsed(e,r.name)||(a.isFor(r,e)||(i.warn("Plugin.use:",a.toString(r),"is for",r.for,"but installed on",a.toString(e)+"."),r._warned=!0),r.install?r.install(e):(i.warn("Plugin.use:",a.toString(r),"does not specify an install function."),r._warned=!0),r._warned?(l.push("\u{1F536} "+a.toString(r)),delete r._warned):l.push("\u2705 "+a.toString(r)),e.used.push(r.name)):l.push("\u274C "+o[h]));0<l.length&&!r.silent&&i.info(l.join("  "))}else i.warn("Plugin.use:",a.toString(e),"does not specify any dependencies to install.")},a.dependencies=function(e,s){var r=a.dependencyParse(e),n=r.name;if(!(n in(s=s||{}))){e=a.resolve(e)||e,s[n]=i.map(e.uses||[],function(l){a.isPlugin(l)&&a.register(l);var h=a.dependencyParse(l),u=a.resolve(l);return u&&!a.versionSatisfies(u.version,h.range)?(i.warn("Plugin.dependencies:",a.toString(u),"does not satisfy",a.toString(h),"used by",a.toString(r)+"."),u._warned=!0,e._warned=!0):u||(i.warn("Plugin.dependencies:",a.toString(l),"used by",a.toString(r),"could not be resolved."),e._warned=!0),h.name});for(var o=0;o<s[n].length;o+=1)a.dependencies(s[n][o],s);return s}},a.dependencyParse=function(e){return i.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(e)||i.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},a.versionParse=function(e){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(e)||i.warn("Plugin.versionParse:",e,"is not a valid version or range.");var s=e.split("-");e=s[0];var r=isNaN(Number(e[0])),n=r?e.substr(1):e,o=i.map(n.split("."),function(l){return Number(l)});return{isRange:r,version:n,range:e,operator:r?e[0]:"",parts:o,prerelease:s[1],number:1e8*o[0]+1e4*o[1]+o[2]}},a.versionSatisfies=function(e,s){s=s||"*";var r=a.versionParse(s),n=r.parts,o=a.versionParse(e),l=o.parts;if(r.isRange){if(r.operator==="*"||e==="*")return!0;if(r.operator==="~")return l[0]===n[0]&&l[1]===n[1]&&l[2]>=n[2];if(r.operator==="^")return 0<n[0]?l[0]===n[0]&&o.number>=r.number:0<n[1]?l[1]===n[1]&&l[2]>=n[2]:l[2]===n[2]}return e===s||e==="*"}},function(f,x,t){var a={};f.exports=a;var i=t(118),e=(t(128),t(32));a.create=function(s){var r=i.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return e.extend(r,n,s)}},function(f,x,t){var a={};f.exports=a;var i=t(250),e=t(273),s=t(32);a.create=function(r){var n={controller:a,detector:e.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(n,r)},a.update=function(r,n,o,l){for(var h,u,c,d=o.world,v=r.buckets,g=!1,m=o.metrics,y=m.broadphaseTests=0;y<n.length;y++){var T=n[y];if((!T.isSleeping||l)&&!(T.bounds.max.x<d.bounds.min.x||T.bounds.min.x>d.bounds.max.x||T.bounds.max.y<d.bounds.min.y||T.bounds.min.y>d.bounds.max.y)){var E=a._getRegion(r,T);if(!T.region||E.id!==T.region.id||l){m.broadphaseTests+=1,T.region&&!l||(T.region=E);for(var S=a._regionUnion(E,T.region),C=S.startCol;C<=S.endCol;C++)for(h=S.startRow;h<=S.endRow;h++){u=v[c=a._getBucketId(C,h)];var M=C>=E.startCol&&C<=E.endCol&&h>=E.startRow&&h<=E.endRow,P=C>=T.region.startCol&&C<=T.region.endCol&&h>=T.region.startRow&&h<=T.region.endRow;!M&&P&&P&&u&&a._bucketRemoveBody(r,u,T),(T.region===E||M&&!P||l)&&(u=u||a._createBucket(v,c),a._bucketAddBody(r,u,T))}T.region=E,g=!0}}}g&&(r.pairsList=a._createActivePairsList(r))},a.clear=function(r){r.buckets={},r.pairs={},r.pairsList=[]},a._regionUnion=function(r,n){var o=Math.min(r.startCol,n.startCol),l=Math.max(r.endCol,n.endCol),h=Math.min(r.startRow,n.startRow),u=Math.max(r.endRow,n.endRow);return a._createRegion(o,l,h,u)},a._getRegion=function(r,n){var o=n.bounds,l=Math.floor(o.min.x/r.bucketWidth),h=Math.floor(o.max.x/r.bucketWidth),u=Math.floor(o.min.y/r.bucketHeight),c=Math.floor(o.max.y/r.bucketHeight);return a._createRegion(l,h,u,c)},a._createRegion=function(r,n,o,l){return{id:r+","+n+","+o+","+l,startCol:r,endCol:n,startRow:o,endRow:l}},a._getBucketId=function(r,n){return"C"+r+"R"+n},a._createBucket=function(r,n){return r[n]=[]},a._bucketAddBody=function(r,n,o){for(var l=0;l<n.length;l++){var h,u,c=n[l];o.id===c.id||o.isStatic&&c.isStatic||(h=i.id(o,c),(u=r.pairs[h])?u[2]+=1:r.pairs[h]=[o,c,1])}n.push(o)},a._bucketRemoveBody=function(r,n,o){n.splice(n.indexOf(o),1);for(var l=0;l<n.length;l++){var h=n[l],u=i.id(o,h),c=r.pairs[u];c&&--c[2]}},a._createActivePairsList=function(r){for(var n,o=[],l=s.keys(r.pairs),h=0;h<l.length;h++)0<(n=r.pairs[l[h]])[2]?o.push(n):delete r.pairs[l[h]];return o}},function(f,x,t){var a={};f.exports=a;var i=t(250),e=t(32);a._pairMaxIdleLife=1e3,a.create=function(s){return e.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},a.update=function(s,r,n){var o,l,h,u,c=s.list,d=s.table,v=s.collisionStart,g=s.collisionEnd,m=s.collisionActive;for(v.length=0,g.length=0,u=m.length=0;u<c.length;u++)c[u].confirmedActive=!1;for(u=0;u<r.length;u++)(o=r[u]).collided&&((h=d[l=i.id(o.bodyA,o.bodyB)])?(h.isActive?m.push(h):v.push(h),i.update(h,o,n),h.confirmedActive=!0):(h=i.create(o,n),d[l]=h,v.push(h),c.push(h)));for(u=0;u<c.length;u++)(h=c[u]).isActive&&!h.confirmedActive&&(i.setActive(h,!1,n),g.push(h))},a.removeOld=function(s,r){for(var n,o,l,h=s.list,u=s.table,c=[],d=0;d<h.length;d++)(o=(n=h[d]).collision).bodyA.isSleeping||o.bodyB.isSleeping?n.timeUpdated=r:r-n.timeUpdated>a._pairMaxIdleLife&&c.push(d);for(d=0;d<c.length;d++)delete u[(n=h[l=c[d]-d]).id],h.splice(l,1)},a.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}},function(f,x,t){var a={};f.exports=a;var i=t(64),e=t(83),s=t(32),r=t(84);a._restingThresh=4,a._restingThreshTangent=6,a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a.preSolvePosition=function(n){for(var o,l,h=0;h<n.length;h++)(o=n[h]).isActive&&(l=o.activeContacts.length,o.collision.parentA.totalContacts+=l,o.collision.parentB.totalContacts+=l)},a.solvePosition=function(n,o,l){for(var h,u,c,d,v,g,m,y,T,E,S,C,M,P,R,L=l*a._positionDampen,w=0;w<o.length;w++){var B=o[w];B.previousPositionImpulse.x=B.positionImpulse.x,B.previousPositionImpulse.y=B.positionImpulse.y}for(w=0;w<n.length;w++)(c=n[w]).isActive&&!c.isSensor&&(v=(d=c.collision).parentA,g=d.parentB,m=d.normal,E=v.previousPositionImpulse,S=g.previousPositionImpulse,T=d.penetration,M=S.x-E.x+T.x,P=S.y-E.y+T.y,y=(h=m.x)*M+(u=m.y)*P,R=((c.separation=y)-c.slop)*L,(v.isStatic||g.isStatic)&&(R*=2),v.isStatic||v.isSleeping||(C=R/v.totalContacts,v.positionImpulse.x+=h*C,v.positionImpulse.y+=u*C),g.isStatic||g.isSleeping||(C=R/g.totalContacts,g.positionImpulse.x-=h*C,g.positionImpulse.y-=u*C))},a.postSolvePosition=function(n){for(var o=0;o<n.length;o++){var l=n[o];if((l.totalContacts=0)!==l.positionImpulse.x||l.positionImpulse.y!==0){for(var h=0;h<l.parts.length;h++){var u=l.parts[h];i.translate(u.vertices,l.positionImpulse),r.update(u.bounds,u.vertices,l.velocity),u.position.x+=l.positionImpulse.x,u.position.y+=l.positionImpulse.y}l.positionPrev.x+=l.positionImpulse.x,l.positionPrev.y+=l.positionImpulse.y,e.dot(l.positionImpulse,l.velocity)<0?(l.positionImpulse.x=0,l.positionImpulse.y=0):(l.positionImpulse.x*=a._positionWarming,l.positionImpulse.y*=a._positionWarming)}}},a.preSolveVelocity=function(n){for(var o,l,h,u,c,d,v,g,m,y,T,E,S,C=e._temp[0],M=e._temp[1],P=0;P<n.length;P++)if((l=n[P]).isActive&&!l.isSensor)for(h=l.activeContacts,c=(u=l.collision).parentA,d=u.parentB,v=u.normal,g=u.tangent,o=0;o<h.length;o++)y=(m=h[o]).vertex,T=m.normalImpulse,E=m.tangentImpulse,T===0&&E===0||(C.x=v.x*T+g.x*E,C.y=v.y*T+g.y*E,c.isStatic||c.isSleeping||(S=e.sub(y,c.position,M),c.positionPrev.x+=C.x*c.inverseMass,c.positionPrev.y+=C.y*c.inverseMass,c.anglePrev+=e.cross(S,C)*c.inverseInertia),d.isStatic||d.isSleeping||(S=e.sub(y,d.position,M),d.positionPrev.x-=C.x*d.inverseMass,d.positionPrev.y-=C.y*d.inverseMass,d.anglePrev-=e.cross(S,C)*d.inverseInertia))},a.solveVelocity=function(n,o){for(var l=o*o,h=e._temp[0],u=e._temp[1],c=e._temp[2],d=e._temp[3],v=e._temp[4],g=e._temp[5],m=0;m<n.length;m++){var y=n[m];if(y.isActive&&!y.isSensor){var T=y.collision,E=T.parentA,S=T.parentB,C=T.normal,M=T.tangent,P=y.activeContacts,R=1/P.length;E.velocity.x=E.position.x-E.positionPrev.x,E.velocity.y=E.position.y-E.positionPrev.y,S.velocity.x=S.position.x-S.positionPrev.x,S.velocity.y=S.position.y-S.positionPrev.y,E.angularVelocity=E.angle-E.anglePrev,S.angularVelocity=S.angle-S.anglePrev;for(var L=0;L<P.length;L++){var w=P[L],B=w.vertex,G=e.sub(B,E.position,u),Y=e.sub(B,S.position,c),D=e.add(E.velocity,e.mult(e.perp(G),E.angularVelocity),d),F=e.add(S.velocity,e.mult(e.perp(Y),S.angularVelocity),v),N=e.sub(D,F,g),I=e.dot(C,N),b=e.dot(M,N),U=Math.abs(b),X=s.sign(b),z=(1+y.restitution)*I,V=s.clamp(y.separation+I,0,1)*a._frictionNormalMultiplier,W=b,H=1/0;U>y.friction*y.frictionStatic*V*l&&(H=U,W=s.clamp(y.friction*X*l,-H,H));var K,Z,j=e.cross(G,C),k=e.cross(Y,C),J=R/(E.inverseMass+S.inverseMass+E.inverseInertia*j*j+S.inverseInertia*k*k);z*=J,W*=J,I<0&&I*I>a._restingThresh*l?w.normalImpulse=0:(K=w.normalImpulse,w.normalImpulse=Math.min(w.normalImpulse+z,0),z=w.normalImpulse-K),b*b>a._restingThreshTangent*l?w.tangentImpulse=0:(Z=w.tangentImpulse,w.tangentImpulse=s.clamp(w.tangentImpulse+W,-H,H),W=w.tangentImpulse-Z),h.x=C.x*z+M.x*W,h.y=C.y*z+M.y*W,E.isStatic||E.isSleeping||(E.positionPrev.x+=h.x*E.inverseMass,E.positionPrev.y+=h.y*E.inverseMass,E.anglePrev+=e.cross(G,h)*E.inverseInertia),S.isStatic||S.isSleeping||(S.positionPrev.x-=h.x*S.inverseMass,S.positionPrev.y-=h.y*S.inverseMass,S.anglePrev-=e.cross(Y,h)*S.inverseInertia)}}}}},function(f,x){var t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}f.exports=t},function(f,x,t){var a=t(276);f.exports=function(i,e,s,r){for(var n=i[0],o=1;o<i.length;o++){var l=i[o];a(l,n,e,s,r),n=l}return i}},function(f,x,t){var a=t(46);f.exports=function(i,e,s,r,n){return a(i,"angle",e,s,r,n)}},function(f,x){f.exports=function(t,a,i){for(var e=0;e<t.length;e++){var s=t[e];a.call(i,s)}return t}},function(f,x){f.exports=function(t,a,i){i===void 0&&(i=0);for(var e=i;e<t.length;e++){var s=t[e],r=!0;for(var n in a)s[n]!==a[n]&&(r=!1);if(r)return s}return null}},function(f,x){f.exports=function(t,a,i){i===void 0&&(i=0);for(var e=i;e<t.length;e++){var s=t[e],r=!0;for(var n in a)s[n]!==a[n]&&(r=!1);if(r)return s}return null}},function(f,x,t){var a=t(289),i=t(123),e=t(2),s=t(1),r=new(t(129))({sys:{queueDepthSort:s,events:{once:s}}},0,0,1,1);f.exports=function(n,o){o===void 0&&(o={});var l=o.hasOwnProperty("width"),h=o.hasOwnProperty("height"),u=e(o,"width",-1),c=e(o,"height",-1),d=e(o,"cellWidth",1),v=e(o,"cellHeight",d),g=e(o,"position",i.TOP_LEFT),m=e(o,"x",0),y=e(o,"y",0),T=0,E=0,S=u*d,C=c*v;r.setPosition(m,y),r.setSize(d,v);for(var M=0;M<n.length;M++)if(a(n[M],r,g),l&&u===-1)r.x+=d;else if(h&&c===-1)r.y+=v;else if(h&&!l){if(E+=v,r.y+=v,E===C&&(E=0,T+=d,r.y=y,r.x+=d,T===S))break}else if(T+=d,r.x+=d,T===S&&(T=0,E+=v,r.x=m,r.y+=v,E===C))break;return n}},function(f,x,t){var a=t(18),i={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(e,s,r,n){return e===void 0&&(e=1),s===void 0?this.alpha=e:(this._alphaTL=a(e,0,1),this._alphaTR=a(s,0,1),this._alphaBL=a(r,0,1),this._alphaBR=a(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(e){var s=a(e,0,1);this._alpha=s,this._alphaTL=s,this._alphaTR=s,this._alphaBL=s,(this._alphaBR=s)===0?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(e){var s=a(e,0,1);(this._alphaTL=s)!==0&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(e){var s=a(e,0,1);(this._alphaTR=s)!==0&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(e){var s=a(e,0,1);(this._alphaBL=s)!==0&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(e){var s=a(e,0,1);(this._alphaBR=s)!==0&&(this.renderFlags|=2)}}};f.exports=i},function(f,x){f.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}}},function(f,x){var t={texture:null,frame:null,isCropped:!1,setCrop:function(a,i,e,s){return a===void 0?this.isCropped=!1:this.frame&&(typeof a=="number"?this.frame.setCropUVs(this._crop,a,i,e,s,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY),this.isCropped=!0),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};f.exports=t},function(f,x){f.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,a){return this.flipX=t,this.flipY=a,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},function(f,x,t){var a=t(10),i=t(308),e=t(3),s={prepareBoundsOutput:function(r,n){return n===void 0&&(n=!1),this.rotation!==0&&i(r,this.x,this.y,this.rotation),n&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(r.x,r.y,r),r},getCenter:function(r){return r===void 0&&(r=new e),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,r},getTopLeft:function(r,n){return(r=r||new e).x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,n)},getTopCenter:function(r,n){return(r=r||new e).x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,n)},getTopRight:function(r,n){return(r=r||new e).x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,n)},getLeftCenter:function(r,n){return(r=r||new e).x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,n)},getRightCenter:function(r,n){return(r=r||new e).x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,n)},getBottomLeft:function(r,n){return(r=r||new e).x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,n)},getBottomCenter:function(r,n){return(r=r||new e).x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,n)},getBottomRight:function(r,n){return(r=r||new e).x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,n)},getBounds:function(r){var n,o,l,h,u,c,d,v,g;return r===void 0&&(r=new a),v=(d=(this.parentContainer?(g=this.parentContainer.getBoundsTransformMatrix(),this.getTopLeft(r),g.transformPoint(r.x,r.y,r),n=r.x,o=r.y,this.getTopRight(r),g.transformPoint(r.x,r.y,r),l=r.x,h=r.y,this.getBottomLeft(r),g.transformPoint(r.x,r.y,r),u=r.x,c=r.y,this.getBottomRight(r),g.transformPoint(r.x,r.y,r)):(this.getTopLeft(r),n=r.x,o=r.y,this.getTopRight(r),l=r.x,h=r.y,this.getBottomLeft(r),u=r.x,c=r.y,this.getBottomRight(r)),r.x),r.y),r.x=Math.min(n,l,u,d),r.y=Math.min(o,h,c,v),r.width=Math.max(n,l,u,d)-r.x,r.height=Math.max(o,h,c,v)-r.y,r}};f.exports=s},function(f,x){f.exports="blur"},function(f,x){f.exports="boot"},function(f,x){f.exports="contextlost"},function(f,x){f.exports="contextrestored"},function(f,x){f.exports="destroy"},function(f,x){f.exports="focus"},function(f,x){f.exports="hidden"},function(f,x){f.exports="pause"},function(f,x){f.exports="postrender"},function(f,x){f.exports="poststep"},function(f,x){f.exports="prerender"},function(f,x){f.exports="prestep"},function(f,x){f.exports="ready"},function(f,x){f.exports="resume"},function(f,x){f.exports="step"},function(f,x){f.exports="visible"},function(f,x){f.exports="postrender"},function(f,x){f.exports="prerender"},function(f,x){f.exports="render"},function(f,x){f.exports="resize"},function(f,x){var t={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(a){this._displayOriginX=a,this.originX=a/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(a){this._displayOriginY=a,this.originY=a/this.height}},setOrigin:function(a,i){return a===void 0&&(a=.5),i===void 0&&(i=a),this.originX=a,this.originY=i,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(a,i){return a===void 0&&(a=0),i===void 0&&(i=a),this.displayOriginX=a,this.displayOriginY=i,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};f.exports=t},function(f,x,t){var a=t(36),i=t(99),e=t(6),s=t(100),r=t(3),n={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:s.PLAYING_FORWARD,setPath:function(o,l){l===void 0&&(l=this.pathConfig);var h=this.pathTween;return h&&h.isPlaying()&&h.stop(),this.path=o,l&&this.startFollow(l),this},setRotateToPath:function(o,l){return l===void 0&&(l=0),this.rotateToPath=o,this.pathRotationOffset=l,this},isFollowing:function(){var o=this.pathTween;return o&&o.isPlaying()},startFollow:function(o,l){o===void 0&&(o={}),l===void 0&&(l=0);var h=this.pathTween;h&&h.isPlaying()&&h.stop(),typeof o=="number"&&(o={duration:o}),o.from=e(o,"from",0),o.to=e(o,"to",1);var u=i(o,"positionOnPath",!1);this.rotateToPath=i(o,"rotateToPath",!1),this.pathRotationOffset=e(o,"rotationOffset",0);var c,d=e(o,"startAt",l);return d&&(o.onStart=function(v){var g=v.data[0];g.progress=d,g.elapsed=g.duration*d;var m=g.ease(g.progress);g.current=g.start+(g.end-g.start)*m,g.target[g.key]=g.current}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(o),this.path.getStartPoint(this.pathOffset),u&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=s.PLAYING_FORWARD,this.rotateToPath&&(c=this.path.getPoint(.1),this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+a(this.pathRotationOffset)),this.pathConfig=o,this},pauseFollow:function(){var o=this.pathTween;return o&&o.isPlaying()&&o.pause(),this},resumeFollow:function(){var o=this.pathTween;return o&&o.isPaused()&&o.resume(),this},stopFollow:function(){var o=this.pathTween;return o&&o.isPlaying()&&o.stop(),this},pathUpdate:function(){var o=this.pathTween;if(o){var l=o.data[0],h=this.pathDelta,u=this.pathVector;if(h.copy(u).negate(),l.state===s.COMPLETE)return this.path.getPoint(1,u),h.add(u),u.add(this.pathOffset),void this.setPosition(u.x,u.y);if(l.state!==s.PLAYING_FORWARD&&l.state!==s.PLAYING_BACKWARD)return;this.path.getPoint(o.getValue(),u),h.add(u),u.add(this.pathOffset);var c=this.x,d=this.y;this.setPosition(u.x,u.y);var v=this.x-c,g=this.y-d;if(v==0&&g==0)return;if(l.state!==this._prevDirection)return void(this._prevDirection=l.state);this.rotateToPath&&(this.rotation=Math.atan2(g,v)+a(this.pathRotationOffset))}}};f.exports=n},function(f,x){var t={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(a){this.scaleX=a/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(a){this.scaleY=a/this.frame.realHeight}},setSizeToFrame:function(a){return a===void 0&&(a=this.frame),this.width=a.realWidth,this.height=a.realHeight,this},setSize:function(a,i){return this.width=a,this.height=i,this},setDisplaySize:function(a,i){return this.displayWidth=a,this.displayHeight=i,this}};f.exports=t},function(f,x){var t={texture:null,frame:null,isCropped:!1,setTexture:function(a,i){return this.texture=this.scene.sys.textures.get(a),this.setFrame(i)},setFrame:function(a,i,e){return i===void 0&&(i=!0),e===void 0&&(e=!0),this.frame=this.texture.get(a),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&i&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};f.exports=t},function(f,x){var t={texture:null,frame:null,isCropped:!1,setCrop:function(a,i,e,s){return a===void 0?this.isCropped=!1:this.frame&&(typeof a=="number"?this.frame.setCropUVs(this._crop,a,i,e,s,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY),this.isCropped=!0),this},setTexture:function(a,i){return this.texture=this.scene.sys.textures.get(a),this.setFrame(i)},setFrame:function(a,i,e){return i===void 0&&(i=!0),e===void 0&&(e=!0),this.frame=this.texture.get(a),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&i&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};f.exports=t},function(f,x){var t={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(a,i,e,s){return a===void 0&&(a=16777215),i===void 0&&(s=e=i=a),this.tintTopLeft=a,this.tintTopRight=i,this.tintBottomLeft=e,this.tintBottomRight=s,this.tintFill=!1,this},setTintFill:function(a,i,e,s){return this.setTint(a,i,e,s),this.tintFill=!0,this},tint:{set:function(a){this.setTint(a,a,a,a)}},isTinted:{get:function(){var a=16777215;return this.tintFill||this.tintTopLeft!==a||this.tintTopRight!==a||this.tintBottomLeft!==a||this.tintBottomRight!==a}}};f.exports=t},function(f,x){f.exports="changedata"},function(f,x){f.exports="changedata-"},function(f,x){f.exports="destroy"},function(f,x){f.exports="removedata"},function(f,x){f.exports="setdata"},function(f,x){f.exports="addedtoscene"},function(f,x){f.exports="destroy"},function(f,x){f.exports="removedfromscene"},function(f,x){f.exports="complete"},function(f,x){f.exports="created"},function(f,x){f.exports="error"},function(f,x){f.exports="loop"},function(f,x){f.exports="play"},function(f,x){f.exports="seeked"},function(f,x){f.exports="seeking"},function(f,x){f.exports="stop"},function(f,x){f.exports="timeout"},function(f,x){f.exports="unlocked"},function(f,x){f.exports="addedtoscene"},function(f,x){f.exports="boot"},function(f,x){f.exports="create"},function(f,x){f.exports="destroy"},function(f,x){f.exports="pause"},function(f,x){f.exports="postupdate"},function(f,x){f.exports="prerender"},function(f,x){f.exports="preupdate"},function(f,x){f.exports="ready"},function(f,x){f.exports="removedfromscene"},function(f,x){f.exports="render"},function(f,x){f.exports="resume"},function(f,x){f.exports="shutdown"},function(f,x){f.exports="sleep"},function(f,x){f.exports="start"},function(f,x){f.exports="transitioncomplete"},function(f,x){f.exports="transitioninit"},function(f,x){f.exports="transitionout"},function(f,x){f.exports="transitionstart"},function(f,x){f.exports="transitionwake"},function(f,x){f.exports="update"},function(f,x){f.exports="wake"},function(f,x,t){var a=t(46);f.exports=function(i,e,s,r,n){return a(i,"alpha",e,s,r,n)}},function(f,x,t){var a=t(46);f.exports=function(i,e,s,r,n){return a(i,"x",e,s,r,n)}},function(f,x,t){var a=t(46);f.exports=function(i,e,s,r,n,o,l){return s==null&&(s=e),a(i,"x",e,r,o,l),a(i,"y",s,n,o,l)}},function(f,x,t){var a=t(46);f.exports=function(i,e,s,r,n){return a(i,"y",e,s,r,n)}},function(f,x){f.exports=function(t,a,i,e){i===void 0&&(i=0),e===void 0&&(e=6.28);for(var s=i,r=(e-i)/t.length,n=0;n<t.length;n++)t[n].x=a.x+a.radius*Math.cos(s),t[n].y=a.y+a.radius*Math.sin(s),s+=r;return t}},function(f,x){f.exports=function(t,a,i,e){i===void 0&&(i=0),e===void 0&&(e=6.28);for(var s=i,r=(e-i)/t.length,n=a.width/2,o=a.height/2,l=0;l<t.length;l++)t[l].x=a.x+n*Math.cos(s),t[l].y=a.y+o*Math.sin(s),s+=r;return t}},function(f,x,t){var a=t(172);f.exports=function(i,e){for(var s=a(e,i.length),r=0;r<i.length;r++){var n=i[r],o=s[r];n.x=o.x,n.y=o.y}return i}},function(f,x,t){var a=t(316),i=t(178),e=t(179);f.exports=function(s,r,n){n===void 0&&(n=0);var o=a(r,!1,s.length);0<n?i(o,n):n<0&&e(o,Math.abs(n));for(var l=0;l<s.length;l++)s[l].x=o[l].x,s[l].y=o[l].y;return s}},function(f,x,t){var a=t(317);f.exports=function(i,e,s){var r=a({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},s),n=a({x1:e.x2,y1:e.y2,x2:e.x3,y2:e.y3},s),o=a({x1:e.x3,y1:e.y3,x2:e.x1,y2:e.y1},s);r.pop(),n.pop(),o.pop();for(var l=(r=r.concat(n,o)).length/i.length,h=0,u=0;u<i.length;u++){var c=i[u],d=r[Math.floor(h)];c.x=d.x,c.y=d.y,h+=l}return i}},function(f,x){f.exports=function(t,a,i){for(var e=0;e<t.length;e++){var s=t[e];s.anims&&s.anims.play(a,i)}return t}},function(f,x,t){var a=t(170);f.exports=function(i,e){for(var s=0;s<i.length;s++)a(e,i[s]);return i}},function(f,x,t){var a=t(180);f.exports=function(i,e){for(var s=0;s<i.length;s++)a(e,i[s]);return i}},function(f,x,t){var a=t(173);f.exports=function(i,e){for(var s=0;s<i.length;s++)a(e,i[s]);return i}},function(f,x,t){var a=t(174);f.exports=function(i,e){for(var s=0;s<i.length;s++)a(e,i[s]);return i}},function(f,x,t){var a=t(181);f.exports=function(i,e){for(var s=0;s<i.length;s++)a(e,i[s]);return i}},function(f,x,t){var a=t(46);f.exports=function(i,e,s,r,n){return a(i,"rotation",e,s,r,n)}},function(f,x,t){var a=t(182),i=t(50);f.exports=function(e,s,r){for(var n=s.x,o=s.y,l=0;l<e.length;l++){var h=e[l];a(h,n,o,r,Math.max(1,i(h.x,h.y,n,o)))}return e}},function(f,x,t){var a=t(182);f.exports=function(i,e,s,r){var n=e.x,o=e.y;if(r===0)return i;for(var l=0;l<i.length;l++)a(i[l],n,o,s,r);return i}},function(f,x,t){var a=t(46);f.exports=function(i,e,s,r,n){return a(i,"scaleX",e,s,r,n)}},function(f,x,t){var a=t(46);f.exports=function(i,e,s,r,n,o,l){return s==null&&(s=e),a(i,"scaleX",e,r,o,l),a(i,"scaleY",s,n,o,l)}},function(f,x,t){var a=t(46);f.exports=function(i,e,s,r,n){return a(i,"scaleY",e,s,r,n)}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r,n){return a(i,"alpha",e,s,r,n)}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r){return a(i,"blendMode",e,0,s,r)}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r,n){return a(i,"depth",e,s,r,n)}},function(f,x){f.exports=function(t,a,i){for(var e=0;e<t.length;e++)t[e].setInteractive(a,i);return t}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r,n,o,l){return s==null&&(s=e),a(i,"originX",e,r,o,l),a(i,"originY",s,n,o,l),i.forEach(function(h){h.updateDisplayOrigin()}),i}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r,n){return a(i,"rotation",e,s,r,n)}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r,n,o,l){return s==null&&(s=e),a(i,"scaleX",e,r,o,l),a(i,"scaleY",s,n,o,l)}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r,n){return a(i,"scaleX",e,s,r,n)}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r,n){return a(i,"scaleY",e,s,r,n)}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r,n,o,l){return s==null&&(s=e),a(i,"scrollFactorX",e,r,o,l),a(i,"scrollFactorY",s,n,o,l)}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r,n){return a(i,"scrollFactorX",e,s,r,n)}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r,n){return a(i,"scrollFactorY",e,s,r,n)}},function(f,x){f.exports=function(t,a,i,e,s){for(var r=0;r<t.length;r++)t[r].setTint(a,i,e,s);return t}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r){return a(i,"visible",e,0,s,r)}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r,n){return a(i,"x",e,s,r,n)}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r,n,o,l){return s==null&&(s=e),a(i,"x",e,r,o,l),a(i,"y",s,n,o,l)}},function(f,x,t){var a=t(27);f.exports=function(i,e,s,r,n){return a(i,"y",e,s,r,n)}},function(f,x,t){var a=t(3);f.exports=function(i,e,s,r,n){var o,l,h;if(r===void 0&&(r=0),n===void 0&&(n=new a),1<i.length)if(r===0){for(var u=i.length-1,c=i[u].x,d=i[u].y,v=u-1;0<=v;v--)o=(h=i[v]).x,l=h.y,h.x=c,h.y=d,c=o,d=l;i[u].x=e,i[u].y=s}else{for(c=i[0].x,d=i[0].y,v=1;v<i.length;v++)o=(h=i[v]).x,l=h.y,h.x=c,h.y=d,c=o,d=l;i[0].x=e,i[0].y=s}else c=i[0].x,d=i[0].y,i[0].x=e,i[0].y=s;return n.x=c,n.y=d,n}},function(f,x,t){var a=t(131);f.exports=function(i){return a(i)}},function(f,x,t){var a=t(183);f.exports=function(i,e,s,r,n){n===void 0&&(n=!1);var o,l=Math.abs(r-s)/i.length;if(n)for(o=0;o<i.length;o++)i[o][e]+=a(o*l,s,r);else for(o=0;o<i.length;o++)i[o][e]=a(o*l,s,r);return i}},function(f,x,t){var a=t(184);f.exports=function(i,e,s,r,n){n===void 0&&(n=!1);var o,l=Math.abs(r-s)/i.length;if(n)for(o=0;o<i.length;o++)i[o][e]+=a(o*l,s,r);else for(o=0;o<i.length;o++)i[o][e]=a(o*l,s,r);return i}},function(f,x){f.exports=function(t,a,i,e,s){s===void 0&&(s=!1);var r,n=Math.abs(e-i)/t.length;if(s)for(r=0;r<t.length;r++)t[r][a]+=r*n+i;else for(r=0;r<t.length;r++)t[r][a]=r*n+i;return t}},function(f,x){f.exports=function(t){for(var a=0;a<t.length;a++)t[a].visible=!t[a].visible;return t}},function(f,x,t){var a=t(68);f.exports=function(i,e,s){s===void 0&&(s=0);for(var r=0;r<i.length;r++){var n=i[r];n.x=a(n.x,e.left-s,e.right+s),n.y=a(n.y,e.top-s,e.bottom+s)}return i}},function(f,x,t){f.exports={Animation:t(185),AnimationFrame:t(319),AnimationManager:t(321),AnimationState:t(164),Events:t(132)}},function(f,x){f.exports="add"},function(f,x){f.exports="animationcomplete"},function(f,x){f.exports="animationcomplete-"},function(f,x){f.exports="animationrepeat"},function(f,x){f.exports="animationrestart"},function(f,x){f.exports="animationstart"},function(f,x){f.exports="animationstop"},function(f,x){f.exports="animationupdate"},function(f,x){f.exports="pauseall"},function(f,x){f.exports="remove"},function(f,x){f.exports="resumeall"},function(f,x,t){f.exports={BaseCache:t(323),CacheManager:t(325),Events:t(324)}},function(f,x){f.exports="add"},function(f,x){f.exports="remove"},function(f,x,t){f.exports={Controls:t(739),Scene2D:t(742)}},function(f,x,t){f.exports={FixedKeyControl:t(740),SmoothedKeyControl:t(741)}},function(f,x,t){var a=t(0),i=t(6),e=new a({initialize:function(s){this.camera=i(s,"camera",null),this.left=i(s,"left",null),this.right=i(s,"right",null),this.up=i(s,"up",null),this.down=i(s,"down",null),this.zoomIn=i(s,"zoomIn",null),this.zoomOut=i(s,"zoomOut",null),this.zoomSpeed=i(s,"zoomSpeed",.01),this.minZoom=i(s,"minZoom",.001),this.maxZoom=i(s,"maxZoom",1e3),this.speedX=0,this.speedY=0;var r=i(s,"speed",null);typeof r=="number"?(this.speedX=r,this.speedY=r):(this.speedX=i(s,"speed.x",0),this.speedY=i(s,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){var r;this.active&&(s===void 0&&(s=1),r=this.camera,this.up&&this.up.isDown?r.scrollY-=this.speedY*s|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*s|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*s|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*s|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom)))},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});f.exports=e},function(f,x,t){var a=t(0),i=t(6),e=new a({initialize:function(s){this.camera=i(s,"camera",null),this.left=i(s,"left",null),this.right=i(s,"right",null),this.up=i(s,"up",null),this.down=i(s,"down",null),this.zoomIn=i(s,"zoomIn",null),this.zoomOut=i(s,"zoomOut",null),this.zoomSpeed=i(s,"zoomSpeed",.01),this.minZoom=i(s,"minZoom",.001),this.maxZoom=i(s,"maxZoom",1e3),this.accelX=0,this.accelY=0;var r=i(s,"acceleration",null);typeof r=="number"?(this.accelX=r,this.accelY=r):(this.accelX=i(s,"acceleration.x",0),this.accelY=i(s,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=i(s,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=i(s,"drag.x",0),this.dragY=i(s,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var o=i(s,"maxSpeed",null);typeof o=="number"?(this.maxSpeedX=o,this.maxSpeedY=o):(this.maxSpeedX=i(s,"maxSpeed.x",0),this.maxSpeedY=i(s,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){var r;this.active&&(s===void 0&&(s=1),r=this.camera,0<this._speedX?(this._speedX-=this.dragX*s,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*s,0<this._speedX&&(this._speedX=0)),0<this._speedY?(this._speedY-=this.dragY*s,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*s,0<this._speedY&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*s|0),this._speedY!==0&&(r.scrollY-=this._speedY*s|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom)))},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});f.exports=e},function(f,x,t){f.exports={Camera:t(326),BaseCamera:t(133),CameraManager:t(799),Effects:t(333),Events:t(37)}},function(f,x){f.exports="cameradestroy"},function(f,x){f.exports="camerafadeincomplete"},function(f,x){f.exports="camerafadeinstart"},function(f,x){f.exports="camerafadeoutcomplete"},function(f,x){f.exports="camerafadeoutstart"},function(f,x){f.exports="cameraflashcomplete"},function(f,x){f.exports="cameraflashstart"},function(f,x){f.exports="followupdate"},function(f,x){f.exports="camerapancomplete"},function(f,x){f.exports="camerapanstart"},function(f,x){f.exports="postrender"},function(f,x){f.exports="prerender"},function(f,x){f.exports="camerarotatecomplete"},function(f,x){f.exports="camerarotatestart"},function(f,x){f.exports="camerashakecomplete"},function(f,x){f.exports="camerashakestart"},function(f,x){f.exports="camerazoomcomplete"},function(f,x){f.exports="camerazoomstart"},function(f,x,t){var a=t(18),i=t(0),e=t(37),s=new i({initialize:function(r){this.camera=r,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,n,o,l,h,u,c,d){if(r===void 0&&(r=!0),n===void 0&&(n=1e3),o===void 0&&(o=0),l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=!1),c===void 0&&(c=null),d===void 0&&(d=this.camera.scene),!u&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=n,this.direction=r,this.progress=0,this.red=o,this.green=l,this.blue=h,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=d;var v=r?e.FADE_OUT_START:e.FADE_IN_START;return this.camera.emit(v,this.camera,this,n,o,l,h),this.camera},update:function(r,n){this.isRunning&&(this._elapsed+=n,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(r,n){if(!this.isRunning&&!this.isComplete)return!1;var o=this.camera,l=this.red/255,h=this.green/255,u=this.blue/255;return r.drawFillRect(o.x,o.y,o.width,o.height,n(u,h,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?e.FADE_OUT_COMPLETE:e.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});f.exports=s},function(f,x,t){var a=t(18),i=t(0),e=t(37),s=new i({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,n,o,l,h,u,c){return r===void 0&&(r=250),n===void 0&&(n=255),o===void 0&&(o=255),l===void 0&&(l=255),h===void 0&&(h=!1),u===void 0&&(u=null),c===void 0&&(c=this.camera.scene),!h&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.red=n,this.green=o,this.blue=l,this.alpha=1,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=c,this.camera.emit(e.FLASH_START,this.camera,this,r,n,o,l)),this.camera},update:function(r,n){this.isRunning&&(this._elapsed+=n,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var n=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(r,n){if(!this.isRunning)return!1;var o=this.camera,l=this.red/255,h=this.green/255,u=this.blue/255;return r.drawFillRect(o.x,o.y,o.width,o.height,n(u,h,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(e.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});f.exports=s},function(f,x,t){var a=t(18),i=t(0),e=t(134),s=t(37),r=t(3),n=new i({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,l,h,u,c,d,v){h===void 0&&(h=1e3),u===void 0&&(u=e.Linear),c===void 0&&(c=!1),d===void 0&&(d=null),v===void 0&&(v=this.camera.scene);var g=this.camera;return!c&&this.isRunning||(this.isRunning=!0,this.duration=h,this.progress=0,this.source.set(g.scrollX,g.scrollY),this.destination.set(o,l),g.getScroll(o,l,this.current),typeof u=="string"&&e.hasOwnProperty(u)?this.ease=e[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=v,this.camera.emit(s.PAN_START,this.camera,this,h,o,l)),g},update:function(o,l){var h,u,c,d,v;this.isRunning&&(this._elapsed+=l,h=a(this._elapsed/this.duration,0,1),this.progress=h,u=this.camera,this._elapsed<this.duration?(c=this.ease(h),u.getScroll(this.destination.x,this.destination.y,this.current),d=this.source.x+(this.current.x-this.source.x)*c,v=this.source.y+(this.current.y-this.source.y)*c,u.setScroll(d,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,h,d,v)):(u.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,h,u.scrollX,u.scrollY),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});f.exports=n},function(f,x){f.exports=function(t,a){return a===void 0&&(a=1.70158),t*t*((a+1)*t-a)}},function(f,x){f.exports=function(t,a){return a===void 0&&(a=1.70158),--t*t*((a+1)*t+a)+1}},function(f,x){f.exports=function(t,a){a===void 0&&(a=1.70158);var i=1.525*a;return(t*=2)<1?t*t*((1+i)*t-i)*.5:.5*((t-=2)*t*((1+i)*t+i)+2)}},function(f,x){f.exports=function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}},function(f,x){f.exports=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},function(f,x){f.exports=function(t){var a=!1;return t<.5?(t=1-2*t,a=!0):t=2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,a?.5*(1-t):.5*t+.5}},function(f,x){f.exports=function(t){return 1-Math.sqrt(1-t*t)}},function(f,x){f.exports=function(t){return Math.sqrt(1- --t*t)}},function(f,x){f.exports=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},function(f,x){f.exports=function(t){return t*t*t}},function(f,x){f.exports=function(t){return--t*t*t+1}},function(f,x){f.exports=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},function(f,x){f.exports=function(t,a,i){if(a===void 0&&(a=.1),i===void 0&&(i=.1),t===0)return 0;if(t===1)return 1;var e=i/4;return a<1?a=1:e=i*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/i))}},function(f,x){f.exports=function(t,a,i){if(a===void 0&&(a=.1),i===void 0&&(i=.1),t===0)return 0;if(t===1)return 1;var e=i/4;return a<1?a=1:e=i*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1}},function(f,x){f.exports=function(t,a,i){if(a===void 0&&(a=.1),i===void 0&&(i=.1),t===0)return 0;if(t===1)return 1;var e=i/4;return a<1?a=1:e=i*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?a*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/i)*-.5:a*Math.pow(2,-10*--t)*Math.sin((t-e)*(2*Math.PI)/i)*.5+1}},function(f,x){f.exports=function(t){return Math.pow(2,10*(t-1))-.001}},function(f,x){f.exports=function(t){return 1-Math.pow(2,-10*t)}},function(f,x){f.exports=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))}},function(f,x){f.exports=function(t){return t}},function(f,x){f.exports=function(t){return t*t}},function(f,x){f.exports=function(t){return t*(2-t)}},function(f,x){f.exports=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},function(f,x){f.exports=function(t){return t*t*t*t}},function(f,x){f.exports=function(t){return 1- --t*t*t*t}},function(f,x){f.exports=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},function(f,x){f.exports=function(t){return t*t*t*t*t}},function(f,x){f.exports=function(t){return--t*t*t*t*t+1}},function(f,x){f.exports=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},function(f,x){f.exports=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)}},function(f,x){f.exports=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)}},function(f,x){f.exports=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))}},function(f,x){f.exports=function(t,a){return a===void 0&&(a=1),t<=0?0:1<=t?1:1/a*(1+(a*t|0))}},function(f,x,t){var a=t(18),i=t(0),e=t(37),s=t(3),r=new i({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new s,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(n,o,l,h,u){return n===void 0&&(n=100),o===void 0&&(o=.05),l===void 0&&(l=!1),h===void 0&&(h=null),u===void 0&&(u=this.camera.scene),!l&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,typeof o=="number"?this.intensity.set(o):this.intensity.set(o.x,o.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=h,this._onUpdateScope=u,this.camera.emit(e.SHAKE_START,this.camera,this,n,o)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(n,o){var l,h,u,c;this.isRunning&&(this._elapsed+=o,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?(l=this.intensity,h=this.camera.width,u=this.camera.height,c=this.camera.zoom,this._offsetX=(Math.random()*l.x*h*2-l.x*h)*c,this._offsetY=(Math.random()*l.y*u*2-l.y*u)*c,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))):this.effectComplete())},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(e.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});f.exports=r},function(f,x,t){var a=t(18),i=t(0),e=t(37),s=t(134),r=new i({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(n,o,l,h,u,c,d){l===void 0&&(l=1e3),h===void 0&&(h=s.Linear),u===void 0&&(u=!1),c===void 0&&(c=null),d===void 0&&(d=this.camera.scene),o===void 0&&(o=!1),this.shortestPath=o;var v=n;n<0?(v=-1*n,this.clockwise=!1):this.clockwise=!0;var g=360*Math.PI/180;v-=Math.floor(v/g)*g;var m,y,T=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=l,this.progress=0,this.source=T.rotation,this.destination=v,typeof h=="string"&&s.hasOwnProperty(h)?this.ease=s[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=d,this.shortestPath&&(y=m=0,(m=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+g)-this.source)<(y=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+g)-this.destination)?this.clockwise=!0:y<m&&(this.clockwise=!1)),this.camera.emit(e.ROTATE_START,this.camera,this,l,v)),T},update:function(n,o){var l,h,u,c,d,v,g,m;this.isRunning&&(this._elapsed+=o,l=a(this._elapsed/this.duration,0,1),this.progress=l,h=this.camera,this._elapsed<this.duration?(u=this.ease(l),this.current=h.rotation,c=0,d=360*Math.PI/180,v=this.destination,g=this.current,this.clockwise===!1&&(v=this.current,g=this.destination),c=g<=v?Math.abs(v-g):Math.abs(v+d)-g,m=0,m=this.clockwise?h.rotation+c*u:h.rotation-c*u,h.rotation=m,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,l,m)):(h.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,l,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(e.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});f.exports=r},function(f,x,t){var a=t(18),i=t(0),e=t(134),s=t(37),r=new i({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,o,l,h,u,c){o===void 0&&(o=1e3),l===void 0&&(l=e.Linear),h===void 0&&(h=!1),u===void 0&&(u=null),c===void 0&&(c=this.camera.scene);var d=this.camera;return!h&&this.isRunning||(this.isRunning=!0,this.duration=o,this.progress=0,this.source=d.zoom,this.destination=n,typeof l=="string"&&e.hasOwnProperty(l)?this.ease=e[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=c,this.camera.emit(s.ZOOM_START,this.camera,this,o,n)),d},update:function(n,o){this.isRunning&&(this._elapsed+=o,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});f.exports=r},function(f,x,t){var a=t(326),i=t(0),e=t(2),s=t(24),r=t(57),n=t(104),o=t(20),l=new i({initialize:function(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(o.BOOT,this.boot,this),h.sys.events.on(o.START,this.start,this)},boot:function(){var h=this.systems;h.settings.cameras?this.fromJSON(h.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,h.scale.width,h.scale.height).setScene(this.scene),h.game.scale.on(n.RESIZE,this.onResize,this),this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){var h;this.main||((h=this.systems).settings.cameras?this.fromJSON(h.settings.cameras):this.add(),this.main=this.cameras[0]);var u=this.systems.events;u.on(o.UPDATE,this.update,this),u.once(o.SHUTDOWN,this.shutdown,this)},add:function(h,u,c,d,v,g){h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),v===void 0&&(v=!1),g===void 0&&(g="");var m=new a(h,u,c,d);return m.setName(g),m.setScene(this.scene),m.setRoundPixels(this.roundPixels),m.id=this.getNextID(),this.cameras.push(m),v&&(this.main=m),m},addExisting:function(h,u){return u===void 0&&(u=!1),this.cameras.indexOf(h)===-1?(h.id=this.getNextID(),h.setRoundPixels(this.roundPixels),this.cameras.push(h),u&&(this.main=h),h):null},getNextID:function(){for(var h=this.cameras,u=1,c=0;c<32;c++){for(var d=!1,v=0;v<h.length;v++){var g=h[v];g&&g.id===u&&(d=!0)}if(!d)return u;u<<=1}return 0},getTotal:function(h){h===void 0&&(h=!1);for(var u=0,c=this.cameras,d=0;d<c.length;d++){var v=c[d];(!h||h&&v.visible)&&u++}return u},fromJSON:function(h){Array.isArray(h)||(h=[h]);for(var u=this.scene.sys.scale.width,c=this.scene.sys.scale.height,d=0;d<h.length;d++){var v=h[d],g=e(v,"x",0),m=e(v,"y",0),y=e(v,"width",u),T=e(v,"height",c),E=this.add(g,m,y,T);E.name=e(v,"name",""),E.zoom=e(v,"zoom",1),E.rotation=e(v,"rotation",0),E.scrollX=e(v,"scrollX",0),E.scrollY=e(v,"scrollY",0),E.roundPixels=e(v,"roundPixels",!1),E.visible=e(v,"visible",!0);var S=e(v,"backgroundColor",!1);S&&E.setBackgroundColor(S);var C,M,P,R,L=e(v,"bounds",null);L&&(C=e(L,"x",0),M=e(L,"y",0),P=e(L,"width",u),R=e(L,"height",c),E.setBounds(C,M,P,R))}return this},getCamera:function(h){for(var u=this.cameras,c=0;c<u.length;c++)if(u[c].name===h)return u[c];return null},getCamerasBelowPointer:function(h){for(var u=this.cameras,c=h.x,d=h.y,v=[],g=0;g<u.length;g++){var m=u[g];m.visible&&m.inputEnabled&&r(m,c,d)&&v.unshift(m)}return v},remove:function(h,u){u===void 0&&(u=!0),Array.isArray(h)||(h=[h]);for(var c=0,d=this.cameras,v=0;v<h.length;v++){var g=d.indexOf(h[v]);g!==-1&&(u?d[g].destroy():d[g].renderList=[],d.splice(g,1),c++)}return!this.main&&d[0]&&(this.main=d[0]),c},render:function(h,u){for(var c=this.scene,d=this.cameras,v=0;v<this.cameras.length;v++){var g,m=d[v];m.visible&&0<m.alpha&&(m.preRender(),g=this.getVisibleChildren(u.getChildren(),m),h.render(c,g,m))}},getVisibleChildren:function(h,u){for(var c=[],d=0;d<h.length;d++){var v=h[d];v.willRender(u)&&c.push(v)}return c},resetAll:function(){for(var h=0;h<this.cameras.length;h++)this.cameras[h].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(h,u){for(var c=0;c<this.cameras.length;c++)this.cameras[c].update(h,u)},onResize:function(h,u,c,d,v){for(var g=0;g<this.cameras.length;g++){var m=this.cameras[g];m._x===0&&m._y===0&&m._width===d&&m._height===v&&m.setSize(u.width,u.height)}},resize:function(h,u){for(var c=0;c<this.cameras.length;c++)this.cameras[c].setSize(h,u)},shutdown:function(){this.main=void 0;for(var h=0;h<this.cameras.length;h++)this.cameras[h].destroy();this.cameras=[];var u=this.systems.events;u.off(o.UPDATE,this.update,this),u.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});s.register("CameraManager",l,"cameras"),f.exports=l},function(f,x){f.exports="enterfullscreen"},function(f,x){f.exports="fullscreenfailed"},function(f,x){f.exports="fullscreenunsupported"},function(f,x){f.exports="leavefullscreen"},function(f,x){f.exports="orientationchange"},function(f,x){f.exports="resize"},function(f,x,t){f.exports={Config:t(346),CreateRenderer:t(366),DebugHeader:t(384),Events:t(22),TimeStep:t(385),VisibilityHandler:t(387)}},function(f,x){var t,a,i=f.exports={};function e(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function r(g){if(t===setTimeout)return setTimeout(g,0);if((t===e||!t)&&setTimeout)return t=setTimeout,setTimeout(g,0);try{return t(g,0)}catch{try{return t.call(null,g,0)}catch{return t.call(this,g,0)}}}(function(){try{t=typeof setTimeout=="function"?setTimeout:e}catch{t=e}try{a=typeof clearTimeout=="function"?clearTimeout:s}catch{a=s}})();var n,o=[],l=!1,h=-1;function u(){l&&n&&(l=!1,n.length?o=n.concat(o):h=-1,o.length&&c())}function c(){if(!l){var g=r(u);l=!0;for(var m=o.length;m;){for(n=o,o=[];++h<m;)n&&n[h].run();h=-1,m=o.length}n=null,l=!1,function(y){if(a===clearTimeout)return clearTimeout(y);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(y);try{a(y)}catch{try{return a.call(null,y)}catch{return a.call(this,y)}}}(g)}}function d(g,m){this.fun=g,this.array=m}function v(){}i.nextTick=function(g){var m=new Array(arguments.length-1);if(1<arguments.length)for(var y=1;y<arguments.length;y++)m[y-1]=arguments[y];o.push(new d(g,m)),o.length!==1||l||r(c)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(g){return[]},i.binding=function(g){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(g){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(f,x,t){var a=t(136),i={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};f.exports=(typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&1<=navigator.maxTouchPoints)&&(i.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(i.mspointer=!0),navigator.getGamepads&&(i.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?i.wheelEvent="wheel":"onmousewheel"in window?i.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(i.wheelEvent="DOMMouseScroll")),i)},function(f,x,t){var a=t(136),i={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};f.exports=function(){if(typeof importScripts=="function")return i;i.audioData=!!window.Audio,i.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var e,s,r=document.createElement("audio"),n=!!r.canPlayType;try{n&&(r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(i.ogg=!0),(r.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||r.canPlayType("audio/opus;").replace(/^no$/,""))&&(i.opus=!0),r.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(i.mp3=!0),r.canPlayType("audio/wav").replace(/^no$/,"")&&(i.wav=!0),(r.canPlayType("audio/x-m4a;")||r.canPlayType("audio/aac;").replace(/^no$/,""))&&(i.m4a=!0),r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(i.webm=!0),r.canPlayType('audio/mp4;codecs="ec-3"')!==""&&(a.edge?i.dolby=!0:a.safari&&9<=a.safariVersion&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)&&(e=parseInt(RegExp.$1,10),s=parseInt(RegExp.$2,10),(e===10&&11<=s||10<e)&&(i.dolby=!0))))}catch{}return i}()},function(f,x){var t={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};f.exports=function(){if(typeof importScripts=="function")return t;var a=document.createElement("video"),i=!!a.canPlayType;try{i&&(a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(t.ogg=!0),a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.h264=!0,t.mp4=!0),a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(t.webm=!0),a.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(t.vp9=!0),a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.hls=!0))}catch{}return t}()},function(f,x){var t={available:!1,cancel:"",keyboard:!1,request:""};f.exports=function(){if(typeof importScripts=="function")return t;for(var a="Fullscreen",i="FullScreen",e=["request"+a,"request"+i,"webkitRequest"+a,"webkitRequest"+i,"msRequest"+a,"msRequest"+i,"mozRequest"+i,"mozRequest"+a],s=0;s<e.length;s++)if(document.documentElement[e[s]]){t.available=!0,t.request=e[s];break}var r=["cancel"+i,"exit"+a,"webkitCancel"+i,"webkitExit"+a,"msCancel"+i,"msExit"+a,"mozCancel"+i,"mozExit"+a];if(t.available){for(s=0;s<r.length;s++)if(document[r[s]]){t.cancel=r[s];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(t.keyboard=!0),Object.defineProperty(t,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),t}()},function(f,x,t){f.exports={Between:t(349),BetweenPoints:t(350),BetweenPointsY:t(813),BetweenY:t(814),CounterClockwise:t(815),Normalize:t(351),Random:t(816),RandomDegrees:t(817),Reverse:t(818),RotateTo:t(819),ShortestBetween:t(820),Wrap:t(269),WrapDegrees:t(270)}},function(f,x){f.exports=function(t,a){return Math.atan2(a.x-t.x,a.y-t.y)}},function(f,x){f.exports=function(t,a,i,e){return Math.atan2(i-t,e-a)}},function(f,x,t){var a=t(14);f.exports=function(i){return i>Math.PI&&(i-=a.PI2),Math.abs(((i+a.TAU)%a.PI2-a.PI2)%a.PI2)}},function(f,x,t){var a=t(137);f.exports=function(){return a(-Math.PI,Math.PI)}},function(f,x,t){var a=t(137);f.exports=function(){return a(-180,180)}},function(f,x,t){var a=t(351);f.exports=function(i){return a(i+Math.PI)}},function(f,x,t){var a=t(14);f.exports=function(i,e,s){return s===void 0&&(s=.05),i===e||(Math.abs(e-i)<=s||Math.abs(e-i)>=a.PI2-s?i=e:(Math.abs(e-i)>Math.PI&&(e<i?e+=a.PI2:e-=a.PI2),i<e?i+=s:e<i&&(i-=s))),i}},function(f,x){f.exports=function(t,a){var i=a-t;return i==0?0:i-360*Math.floor((i+180)/360)}},function(f,x,t){f.exports={Between:t(50),BetweenPoints:t(352),BetweenPointsSquared:t(822),Chebyshev:t(823),Power:t(824),Snake:t(825),Squared:t(353)}},function(f,x){f.exports=function(t,a){var i=t.x-a.x,e=t.y-a.y;return i*i+e*e}},function(f,x){f.exports=function(t,a,i,e){return Math.max(Math.abs(t-i),Math.abs(a-e))}},function(f,x){f.exports=function(t,a,i,e,s){return s===void 0&&(s=2),Math.sqrt(Math.pow(i-t,s)+Math.pow(e-a,s))}},function(f,x){f.exports=function(t,a,i,e){return Math.abs(t-i)+Math.abs(a-e)}},function(f,x,t){f.exports={Back:t(334),Bounce:t(335),Circular:t(336),Cubic:t(337),Elastic:t(338),Expo:t(339),Linear:t(340),Quadratic:t(341),Quartic:t(342),Quintic:t(343),Sine:t(344),Stepped:t(345)}},function(f,x,t){f.exports={Ceil:t(828),Equal:t(124),Floor:t(829),GreaterThan:t(354),LessThan:t(355)}},function(f,x){f.exports=function(t,a){return a===void 0&&(a=1e-4),Math.ceil(t-a)}},function(f,x){f.exports=function(t,a){return a===void 0&&(a=1e-4),Math.floor(t+a)}},function(f,x,t){f.exports={Bezier:t(831),CatmullRom:t(832),CubicBezier:t(358),Linear:t(833),QuadraticBezier:t(359),SmoothStep:t(360),SmootherStep:t(834)}},function(f,x,t){var a=t(356);f.exports=function(i,e){for(var s=0,r=i.length-1,n=0;n<=r;n++)s+=Math.pow(1-e,r-n)*Math.pow(e,n)*i[n]*a(r,n);return s}},function(f,x,t){var a=t(194);f.exports=function(i,e){var s=i.length-1,r=s*e,n=Math.floor(r);return i[0]===i[s]?(e<0&&(n=Math.floor(r=s*(1+e))),a(r-n,i[(n-1+s)%s],i[n],i[(n+1)%s],i[(n+2)%s])):e<0?i[0]-(a(-r,i[0],i[0],i[1],i[1])-i[0]):1<e?i[s]-(a(r-s,i[s],i[s],i[s-1],i[s-1])-i[s]):a(r-n,i[n?n-1:0],i[n],i[s<n+1?s:n+1],i[s<n+2?s:n+2])}},function(f,x,t){var a=t(135);f.exports=function(i,e){var s=i.length-1,r=s*e,n=Math.floor(r);return e<0?a(i[0],i[1],r):1<e?a(i[s],i[s-1],s-r):a(i[n],i[s<n+1?s:n+1],r-n)}},function(f,x,t){var a=t(183);f.exports=function(i,e,s){return e+(s-e)*a(i,0,1)}},function(f,x,t){f.exports={GetNext:t(361),IsSize:t(138),IsValue:t(836)}},function(f,x){f.exports=function(t){return 0<t&&(t&t-1)==0}},function(f,x,t){f.exports={Ceil:t(139),Floor:t(76),To:t(838)}},function(f,x){f.exports=function(t,a,i,e){return i===void 0&&(i=0),a===0?t:(t-=i,t=a*Math.round(t/a),e?(i+t)/a:i+t)}},function(f,x,t){var a=new(t(0))({initialize:function(i){i===void 0&&(i=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],i&&this.init(i)},rnd:function(){var i=2091639*this.s0+23283064365386963e-26*this.c;return this.c=0|i,this.s0=this.s1,this.s1=this.s2,this.s2=i-this.c,this.s2},hash:function(i){var e,s=this.n;i=i.toString();for(var r=0;r<i.length;r++)e=.02519603282416938*(s+=i.charCodeAt(r)),e-=s=e>>>0,s=(e*=s)>>>0,s+=4294967296*(e-=s);return 23283064365386963e-26*((this.n=s)>>>0)},init:function(i){typeof i=="string"?this.state(i):this.sow(i)},sow:function(i){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,i)for(var e=0;e<i.length&&i[e]!=null;e++){var s=i[e];this.s0-=this.hash(s),this.s0+=~~(this.s0<0),this.s1-=this.hash(s),this.s1+=~~(this.s1<0),this.s2-=this.hash(s),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(i,e){return Math.floor(this.realInRange(0,e-i+1)+i)},between:function(i,e){return Math.floor(this.realInRange(0,e-i+1)+i)},realInRange:function(i,e){return this.frac()*(e-i)+i},normal:function(){return 1-2*this.frac()},uuid:function(){for(var i="",e="",e=i="";i++<36;e+=~i%5|3*i&4?(15^i?8^this.frac()*(20^i?16:4):4).toString(16):"-");return e},pick:function(i){return i[this.integerInRange(0,i.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(i){return i[~~(Math.pow(this.frac(),2)*(i.length-1)+.5)]},timestamp:function(i,e){return this.realInRange(i||9466848e5,e||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(i){return typeof i=="string"&&i.match(/^!rnd/)&&(i=i.split(","),this.c=parseFloat(i[1]),this.s0=parseFloat(i[2]),this.s1=parseFloat(i[3]),this.s2=parseFloat(i[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(i){for(var e=i.length-1;0<e;e--){var s=Math.floor(this.frac()*(e+1)),r=i[s];i[s]=i[e],i[e]=r}return i}});f.exports=a},function(f,x){f.exports=function(t){for(var a=0,i=0;i<t.length;i++)a+=+t[i];return a/t.length}},function(f,x){f.exports=function(t,a,i){a===void 0&&(a=0),i===void 0&&(i=10);var e=Math.pow(i,-a);return Math.ceil(t*e)/e}},function(f,x){f.exports=function(t,a){return Math.abs(t-a)}},function(f,x,t){var a=t(18),i=t(0),e=t(69),s=t(1),r=new e,n=new i({initialize:function o(l,h,u,c){l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=o.DefaultOrder),this._x=l,this._y=h,this._z=u,this._order=c,this.onChangeCallback=s},x:{get:function(){return this._x},set:function(o){this._x=o,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(o){this._y=o,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(o){this._z=o,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(o){this._order=o,this.onChangeCallback(this)}},set:function(o,l,h,u){return u===void 0&&(u=this._order),this._x=o,this._y=l,this._z=h,this._order=u,this.onChangeCallback(this),this},copy:function(o){return this.set(o.x,o.y,o.z,o.order)},setFromQuaternion:function(o,l,h){return l===void 0&&(l=this._order),h===void 0&&(h=!1),r.fromQuat(o),this.setFromRotationMatrix(r,l,h)},setFromRotationMatrix:function(o,l,h){l===void 0&&(l=this._order),h===void 0&&(h=!1);var u=o.val,c=u[0],d=u[4],v=u[8],g=u[1],m=u[5],y=u[9],T=u[2],E=u[6],S=u[10],C=0,M=0,P=0,R=.99999;switch(l){case"XYZ":M=Math.asin(a(v,-1,1)),Math.abs(v)<R?(C=Math.atan2(-y,S),P=Math.atan2(-d,c)):C=Math.atan2(E,m);break;case"YXZ":C=Math.asin(-a(y,-1,1)),Math.abs(y)<R?(M=Math.atan2(v,S),P=Math.atan2(g,m)):M=Math.atan2(-T,c);break;case"ZXY":C=Math.asin(a(E,-1,1)),P=Math.abs(E)<R?(M=Math.atan2(-T,S),Math.atan2(-d,m)):Math.atan2(g,c);break;case"ZYX":M=Math.asin(-a(T,-1,1)),P=Math.abs(T)<R?(C=Math.atan2(E,S),Math.atan2(g,c)):Math.atan2(-d,m);break;case"YZX":P=Math.asin(a(g,-1,1)),M=Math.abs(g)<R?(C=Math.atan2(-y,m),Math.atan2(-T,c)):Math.atan2(v,S);break;case"XZY":P=Math.asin(-a(d,-1,1)),Math.abs(d)<R?(C=Math.atan2(E,m),M=Math.atan2(v,c)):C=Math.atan2(-y,S)}return this._x=C,this._y=M,this._z=P,this._order=l,h&&this.onChangeCallback(this),this}});n.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],n.DefaultOrder="XYZ",f.exports=n},function(f,x){f.exports=function(t,a,i){a===void 0&&(a=0),i===void 0&&(i=10);var e=Math.pow(i,-a);return Math.floor(t*e)/e}},function(f,x){f.exports=function(t,a){return t/a/1e3}},function(f,x){f.exports=function(t){return t==parseFloat(t)?!(t%2):void 0}},function(f,x){f.exports=function(t){return t===parseFloat(t)?!(t%2):void 0}},function(f,x){f.exports=function(t,a,i){return Math.min(t+a,i)}},function(f,x){f.exports=function(t){var a=t.length;if(a===0)return 0;t.sort(function(e,s){return e-s});var i=Math.floor(a/2);return a%2==0?(t[i]+t[i-1])/2:t[i]}},function(f,x){f.exports=function(t,a,i){return Math.max(t-a,i)}},function(f,x){f.exports=function(t,a,i,e){i===void 0&&(i=a+1);var s=(t-a)/(i-a);return 1<s?e!==void 0?(s=(e-t)/(e-i))<0&&(s=0):s=1:s<0&&(s=0),s}},function(f,x){f.exports=function(t,a){a===void 0&&(a=1);var i=2*Math.random()*Math.PI;return t.x=Math.cos(i)*a,t.y=Math.sin(i)*a,t}},function(f,x){f.exports=function(t,a){a===void 0&&(a=1);var i=2*Math.random()*Math.PI,e=2*Math.random()-1,s=Math.sqrt(1-e*e)*a;return t.x=Math.cos(i)*s,t.y=Math.sin(i)*s,t.z=e*a,t}},function(f,x){f.exports=function(t,a){return a===void 0&&(a=1),t.x=(2*Math.random()-1)*a,t.y=(2*Math.random()-1)*a,t.z=(2*Math.random()-1)*a,t.w=(2*Math.random()-1)*a,t}},function(f,x){f.exports=function(t,a,i,e,s){return t.x=a+s*Math.cos(e),t.y=i+s*Math.sin(e),t}},function(f,x){f.exports=function(t,a,i){a===void 0&&(a=0),i===void 0&&(i=10);var e=Math.pow(i,-a);return Math.round(t*e)/e}},function(f,x){f.exports=function(t,a,i,e){a===void 0&&(a=1),i===void 0&&(i=1),e===void 0&&(e=1),e*=Math.PI/t;for(var s=[],r=[],n=0;n<t;n++)a+=(i-=a*e)*e,s[n]=i,r[n]=a;return{sin:r,cos:s,length:t}}},function(f,x,t){var a=t(3);f.exports=function(i,e,s,r){r===void 0&&(r=new a);var n=0,o=0;return 0<i&&i<=e*s&&(n=e-1<i?i-(o=Math.floor(i/e))*e:i),r.set(n,o)}},function(f,x){f.exports=function(t,a,i){return Math.abs(t-a)<=i}},function(f,x,t){var a=t(39),i=t(69),e=t(365),s=new i,r=new e,n=new a;f.exports=function(o,l,h){return r.setAxisAngle(l,h),s.fromRotationTranslation(r,n.set(0,0,0)),o.transformMat4(s)}},function(f,x){f.exports="addtexture"},function(f,x){f.exports="onerror"},function(f,x){f.exports="onload"},function(f,x){f.exports="ready"},function(f,x){f.exports="removetexture"},function(f,x){f.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join(`
`)},function(f,x){f.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join(`
`)},function(f,x){f.exports="pipelineafterflush"},function(f,x){f.exports="pipelinebeforeflush"},function(f,x){f.exports="pipelinebind"},function(f,x){f.exports="pipelineboot"},function(f,x){f.exports="pipelinedestroy"},function(f,x){f.exports="pipelinerebind"},function(f,x){f.exports="pipelineresize"},function(f,x){f.exports=["#define SHADER_NAME PHASER_GRAPHICS_FS","","precision mediump float;","","varying vec4 outColor;","","void main ()","{","    gl_FragColor = vec4(outColor.bgr * outColor.a, outColor.a);","}",""].join(`
`)},function(f,x){f.exports=["#define SHADER_NAME PHASER_GRAPHICS_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec4 inColor;","","varying vec4 outColor;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outColor = inColor;","}",""].join(`
`)},function(f,x){f.exports=["#define SHADER_NAME PHASER_LIGHT_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.bgr * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}",""].join(`
`)},function(f,x){f.exports=["#define SHADER_NAME PHASER_MULTI_FS","","precision mediump float;","","uniform sampler2D uMainSampler[%count%];","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture;","","    %forloop%","","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(f,x){f.exports=["#define SHADER_NAME PHASER_MULTI_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(f,x){f.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform float uCameraZoom;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","","    float distToSurf = length(center - gl_FragCoord.xy);","","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}",""].join(`
`)},function(f,x){f.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}",""].join(`
`)},function(f,x){f.exports=["#define SHADER_NAME PHASER_SINGLE_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(f,x){f.exports=["#define SHADER_NAME PHASER_SINGLE_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(f,x){f.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = frame1 + frame2 * uStrength;","}",""].join(`
`)},function(f,x){f.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","","        return;","    }","","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","","    vec4 result;","","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","","    rgb *= result.a;","","    gl_FragColor = vec4(rgb, result.a);","}",""].join(`
`)},function(f,x){f.exports=["#define SHADER_NAME PHASER_COPY_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uBrightness;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}",""].join(`
`)},function(f,x){f.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}",""].join(`
`)},function(f,x,t){f.exports={GenerateTexture:t(388),Palettes:t(889)}},function(f,x,t){f.exports={ARNE16:t(389),C64:t(890),CGA:t(891),JMP:t(892),MSX:t(893)}},function(f,x){f.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(f,x){f.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(f,x){f.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(f,x){f.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(f,x,t){f.exports={Path:t(895),MoveTo:t(393),CubicBezier:t(390),Curve:t(94),Ellipse:t(391),Line:t(392),QuadraticBezier:t(394),Spline:t(395)}},function(f,x,t){var a=t(0),i=t(390),e=t(391),s=t(5),r=t(392),n=t(393),o=t(394),l=t(10),h=t(395),u=t(3),c=t(14),d=new a({initialize:function(v,g){v===void 0&&(v=0),g===void 0&&(g=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new u,this._tmpVec2A=new u,this._tmpVec2B=new u,typeof v=="object"?this.fromJSON(v):this.startPoint.set(v,g)},add:function(v){return this.curves.push(v),this},circleTo:function(v,g,m){return g===void 0&&(g=!1),this.ellipseTo(v,v,0,360,g,m)},closePath:function(){var v=this.curves[0].getPoint(0),g=this.curves[this.curves.length-1].getPoint(1);return v.equals(g)||this.curves.push(new r(g,v)),this},cubicBezierTo:function(v,g,m,y,T,E){var S,C,M=this.getEndPoint(),P=v instanceof u?(S=v,C=g,m):(S=new u(m,y),C=new u(T,E),new u(v,g));return this.add(new i(M,S,C,P))},quadraticBezierTo:function(v,g,m,y){var T,E=this.getEndPoint(),S=v instanceof u?(T=v,g):(T=new u(m,y),new u(v,g));return this.add(new o(E,T,S))},draw:function(v,g){for(var m=0;m<this.curves.length;m++){var y=this.curves[m];y.active&&y.draw(v,g)}return v},ellipseTo:function(v,g,m,y,T,E){var S=new e(0,0,v,g,m,y,T,E),C=this.getEndPoint(this._tmpVec2A),M=S.getStartPoint(this._tmpVec2B);return C.subtract(M),S.x=C.x,S.y=C.y,this.add(S)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var g=0;g<v.curves.length;g++){var m=v.curves[g];switch(m.type){case"LineCurve":this.add(r.fromJSON(m));break;case"EllipseCurve":this.add(e.fromJSON(m));break;case"SplineCurve":this.add(h.fromJSON(m));break;case"CubicBezierCurve":this.add(i.fromJSON(m));break;case"QuadraticBezierCurve":this.add(o.fromJSON(m))}}return this},getBounds:function(v,g){v===void 0&&(v=new l),g===void 0&&(g=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var m=new l,y=c.MIN_SAFE_INTEGER,T=c.MIN_SAFE_INTEGER,E=0;E<this.curves.length;E++){var S=this.curves[E];S.active&&(S.getBounds(m,g),v.x=Math.min(v.x,m.x),v.y=Math.min(v.y,m.y),y=Math.max(y,m.right),T=Math.max(T,m.bottom))}return v.right=y,v.bottom=T,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],g=0,m=0;m<this.curves.length;m++)g+=this.curves[m].getLength(),v.push(g);return this.cacheLengths=v},getEndPoint:function(v){return v===void 0&&(v=new u),0<this.curves.length?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,g){g===void 0&&(g=new u);for(var m=v*this.getLength(),y=this.getCurveLengths(),T=0;T<y.length;){if(y[T]>=m){var E=y[T]-m,S=this.curves[T],C=S.getLength(),M=C===0?0:1-E/C;return S.getPointAt(M,g)}T++}return null},getPoints:function(v){v===void 0&&(v=12);for(var g,m=[],y=0;y<this.curves.length;y++){var T=this.curves[y];if(T.active)for(var E=T.getResolution(v),S=T.getPoints(E),C=0;C<S.length;C++){var M=S[C];g&&g.equals(M)||(m.push(M),g=M)}}return this.autoClose&&1<m.length&&!m[m.length-1].equals(m[0])&&m.push(m[0]),m},getRandomPoint:function(v){return v===void 0&&(v=new u),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){v===void 0&&(v=40);for(var g=[],m=0;m<=v;m++)g.push(this.getPoint(m/v));return this.autoClose&&g.push(g[0]),g},getStartPoint:function(v){return v===void 0&&(v=new u),v.copy(this.startPoint)},getTangent:function(v,g){g===void 0&&(g=new u);for(var m=v*this.getLength(),y=this.getCurveLengths(),T=0;T<y.length;){if(y[T]>=m){var E=y[T]-m,S=this.curves[T],C=S.getLength(),M=C===0?0:1-E/C;return S.getTangentAt(M,g)}T++}return null},lineTo:function(v,g){v instanceof u?this._tmpVec2B.copy(v):this._tmpVec2B.set(v,g);var m=this.getEndPoint(this._tmpVec2A);return this.add(new r([m.x,m.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new h(v))},moveTo:function(v,g){return v instanceof u?this.add(new n(v.x,v.y)):this.add(new n(v,g))},toJSON:function(){for(var v=[],g=0;g<this.curves.length;g++)v.push(this.curves[g].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});s.register("path",function(v,g){return new d(v,g)}),f.exports=d},function(f,x,t){f.exports={DataManager:t(101),DataManagerPlugin:t(897),Events:t(315)}},function(f,x,t){var a=t(0),i=t(101),e=t(24),s=t(20),r=new a({Extends:i,initialize:function(n){i.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(s.BOOT,this.boot,this),n.sys.events.on(s.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){i.prototype.destroy.call(this),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});e.register("DataManagerPlugin",r,"data"),f.exports=r},function(f,x,t){f.exports={Align:t(899),BaseShader:t(396),Bounds:t(902),Canvas:t(906),Color:t(397),ColorMatrix:t(198),Masks:t(916),RGB:t(200)}},function(f,x,t){var a=t(123),i=t(17)(!1,i={In:t(900),To:t(901)},a);f.exports=i},function(f,x,t){f.exports={BottomCenter:t(290),BottomLeft:t(291),BottomRight:t(292),Center:t(293),LeftCenter:t(295),QuickSet:t(289),RightCenter:t(296),TopCenter:t(297),TopLeft:t(298),TopRight:t(299)}},function(f,x,t){f.exports={BottomCenter:t(277),BottomLeft:t(278),BottomRight:t(279),LeftBottom:t(280),LeftCenter:t(281),LeftTop:t(282),QuickSet:t(276),RightBottom:t(283),RightCenter:t(284),RightTop:t(285),TopCenter:t(286),TopLeft:t(287),TopRight:t(288)}},function(f,x,t){f.exports={CenterOn:t(294),GetBottom:t(42),GetBounds:t(903),GetCenterX:t(87),GetCenterY:t(89),GetLeft:t(43),GetOffsetX:t(904),GetOffsetY:t(905),GetRight:t(44),GetTop:t(45),SetBottom:t(55),SetCenterX:t(88),SetCenterY:t(90),SetLeft:t(53),SetRight:t(54),SetTop:t(52)}},function(f,x,t){var a=t(42),i=t(43),e=t(44),s=t(45);f.exports=function(r,n){n===void 0&&(n={});var o=i(r),l=s(r);return n.x=o,n.y=l,n.width=e(r)-o,n.height=a(r)-l,n}},function(f,x){f.exports=function(t){return t.width*t.originX}},function(f,x){f.exports=function(t){return t.height*t.originY}},function(f,x,t){f.exports={CanvasInterpolation:t(367),CanvasPool:t(31),Smoothing:t(192),TouchAction:t(907),UserSelect:t(908)}},function(f,x){f.exports=function(t,a){return a===void 0&&(a="none"),t.style.msTouchAction=a,t.style["ms-touch-action"]=a,t.style["touch-action"]=a,t}},function(f,x){f.exports=function(t,a){return a===void 0&&(a="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(i){t.style[i+"user-select"]=a}),t.style["-webkit-touch-callout"]=a,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t}},function(f,x,t){var a=t(103);f.exports=function(i){i===void 0&&(i=1024);var e=[],s=255,r=0,n=0;for(u=0;u<=255;u++)e.push({r:s,g:u,b:n,color:a(s,u,n)});for(u=r=255;0<=u;u--)e.push({r:u,g:r,b:n,color:a(u,r,n)});for(u=s=0;u<=255;u++,r--)e.push({r:s,g:r,b:u,color:a(s,r,u)});for(n=255,u=r=0;u<=255;u++,n--,s++)e.push({r:s,g:r,b:n,color:a(s,r,n)});if(i===1024)return e;for(var o=[],l=0,h=1024/i,u=0;u<i;u++)o.push(e[Math.floor(l)]),l+=h;return o}},function(f,x){f.exports=function(t){var a={r:t>>16&255,g:t>>8&255,b:255&t,a:255};return 16777215<t&&(a.a=t>>>24),a}},function(f,x,t){var a=t(38),i=t(399);f.exports=function(e,s,r){var n,o,l=r,h=r,u=r;return s!==0&&(l=i(o=2*r-(n=r<.5?r*(1+s):r+s-r*s),n,e+1/3),h=i(o,n,e),u=i(o,n,e-1/3)),new a().setGLTo(l,h,u,1)}},function(f,x,t){var a=t(188);f.exports=function(i,e){i===void 0&&(i=1),e===void 0&&(e=1);for(var s=[],r=0;r<=359;r++)s.push(a(r/359,i,e));return s}},function(f,x,t){function a(e,s,r,n,o,l,h,u){h===void 0&&(h=100),u===void 0&&(u=0);var c=u/h;return{r:i(e,n,c),g:i(s,o,c),b:i(r,l,c)}}var i=t(135);f.exports={RGBWithRGB:a,ColorWithRGB:function(e,s,r,n,o,l){return o===void 0&&(o=100),l===void 0&&(l=0),a(e.r,e.g,e.b,s,r,n,o,l)},ColorWithColor:function(e,s,r,n){return r===void 0&&(r=100),n===void 0&&(n=0),a(e.r,e.g,e.b,s.r,s.g,s.b,r,n)}}},function(f,x,t){var a=t(195),i=t(38);f.exports=function(e,s){return e===void 0&&(e=0),s===void 0&&(s=255),new i(a(e,s),a(e,s),a(e,s))}},function(f,x,t){var a=t(398);f.exports=function(i,e,s,r,n){return r===void 0&&(r=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(i<<16)+(e<<8)+s).toString(16).slice(1,7):"0x"+a(r)+a(i)+a(e)+a(s)}},function(f,x,t){f.exports={BitmapMask:t(310),GeometryMask:t(311)}},function(f,x,t){var a={AddToDOM:t(142),DOMContentLoaded:t(400),GetInnerHeight:t(401),GetScreenOrientation:t(402),GetTarget:t(407),ParseXML:t(408),RemoveFromDOM:t(202),RequestAnimationFrame:t(386)};f.exports=a},function(f,x,t){f.exports={EventEmitter:t(919)}},function(f,x,t){var a=t(0),i=t(9),e=t(24),s=new a({Extends:i,initialize:function(){i.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});e.register("EventEmitter",s,"events"),f.exports=s},function(f,x,t){var a=t(142),i=t(321),e=t(325),s=t(31),r=t(0),n=t(346),o=t(921),l=t(366),h=t(101),u=t(384),c=t(347),d=t(400),v=t(9),g=t(22),m=t(409),y=t(24),T=t(414),E=t(415),S=t(417),C=t(106),M=t(422),P=t(385),R=t(387),L=t(426),w=new r({initialize:function(B){this.config=new n(B),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new i(this),this.textures=new M(this),this.cache=new e(this),this.registry=new h(this),this.input=new m(this,this.config),this.scene=new S(this,this.config.sceneConfig),this.device=c,this.scale=new E(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new P(this,this.config.fps),this.plugins=new T(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,d(this.boot.bind(this))},boot:function(){y.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),o(this),u(this),a(this.canvas,this.config.parent),this.textures.once(C.READY,this.texturesReady,this),this.events.emit(g.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(g.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),R(this);var B=this.events;B.on(g.HIDDEN,this.onHidden,this),B.on(g.VISIBLE,this.onVisible,this),B.on(g.BLUR,this.onBlur,this),B.on(g.FOCUS,this.onFocus,this)},step:function(B,G){if(this.pendingDestroy)return this.runDestroy();var Y=this.events;Y.emit(g.PRE_STEP,B,G),Y.emit(g.STEP,B,G),this.scene.update(B,G),Y.emit(g.POST_STEP,B,G);var D=this.renderer;D.preRender(),Y.emit(g.PRE_RENDER,D,B,G),this.scene.render(D),D.postRender(),Y.emit(g.POST_RENDER,D,B,G)},headlessStep:function(B,G){if(this.pendingDestroy)return this.runDestroy();var Y=this.events;Y.emit(g.PRE_STEP,B,G),Y.emit(g.STEP,B,G),this.scene.update(B,G),Y.emit(g.POST_STEP,B,G),Y.emit(g.PRE_RENDER),Y.emit(g.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(g.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(g.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(B,G){G===void 0&&(G=!1),this.pendingDestroy=!0,this.removeCanvas=B,this.noReturn=G},runDestroy:function(){this.scene.destroy(),this.events.emit(g.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(s.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});f.exports=w},function(f,x,t){var a=t(142);f.exports=function(i){var e,s=i.config;s.parent&&s.domCreateContainer&&((e=document.createElement("div")).style.cssText=["display: block;","width: "+i.scale.width+"px;","height: "+i.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+s.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),i.domContainer=e,a(e,s.parent))}},function(f,x){f.exports="boot"},function(f,x){f.exports="destroy"},function(f,x){f.exports="dragend"},function(f,x){f.exports="dragenter"},function(f,x){f.exports="drag"},function(f,x){f.exports="dragleave"},function(f,x){f.exports="dragover"},function(f,x){f.exports="dragstart"},function(f,x){f.exports="drop"},function(f,x){f.exports="gameout"},function(f,x){f.exports="gameover"},function(f,x){f.exports="gameobjectdown"},function(f,x){f.exports="dragend"},function(f,x){f.exports="dragenter"},function(f,x){f.exports="drag"},function(f,x){f.exports="dragleave"},function(f,x){f.exports="dragover"},function(f,x){f.exports="dragstart"},function(f,x){f.exports="drop"},function(f,x){f.exports="gameobjectmove"},function(f,x){f.exports="gameobjectout"},function(f,x){f.exports="gameobjectover"},function(f,x){f.exports="pointerdown"},function(f,x){f.exports="pointermove"},function(f,x){f.exports="pointerout"},function(f,x){f.exports="pointerover"},function(f,x){f.exports="pointerup"},function(f,x){f.exports="wheel"},function(f,x){f.exports="gameobjectup"},function(f,x){f.exports="gameobjectwheel"},function(f,x){f.exports="boot"},function(f,x){f.exports="process"},function(f,x){f.exports="update"},function(f,x){f.exports="pointerdown"},function(f,x){f.exports="pointerdownoutside"},function(f,x){f.exports="pointermove"},function(f,x){f.exports="pointerout"},function(f,x){f.exports="pointerover"},function(f,x){f.exports="pointerup"},function(f,x){f.exports="pointerupoutside"},function(f,x){f.exports="wheel"},function(f,x){f.exports="pointerlockchange"},function(f,x){f.exports="preupdate"},function(f,x){f.exports="shutdown"},function(f,x){f.exports="start"},function(f,x){f.exports="update"},function(f,x){f.exports="addfile"},function(f,x){f.exports="complete"},function(f,x){f.exports="filecomplete"},function(f,x){f.exports="filecomplete-"},function(f,x){f.exports="loaderror"},function(f,x){f.exports="load"},function(f,x){f.exports="fileprogress"},function(f,x){f.exports="postprocess"},function(f,x){f.exports="progress"},function(f,x){f.exports="start"},function(f,x,t){f.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},function(f,x){f.exports=function(t,a,i){if(i.getElementsByTagName("TextureAtlas")){var e=t.source[a];t.add("__BASE",a,0,0,e.width,e.height);for(var s=i.getElementsByTagName("SubTexture"),r=0;r<s.length;r++){var n,o,l,h,u=s[r].attributes,c=u.name.value,d=parseInt(u.x.value,10),v=parseInt(u.y.value,10),g=parseInt(u.width.value,10),m=parseInt(u.height.value,10),y=t.add(c,a,d,v,g,m);u.frameX&&(n=Math.abs(parseInt(u.frameX.value,10)),o=Math.abs(parseInt(u.frameY.value,10)),l=parseInt(u.frameWidth.value,10),h=parseInt(u.frameHeight.value,10),y.setTrim(g,m,n,o,l,h))}return t}console.warn("Invalid Texture Atlas XML given")}},function(f,x){f.exports=function(t,a){var i=t.source[a];return t.add("__BASE",a,0,0,i.width,i.height),t}},function(f,x){f.exports=function(t,a){var i=t.source[a];return t.add("__BASE",a,0,0,i.width,i.height),t}},function(f,x,t){var a=t(77);f.exports=function(i,e,s){if(s.frames||s.textures){var r=i.source[e];i.add("__BASE",e,0,0,r.width,r.height);for(var n=Array.isArray(s.textures)?s.textures[e].frames:s.frames,o=0;o<n.length;o++){var l=n[o],h=i.add(l.filename,e,l.frame.x,l.frame.y,l.frame.w,l.frame.h);l.trimmed&&h.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(h.rotated=!0,h.updateUVsInverted());var u=l.anchor||l.pivot;u&&(h.customPivot=!0,h.pivotX=u.x,h.pivotY=u.y),h.customData=a(l)}for(var c in s)c!=="frames"&&(Array.isArray(s[c])?i.customData[c]=s[c].slice(0):i.customData[c]=s[c]);return i}console.warn("Invalid Texture Atlas JSON Array")}},function(f,x,t){var a=t(77);f.exports=function(i,e,s){if(s.frames){var r=i.source[e];i.add("__BASE",e,0,0,r.width,r.height);var n,o,l,h=s.frames;for(var u in h)h.hasOwnProperty(u)&&(n=h[u],o=i.add(u,e,n.frame.x,n.frame.y,n.frame.w,n.frame.h),n.trimmed&&o.setTrim(n.sourceSize.w,n.sourceSize.h,n.spriteSourceSize.x,n.spriteSourceSize.y,n.spriteSourceSize.w,n.spriteSourceSize.h),n.rotated&&(o.rotated=!0,o.updateUVsInverted()),(l=n.anchor||n.pivot)&&(o.customPivot=!0,o.pivotX=l.x,o.pivotY=l.y),o.customData=a(n));for(var c in s)c!=="frames"&&(Array.isArray(s[c])?i.customData[c]=s[c].slice(0):i.customData[c]=s[c]);return i}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},function(f,x,t){var a=t(2);f.exports=function(i,e,s,r,n,o,l){var h=a(l,"frameWidth",null),u=a(l,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=i.source[e];i.add("__BASE",e,0,0,c.width,c.height);var d=a(l,"startFrame",0),v=a(l,"endFrame",-1),g=a(l,"margin",0),m=a(l,"spacing",0),y=Math.floor((n-g+m)/(h+m))*Math.floor((o-g+m)/(u+m));y===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",i.key),(y<d||d<-y)&&(d=0),d<0&&(d=y+d),v!==-1&&(y=d+(v+1));for(var T=g,E=g,S=0,C=0,M=0;M<y;M++){C=S=0;var P=T+h,R=E+u;n<P&&(S=P-n),o<R&&(C=R-o),i.add(M,e,s+T,r+E,h-S,u-C),n<(T+=h+m)+h&&(T=g,E+=u+m)}return i}},function(f,x,t){var a=t(2);f.exports=function(i,e,s){var r=a(s,"frameWidth",null),n=a(s,"frameHeight",r);if(!r)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var o=i.source[0];i.add("__BASE",0,0,0,o.width,o.height),a(s,"startFrame",0),a(s,"endFrame",-1);for(var l=a(s,"margin",0),h=a(s,"spacing",0),u=e.cutX,c=e.cutY,d=e.cutWidth,v=e.cutHeight,g=e.realWidth,m=e.realHeight,y=Math.floor((g-l+h)/(r+h)),T=Math.floor((m-l+h)/(n+h)),E=e.x,S=r-E,C=r-(g-d-E),M=e.y,P=n-M,R=n-(m-v-M),L=l,w=l,B=0,G=e.sourceIndex,Y=0;Y<T;Y++){for(var D=Y===0,F=Y===T-1,N=0;N<y;N++){var I,b,U,X,z,V,W=N===0,H=N===y-1,K=i.add(B,G,u+L,c+w,r,n);(W||D||H||F)&&(I=W?E:0,b=D?M:0,X=U=0,W&&(U+=r-S),H&&(U+=r-C),D&&(X+=n-P),F&&(X+=n-R),z=r-U,V=n-X,K.cutWidth=z,K.cutHeight=V,K.setTrim(r,n,I,b,z,V)),L+=h,L+=W?S:H?C:r,B++}L=l,w+=h,w+=D?P:F?R:n}return i}},function(f,x){function t(i,e,s,r){var n=a-r.y-r.height;i.add(s,e,r.x,n,r.width,r.height)}var a=0;f.exports=function(i,e,s){var r=i.source[e];i.add("__BASE",e,0,0,r.width,r.height),a=r.height;for(var n=s.split(`
`),o=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",h="",u={x:0,y:0,width:0,height:0},c=0;c<n.length;c++){var d=n[c].match(o);if(d){var v=d[1]==="- ",g=d[2],m=d[3];if(v&&(h!==l&&(t(i,e,h,u),l=h),u={x:0,y:0,width:0,height:0}),g!=="name")switch(g){case"x":case"y":case"width":case"height":u[g]=parseInt(m,10)}else h=m}}return h!==l&&t(i,e,h,u),i}},function(f,x){f.exports="complete"},function(f,x){f.exports="decoded"},function(f,x){f.exports="decodedall"},function(f,x){f.exports="destroy"},function(f,x){f.exports="detune"},function(f,x){f.exports="detune"},function(f,x){f.exports="mute"},function(f,x){f.exports="rate"},function(f,x){f.exports="volume"},function(f,x){f.exports="loop"},function(f,x){f.exports="looped"},function(f,x){f.exports="mute"},function(f,x){f.exports="pan"},function(f,x){f.exports="pauseall"},function(f,x){f.exports="pause"},function(f,x){f.exports="play"},function(f,x){f.exports="rate"},function(f,x){f.exports="resumeall"},function(f,x){f.exports="resume"},function(f,x){f.exports="seek"},function(f,x){f.exports="stopall"},function(f,x){f.exports="stop"},function(f,x){f.exports="unlocked"},function(f,x){f.exports="volume"},function(f,x,t){var a={Events:t(75),DisplayList:t(1012),GameObjectCreator:t(16),GameObjectFactory:t(5),UpdateList:t(1040),Components:t(11),GetCalcMatrix:t(19),BuildGameObject:t(28),BuildGameObjectAnimation:t(439),GameObject:t(15),BitmapText:t(148),Blitter:t(213),Bob:t(440),Container:t(214),DOMElement:t(442),DynamicBitmapText:t(215),Extern:t(444),Graphics:t(216),Group:t(113),Image:t(125),Layer:t(219),Particles:t(1074),PathFollower:t(457),RenderTexture:t(221),RetroFont:t(1082),Rope:t(223),Sprite:t(73),Text:t(224),GetTextSize:t(458),MeasureText:t(460),TextStyle:t(459),TileSprite:t(225),Zone:t(129),Video:t(226),Shape:t(34),Arc:t(461),Curve:t(462),Ellipse:t(463),Grid:t(464),IsoBox:t(465),IsoTriangle:t(466),Line:t(467),Polygon:t(468),Rectangle:t(473),Star:t(474),Triangle:t(475),Factories:{Blitter:t(1130),Container:t(1131),DOMElement:t(1132),DynamicBitmapText:t(1133),Extern:t(1134),Graphics:t(1135),Group:t(1136),Image:t(1137),Layer:t(1138),Particles:t(1139),PathFollower:t(1140),RenderTexture:t(1141),Rope:t(1142),Sprite:t(1143),StaticBitmapText:t(1144),Text:t(1145),TileSprite:t(1146),Zone:t(1147),Video:t(1148),Arc:t(1149),Curve:t(1150),Ellipse:t(1151),Grid:t(1152),IsoBox:t(1153),IsoTriangle:t(1154),Line:t(1155),Polygon:t(1156),Rectangle:t(1157),Star:t(1158),Triangle:t(1159)},Creators:{Blitter:t(1160),Container:t(1161),DynamicBitmapText:t(1162),Graphics:t(1163),Group:t(1164),Image:t(1165),Layer:t(1166),Particles:t(1167),RenderTexture:t(1168),Rope:t(1169),Sprite:t(1170),StaticBitmapText:t(1171),Text:t(1172),TileSprite:t(1173),Zone:t(1174),Video:t(1175)}};a.Shader=t(229),a.Mesh=t(230),a.PointLight=t(150),a.Factories.Shader=t(1184),a.Factories.Mesh=t(1185),a.Factories.PointLight=t(1186),a.Creators.Shader=t(1187),a.Creators.Mesh=t(1188),a.Creators.PointLight=t(1189),a.Light=t(481),a.LightsManager=t(482),a.LightsPlugin=t(1190),f.exports=a},function(f,x,t){var a=t(0),i=t(110),e=t(24),s=t(75),r=t(20),n=t(79),o=new a({Extends:i,initialize:function(l){i.call(this,l),this.sortChildrenFlag=!1,this.scene=l,this.systems=l.sys,this.events=l.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(s.ADDED_TO_SCENE,l,this.scene),this.events.emit(r.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(s.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(n(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,h){return l._depth-h._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list,h=l.length;h--;)l[h].destroy(!0);l.length=0,this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});e.register("DisplayList",o,"displayList"),f.exports=o},function(f,x,t){f.exports={CheckMatrix:t(209),MatrixToString:t(1014),ReverseColumns:t(1015),ReverseRows:t(1016),Rotate180:t(1017),RotateLeft:t(1018),RotateMatrix:t(147),RotateRight:t(1019),Translate:t(1020),TransposeMatrix:t(435)}},function(f,x,t){var a=t(186),i=t(209);f.exports=function(e){var s="";if(!i(e))return s;for(var r=0;r<e.length;r++){for(var n=0;n<e[r].length;n++){var o=e[r][n].toString();s+=o!=="undefined"?a(o,2):"?",n<e[r].length-1&&(s+=" |")}if(r<e.length-1){s+=`
`;for(var l=0;l<e[r].length;l++)s+="---",l<e[r].length-1&&(s+="+");s+=`
`}}return s}},function(f,x){f.exports=function(t){return t.reverse()}},function(f,x){f.exports=function(t){for(var a=0;a<t.length;a++)t[a].reverse();return t}},function(f,x,t){var a=t(147);f.exports=function(i){return a(i,180)}},function(f,x,t){var a=t(147);f.exports=function(i){return a(i,90)}},function(f,x,t){var a=t(147);f.exports=function(i){return a(i,-90)}},function(f,x,t){var a=t(178),i=t(179);f.exports=function(e,s,r){if(s===void 0&&(s=0),r===void 0&&(r=0),r!==0&&(r<0?a(e,Math.abs(r)):i(e,r)),s!==0)for(var n=0;n<e.length;n++){var o=e[n];s<0?a(o,Math.abs(s)):i(o,s)}return e}},function(f,x){f.exports=function(t,a,i,e,s){if(s===void 0&&(s=t),0<i){var r=i-t.length;if(r<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.push(a),e&&e.call(s,a),a):null;for(var n=a.length-1;0<=n;)t.indexOf(a[n])!==-1&&a.splice(n,1),n--;if((n=a.length)===0)return null;0<i&&r<n&&(a.splice(r),n=r);for(var o=0;o<n;o++){var l=a[o];t.push(l),e&&e.call(s,l)}return a}},function(f,x){f.exports=function(t,a,i,e,s,r){if(i===void 0&&(i=0),r===void 0&&(r=t),0<e){var n=e-t.length;if(n<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.splice(i,0,a),s&&s.call(r,a),a):null;for(var o=a.length-1;0<=o;)t.indexOf(a[o])!==-1&&a.pop(),o--;if((o=a.length)===0)return null;0<e&&n<o&&(a.splice(n),o=n);for(var l=o-1;0<=l;l--){var h=a[l];t.splice(i,0,h),s&&s.call(r,h)}return a}},function(f,x){f.exports=function(t,a){var i=t.indexOf(a);return i!==-1&&i<t.length&&(t.splice(i,1),t.push(a)),a}},function(f,x,t){var a=t(78);f.exports=function(i,e,s,r,n){r===void 0&&(r=0),n===void 0&&(n=i.length);var o=0;if(a(i,r,n))for(var l=r;l<n;l++)i[l][e]===s&&o++;return o}},function(f,x){f.exports=function(t,a,i){for(var e=[null],s=3;s<arguments.length;s++)e.push(arguments[s]);for(s=0;s<t.length;s++)e[0]=t[s],a.apply(i,e);return t}},function(f,x,t){var a=t(78);f.exports=function(i,e,s,r,n){if(r===void 0&&(r=0),n===void 0&&(n=i.length),a(i,r,n)){for(var o=[null],l=5;l<arguments.length;l++)o.push(arguments[l]);for(l=r;l<n;l++)o[0]=i[l],e.apply(s,o)}return i}},function(f,x){f.exports=function(t,a){var i,e,s=t.indexOf(a);return 0<s&&(i=t[s-1],e=t.indexOf(i),t[s]=i,t[e]=a),t}},function(f,x){f.exports=function(t,a,i){var e=t.indexOf(a);if(e===-1||i<0||i>=t.length)throw new Error("Supplied index out of bounds");return e!==i&&(t.splice(e,1),t.splice(i,0,a)),a}},function(f,x){f.exports=function(t,a){var i,e,s=t.indexOf(a);return s!==-1&&s<t.length-1&&(i=t[s+1],e=t.indexOf(i),t[s]=i,t[e]=a),t}},function(f,x){f.exports=function(t,a,i){if(a===i)return t;var e=t.indexOf(a),s=t.indexOf(i);if(e<0||s<0)throw new Error("Supplied items must be elements of the same array");return s<e||(t.splice(e,1),s===t.length-1?t.push(a):t.splice(s,0,a)),t}},function(f,x){f.exports=function(t,a,i){if(a===i)return t;var e=t.indexOf(a),s=t.indexOf(i);if(e<0||s<0)throw new Error("Supplied items must be elements of the same array");return e<s||(t.splice(e,1),s===0?t.unshift(a):t.splice(s,0,a)),t}},function(f,x,t){var a=t(363);f.exports=function(i,e,s){i===void 0&&(i=0),e===void 0&&(e=null),s===void 0&&(s=1),e===null&&(e=i,i=0);for(var r=[],n=Math.max(a((e-i)/(s||1)),0),o=0;o<n;o++)r.push(i),i+=s;return r}},function(f,x,t){var a=t(74);f.exports=function(i,e,s,r){if(r===void 0&&(r=i),e<0||e>i.length-1)throw new Error("Index out of bounds");var n=a(i,e);return s&&s.call(r,n),n}},function(f,x,t){var a=t(78);f.exports=function(i,e,s,r,n){if(e===void 0&&(e=0),s===void 0&&(s=i.length),n===void 0&&(n=i),a(i,e,s)){var o=s-e,l=i.splice(e,o);if(r)for(var h=0;h<l.length;h++){var u=l[h];r.call(n,u)}return l}return[]}},function(f,x,t){var a=t(74);f.exports=function(i,e,s){e===void 0&&(e=0),s===void 0&&(s=i.length);var r=e+Math.floor(Math.random()*s);return a(i,r)}},function(f,x){f.exports=function(t,a,i){var e=t.indexOf(a),s=t.indexOf(i);return e!==-1&&s===-1&&(t[e]=i,!0)}},function(f,x){f.exports=function(t,a){var i=t.indexOf(a);return i!==-1&&0<i&&(t.splice(i,1),t.unshift(a)),a}},function(f,x,t){var a=t(78);f.exports=function(i,e,s,r,n){if(r===void 0&&(r=0),n===void 0&&(n=i.length),a(i,r,n))for(var o=r;o<n;o++){var l=i[o];l.hasOwnProperty(e)&&(l[e]=s)}return i}},function(f,x){f.exports=function(t,a,i){if(a===i)return t;var e=t.indexOf(a),s=t.indexOf(i);if(e<0||s<0)throw new Error("Supplied items must be elements of the same array");return t[e]=i,t[s]=a,t}},function(f,x,t){var a=t(0),i=t(211),e=t(24),s=t(20),r=new a({Extends:i,initialize:function(n){i.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(s.BOOT,this.boot,this),n.sys.events.on(s.START,this.start,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var n=this.systems.events;n.on(s.PRE_UPDATE,this.update,this),n.on(s.UPDATE,this.sceneUpdate,this),n.once(s.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(n,o){for(var l=this._active,h=l.length,u=0;u<h;u++){var c=l[u];c.active&&c.preUpdate.call(c,n,o)}},shutdown:function(){for(var n=this._active.length;n--;)this._active[n].destroy(!0);for(n=this._pending.length;n--;)this._pending[n].destroy(!0);for(n=this._destroy.length;n--;)this._destroy[n].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var o=this.systems.events;o.off(s.PRE_UPDATE,this.update,this),o.off(s.UPDATE,this.sceneUpdate,this),o.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});e.register("UpdateList",r,"updateList"),f.exports=r},function(f,x){f.exports="add"},function(f,x){f.exports="remove"},function(f,x){f.exports=function(t,a,i,e){if(i===void 0&&(i=!1),e===void 0)return e={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var s,r,n,o,l=t.text,h=l.length,u=t.maxWidth,c=t.wordWrapCharCode,d=Number.MAX_VALUE,v=Number.MAX_VALUE,g=0,m=0,y=t.fontData.chars,T=t.fontData.lineHeight,E=t.letterSpacing,S=0,C=0,M=0,P=null,R=t._align,L=0,w=t.fontSize/t.fontData.size,B=w*t.scaleX,G=w*t.scaleY,Y=null,D=0,F=[],N=Number.MAX_VALUE,I=0,b=0,U=0,X=[],z=[],V=null;if(0<u){for(K=0;K<h;K++)(M=l.charCodeAt(K))!==10?(P=y[M])&&(Y!==null&&(s=P.kerning[D]),M===c?V!==null&&(X.push({word:V.word,i:V.i,x:V.x*B,y:V.y*G,w:V.w*B,h:V.h*G,cr:!1}),V=null):(V===null&&(V={word:"",i:K,x:S,y:C,w:0,h:T,cr:!1}),V.word=V.word.concat(l[K]),V.w+=P.xOffset+P.xAdvance+(s!==void 0?s:0)),S+=P.xAdvance+E,Y=P,D=M):(V!==null&&(X.push({word:V.word,i:V.i,x:V.x*B,y:V.y*G,w:V.w*B,h:V.h*G,cr:!0}),V=null),S=0,C+=T,Y=null);V!==null&&X.push({word:V.word,i:V.i,x:V.x*B,y:V.y*G,w:V.w*B,h:V.h*G,cr:!1}),Y=null;for(var W=D=C=S=0,H=[],K=0;K<X.length;K++){var Z,j=X[K],k=j.x,J=j.x+j.w;Z&&(W=k-(k-(Z.x+Z.w)+Z.w),Z=null),u<k-W||u<J-W?(H.push(j.i-1),Z=j.cr?(H.push(j.i+j.word.length),W=0,null):j):j.cr&&(H.push(j.i+j.word.length),W=0,Z=null)}for(K=H.length-1;0<=K;K--)r=l,n=H[K],o=`
`,l=r.substr(0,n)+o+r.substr(n+1);h=(e.wrappedText=l).length,X=[],V=null}var q,_,tt,Q,et=0;for(K=0;K<h;K++)(M=l.charCodeAt(K))!==10?(P=y[M])&&(L=S,Y!==null&&(L+=(q=P.kerning[D])!==void 0?q:0),L<d&&(d=L),C<v&&(v=C),g<(_=L+P.xAdvance)&&(g=_),m<(tt=C+T)&&(m=tt),Q=P.xOffset+P.xAdvance+(q!==void 0?q:0),M===c?V!==null&&(X.push({word:V.word,i:V.i,x:V.x*B,y:V.y*G,w:V.w*B,h:V.h*G}),V=null):(V===null&&(V={word:"",i:et,x:S,y:C,w:0,h:T}),V.word=V.word.concat(l[K]),V.w+=Q),z.push({i:et,char:l[K],code:M,x:(P.xOffset+S)*w,y:(P.yOffset+C)*w,w:P.width*w,h:P.height*w,t:C*w,r:_*w,b:T*w,line:b,glyph:P}),S+=P.xAdvance+E,Y=P,D=M,U=_*w,et++):(V!==null&&(X.push({word:V.word,i:V.i,x:V.x*B,y:V.y*G,w:V.w*B,h:V.h*G}),V=null),S=0,C+=T,Y=null,I<(F[b]=U)&&(I=U),U<N&&(N=U),b++,U=0);if(V!==null&&X.push({word:V.word,i:V.i,x:V.x*B,y:V.y*G,w:V.w*B,h:V.h*G}),I<(F[b]=U)&&(I=U),U<N&&(N=U),0<R)for(var $=0;$<z.length;$++){var it,ot,ut=z[$];R===1?(it=(I-F[ut.line])/2,ut.x+=it,ut.r+=it):R===2&&(ot=I-F[ut.line],ut.x+=ot,ut.r+=ot)}var rt=e.local,nt=e.global,lt=e.lines;return rt.x=d*w,rt.y=v*w,rt.width=g*w,rt.height=m*w,nt.x=t.x-t._displayOriginX+d*B,nt.y=t.y-t._displayOriginY+v*G,nt.width=g*B,nt.height=m*G,lt.shortest=N,lt.longest=I,lt.lengths=F,a&&(rt.x=Math.ceil(rt.x),rt.y=Math.ceil(rt.y),rt.width=Math.ceil(rt.width),rt.height=Math.ceil(rt.height),nt.x=Math.ceil(nt.x),nt.y=Math.ceil(nt.y),nt.width=Math.ceil(nt.width),nt.height=Math.ceil(nt.height),lt.shortest=Math.ceil(N),lt.longest=Math.ceil(I)),i&&(t._displayOriginX=t.originX*rt.width,t._displayOriginY=t.originY*rt.height,nt.x=t.x-t._displayOriginX*t.scaleX,nt.y=t.y-t._displayOriginY*t.scaleY,a&&(nt.x=Math.ceil(nt.x),nt.y=Math.ceil(nt.y))),e.words=X,e.characters=z,e.lines.height=T,e.scale=w,e.scaleX=t.scaleX,e.scaleY=t.scaleY,e}},function(f,x,t){var a=t(212);f.exports=function(i,e,s,r,n,o,l){var h=i.sys.textures.get(s),u=h.get(r),c=i.sys.cache.xml.get(n);if(u&&c){var d=a(c,u,o,l,h);return i.sys.cache.bitmapFont.add(e,{data:d,texture:s,frame:r,fromAtlas:!0}),!0}return!1}},function(f,x,t){var a=t(1),i=t(1),a=t(1046),i=t(1048);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(1047),i=t(19),e=t(12);f.exports=function(s,r,n,o){if(r._text.length!==0){n.addToRenderList(r);var l,h=s.pipelines.set(r.pipeline,r),u=i(r,n,o).calc,c=n.roundPixels,d=n.alpha,v=r.charColors,g=r.tintFill,m=e.getTintAppendFloatAlpha,y=m(r.tintTopLeft,d*r._alphaTL),T=m(r.tintTopRight,d*r._alphaTR),E=m(r.tintBottomLeft,d*r._alphaBL),S=m(r.tintBottomRight,d*r._alphaBR),C=r.frame.glTexture,M=h.setGameObject(r),P=r.getTextBounds(!1).characters,R=r.dropShadowX,L=r.dropShadowY,w=R!==0||L!==0;if(s.pipelines.preBatch(r),w)for(var B=r.dropShadowColor,G=r.dropShadowAlpha,Y=m(B,d*G*r._alphaTL),D=m(B,d*G*r._alphaTR),F=m(B,d*G*r._alphaBL),N=m(B,d*G*r._alphaBR),I=0;I<P.length;I++)H=(l=P[I]).glyph,l.code!==32&&H.width!==0&&H.height!==0&&a(h,r,l,H,R,L,u,c,Y,D,F,N,1,C,M);for(I=0;I<P.length;I++){var b,U,X,z,V,W,H=(l=P[I]).glyph;l.code!==32&&H.width!==0&&H.height!==0&&(v[l.i]?(U=(b=v[l.i]).tintEffect,X=m(b.tintTL,d*r._alphaTL),z=m(b.tintTR,d*r._alphaTR),V=m(b.tintBL,d*r._alphaBL),W=m(b.tintBR,d*r._alphaBR),a(h,r,l,H,0,0,u,c,X,z,V,W,U,C,M)):a(h,r,l,H,0,0,u,c,y,T,E,S,g,C,M))}s.pipelines.postBatch(r)}}},function(f,x){f.exports=function(t,a,i,e,s,r,n,o,l,h,u,c,d,v,g){var m=i.x-a.displayOriginX+s,y=i.y-a.displayOriginY+r,T=m+i.w,E=y+i.h,S=n.getXRound(m,y,o),C=n.getYRound(m,y,o),M=n.getXRound(m,E,o),P=n.getYRound(m,E,o),R=n.getXRound(T,E,o),L=n.getYRound(T,E,o),w=n.getXRound(T,y,o),B=n.getYRound(T,y,o);t.batchQuad(a,S,C,M,P,R,L,w,B,e.u0,e.v0,e.u1,e.v1,l,h,u,c,d,v,g)}},function(f,x,t){var a=t(30);f.exports=function(i,e,s,r){var n=e._text,o=n.length,l=i.currentContext;if(o!==0&&a(i,l,e,s,r)){s.addToRenderList(e);var h,u=e.fromAtlas?e.frame:e.texture.frames.__BASE,c=e.fontData.chars,d=e.fontData.lineHeight,v=e._letterSpacing,g=0,m=0,y=null,T=0,E=0,S=0,C=0,M=0,P=0,R=null,L=0,w=u.source.image,B=u.cutX,G=u.cutY,Y=e._fontSize/e.fontData.size,D=e._align,F=0,N=0,I=e.getTextBounds(!1);0<e.maxWidth&&(o=(n=I.wrappedText).length);var b=e._bounds.lines;D===1?N=(b.longest-b.lengths[0])/2:D===2&&(N=b.longest-b.lengths[0]),l.translate(-e.displayOriginX,-e.displayOriginY);for(var U,X=s.roundPixels,z=0;z<o;z++)(h=n.charCodeAt(z))!==10?(y=c[h])&&(T=B+y.x,E=G+y.y,S=y.width,C=y.height,M=y.xOffset+g,P=y.yOffset+m,R!==null&&(M+=(U=y.kerning[L])!==void 0?U:0),M*=Y,P*=Y,M+=N,g+=y.xAdvance+v,R=y,L=h,S!==0&&C!==0&&h!==32&&(X&&(M=Math.round(M),P=Math.round(P)),l.save(),l.translate(M,P),l.scale(Y,Y),l.drawImage(w,T,E,S,C,0,0,S,C),l.restore())):(F++,D===1?N=(b.longest-b.lengths[F])/2:D===2&&(N=b.longest-b.lengths[F]),g=0,m+=d,R=null);l.restore()}}},function(f,x,t){var a=t(1),i=t(1),a=t(1050),i=t(1051);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(25),i=t(12),e=new a;f.exports=function(s,r,n,o){var l=r.getRenderList();if(l.length!==0){var h=n.alpha*r.alpha;if(h!=0){n.addToRenderList(r);var u=s.pipelines.set(this.pipeline,r),c=n.scrollX*r.scrollFactorX,d=n.scrollY*r.scrollFactorY,v=e.copyFrom(n.matrix);o&&(v.multiplyWithOffset(o,-c,-d),d=c=0);var g=r.x-c,m=r.y-d,y=-1,T=n.roundPixels;s.pipelines.preBatch(r);for(var E=0;E<l.length;E++){var S,C,M,P,R,L,w,B,G,Y,D,F,N=l[E],I=N.frame,b=N.alpha*h;b!=0&&(S=I.width,C=I.height,M=g+N.x+I.x,P=m+N.y+I.y,N.flipX&&(S*=-1,M+=I.width),N.flipY&&(C*=-1,P+=I.height),R=M+S,L=P+C,w=v.getX(M,P),B=v.getY(M,P),G=v.getX(R,L),Y=v.getY(R,L),D=i.getTintAppendFloatAlpha(N.tint,b),I.sourceIndex!==y&&(F=u.setGameObject(r,I),y=I.sourceIndex),T&&(w=Math.round(w),B=Math.round(B),G=Math.round(G),Y=Math.round(Y)),u.batchQuad(r,w,B,w,Y,G,Y,G,B,I.u0,I.v0,I.u1,I.v1,D,D,D,D,!1,I.glTexture,F)&&(y=-1))}s.pipelines.postBatch(r)}}}},function(f,x){f.exports=function(t,a,i,e){var s=a.getRenderList();if(s.length!==0){var r=t.currentContext,n=i.alpha*a.alpha;if(n!=0){i.addToRenderList(a),r.globalCompositeOperation=t.blendModes[a.blendMode],r.imageSmoothingEnabled=!(!t.antialias||a.frame.source.scaleMode);var o=a.x-i.scrollX*a.scrollFactorX,l=a.y-i.scrollY*a.scrollFactorY;r.save(),e&&e.copyToContext(r);for(var h=i.roundPixels,u=0;u<s.length;u++){var c=s[u],d=c.flipX||c.flipY,v=c.frame,g=v.canvasData,m=v.x,y=v.y,T=1,E=1,S=c.alpha*n;S!=0&&(r.globalAlpha=S,d?(c.flipX&&(T=-1,m-=g.width),c.flipY&&(E=-1,y-=g.height),r.save(),r.translate(c.x+o,c.y+l),r.scale(T,E),r.drawImage(v.source.image,g.x,g.y,g.width,g.height,m,y,g.width,g.height),r.restore()):(h&&(m=Math.round(m),y=Math.round(y)),r.drawImage(v.source.image,g.x,g.y,g.width,g.height,m+c.x+o,y+c.y+l,g.width,g.height)))}r.restore()}}}},function(f,x,t){var a=t(1),i=t(1),a=t(1053),i=t(1054);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x){f.exports=function(t,a,i,e){i.addToRenderList(a);var s=a.list,r=s.length;if(r!==0){var n=a.localTransform;e?(n.loadIdentity(),n.multiply(e),n.translate(a.x,a.y),n.rotate(a.rotation),n.scale(a.scaleX,a.scaleY)):n.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),t.pipelines.preBatch(a);var o=a.blendMode!==-1;o||t.setBlendMode(0);for(var l=a.alpha,h=a.scrollFactorX,u=a.scrollFactorY,c=0;c<r;c++){var d,v,g,m,y,T,E,S,C=s[c];C.willRender(i)&&(m=C.alphaTopLeft!==void 0?(d=C.alphaTopLeft,v=C.alphaTopRight,g=C.alphaBottomLeft,C.alphaBottomRight):g=v=d=C.alpha,y=C.scrollFactorX,T=C.scrollFactorY,o||C.blendMode===t.currentBlendMode||t.setBlendMode(C.blendMode),(E=C.mask)&&E.preRenderWebGL(t,C,i),(S=C.type)!==t.currentType&&(t.newType=!0,t.currentType=S),t.nextTypeMatch=c<r-1&&s[c+1].type===t.currentType,C.setScrollFactor(y*h,T*u),C.setAlpha(d*l,v*l,g*l,m*l),C.renderWebGL(t,C,i,n),C.setAlpha(d,v,g,m),C.setScrollFactor(y,T),E&&E.postRenderWebGL(t,i),t.newType=!1)}t.pipelines.postBatch(a)}}},function(f,x){f.exports=function(t,a,i,e){i.addToRenderList(a);var s=a.list;if(s.length!==0){var r=a.localTransform;e?(r.loadIdentity(),r.multiply(e),r.translate(a.x,a.y),r.rotate(a.rotation),r.scale(a.scaleX,a.scaleY)):r.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var n=a.blendMode!==-1;n||t.setBlendMode(0);var o=a._alpha,l=a.scrollFactorX,h=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(t,null,i);for(var u=0;u<s.length;u++){var c,d,v,g=s[u];g.willRender(i)&&(c=g.alpha,d=g.scrollFactorX,v=g.scrollFactorY,n||g.blendMode===t.currentBlendMode||t.setBlendMode(g.blendMode),g.setScrollFactor(d*l,v*h),g.setAlpha(c*o),g.renderCanvas(t,g,i,r),g.setAlpha(c),g.setScrollFactor(d,v))}a.mask&&a.mask.postRenderCanvas(t)}}},function(f,x,t){var a=t(1),i=t(1),a=t(443),i=t(443);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x){f.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(f,x,t){var a=t(1),i=t(1),a=t(1058),i=t(1059);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(19),i=t(25),e=t(12),s=new i;f.exports=function(r,n,o,l){var h=n.text,u=h.length;if(u!==0){o.addToRenderList(n);var c=r.pipelines.set(n.pipeline,n),d=a(n,o,l),v=d.sprite,g=d.calc,m=s,y=0<n.cropWidth||0<n.cropHeight;y&&(c.flush(),r.pushScissor(g.tx,g.ty,n.cropWidth*g.scaleX,n.cropHeight*g.scaleY));var T,E,S,C,M=n.frame.glTexture,P=n.tintFill,R=e.getTintAppendFloatAlpha(n.tintTopLeft,o.alpha*n._alphaTL),L=e.getTintAppendFloatAlpha(n.tintTopRight,o.alpha*n._alphaTR),w=e.getTintAppendFloatAlpha(n.tintBottomLeft,o.alpha*n._alphaBL),B=e.getTintAppendFloatAlpha(n.tintBottomRight,o.alpha*n._alphaBR),G=c.setGameObject(n),Y=0,D=0,F=0,N=n.letterSpacing,I=n.scrollX,b=n.scrollY,U=n.fontData,X=U.chars,z=U.lineHeight,V=n.fontSize/U.size,W=0,H=n._align,K=0,Z=0,j=n.getTextBounds(!1);0<n.maxWidth&&(u=(h=j.wrappedText).length);var k=n._bounds.lines;H===1?Z=(k.longest-k.lengths[0])/2:H===2&&(Z=k.longest-k.lengths[0]);var J=o.roundPixels,q=n.displayCallback,_=n.callbackData;r.pipelines.preBatch(n);for(var tt,Q,et,$,it,ot,ut,rt,nt,lt,at,ht,ft,dt,ct,pt,vt,gt=0;gt<u;gt++)(T=h.charCodeAt(gt))!==10?(vt=X[T])&&(E=vt.width,S=vt.height,et=vt.xOffset+Y-I,$=vt.yOffset+D-b,C!==null&&(et+=(tt=vt.kerning[F])!==void 0?tt:0),Y+=vt.xAdvance+N,C=vt,F=T,E!==0&&S!==0&&T!==32&&(V=n.fontSize/n.fontData.size,W=0,q&&(_.color=0,_.tint.topLeft=R,_.tint.topRight=L,_.tint.bottomLeft=w,_.tint.bottomRight=B,_.index=gt,_.charCode=T,_.x=et,_.y=$,_.scale=V,_.rotation=W,_.data=vt.data,et=(Q=q(_)).x,$=Q.y,V=Q.scale,W=Q.rotation,B=Q.color?(R=Q.color,L=Q.color,w=Q.color,Q.color):(R=Q.tint.topLeft,L=Q.tint.topRight,w=Q.tint.bottomLeft,Q.tint.bottomRight),R=e.getTintAppendFloatAlpha(R,o.alpha*n._alphaTL),L=e.getTintAppendFloatAlpha(L,o.alpha*n._alphaTR),w=e.getTintAppendFloatAlpha(w,o.alpha*n._alphaBL),B=e.getTintAppendFloatAlpha(B,o.alpha*n._alphaBR)),et*=V,$*=V,et-=n.displayOriginX,$-=n.displayOriginY,et+=Z,m.applyITRS(et,$,W,V,V),g.multiply(m,v),it=vt.u0,ot=vt.v0,ut=vt.u1,rt=vt.v1,nt=v.e,lt=v.f,at=S*v.c+v.e,ht=S*v.d+v.f,ft=E*v.a+S*v.c+v.e,dt=E*v.b+S*v.d+v.f,ct=E*v.a+v.e,pt=E*v.b+v.f,J&&(nt=Math.round(nt),lt=Math.round(lt),at=Math.round(at),ht=Math.round(ht),ft=Math.round(ft),dt=Math.round(dt),ct=Math.round(ct),pt=Math.round(pt)),c.batchQuad(n,nt,lt,at,ht,ft,dt,ct,pt,it,ot,ut,rt,R,L,w,B,P,M,G))):(K++,H===1?Z=(k.longest-k.lengths[K])/2:H===2&&(Z=k.longest-k.lengths[K]),Y=0,D+=z,C=null);y&&(c.flush(),r.popScissor()),r.pipelines.postBatch(n)}}},function(f,x,t){var a=t(30);f.exports=function(i,e,s,r){var n=e._text,o=n.length,l=i.currentContext;if(o!==0&&a(i,l,e,s,r)){s.addToRenderList(e);var h,u=e.fromAtlas?e.frame:e.texture.frames.__BASE,c=e.displayCallback,d=e.callbackData,v=e.fontData.chars,g=e.fontData.lineHeight,m=e._letterSpacing,y=0,T=0,E=null,S=0,C=0,M=0,P=0,R=0,L=0,w=null,B=0,G=e.frame.source.image,Y=u.cutX,D=u.cutY,F=0,N=0,I=e._fontSize/e.fontData.size,b=e._align,U=0,X=0;e.getTextBounds(!1);var z=e._bounds.lines;b===1?X=(z.longest-z.lengths[0])/2:b===2&&(X=z.longest-z.lengths[0]),l.translate(-e.displayOriginX,-e.displayOriginY);var V=s.roundPixels;0<e.cropWidth&&0<e.cropHeight&&(l.beginPath(),l.rect(0,0,e.cropWidth,e.cropHeight),l.clip());for(var W,H,K=0;K<o;K++)N=I,F=0,(h=n.charCodeAt(K))!==10?(E=v[h])&&(S=Y+E.x,C=D+E.y,M=E.width,P=E.height,R=E.xOffset+y-e.scrollX,L=E.yOffset+T-e.scrollY,w!==null&&(R+=(W=E.kerning[B])!==void 0?W:0),c&&(d.index=K,d.charCode=h,d.x=R,d.y=L,d.scale=N,d.rotation=F,d.data=E.data,R=(H=c(d)).x,L=H.y,N=H.scale,F=H.rotation),R*=N,L*=N,R+=X,y+=E.xAdvance+m,w=E,B=h,M!==0&&P!==0&&h!==32&&(V&&(R=Math.round(R),L=Math.round(L)),l.save(),l.translate(R,L),l.rotate(F),l.scale(N,N),l.drawImage(G,S,C,M,P,0,0,M,P),l.restore())):(U++,b===1?X=(z.longest-z.lengths[U])/2:b===2&&(X=z.longest-z.lengths[U]),y=0,T+=g,w=null);l.restore()}}},function(f,x,t){var a=t(1),i=t(1),a=t(1061),i=t(1062);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(19);f.exports=function(i,e,s,r){i.pipelines.clear();var n=a(e,s,r).calc;e.render.call(e,i,s,n),i.pipelines.rebind()}},function(f,x){},function(f,x,t){var a=t(1),i=t(1),a=t(1064),i=t(448);i=t(448),f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){function a(h,u,c){this.x=h,this.y=u,this.width=c}function i(h,u,c){this.points=[],this.pointsLength=1,this.points[0]=new a(h,u,c)}var e=t(217),s=t(19),r=t(25),n=t(12),o=[],l=new r;f.exports=function(h,u,c,d){if(u.commandBuffer.length!==0){c.addToRenderList(u);var v=h.pipelines.set(u.pipeline,u);h.pipelines.preBatch(u);for(var g=s(u,c,d).calc,m=l.loadIdentity(),y=u.commandBuffer,T=c.alpha*u.alpha,E=1,S=v.fillTint,C=v.strokeTint,M=0,P=0,R=0,L=2*Math.PI,w=[],B=0,G=!0,Y=null,D=n.getTintAppendFloatAlpha,F=0;F<y.length;F++)switch(y[F]){case e.BEGIN_PATH:w.length=0,G=!(Y=null);break;case e.CLOSE_PATH:G=!1,Y&&Y.points.length&&Y.points.push(Y.points[0]);break;case e.FILL_PATH:for(B=0;B<w.length;B++)v.batchFillPath(w[B].points,m,g);break;case e.STROKE_PATH:for(B=0;B<w.length;B++)v.batchStrokePath(w[B].points,E,G,m,g);break;case e.LINE_STYLE:E=y[++F];var N=D(y[++F],y[++F]*T);C.TL=N,C.TR=N,C.BL=N,C.BR=N;break;case e.FILL_STYLE:var I=D(y[++F],y[++F]*T);S.TL=I,S.TR=I,S.BL=I,S.BR=I;break;case e.GRADIENT_FILL_STYLE:var b=y[++F]*T,U=y[++F]*T,X=y[++F]*T,z=y[++F]*T;S.TL=D(y[++F],b),S.TR=D(y[++F],U),S.BL=D(y[++F],X),S.BR=D(y[++F],z);break;case e.GRADIENT_LINE_STYLE:E=y[++F];var V=y[++F]*T;C.TL=D(y[++F],V),C.TR=D(y[++F],V),C.BL=D(y[++F],V),C.BR=D(y[++F],V);break;case e.ARC:var W=0,H=y[++F],K=y[++F],Z=y[++F],j=y[++F],k=y[++F],J=y[++F],q=y[++F];for(k-=j,J?k<-L?k=-L:0<k&&(k=k%L-L):L<k?k=L:k<0&&(k=L+k%L),Y===null&&(Y=new i(H+Math.cos(j)*Z,K+Math.sin(j)*Z,E),w.push(Y),W+=.01);W<1+q;)R=k*W+j,M=H+Math.cos(R)*Z,P=K+Math.sin(R)*Z,Y.points.push(new a(M,P,E)),W+=.01;R=k+j,M=H+Math.cos(R)*Z,P=K+Math.sin(R)*Z,Y.points.push(new a(M,P,E));break;case e.FILL_RECT:v.batchFillRect(y[++F],y[++F],y[++F],y[++F],m,g);break;case e.FILL_TRIANGLE:v.batchFillTriangle(y[++F],y[++F],y[++F],y[++F],y[++F],y[++F],m,g);break;case e.STROKE_TRIANGLE:v.batchStrokeTriangle(y[++F],y[++F],y[++F],y[++F],y[++F],y[++F],E,m,g);break;case e.LINE_TO:Y!==null?Y.points.push(new a(y[++F],y[++F],E)):(Y=new i(y[++F],y[++F],E),w.push(Y));break;case e.MOVE_TO:Y=new i(y[++F],y[++F],E),w.push(Y);break;case e.SAVE:o.push(m.copyToArray());break;case e.RESTORE:m.copyFromArray(o.pop());break;case e.TRANSLATE:H=y[++F],K=y[++F],m.translate(H,K);break;case e.SCALE:H=y[++F],K=y[++F],m.scale(H,K);break;case e.ROTATE:m.rotate(y[++F])}h.pipelines.postBatch(u)}}},function(f,x,t){var a=t(1),i=t(1),a=t(1066),i=t(1067);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x){f.exports=function(t,a,i,e){i.addToRenderList(a),a.pipeline.batchSprite(a,i,e)}},function(f,x){f.exports=function(t,a,i,e){i.addToRenderList(a),t.batchSprite(a,a.frame,i,e)}},function(f,x,t){var a=t(1),i=t(1),a=t(1069),i=t(1070);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x){f.exports=function(t,a,i,e){i.addToRenderList(a),this.pipeline.batchSprite(a,i,e)}},function(f,x){f.exports=function(t,a,i,e){i.addToRenderList(a),t.batchSprite(a,a.frame,i,e)}},function(f,x,t){var a=t(1),i=t(1),a=t(1072),i=t(1073);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x){f.exports=function(t,a,i){var e=a.list,s=e.length;if(s!==0){a.depthSort(),t.pipelines.preBatch(a);var r=a.blendMode!==-1;r||t.setBlendMode(0);for(var n=a.alpha,o=0;o<s;o++){var l,h,u,c,d,v,g=e[o];g.willRender(i)&&(c=g.alphaTopLeft!==void 0?(l=g.alphaTopLeft,h=g.alphaTopRight,u=g.alphaBottomLeft,g.alphaBottomRight):u=h=l=g.alpha,r||g.blendMode===t.currentBlendMode||t.setBlendMode(g.blendMode),(d=g.mask)&&d.preRenderWebGL(t,g,i),(v=g.type)!==t.currentType&&(t.newType=!0,t.currentType=v),t.nextTypeMatch=o<s-1&&e[o+1].type===t.currentType,g.setAlpha(l*n,h*n,u*n,c*n),g.renderWebGL(t,g,i),g.setAlpha(l,h,u,c),d&&d.postRenderWebGL(t,i),t.newType=!1)}t.pipelines.postBatch(a)}}},function(f,x){f.exports=function(t,a,i){var e=a.list;if(e.length!==0){a.depthSort();var s=a.blendMode!==-1;s||t.setBlendMode(0);var r=a._alpha;a.mask&&a.mask.preRenderCanvas(t,null,i);for(var n=0;n<e.length;n++){var o,l=e[n];l.willRender(i)&&(o=l.alpha,s||l.blendMode===t.currentBlendMode||t.setBlendMode(l.blendMode),l.setAlpha(o*r),l.renderCanvas(t,l,i),l.setAlpha(o))}a.mask&&a.mask.postRenderCanvas(t)}}},function(f,x,t){f.exports={EmitterOp:t(449),GravityWell:t(450),Particle:t(451),ParticleEmitter:t(452),ParticleEmitterManager:t(220),Zones:t(1078)}},function(f,x,t){var a=t(1),i=t(1),a=t(1076),i=t(1077);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(25),i=t(12),e=new a,s=new a,r=new a,n=new a;f.exports=function(o,l,h,u){var c=l.emitters.list,d=c.length;if(d!==0){var v=o.pipelines.set(l.pipeline),g=e,m=s,y=r,T=n;u?(T.loadIdentity(),T.multiply(u),T.translate(l.x,l.y),T.rotate(l.rotation),T.scale(l.scaleX,l.scaleY)):T.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var E=h.roundPixels,S=l.defaultFrame.glTexture,C=i.getTintAppendFloatAlpha,M=v.setGameObject(l,l.defaultFrame);o.pipelines.preBatch(l);for(var P=0;P<d;P++){var R=c[P],L=R.alive,w=L.length;if(R.visible&&w!==0){h.addToRenderList(R);var B=R.scrollFactorX,G=R.scrollFactorY;o.setBlendMode(R.blendMode),R.mask&&(R.mask.preRenderWebGL(o,R,h),o.pipelines.set(l.pipeline));for(var Y=0;Y<w;Y++){var D,F,N,I,b,U,X,z,V,W,H,K,Z,j,k=L[Y],J=k.alpha*h.alpha;J<=0||(y.applyITRS(k.x,k.y,k.rotation,k.scaleX,k.scaleY),g.copyFrom(h.matrix),g.multiplyWithOffset(T,-h.scrollX*B,-h.scrollY*G),y.e=k.x,y.f=k.y,g.multiply(y,m),F=-(D=k.frame).halfWidth,N=-D.halfHeight,I=F+D.width,b=N+D.height,U=m.getXRound(F,N,E),X=m.getYRound(F,N,E),z=m.getXRound(F,b,E),V=m.getYRound(F,b,E),W=m.getXRound(I,b,E),H=m.getYRound(I,b,E),K=m.getXRound(I,N,E),Z=m.getYRound(I,N,E),j=C(k.tint,J),v.batchQuad(R,U,X,z,V,W,H,K,Z,D.u0,D.v0,D.u1,D.v1,j,j,j,j,0,S,M))}R.mask&&R.mask.postRenderWebGL(o,h)}}o.pipelines.postBatch(l)}}},function(f,x,t){var a=t(25),i=new a,e=new a,s=new a,r=new a;f.exports=function(n,o,l,h){var u=o.emitters.list,c=u.length;if(c!==0){var d=i.copyFrom(l.matrix),v=e,g=s,m=r;h?(m.loadIdentity(),m.multiply(h),m.translate(o.x,o.y),m.rotate(o.rotation),m.scale(o.scaleX,o.scaleY)):m.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);for(var y=n.currentContext,T=l.roundPixels,E=0;E<c;E++){var S=u[E],C=S.alive,M=C.length;if(S.visible&&M!==0){l.addToRenderList(S);var P=S.scrollFactorX,R=S.scrollFactorY;y.save(),y.globalCompositeOperation=n.blendModes[S.blendMode];for(var L=0;L<M;L++){var w,B,G,Y,D=C[L],F=D.alpha*l.alpha;F<=0||(g.applyITRS(D.x,D.y,D.rotation,D.scaleX,D.scaleY),d.copyFrom(l.matrix),d.multiplyWithOffset(m,-l.scrollX*P,-l.scrollY*R),g.e=D.x,g.f=D.y,d.multiply(g,v),B=(w=D.frame).canvasData,G=-w.halfWidth,Y=-w.halfHeight,y.globalAlpha=F,y.save(),v.setToContext(y),T&&(G=Math.round(G),Y=Math.round(Y)),y.imageSmoothingEnabled=!(!n.antialias||w.source.scaleMode),y.drawImage(w.source.image,B.x,B.y,B.width,B.height,G,Y,B.width,B.height),y.restore())}y.restore()}}}}},function(f,x,t){f.exports={DeathZone:t(453),EdgeZone:t(454),RandomZone:t(456)}},function(f,x,t){var a=t(1),i=t(1),a=t(1080),i=t(1081);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(12);f.exports=function(i,e,s,r){s.addToRenderList(e);var n=s.alpha,o=e.renderTarget,l=o.width,h=o.height,u=a.getTintAppendFloatAlpha,c=i.pipelines.set(e.pipeline),d=c.setTexture2D(o.texture);i.pipelines.preBatch(e),c.batchTexture(e,o.texture,l,h,e.x,e.y,l,h,e.scaleX,e.scaleY,e.rotation,e.flipX,!e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,l,h,u(e.tintTopLeft,n*e._alphaTL),u(e.tintTopRight,n*e._alphaTR),u(e.tintBottomLeft,n*e._alphaBL),u(e.tintBottomRight,n*e._alphaBR),e.tintFill,0,0,s,r,!0,d),i.resetTextures(),i.pipelines.postBatch(e)}},function(f,x){f.exports=function(t,a,i,e){i.addToRenderList(a),t.batchSprite(a,a.frame,i,e)}},function(f,x,t){var a=t(1083),i=t(17)(!1,i={Parse:t(1084)},a);f.exports=i},function(f,x){f.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`}},function(f,x,t){var a=t(6);f.exports=function(i,e){var s=e.width,r=e.height,n=Math.floor(s/2),o=Math.floor(r/2),l=a(e,"chars","");if(l!==""){var h=a(e,"image",""),u=i.sys.textures.getFrame(h),c=u.cutX,d=u.cutY,v=u.source.width,g=u.source.height,m=a(e,"offset.x",0),y=a(e,"offset.y",0),T=a(e,"spacing.x",0),E=a(e,"spacing.y",0),S=a(e,"lineSpacing",0),C=a(e,"charsPerRow",null);C===null&&(C=v/s)>l.length&&(C=l.length);for(var M=m,P=y,R={retroFont:!0,font:h,size:s,lineHeight:r+S,chars:{}},L=0,w=0;w<l.length;w++){var B=l.charCodeAt(w),G=(c+M)/v,Y=(d+P)/g,D=(c+M+s)/v,F=(d+P+r)/g;R.chars[B]={x:M,y:P,width:s,height:r,centerX:n,centerY:o,xOffset:0,yOffset:0,xAdvance:s,data:{},kerning:{},u0:G,v0:Y,u1:D,v1:F},++L===C?(L=0,M=m,P+=r+E):M+=s+T}return{data:R,frame:null,texture:h}}}},function(f,x,t){var a=t(1),i=t(1),a=t(1086),i=t(1087);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(19),i=t(12);f.exports=function(e,s,r,n){r.addToRenderList(s);var o=e.pipelines.set(s.pipeline,s),l=a(s,r,n).calc,h=s.vertices,u=s.uv,c=s.colors,d=s.alphas,v=s.alpha,g=i.getTintAppendFloatAlpha,m=r.roundPixels,y=h.length,T=Math.floor(.5*y);o.flush(),e.pipelines.preBatch(s);var E=o.setGameObject(s),S=o.vertexViewF32,C=o.vertexViewU32,M=o.vertexCount*o.currentShader.vertexComponentCount-1,P=0,R=s.tintFill;s.dirty&&s.updateVertices();for(var L=s.debugCallback,w=[],B=0;B<y;B+=2){var G=h[B+0],Y=h[B+1],D=G*l.a+Y*l.c+l.e,F=G*l.b+Y*l.d+l.f;m&&(D=Math.round(D),F=Math.round(F)),S[++M]=D,S[++M]=F,S[++M]=u[B+0],S[++M]=u[B+1],S[++M]=E,S[++M]=R,C[++M]=g(c[P],r.alpha*(d[P]*v)),P++,L&&(w[B+0]=D,w[B+1]=F)}L&&L.call(s,s,y,w),o.vertexCount+=T,e.pipelines.postBatch(s)}},function(f,x){f.exports=function(){}},function(f,x,t){var a=t(1),i=t(1),a=t(1089),i=t(1090);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(12);f.exports=function(i,e,s,r){var n,o,l,h,u,c;e.width!==0&&e.height!==0&&(s.addToRenderList(e),o=(n=e.frame).width,l=n.height,h=a.getTintAppendFloatAlpha,c=(u=i.pipelines.set(e.pipeline,e)).setTexture2D(n.glTexture,e),i.pipelines.preBatch(e),u.batchTexture(e,n.glTexture,o,l,e.x,e.y,o/e.style.resolution,l/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,o,l,h(e.tintTopLeft,s.alpha*e._alphaTL),h(e.tintTopRight,s.alpha*e._alphaTR),h(e.tintBottomLeft,s.alpha*e._alphaBL),h(e.tintBottomRight,s.alpha*e._alphaBR),e.tintFill,0,0,s,r,!1,c),i.pipelines.postBatch(e))}},function(f,x){f.exports=function(t,a,i,e){a.width!==0&&a.height!==0&&(i.addToRenderList(a),t.batchSprite(a,a.frame,i,e))}},function(f,x,t){var a=t(1),i=t(1),a=t(1092),i=t(1093);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(12);f.exports=function(i,e,s,r){e.updateCanvas();var n,o,l,h=e.width,u=e.height;h!==0&&u!==0&&(s.addToRenderList(e),i.pipelines.preBatch(e),n=a.getTintAppendFloatAlpha,l=(o=i.pipelines.set(e.pipeline,e)).setTexture2D(e.fillPattern,e),o.batchTexture(e,e.fillPattern,e.displayFrame.width*e.tileScaleX,e.displayFrame.height*e.tileScaleY,e.x,e.y,h,u,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.originX*h,e.originY*u,0,0,h,u,n(e.tintTopLeft,s.alpha*e._alphaTL),n(e.tintTopRight,s.alpha*e._alphaTR),n(e.tintBottomLeft,s.alpha*e._alphaBL),n(e.tintBottomRight,s.alpha*e._alphaBR),e.tintFill,e.tilePositionX%e.displayFrame.width/e.displayFrame.width,e.tilePositionY%e.displayFrame.height/e.displayFrame.height,s,r,!1,l),i.pipelines.postBatch(e))}},function(f,x){f.exports=function(t,a,i,e){a.updateCanvas(),i.addToRenderList(a),t.batchSprite(a,a.frame,i,e)}},function(f,x,t){var a=t(1),i=t(1),a=t(1095),i=t(1096);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x){f.exports=function(t,a,i,e){a.videoTexture&&(i.addToRenderList(a),a.pipeline.batchSprite(a,i,e))}},function(f,x){f.exports=function(t,a,i,e){a.videoTexture&&(i.addToRenderList(a),t.batchSprite(a,a.frame,i,e))}},function(f,x,t){var a=t(1),i=t(1),a=t(1098),i=t(1099);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(19),i=t(114),e=t(81);f.exports=function(s,r,n,o){n.addToRenderList(r);var l=s.pipelines.set(r.pipeline),h=a(r,n,o),u=l.calcMatrix.copyFrom(h.calc),c=r._displayOriginX,d=r._displayOriginY,v=n.alpha*r.alpha;s.pipelines.preBatch(r),r.isFilled&&i(l,u,r,v,c,d),r.isStroked&&e(l,r,v,c,d),s.pipelines.postBatch(r)}},function(f,x,t){var a=t(36),i=t(48),e=t(60),s=t(30);f.exports=function(r,n,o,l){o.addToRenderList(n);var h,u=r.currentContext;s(r,u,n,o,l)&&(h=n.radius,u.beginPath(),u.arc(h-n.originX*(2*h),h-n.originY*(2*h),h,a(n._startAngle),a(n._endAngle),n.anticlockwise),n.closePath&&u.closePath(),n.isFilled&&(i(u,n),u.fill()),n.isStroked&&(e(u,n),u.stroke()),u.restore())}},function(f,x,t){var a=t(1),i=t(1),a=t(1101),i=t(1102);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(114),i=t(19),e=t(81);f.exports=function(s,r,n,o){n.addToRenderList(r);var l=s.pipelines.set(r.pipeline),h=i(r,n,o),u=l.calcMatrix.copyFrom(h.calc),c=r._displayOriginX+r._curveBounds.x,d=r._displayOriginY+r._curveBounds.y,v=n.alpha*r.alpha;s.pipelines.preBatch(r),r.isFilled&&a(l,u,r,v,c,d),r.isStroked&&e(l,r,v,c,d),s.pipelines.postBatch(r)}},function(f,x,t){var a=t(48),i=t(60),e=t(30);f.exports=function(s,r,n,o){n.addToRenderList(r);var l=s.currentContext;if(e(s,l,r,n,o)){var h=r._displayOriginX+r._curveBounds.x,u=r._displayOriginY+r._curveBounds.y,c=r.pathData,d=c.length-1,v=c[0]-h,g=c[1]-u;l.beginPath(),l.moveTo(v,g),r.closePath||(d-=2);for(var m=2;m<d;m+=2){var y=c[m]-h,T=c[m+1]-u;l.lineTo(y,T)}r.closePath&&l.closePath(),r.isFilled&&(a(l,r),l.fill()),r.isStroked&&(i(l,r),l.stroke()),l.restore()}}},function(f,x,t){var a=t(1),i=t(1),a=t(1104),i=t(1105);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(114),i=t(19),e=t(81);f.exports=function(s,r,n,o){n.addToRenderList(r);var l=s.pipelines.set(r.pipeline),h=i(r,n,o),u=l.calcMatrix.copyFrom(h.calc),c=r._displayOriginX,d=r._displayOriginY,v=n.alpha*r.alpha;s.pipelines.preBatch(r),r.isFilled&&a(l,u,r,v,c,d),r.isStroked&&e(l,r,v,c,d),s.pipelines.postBatch(r)}},function(f,x,t){var a=t(48),i=t(60),e=t(30);f.exports=function(s,r,n,o){n.addToRenderList(r);var l=s.currentContext;if(e(s,l,r,n,o)){var h=r._displayOriginX,u=r._displayOriginY,c=r.pathData,d=c.length-1,v=c[0]-h,g=c[1]-u;l.beginPath(),l.moveTo(v,g),r.closePath||(d-=2);for(var m=2;m<d;m+=2){var y=c[m]-h,T=c[m+1]-u;l.lineTo(y,T)}l.closePath(),r.isFilled&&(a(l,r),l.fill()),r.isStroked&&(i(l,r),l.stroke()),l.restore()}}},function(f,x,t){var a=t(1),i=t(1),a=t(1107),i=t(1108);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(19),i=t(12);f.exports=function(e,s,r,n){r.addToRenderList(s);var o=e.pipelines.set(s.pipeline),l=a(s,r,n);o.calcMatrix.copyFrom(l.calc).translate(-s._displayOriginX,-s._displayOriginY);var h,u,c=r.alpha*s.alpha,d=s.width,v=s.height,g=s.cellWidth,m=s.cellHeight,y=Math.ceil(d/g),T=Math.ceil(v/m),E=g,S=m,C=g-(y*g-d),M=m-(T*m-v),P=s.showCells,R=s.showAltCells,L=s.showOutline,w=0,B=0,G=0,Y=0,D=0;if(L&&(E--,S--,C===g&&C--,M===m&&M--),e.pipelines.preBatch(s),P&&0<s.fillAlpha)for(h=o.fillTint,u=i.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*c),h.TL=u,h.TR=u,h.BL=u,h.BR=u,B=0;B<T;B++)for(R&&(G=B%2),w=0;w<y;w++)R&&G?G=0:(G++,Y=w<y-1?E:C,D=B<T-1?S:M,o.batchFillRect(w*g,B*m,Y,D));if(R&&0<s.altFillAlpha)for(h=o.fillTint,u=i.getTintAppendFloatAlpha(s.altFillColor,s.altFillAlpha*c),h.TL=u,h.TR=u,h.BL=u,h.BR=u,B=0;B<T;B++)for(R&&(G=B%2),w=0;w<y;w++)!R||G?(G=0,Y=w<y-1?E:C,D=B<T-1?S:M,o.batchFillRect(w*g,B*m,Y,D)):G=1;if(L&&0<s.outlineFillAlpha){var F=o.strokeTint,N=i.getTintAppendFloatAlpha(s.outlineFillColor,s.outlineFillAlpha*c);for(F.TL=N,F.TR=N,F.BL=N,F.BR=N,w=1;w<y;w++){var I=w*g;o.batchLine(I,0,I,v,1,1,1,0,!1)}for(B=1;B<T;B++){var b=B*m;o.batchLine(0,b,d,b,1,1,1,0,!1)}}e.pipelines.postBatch(s)}},function(f,x,t){var a=t(48),i=t(60),e=t(30);f.exports=function(s,r,n,o){n.addToRenderList(r);var l=s.currentContext;if(e(s,l,r,n,o)){var h=-r._displayOriginX,u=-r._displayOriginY,c=n.alpha*r.alpha,d=r.width,v=r.height,g=r.cellWidth,m=r.cellHeight,y=Math.ceil(d/g),T=Math.ceil(v/m),E=g,S=m,C=g-(y*g-d),M=m-(T*m-v),P=r.showCells,R=r.showAltCells,L=r.showOutline,w=0,B=0,G=0,Y=0,D=0;if(L&&(E--,S--,C===g&&C--,M===m&&M--),P&&0<r.fillAlpha)for(a(l,r),B=0;B<T;B++)for(R&&(G=B%2),w=0;w<y;w++)R&&G?G=0:(G++,Y=w<y-1?E:C,D=B<T-1?S:M,l.fillRect(h+w*g,u+B*m,Y,D));if(R&&0<r.altFillAlpha)for(a(l,r,r.altFillColor,r.altFillAlpha*c),B=0;B<T;B++)for(R&&(G=B%2),w=0;w<y;w++)!R||G?(G=0,Y=w<y-1?E:C,D=B<T-1?S:M,l.fillRect(h+w*g,u+B*m,Y,D)):G=1;if(L&&0<r.outlineFillAlpha){for(i(l,r,r.outlineFillColor,r.outlineFillAlpha*c),w=1;w<y;w++){var F=w*g;l.beginPath(),l.moveTo(F+h,u),l.lineTo(F+h,v+u),l.stroke()}for(B=1;B<T;B++){var N=B*m;l.beginPath(),l.moveTo(h,N+u),l.lineTo(h+d,N+u),l.stroke()}}l.restore()}}},function(f,x,t){var a=t(1),i=t(1),a=t(1110),i=t(1111);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(19),i=t(12);f.exports=function(e,s,r,n){r.addToRenderList(s);var o,l,h,u,c,d,v,g,m,y=e.pipelines.set(s.pipeline),T=a(s,r,n),E=y.calcMatrix.copyFrom(T.calc),S=s.width,C=s.height,M=S/2,P=S/s.projection,R=r.alpha*s.alpha;s.isFilled&&(e.pipelines.preBatch(s),s.showTop&&(o=i.getTintAppendFloatAlpha(s.fillTop,R),l=E.getX(-M,-C),h=E.getY(-M,-C),u=E.getX(0,-P-C),c=E.getY(0,-P-C),d=E.getX(M,-C),v=E.getY(M,-C),g=E.getX(0,P-C),m=E.getY(0,P-C),y.batchQuad(s,l,h,u,c,d,v,g,m,0,0,1,1,o,o,o,o,2)),s.showLeft&&(o=i.getTintAppendFloatAlpha(s.fillLeft,R),l=E.getX(-M,0),h=E.getY(-M,0),u=E.getX(0,P),c=E.getY(0,P),d=E.getX(0,P-C),v=E.getY(0,P-C),g=E.getX(-M,-C),m=E.getY(-M,-C),y.batchQuad(s,l,h,u,c,d,v,g,m,0,0,1,1,o,o,o,o,2)),s.showRight&&(o=i.getTintAppendFloatAlpha(s.fillRight,R),l=E.getX(M,0),h=E.getY(M,0),u=E.getX(0,P),c=E.getY(0,P),d=E.getX(0,P-C),v=E.getY(0,P-C),g=E.getX(M,-C),m=E.getY(M,-C),y.batchQuad(s,l,h,u,c,d,v,g,m,0,0,1,1,o,o,o,o,2)),e.pipelines.postBatch(s))}},function(f,x,t){var a=t(48),i=t(30);f.exports=function(e,s,r,n){r.addToRenderList(s);var o,l,h,u,c=e.currentContext;i(e,c,s,r,n)&&s.isFilled&&(o=s.width,l=s.height,h=o/2,u=o/s.projection,s.showTop&&(a(c,s,s.fillTop),c.beginPath(),c.moveTo(-h,-l),c.lineTo(0,-u-l),c.lineTo(h,-l),c.lineTo(h,-1),c.lineTo(0,u-1),c.lineTo(-h,-1),c.lineTo(-h,-l),c.fill()),s.showLeft&&(a(c,s,s.fillLeft),c.beginPath(),c.moveTo(-h,0),c.lineTo(0,u),c.lineTo(0,u-l),c.lineTo(-h,-l),c.lineTo(-h,0),c.fill()),s.showRight&&(a(c,s,s.fillRight),c.beginPath(),c.moveTo(h,0),c.lineTo(0,u),c.lineTo(0,u-l),c.lineTo(h,-l),c.lineTo(h,0),c.fill()),c.restore())}},function(f,x,t){var a=t(1),i=t(1),a=t(1113),i=t(1114);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(19),i=t(12);f.exports=function(e,s,r,n){r.addToRenderList(s);var o,l,h,u,c,d,v,g,m,y=e.pipelines.set(s.pipeline),T=a(s,r,n),E=y.calcMatrix.copyFrom(T.calc),S=s.width,C=s.height,M=S/2,P=S/s.projection,R=s.isReversed,L=r.alpha*s.alpha;s.isFilled&&(e.pipelines.preBatch(s),s.showTop&&R&&(o=i.getTintAppendFloatAlpha(s.fillTop,L),l=E.getX(-M,-C),h=E.getY(-M,-C),u=E.getX(0,-P-C),c=E.getY(0,-P-C),d=E.getX(M,-C),v=E.getY(M,-C),g=E.getX(0,P-C),m=E.getY(0,P-C),y.batchQuad(s,l,h,u,c,d,v,g,m,0,0,1,1,o,o,o,o,2)),s.showLeft&&(o=i.getTintAppendFloatAlpha(s.fillLeft,L),v=(d=(c=(u=(h=R?(l=E.getX(-M,-C),E.getY(-M,-C)):(l=E.getX(-M,0),E.getY(-M,0)),E.getX(0,P)),E.getY(0,P)),E.getX(0,P-C)),E.getY(0,P-C)),y.batchTri(s,l,h,u,c,d,v,0,0,1,1,o,o,o,2)),s.showRight&&(o=i.getTintAppendFloatAlpha(s.fillRight,L),v=(d=(c=(u=(h=R?(l=E.getX(M,-C),E.getY(M,-C)):(l=E.getX(M,0),E.getY(M,0)),E.getX(0,P)),E.getY(0,P)),E.getX(0,P-C)),E.getY(0,P-C)),y.batchTri(s,l,h,u,c,d,v,0,0,1,1,o,o,o,2)),e.pipelines.postBatch(s))}},function(f,x,t){var a=t(48),i=t(30);f.exports=function(e,s,r,n){r.addToRenderList(s);var o,l,h,u,c,d=e.currentContext;i(e,d,s,r,n)&&s.isFilled&&(o=s.width,l=s.height,h=o/2,u=o/s.projection,c=s.isReversed,s.showTop&&c&&(a(d,s,s.fillTop),d.beginPath(),d.moveTo(-h,-l),d.lineTo(0,-u-l),d.lineTo(h,-l),d.lineTo(0,u-l),d.fill()),s.showLeft&&(a(d,s,s.fillLeft),d.beginPath(),c?d.moveTo(-h,-l):d.moveTo(-h,0),d.lineTo(0,u),d.lineTo(0,u-l),d.fill()),s.showRight&&(a(d,s,s.fillRight),d.beginPath(),c?d.moveTo(h,-l):d.moveTo(h,0),d.lineTo(0,u),d.lineTo(0,u-l),d.fill()),d.restore())}},function(f,x,t){var a=t(1),i=t(1),a=t(1116),i=t(1117);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(19),i=t(12);f.exports=function(e,s,r,n){r.addToRenderList(s);var o=e.pipelines.set(s.pipeline),l=a(s,r,n);o.calcMatrix.copyFrom(l.calc);var h,u,c,d,v=s._displayOriginX,g=s._displayOriginY,m=r.alpha*s.alpha;e.pipelines.preBatch(s),s.isStroked&&(h=o.strokeTint,u=i.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*m),h.TL=u,h.TR=u,h.BL=u,h.BR=u,c=s._startWidth,d=s._endWidth,o.batchLine(s.geom.x1-v,s.geom.y1-g,s.geom.x2-v,s.geom.y2-g,c,d,1,0,!1,l.sprite,l.camera)),e.pipelines.postBatch(s)}},function(f,x,t){var a=t(60),i=t(30);f.exports=function(e,s,r,n){r.addToRenderList(s);var o,l,h=e.currentContext;i(e,h,s,r,n)&&(o=s._displayOriginX,l=s._displayOriginY,s.isStroked&&(a(h,s),h.beginPath(),h.moveTo(s.geom.x1-o,s.geom.y1-l),h.lineTo(s.geom.x2-o,s.geom.y2-l),h.stroke()),h.restore())}},function(f,x,t){var a=t(1),i=t(1),a=t(1119),i=t(1120);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(114),i=t(19),e=t(81);f.exports=function(s,r,n,o){n.addToRenderList(r);var l=s.pipelines.set(r.pipeline),h=i(r,n,o),u=l.calcMatrix.copyFrom(h.calc),c=r._displayOriginX,d=r._displayOriginY,v=n.alpha*r.alpha;s.pipelines.preBatch(r),r.isFilled&&a(l,u,r,v,c,d),r.isStroked&&e(l,r,v,c,d),s.pipelines.postBatch(r)}},function(f,x,t){var a=t(48),i=t(60),e=t(30);f.exports=function(s,r,n,o){n.addToRenderList(r);var l=s.currentContext;if(e(s,l,r,n,o)){var h=r._displayOriginX,u=r._displayOriginY,c=r.pathData,d=c.length-1,v=c[0]-h,g=c[1]-u;l.beginPath(),l.moveTo(v,g),r.closePath||(d-=2);for(var m=2;m<d;m+=2){var y=c[m]-h,T=c[m+1]-u;l.lineTo(y,T)}l.closePath(),r.isFilled&&(a(l,r),l.fill()),r.isStroked&&(i(l,r),l.stroke()),l.restore()}}},function(f,x,t){var a=t(1),i=t(1),a=t(1122),i=t(1123);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(19),i=t(81),e=t(12);f.exports=function(s,r,n,o){n.addToRenderList(r);var l=s.pipelines.set(r.pipeline),h=a(r,n,o);l.calcMatrix.copyFrom(h.calc);var u,c,d=r._displayOriginX,v=r._displayOriginY,g=n.alpha*r.alpha;s.pipelines.preBatch(r),r.isFilled&&(u=l.fillTint,c=e.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*g),u.TL=c,u.TR=c,u.BL=c,u.BR=c,l.batchFillRect(-d,-v,r.width,r.height)),r.isStroked&&i(l,r,g,d,v),s.pipelines.postBatch(r)}},function(f,x,t){var a=t(48),i=t(60),e=t(30);f.exports=function(s,r,n,o){n.addToRenderList(r);var l,h,u=s.currentContext;e(s,u,r,n,o)&&(l=r._displayOriginX,h=r._displayOriginY,r.isFilled&&(a(u,r),u.fillRect(-l,-h,r.width,r.height)),r.isStroked&&(i(u,r),u.beginPath(),u.rect(-l,-h,r.width,r.height),u.stroke()),u.restore())}},function(f,x,t){var a=t(1),i=t(1),a=t(1125),i=t(1126);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(114),i=t(19),e=t(81);f.exports=function(s,r,n,o){n.addToRenderList(r);var l=s.pipelines.set(r.pipeline),h=i(r,n,o),u=l.calcMatrix.copyFrom(h.calc),c=r._displayOriginX,d=r._displayOriginY,v=n.alpha*r.alpha;s.pipelines.preBatch(r),r.isFilled&&a(l,u,r,v,c,d),r.isStroked&&e(l,r,v,c,d),s.pipelines.postBatch(r)}},function(f,x,t){var a=t(48),i=t(60),e=t(30);f.exports=function(s,r,n,o){n.addToRenderList(r);var l=s.currentContext;if(e(s,l,r,n,o)){var h=r._displayOriginX,u=r._displayOriginY,c=r.pathData,d=c.length-1,v=c[0]-h,g=c[1]-u;l.beginPath(),l.moveTo(v,g),r.closePath||(d-=2);for(var m=2;m<d;m+=2){var y=c[m]-h,T=c[m+1]-u;l.lineTo(y,T)}l.closePath(),r.isFilled&&(a(l,r),l.fill()),r.isStroked&&(i(l,r),l.stroke()),l.restore()}}},function(f,x,t){var a=t(1),i=t(1),a=t(1128),i=t(1129);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(19),i=t(81),e=t(12);f.exports=function(s,r,n,o){n.addToRenderList(r);var l=s.pipelines.set(r.pipeline),h=a(r,n,o);l.calcMatrix.copyFrom(h.calc);var u,c,d,v,g,m,y,T,E=r._displayOriginX,S=r._displayOriginY,C=n.alpha*r.alpha;s.pipelines.preBatch(r),r.isFilled&&(u=l.fillTint,c=e.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*C),u.TL=c,u.TR=c,u.BL=c,u.BR=c,d=r.geom.x1-E,v=r.geom.y1-S,g=r.geom.x2-E,m=r.geom.y2-S,y=r.geom.x3-E,T=r.geom.y3-S,l.batchFillTriangle(d,v,g,m,y,T,h.sprite,h.camera)),r.isStroked&&i(l,r,C,E,S),s.pipelines.postBatch(r)}},function(f,x,t){var a=t(48),i=t(60),e=t(30);f.exports=function(s,r,n,o){n.addToRenderList(r);var l,h,u,c,d,v,g,m,y=s.currentContext;e(s,y,r,n,o)&&(l=r._displayOriginX,h=r._displayOriginY,u=r.geom.x1-l,c=r.geom.y1-h,d=r.geom.x2-l,v=r.geom.y2-h,g=r.geom.x3-l,m=r.geom.y3-h,y.beginPath(),y.moveTo(u,c),y.lineTo(d,v),y.lineTo(g,m),y.closePath(),r.isFilled&&(a(y,r),y.fill()),r.isStroked&&(i(y,r),y.stroke()),y.restore())}},function(f,x,t){var a=t(213);t(5).register("blitter",function(i,e,s,r){return this.displayList.add(new a(this.scene,i,e,s,r))})},function(f,x,t){var a=t(214);t(5).register("container",function(i,e,s){return this.displayList.add(new a(this.scene,i,e,s))})},function(f,x,t){var a=t(442);t(5).register("dom",function(i,e,s,r,n){var o=new a(this.scene,i,e,s,r,n);return this.displayList.add(o),o})},function(f,x,t){var a=t(215);t(5).register("dynamicBitmapText",function(i,e,s,r,n){return this.displayList.add(new a(this.scene,i,e,s,r,n))})},function(f,x,t){var a=t(444);t(5).register("extern",function(){var i=new a(this.scene);return this.displayList.add(i),i})},function(f,x,t){var a=t(216);t(5).register("graphics",function(i){return this.displayList.add(new a(this.scene,i))})},function(f,x,t){var a=t(113);t(5).register("group",function(i,e){return this.updateList.add(new a(this.scene,i,e))})},function(f,x,t){var a=t(125);t(5).register("image",function(i,e,s,r){return this.displayList.add(new a(this.scene,i,e,s,r))})},function(f,x,t){var a=t(219);t(5).register("layer",function(i){return this.displayList.add(new a(this.scene,i))})},function(f,x,t){var a=t(5),i=t(220);a.register("particles",function(e,s,r){return this.displayList.add(new i(this.scene,e,s,r))})},function(f,x,t){var a=t(5),i=t(457);a.register("follower",function(e,s,r,n,o){var l=new i(this.scene,e,s,r,n,o);return this.displayList.add(l),this.updateList.add(l),l})},function(f,x,t){var a=t(5),i=t(221);a.register("renderTexture",function(e,s,r,n,o,l){return this.displayList.add(new i(this.scene,e,s,r,n,o,l))})},function(f,x,t){var a=t(223);t(5).register("rope",function(i,e,s,r,n,o,l,h){return this.displayList.add(new a(this.scene,i,e,s,r,n,o,l,h))})},function(f,x,t){var a=t(5),i=t(73);a.register("sprite",function(e,s,r,n){var o=new i(this.scene,e,s,r,n);return this.displayList.add(o),o})},function(f,x,t){var a=t(148);t(5).register("bitmapText",function(i,e,s,r,n,o){return this.displayList.add(new a(this.scene,i,e,s,r,n,o))})},function(f,x,t){var a=t(224);t(5).register("text",function(i,e,s,r){return this.displayList.add(new a(this.scene,i,e,s,r))})},function(f,x,t){var a=t(225);t(5).register("tileSprite",function(i,e,s,r,n,o){return this.displayList.add(new a(this.scene,i,e,s,r,n,o))})},function(f,x,t){var a=t(129);t(5).register("zone",function(i,e,s,r){return this.displayList.add(new a(this.scene,i,e,s,r))})},function(f,x,t){var a=t(226);t(5).register("video",function(i,e,s){return this.displayList.add(new a(this.scene,i,e,s))})},function(f,x,t){var a=t(461),i=t(5);i.register("arc",function(e,s,r,n,o,l,h,u){return this.displayList.add(new a(this.scene,e,s,r,n,o,l,h,u))}),i.register("circle",function(e,s,r,n,o){return this.displayList.add(new a(this.scene,e,s,r,0,360,!1,n,o))})},function(f,x,t){var a=t(5),i=t(462);a.register("curve",function(e,s,r,n,o){return this.displayList.add(new i(this.scene,e,s,r,n,o))})},function(f,x,t){var a=t(463);t(5).register("ellipse",function(i,e,s,r,n,o){return this.displayList.add(new a(this.scene,i,e,s,r,n,o))})},function(f,x,t){var a=t(5),i=t(464);a.register("grid",function(e,s,r,n,o,l,h,u,c,d){return this.displayList.add(new i(this.scene,e,s,r,n,o,l,h,u,c,d))})},function(f,x,t){var a=t(5),i=t(465);a.register("isobox",function(e,s,r,n,o,l,h){return this.displayList.add(new i(this.scene,e,s,r,n,o,l,h))})},function(f,x,t){var a=t(5),i=t(466);a.register("isotriangle",function(e,s,r,n,o,l,h,u){return this.displayList.add(new i(this.scene,e,s,r,n,o,l,h,u))})},function(f,x,t){var a=t(5),i=t(467);a.register("line",function(e,s,r,n,o,l,h,u){return this.displayList.add(new i(this.scene,e,s,r,n,o,l,h,u))})},function(f,x,t){var a=t(5),i=t(468);a.register("polygon",function(e,s,r,n,o){return this.displayList.add(new i(this.scene,e,s,r,n,o))})},function(f,x,t){var a=t(5),i=t(473);a.register("rectangle",function(e,s,r,n,o,l){return this.displayList.add(new i(this.scene,e,s,r,n,o,l))})},function(f,x,t){var a=t(474);t(5).register("star",function(i,e,s,r,n,o,l){return this.displayList.add(new a(this.scene,i,e,s,r,n,o,l))})},function(f,x,t){var a=t(5),i=t(475);a.register("triangle",function(e,s,r,n,o,l,h,u,c,d){return this.displayList.add(new i(this.scene,e,s,r,n,o,l,h,u,c,d))})},function(f,x,t){var a=t(213),i=t(28),e=t(16),s=t(13);e.register("blitter",function(r,n){r===void 0&&(r={});var o=s(r,"key",null),l=s(r,"frame",null),h=new a(this.scene,0,0,o,l);return n!==void 0&&(r.add=n),i(this.scene,h,r),h})},function(f,x,t){var a=t(28),i=t(214),e=t(16),s=t(13);e.register("container",function(r,n){r===void 0&&(r={});var o=s(r,"x",0),l=s(r,"y",0),h=s(r,"children",null),u=new i(this.scene,o,l,h);return n!==void 0&&(r.add=n),a(this.scene,u,r),u})},function(f,x,t){var a=t(215),i=t(28),e=t(16),s=t(13);e.register("dynamicBitmapText",function(r,n){r===void 0&&(r={});var o=s(r,"font",""),l=s(r,"text",""),h=s(r,"size",!1),u=new a(this.scene,0,0,o,l,h);return n!==void 0&&(r.add=n),i(this.scene,u,r),u})},function(f,x,t){var a=t(16),i=t(216);a.register("graphics",function(e,s){e===void 0&&(e={}),s!==void 0&&(e.add=s);var r=new i(this.scene,e);return e.add&&this.scene.sys.displayList.add(r),r})},function(f,x,t){var a=t(16),i=t(113);a.register("group",function(e){return new i(this.scene,null,e)})},function(f,x,t){var a=t(28),i=t(16),e=t(13),s=t(125);i.register("image",function(r,n){r===void 0&&(r={});var o=e(r,"key",null),l=e(r,"frame",null),h=new s(this.scene,0,0,o,l);return n!==void 0&&(r.add=n),a(this.scene,h,r),h})},function(f,x,t){var a=t(28),i=t(219),e=t(16),s=t(13);e.register("layer",function(r,n){r===void 0&&(r={});var o=s(r,"children",null),l=new i(this.scene,o);return n!==void 0&&(r.add=n),a(this.scene,l,r),l})},function(f,x,t){var a=t(16),i=t(13),e=t(2),s=t(220);a.register("particles",function(r,n){r===void 0&&(r={});var o=i(r,"key",null),l=i(r,"frame",null),h=e(r,"emitters",null),u=new s(this.scene,o,l,h);return n!==void 0&&(r.add=n),e(r,"add",!1)?this.displayList.add(u):this.updateList.add(u),u})},function(f,x,t){var a=t(28),i=t(16),e=t(13),s=t(221);i.register("renderTexture",function(r,n){r===void 0&&(r={});var o=e(r,"x",0),l=e(r,"y",0),h=e(r,"width",32),u=e(r,"height",32),c=e(r,"key",void 0),d=e(r,"frame",void 0),v=new s(this.scene,o,l,h,u,c,d);return n!==void 0&&(r.add=n),a(this.scene,v,r),v})},function(f,x,t){var a=t(28),i=t(16),e=t(13),s=t(6),r=t(223);i.register("rope",function(n,o){n===void 0&&(n={});var l=e(n,"key",null),h=e(n,"frame",null),u=e(n,"horizontal",!0),c=s(n,"points",void 0),d=s(n,"colors",void 0),v=s(n,"alphas",void 0),g=new r(this.scene,0,0,l,h,c,u,d,v);return o!==void 0&&(n.add=o),a(this.scene,g,n),n.add||this.updateList.add(g),g})},function(f,x,t){var a=t(28),i=t(439),e=t(16),s=t(13),r=t(73);e.register("sprite",function(n,o){n===void 0&&(n={});var l=s(n,"key",null),h=s(n,"frame",null),u=new r(this.scene,0,0,l,h);return o!==void 0&&(n.add=o),a(this.scene,u,n),i(u,n),u})},function(f,x,t){var a=t(148),i=t(28),e=t(16),s=t(13),r=t(6);e.register("bitmapText",function(n,o){n===void 0&&(n={});var l=r(n,"font",""),h=s(n,"text",""),u=s(n,"size",!1),c=r(n,"align",0),d=new a(this.scene,0,0,l,h,u,c);return o!==void 0&&(n.add=o),i(this.scene,d,n),d})},function(f,x,t){var a=t(28),i=t(16),e=t(13),s=t(224);i.register("text",function(r,n){r===void 0&&(r={});var o=e(r,"text",""),l=e(r,"style",null),h=e(r,"padding",null);h!==null&&(l.padding=h);var u=new s(this.scene,0,0,o,l);return n!==void 0&&(r.add=n),a(this.scene,u,r),u.autoRound=e(r,"autoRound",!0),u.resolution=e(r,"resolution",1),u})},function(f,x,t){var a=t(28),i=t(16),e=t(13),s=t(225);i.register("tileSprite",function(r,n){r===void 0&&(r={});var o=e(r,"x",0),l=e(r,"y",0),h=e(r,"width",512),u=e(r,"height",512),c=e(r,"key",""),d=e(r,"frame",""),v=new s(this.scene,o,l,h,u,c,d);return n!==void 0&&(r.add=n),a(this.scene,v,r),v})},function(f,x,t){var a=t(16),i=t(13),e=t(129);a.register("zone",function(s){var r=i(s,"x",0),n=i(s,"y",0),o=i(s,"width",1),l=i(s,"height",o);return new e(this.scene,r,n,o,l)})},function(f,x,t){var a=t(28),i=t(16),e=t(13),s=t(226);i.register("video",function(r,n){r===void 0&&(r={});var o=e(r,"key",null),l=new s(this.scene,0,0,o);return n!==void 0&&(r.add=n),a(this.scene,l,r),r.add||this.updateList.add(l),l})},function(f,x,t){var a=t(1),i=t(1),a=t(1177),i=t(1178);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(19);f.exports=function(i,e,s,r){var n;e.shader&&(s.addToRenderList(e),i.pipelines.clear(),e.renderToTexture?e.load():(n=a(e,s,r).calc,i.width===e._rendererWidth&&i.height===e._rendererHeight||e.projOrtho(0,i.width,i.height,0),e.load(n.matrix)),e.flush(),i.pipelines.rebind())}},function(f,x){f.exports=function(){}},function(f,x,t){var a=t(1),i=t(1),a=t(1180),i=t(1181);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(19);f.exports=function(i,e,s,r){var n=e.faces,o=n.length;if(o!==0){s.addToRenderList(e);var l=i.pipelines.set(e.pipeline,e),h=a(e,s,r).calc,u=l.setGameObject(e),c=l.vertexViewF32,d=l.vertexViewU32,v=l.vertexCount*l.currentShader.vertexComponentCount-1,g=e.tintFill,m=[],y=e.debugCallback,T=h.a,E=h.b,S=h.c,C=h.d,M=h.e,P=h.f,R=e.viewPosition.z,L=e.hideCCW,w=s.roundPixels,B=s.alpha*e.alpha,G=0;i.pipelines.preBatch(e);for(var Y=0;Y<o;Y++){var D=n[Y];D.isInView(s,L,R,B,T,E,S,C,M,P,w)&&(l.shouldFlush(3)&&(l.flush(),v=0),v=D.load(c,d,v,u,g),G++,l.vertexCount+=3,y&&m.push(D))}e.totalFrame+=G,y&&y.call(e,e,m),i.pipelines.postBatch(e)}}},function(f,x){f.exports=function(){}},function(f,x,t){var i=t(1),a=t(1),i=t(1183);f.exports={renderWebGL:i,renderCanvas:a}},function(f,x,t){var a=t(19);f.exports=function(i,e,s,r){s.addToRenderList(e);var n=i.pipelines.set(e.pipeline),o=a(e,s,r).calc,l=e.width,h=e.height,u=-e._radius,c=-e._radius,d=u+l,v=c+h,g=o.getX(0,0),m=o.getY(0,0),y=o.getX(u,c),T=o.getY(u,c),E=o.getX(u,v),S=o.getY(u,v),C=o.getX(d,v),M=o.getY(d,v),P=o.getX(d,c),R=o.getY(d,c);i.pipelines.preBatch(e),n.batchPointLight(e,s,y,T,E,S,C,M,P,R,g,m),i.pipelines.postBatch(e)}},function(f,x,t){var a=t(229);t(5).register("shader",function(i,e,s,r,n,o,l){return this.displayList.add(new a(this.scene,i,e,s,r,n,o,l))})},function(f,x,t){var a=t(230);t(5).register("mesh",function(i,e,s,r,n,o,l,h,u,c,d){return this.displayList.add(new a(this.scene,i,e,s,r,n,o,l,h,u,c,d))})},function(f,x,t){var a=t(5),i=t(150);a.register("pointlight",function(e,s,r,n,o,l){return this.displayList.add(new i(this.scene,e,s,r,n,o,l))})},function(f,x,t){var a=t(28),i=t(16),e=t(13),s=t(229);i.register("shader",function(r,n){r===void 0&&(r={});var o=e(r,"key",null),l=e(r,"x",0),h=e(r,"y",0),u=e(r,"width",128),c=e(r,"height",128),d=new s(this.scene,o,l,h,u,c);return n!==void 0&&(r.add=n),a(this.scene,d,r),d})},function(f,x,t){var a=t(28),i=t(16),e=t(13),s=t(6),r=t(230);i.register("mesh",function(n,o){n===void 0&&(n={});var l=e(n,"key",null),h=e(n,"frame",null),u=s(n,"vertices",[]),c=s(n,"uvs",[]),d=s(n,"indicies",[]),v=s(n,"containsZ",!1),g=s(n,"normals",[]),m=s(n,"colors",16777215),y=s(n,"alphas",1),T=new r(this.scene,0,0,l,h,u,c,d,v,g,m,y);return o!==void 0&&(n.add=o),a(this.scene,T,n),T})},function(f,x,t){var a=t(28),i=t(16),e=t(13),s=t(150);i.register("pointlight",function(r,n){r===void 0&&(r={});var o=e(r,"color",16777215),l=e(r,"radius",128),h=e(r,"intensity",1),u=e(r,"attenuation",.1),c=new s(this.scene,0,0,o,l,h,u);return n!==void 0&&(r.add=n),a(this.scene,c,r),c})},function(f,x,t){var a=t(0),i=t(482),e=t(24),s=t(20),r=new a({Extends:i,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(s.BOOT,this.boot,this),i.call(this)},boot:function(){var n=this.systems.events;n.on(s.SHUTDOWN,this.shutdown,this),n.on(s.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});e.register("LightsPlugin",r,"lights"),f.exports=r},function(f,x,t){var a=t(65);a.Area=t(1192),a.Circumference=t(302),a.CircumferencePoint=t(169),a.Clone=t(1193),a.Contains=t(66),a.ContainsPoint=t(1194),a.ContainsRect=t(1195),a.CopyFrom=t(1196),a.Equals=t(1197),a.GetBounds=t(1198),a.GetPoint=t(300),a.GetPoints=t(301),a.Offset=t(1199),a.OffsetPoint=t(1200),a.Random=t(170),f.exports=a},function(f,x){f.exports=function(t){return 0<t.radius?Math.PI*t.radius*t.radius:0}},function(f,x,t){var a=t(65);f.exports=function(i){return new a(i.x,i.y,i.radius)}},function(f,x,t){var a=t(66);f.exports=function(i,e){return a(i,e.x,e.y)}},function(f,x,t){var a=t(66);f.exports=function(i,e){return a(i,e.x,e.y)&&a(i,e.right,e.y)&&a(i,e.x,e.bottom)&&a(i,e.right,e.bottom)}},function(f,x){f.exports=function(t,a){return a.setTo(t.x,t.y,t.radius)}},function(f,x){f.exports=function(t,a){return t.x===a.x&&t.y===a.y&&t.radius===a.radius}},function(f,x,t){var a=t(10);f.exports=function(i,e){return e===void 0&&(e=new a),e.x=i.left,e.y=i.top,e.width=i.diameter,e.height=i.diameter,e}},function(f,x){f.exports=function(t,a,i){return t.x+=a,t.y+=i,t}},function(f,x){f.exports=function(t,a){return t.x+=a.x,t.y+=a.y,t}},function(f,x,t){var a=t(111);a.Area=t(1202),a.Circumference=t(447),a.CircumferencePoint=t(218),a.Clone=t(1203),a.Contains=t(112),a.ContainsPoint=t(1204),a.ContainsRect=t(1205),a.CopyFrom=t(1206),a.Equals=t(1207),a.GetBounds=t(1208),a.GetPoint=t(445),a.GetPoints=t(446),a.Offset=t(1209),a.OffsetPoint=t(1210),a.Random=t(180),f.exports=a},function(f,x){f.exports=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI}},function(f,x,t){var a=t(111);f.exports=function(i){return new a(i.x,i.y,i.width,i.height)}},function(f,x,t){var a=t(112);f.exports=function(i,e){return a(i,e.x,e.y)}},function(f,x,t){var a=t(112);f.exports=function(i,e){return a(i,e.x,e.y)&&a(i,e.right,e.y)&&a(i,e.x,e.bottom)&&a(i,e.right,e.bottom)}},function(f,x){f.exports=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)}},function(f,x){f.exports=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height}},function(f,x,t){var a=t(10);f.exports=function(i,e){return e===void 0&&(e=new a),e.x=i.left,e.y=i.top,e.width=i.width,e.height=i.height,e}},function(f,x){f.exports=function(t,a,i){return t.x+=a,t.y+=i,t}},function(f,x){f.exports=function(t,a){return t.x+=a.x,t.y+=a.y,t}},function(f,x,t){var a=t(4),i=t(231);f.exports=function(e,s,r){var n,o,l,h,u,c,d,v,g,m,y,T;return r===void 0&&(r=[]),i(e,s)&&(n=e.x,o=e.y,l=e.radius,h=s.x,u=s.y,c=s.radius,o===u?(T=(y=-2*u)*y-4*(m=1)*(h*h+(d=(c*c-l*l-h*h+n*n)/(2*(n-h)))*d-2*h*d+u*u-c*c))===0?r.push(new a(d,-y/(2*m))):0<T&&(r.push(new a(d,(-y+Math.sqrt(T))/(2*m))),r.push(new a(d,(-y-Math.sqrt(T))/(2*m)))):(T=(y=2*o*(v=(n-h)/(o-u))-2*(g=(c*c-l*l-h*h+n*n-u*u+o*o)/(2*(o-u)))*v-2*n)*y-4*(m=v*v+1)*(n*n+o*o+g*g-l*l-2*o*g))===0?(d=-y/(2*m),r.push(new a(d,g-d*v))):0<T&&(d=(-y+Math.sqrt(T))/(2*m),r.push(new a(d,g-d*v)),d=(-y-Math.sqrt(T))/(2*m),r.push(new a(d,g-d*v)))),r}},function(f,x,t){var a=t(232),i=t(151);f.exports=function(e,s,r){var n,o,l,h;return r===void 0&&(r=[]),i(e,s)&&(n=s.getLineA(),o=s.getLineB(),l=s.getLineC(),h=s.getLineD(),a(n,e,r),a(o,e,r),a(l,e,r),a(h,e,r)),r}},function(f,x,t){var a=t(140),i=t(487),e=new(t(47));function s(n,o,l,h,u){var c=Math.cos(n),d=Math.sin(n);e.setTo(o,l,o+c,l+d);var v=i(e,h);v&&u.push(new a(v.x,v.y,n,v.w))}function r(n,o){return n.z-o.z}f.exports=function(n,o,l){Array.isArray(l)||(l=[l]);for(var h=[],u=[],c=0;c<l.length;c++)for(var d=l[c].points,v=0;v<d.length;v++){var g=Math.atan2(d[v].y-o,d[v].x-n);u.indexOf(g)===-1&&(s(g,n,o,l,h),s(g-1e-5,n,o,l,h),s(g+1e-5,n,o,l,h),u.push(g))}return h.sort(r)}},function(f,x,t){var a=t(10),i=t(152);f.exports=function(e,s,r){return r===void 0&&(r=new a),i(e,s)&&(r.x=Math.max(e.x,s.x),r.y=Math.max(e.y,s.y),r.width=Math.min(e.right,s.right)-r.x,r.height=Math.min(e.bottom,s.bottom)-r.y),r}},function(f,x,t){var a=t(234),i=t(152);f.exports=function(e,s,r){var n,o,l,h;return r===void 0&&(r=[]),i(e,s)&&(n=e.getLineA(),o=e.getLineB(),l=e.getLineC(),h=e.getLineD(),a(n,s,r),a(o,s,r),a(l,s,r),a(h,s,r)),r}},function(f,x,t){var a=t(489),i=t(234);f.exports=function(e,s,r){var n,o,l;return r===void 0&&(r=[]),a(e,s)&&(n=s.getLineA(),o=s.getLineB(),l=s.getLineC(),i(n,e,r),i(o,e,r),i(l,e,r)),r}},function(f,x,t){var a=t(232),i=t(491);f.exports=function(e,s,r){var n,o,l;return r===void 0&&(r=[]),i(e,s)&&(n=e.getLineA(),o=e.getLineB(),l=e.getLineC(),a(n,s,r),a(o,s,r),a(l,s,r)),r}},function(f,x,t){var a=t(494),i=t(492);f.exports=function(e,s,r){var n,o,l;return r===void 0&&(r=[]),a(e,s)&&(n=s.getLineA(),o=s.getLineB(),l=s.getLineC(),i(e,n,r),i(e,o,r),i(e,l,r)),r}},function(f,x,t){var a=t(496);f.exports=function(i,e){if(!a(i,e))return!1;var s=Math.min(e.x1,e.x2),r=Math.max(e.x1,e.x2),n=Math.min(e.y1,e.y2),o=Math.max(e.y1,e.y2);return i.x>=s&&i.x<=r&&i.y>=n&&i.y<=o}},function(f,x){f.exports=function(t,a,i,e,s,r){return r===void 0&&(r=0),!(a>t.right+r||i<t.left-r||e>t.bottom+r||s<t.top-r)}},function(f,x,t){var a=t(47);a.Angle=t(97),a.BresenhamPoints=t(317),a.CenterOn=t(1222),a.Clone=t(1223),a.CopyFrom=t(1224),a.Equals=t(1225),a.Extend=t(1226),a.GetEasedPoints=t(1227),a.GetMidPoint=t(1228),a.GetNearestPoint=t(1229),a.GetNormal=t(1230),a.GetPoint=t(307),a.GetPoints=t(172),a.GetShortestDistance=t(1231),a.Height=t(1232),a.Length=t(67),a.NormalAngle=t(497),a.NormalX=t(1233),a.NormalY=t(1234),a.Offset=t(1235),a.PerpSlope=t(1236),a.Random=t(173),a.ReflectAngle=t(1237),a.Rotate=t(1238),a.RotateAroundPoint=t(1239),a.RotateAroundXY=t(236),a.SetToAngle=t(1240),a.Slope=t(1241),a.Width=t(1242),f.exports=a},function(f,x){f.exports=function(t,a,i){var e=a-(t.x1+t.x2)/2,s=i-(t.y1+t.y2)/2;return t.x1+=e,t.y1+=s,t.x2+=e,t.y2+=s,t}},function(f,x,t){var a=t(47);f.exports=function(i){return new a(i.x1,i.y1,i.x2,i.y2)}},function(f,x){f.exports=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2)}},function(f,x){f.exports=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2}},function(f,x,t){var a=t(67);f.exports=function(i,e,s){s===void 0&&(s=e);var r=a(i),n=i.x2-i.x1,o=i.y2-i.y1;return e&&(i.x1=i.x1-n/r*e,i.y1=i.y1-o/r*e),s&&(i.x2=i.x2+n/r*s,i.y2=i.y2+o/r*s),i}},function(f,x,t){var a=t(352),i=t(80),e=t(4);f.exports=function(s,r,n,o,l){o===void 0&&(o=0),l===void 0&&(l=[]);var h,u=[],c=s.x1,d=s.y1,v=s.x2-c,g=s.y2-d,m=i(r,l),y=n-1;for(S=0;S<y;S++)h=m(S/y),u.push(new e(c+v*h,d+g*h));if(h=m(1),u.push(new e(c+v*h,d+g*h)),0<o){for(var T=u[0],E=[T],S=1;S<u.length-1;S++){var C=u[S];a(T,C)>=o&&(E.push(C),T=C)}var M=u[u.length-1];return a(T,M)<o&&E.pop(),E.push(M),E}return u}},function(f,x,t){var a=t(4);f.exports=function(i,e){return e===void 0&&(e=new a),e.x=(i.x1+i.x2)/2,e.y=(i.y1+i.y2)/2,e}},function(f,x,t){var a=t(4);f.exports=function(i,e,s){s===void 0&&(s=new a);var r=i.x1,n=i.y1,o=i.x2,l=i.y2,h=(o-r)*(o-r)+(l-n)*(l-n);if(h==0)return s;var u=((e.x-r)*(o-r)+(e.y-n)*(l-n))/h;return s.x=r+u*(o-r),s.y=n+u*(l-n),s}},function(f,x,t){var a=t(14),i=t(97),e=t(4);f.exports=function(s,r){r===void 0&&(r=new e);var n=i(s)-a.TAU;return r.x=Math.cos(n),r.y=Math.sin(n),r}},function(f,x){f.exports=function(t,a){var i=t.x1,e=t.y1,s=t.x2,r=t.y2,n=(s-i)*(s-i)+(r-e)*(r-e);if(n==0)return!1;var o=((e-a.y)*(s-i)-(i-a.x)*(r-e))/n;return Math.abs(o)*Math.sqrt(n)}},function(f,x){f.exports=function(t){return Math.abs(t.y1-t.y2)}},function(f,x,t){var a=t(14),i=t(97);f.exports=function(e){return Math.cos(i(e)-a.TAU)}},function(f,x,t){var a=t(14),i=t(97);f.exports=function(e){return Math.sin(i(e)-a.TAU)}},function(f,x){f.exports=function(t,a,i){return t.x1+=a,t.y1+=i,t.x2+=a,t.y2+=i,t}},function(f,x){f.exports=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))}},function(f,x,t){var a=t(97),i=t(497);f.exports=function(e,s){return 2*i(s)-Math.PI-a(e)}},function(f,x,t){var a=t(236);f.exports=function(i,e){var s=(i.x1+i.x2)/2,r=(i.y1+i.y2)/2;return a(i,s,r,e)}},function(f,x,t){var a=t(236);f.exports=function(i,e,s){return a(i,e.x,e.y,s)}},function(f,x){f.exports=function(t,a,i,e,s){return t.x1=a,t.y1=i,t.x2=a+Math.cos(e)*s,t.y2=i+Math.sin(e)*s,t}},function(f,x){f.exports=function(t){return(t.y2-t.y1)/(t.x2-t.x1)}},function(f,x){f.exports=function(t){return Math.abs(t.x1-t.x2)}},function(f,x,t){var a={Face:t(116),GenerateGridVerts:t(1244),GenerateObjVerts:t(480),GenerateVerts:t(479),ParseObj:t(498),ParseObjMaterial:t(499),RotateFace:t(1245),Vertex:t(117)};f.exports=a},function(f,x,t){var a=t(116),i=t(2),e=t(69),s=t(39),r=t(117),n=new s,o=new s,l=new e;f.exports=function(h){var u=i(h,"mesh"),c=i(h,"texture",null),d=i(h,"frame"),v=i(h,"width",1),g=i(h,"height",v),m=i(h,"widthSegments",1),y=i(h,"heightSegments",m),T=i(h,"x",0),E=i(h,"y",0),S=i(h,"z",0),C=i(h,"rotateX",0),M=i(h,"rotateY",0),P=i(h,"rotateZ",0),R=i(h,"zIsUp",!0),L=i(h,"isOrtho",!!u&&u.dirtyCache[11]),w=i(h,"colors",[16777215]),B=i(h,"alphas",[1]),G=i(h,"tile",!1),Y=i(h,"flipY",!1),D=i(h,"width",null),F={faces:[],verts:[]};if(n.set(T,E,S),o.set(C,M,P),l.fromRotationXYTranslation(o,n,R),!c&&u)c=u.texture;else{if(!u||typeof c!="string")return F;c=u.scene.sys.textures.get(c)}var N=c.get(d);!D&&L&&c&&u&&(v=N.width/u.height,g=N.height/u.height);var I=v/2,b=g/2,U=Math.floor(m),X=Math.floor(y),z=U+1,V=X+1,W=v/U,H=g/X,K=[],Z=[],j=0,k=1,J=0,q=1;N&&(j=N.u0,k=N.u1,q=Y?(J=N.v1,N.v0):(J=N.v0,N.v1));for(var _=k-j,tt=q-J,Q=0;Q<V;Q++)for(var et=Q*H-b,$=0;$<z;$++){var it=$*W-I;Z.push(it,-et);var ot=j+$/U*_,ut=J+Q/X*tt;K.push(ot,ut)}Array.isArray(w)||(w=[w]),Array.isArray(B)||(B=[B]);var rt=0,nt=0;for(Q=0;Q<X;Q++)for($=0;$<U;$++){var lt=2*($+z*Q),at=2*($+z*(Q+1)),ht=2*($+1+z*(Q+1)),ft=2*($+1+z*Q),dt=w[nt],ct=B[rt],pt=new r(Z[lt],Z[1+lt],0,K[lt],K[1+lt],dt,ct).transformMat4(l),vt=new r(Z[at],Z[1+at],0,K[at],K[1+at],dt,ct).transformMat4(l),gt=new r(Z[ft],Z[1+ft],0,K[ft],K[1+ft],dt,ct).transformMat4(l),yt=new r(Z[at],Z[1+at],0,K[at],K[1+at],dt,ct).transformMat4(l),Tt=new r(Z[ht],Z[1+ht],0,K[ht],K[1+ht],dt,ct).transformMat4(l),Et=new r(Z[ft],Z[1+ft],0,K[ft],K[1+ft],dt,ct).transformMat4(l);G&&(pt.setUVs(j,q),vt.setUVs(j,J),gt.setUVs(k,q),yt.setUVs(j,J),Tt.setUVs(k,J),Et.setUVs(k,q)),++nt===w.length&&(nt=0),++rt===B.length&&(rt=0),F.verts.push(pt,vt,gt,yt,Tt,Et),F.faces.push(new a(pt,vt,gt),new a(yt,Tt,Et))}return u&&(u.faces=u.faces.concat(F.faces),u.vertices=u.vertices.concat(F.verts)),F}},function(f,x){f.exports=function(t,a,i,e){var s,r,n;i===void 0&&e===void 0&&(r=(s=t.getInCenter()).x,n=s.y);var o=Math.cos(a),l=Math.sin(a),h=t.vertex1,u=t.vertex2,c=t.vertex3,d=h.x-r,v=h.y-n;h.set(d*o-v*l+r,d*l+v*o+n),d=u.x-r,v=u.y-n,u.set(d*o-v*l+r,d*l+v*o+n),d=c.x-r,v=c.y-n,c.set(d*o-v*l+r,d*l+v*o+n)}},function(f,x,t){var a=t(4);a.Ceil=t(1247),a.Clone=t(1248),a.CopyFrom=t(1249),a.Equals=t(1250),a.Floor=t(1251),a.GetCentroid=t(1252),a.GetMagnitude=t(500),a.GetMagnitudeSq=t(501),a.GetRectangleFromPoints=t(1253),a.Interpolate=t(1254),a.Invert=t(1255),a.Negative=t(1256),a.Project=t(1257),a.ProjectUnit=t(1258),a.SetMagnitude=t(1259),f.exports=a},function(f,x){f.exports=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))}},function(f,x,t){var a=t(4);f.exports=function(i){return new a(i.x,i.y)}},function(f,x){f.exports=function(t,a){return a.setTo(t.x,t.y)}},function(f,x){f.exports=function(t,a){return t.x===a.x&&t.y===a.y}},function(f,x){f.exports=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))}},function(f,x,t){var a=t(4);f.exports=function(i,e){if(e===void 0&&(e=new a),!Array.isArray(i))throw new Error("GetCentroid points argument must be an array");var s=i.length;if(s<1)throw new Error("GetCentroid points array must not be empty");if(s===1)e.x=i[0].x,e.y=i[0].y;else{for(var r=0;r<s;r++)e.x+=i[r].x,e.y+=i[r].y;e.x/=s,e.y/=s}return e}},function(f,x,t){var a=t(10);f.exports=function(i,e){e===void 0&&(e=new a);for(var s=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,l=0;l<i.length;l++){var h=i[l];h.x>s&&(s=h.x),h.x<r&&(r=h.x),h.y>n&&(n=h.y),h.y<o&&(o=h.y)}return e.x=r,e.y=o,e.width=s-r,e.height=n-o,e}},function(f,x,t){var a=t(4);f.exports=function(i,e,s,r){return s===void 0&&(s=0),r===void 0&&(r=new a),r.x=i.x+(e.x-i.x)*s,r.y=i.y+(e.y-i.y)*s,r}},function(f,x){f.exports=function(t){return t.setTo(t.y,t.x)}},function(f,x,t){var a=t(4);f.exports=function(i,e){return e===void 0&&(e=new a),e.setTo(-i.x,-i.y)}},function(f,x,t){var a=t(4),i=t(501);f.exports=function(e,s,r){r===void 0&&(r=new a);var n=(e.x*s.x+e.y*s.y)/i(s);return n!=0&&(r.x=n*s.x,r.y=n*s.y),r}},function(f,x,t){var a=t(4);f.exports=function(i,e,s){s===void 0&&(s=new a);var r=i.x*e.x+i.y*e.y;return r!=0&&(s.x=r*e.x,s.y=r*e.y),s}},function(f,x,t){var a=t(500);f.exports=function(i,e){var s;return i.x===0&&i.y===0||(s=a(i),i.x/=s,i.y/=s),i.x*=e,i.y*=e,i}},function(f,x,t){var a=t(227);a.Clone=t(1261),a.Contains=t(228),a.ContainsPoint=t(1262),a.Earcut=t(59),a.GetAABB=t(469),a.GetNumberArray=t(1263),a.GetPoints=t(470),a.Perimeter=t(471),a.Reverse=t(1264),a.Simplify=t(1265),a.Smooth=t(472),a.Translate=t(1266),f.exports=a},function(f,x,t){var a=t(227);f.exports=function(i){return new a(i.points)}},function(f,x,t){var a=t(228);f.exports=function(i,e){return a(i,e.x,e.y)}},function(f,x){f.exports=function(t,a){a===void 0&&(a=[]);for(var i=0;i<t.points.length;i++)a.push(t.points[i].x),a.push(t.points[i].y);return a}},function(f,x){f.exports=function(t){return t.points.reverse(),t}},function(f,x){function t(a,i){var e=a.length-1,s=[a[0]];return function r(n,o,l,h,u){for(var c,d,v,g,m,y,T,E,S,C=h,M=o+1;M<l;M++){var P=(d=n[M],v=n[o],g=n[l],S=E=T=y=m=void 0,y=v.x,T=v.y,E=g.x-y,S=g.y-T,E===0&&S===0||(1<(m=((d.x-y)*E+(d.y-T)*S)/(E*E+S*S))?(y=g.x,T=g.y):0<m&&(y+=E*m,T+=S*m)),(E=d.x-y)*E+(S=d.y-T)*S);C<P&&(c=M,C=P)}h<C&&(1<c-o&&r(n,o,c,h,u),u.push(n[c]),1<l-c&&r(n,c,l,h,u))}(a,0,e,i,s),s.push(a[e]),s}f.exports=function(a,i,e){i===void 0&&(i=1),e===void 0&&(e=!1);var s,r=a.points;return 2<r.length&&(s=i*i,e||(r=function(n,o){for(var l,h,u,c,d,v=n[0],g=[v],m=1,y=n.length;m<y;m++)l=n[m],u=v,d=c=void 0,c=(h=l).x-u.x,d=h.y-u.y,o<c*c+d*d&&(g.push(l),v=l);return v!==l&&g.push(l),g}(r,s)),a.setTo(t(r,s))),a}},function(f,x){f.exports=function(t,a,i){for(var e=t.points,s=0;s<e.length;s++)e[s].x+=a,e[s].y+=i;return t}},function(f,x){f.exports=function(t){return t.width*t.height}},function(f,x){f.exports=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t}},function(f,x){f.exports=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t}},function(f,x,t){var a=t(10);f.exports=function(i){return new a(i.x,i.y,i.width,i.height)}},function(f,x,t){var a=t(57);f.exports=function(i,e){return a(i,e.x,e.y)}},function(f,x){f.exports=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)}},function(f,x){f.exports=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height}},function(f,x,t){var a=t(237);f.exports=function(i,e){var s=a(i);return s<a(e)?i.setSize(e.height*s,e.height):i.setSize(e.width,e.width/s),i.setPosition(e.centerX-i.width/2,e.centerY-i.height/2)}},function(f,x,t){var a=t(237);f.exports=function(i,e){var s=a(i);return s>a(e)?i.setSize(e.height*s,e.height):i.setSize(e.width,e.width/s),i.setPosition(e.centerX-i.width/2,e.centerY-i.height/2)}},function(f,x){f.exports=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t}},function(f,x){f.exports=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t}},function(f,x,t){var a=t(10);f.exports=function(i,e,s,r,n){return n===void 0&&(n=new a),n.setTo(Math.min(i,s),Math.min(e,r),Math.abs(i-s),Math.abs(e-r))}},function(f,x,t){var a=t(4);f.exports=function(i,e){return e===void 0&&(e=new a),e.x=i.centerX,e.y=i.centerY,e}},function(f,x,t){var a=t(4);f.exports=function(i,e){return e===void 0&&(e=new a),e.x=i.width,e.y=i.height,e}},function(f,x,t){var a=t(190);f.exports=function(i,e,s){var r=i.centerX,n=i.centerY;return i.setSize(i.width+2*e,i.height+2*s),a(i,r,n)}},function(f,x,t){var a=t(10),i=t(152);f.exports=function(e,s,r){return r===void 0&&(r=new a),i(e,s)?(r.x=Math.max(e.x,s.x),r.y=Math.max(e.y,s.y),r.width=Math.min(e.right,s.right)-r.x,r.height=Math.min(e.bottom,s.bottom)-r.y):r.setEmpty(),r}},function(f,x){f.exports=function(t,a){for(var i=t.x,e=t.right,s=t.y,r=t.bottom,n=0;n<a.length;n++)i=Math.min(i,a[n].x),e=Math.max(e,a[n].x),s=Math.min(s,a[n].y),r=Math.max(r,a[n].y);return t.x=i,t.y=s,t.width=e-i,t.height=r-s,t}},function(f,x){f.exports=function(t,a){var i=Math.min(t.x,a.x),e=Math.max(t.right,a.right);t.x=i,t.width=e-i;var s=Math.min(t.y,a.y),r=Math.max(t.bottom,a.bottom);return t.y=s,t.height=r-s,t}},function(f,x){f.exports=function(t,a,i){var e=Math.min(t.x,a),s=Math.max(t.right,a);t.x=e,t.width=s-e;var r=Math.min(t.y,i),n=Math.max(t.bottom,i);return t.y=r,t.height=n-r,t}},function(f,x){f.exports=function(t,a,i){return t.x+=a,t.y+=i,t}},function(f,x){f.exports=function(t,a){return t.x+=a.x,t.y+=a.y,t}},function(f,x){f.exports=function(t,a){return t.x<a.right&&t.right>a.x&&t.y<a.bottom&&t.bottom>a.y}},function(f,x,t){var a=t(4),i=t(36);f.exports=function(e,s,r){r===void 0&&(r=new a),s=i(s);var n=Math.sin(s),o=Math.cos(s),l=0<o?e.width/2:e.width/-2,h=0<n?e.height/2:e.height/-2;return Math.abs(l*n)<Math.abs(h*o)?h=l*n/o:l=h*o/n,r.x=l+e.centerX,r.y=h+e.centerY,r}},function(f,x,t){var a=t(195),i=t(503),e=t(4);f.exports=function(s,r,n){if(n===void 0&&(n=new e),i(s,r))switch(a(0,3)){case 0:n.x=s.x+Math.random()*(r.right-s.x),n.y=s.y+Math.random()*(r.top-s.y);break;case 1:n.x=r.x+Math.random()*(s.right-r.x),n.y=r.bottom+Math.random()*(s.bottom-r.bottom);break;case 2:n.x=s.x+Math.random()*(r.x-s.x),n.y=r.y+Math.random()*(s.bottom-r.y);break;case 3:n.x=r.right+Math.random()*(s.right-r.right),n.y=s.y+Math.random()*(r.bottom-s.y)}return n}},function(f,x){f.exports=function(t,a){return t.width===a.width&&t.height===a.height}},function(f,x){f.exports=function(t,a,i){return i===void 0&&(i=a),t.width*=a,t.height*=i,t}},function(f,x,t){var a=t(82);a.Area=t(1294),a.BuildEquilateral=t(1295),a.BuildFromPolygon=t(1296),a.BuildRight=t(1297),a.CenterOn=t(1298),a.Centroid=t(504),a.CircumCenter=t(1299),a.CircumCircle=t(1300),a.Clone=t(1301),a.Contains=t(115),a.ContainsArray=t(235),a.ContainsPoint=t(1302),a.CopyFrom=t(1303),a.Decompose=t(495),a.Equals=t(1304),a.GetPoint=t(476),a.GetPoints=t(477),a.InCenter=t(506),a.Perimeter=t(1305),a.Offset=t(505),a.Random=t(181),a.Rotate=t(1306),a.RotateAroundPoint=t(1307),a.RotateAroundXY=t(238),f.exports=a},function(f,x){f.exports=function(t){var a=t.x1,i=t.y1,e=t.x2,s=t.y2,r=t.x3,n=t.y3;return Math.abs(((r-a)*(s-i)-(e-a)*(n-i))/2)}},function(f,x,t){var a=t(82);f.exports=function(i,e,s){var r=s*(Math.sqrt(3)/2);return new a(i,e,i+s/2,e+r,i-s/2,e+r)}},function(f,x,t){var a=t(59),i=t(82);f.exports=function(e,s,r,n,o){s===void 0&&(s=null),r===void 0&&(r=1),n===void 0&&(n=1),o===void 0&&(o=[]);for(var l,h,u,c,d,v,g,m,y,T=a(e,s),E=0;E<T.length;E+=3)l=T[E],h=T[E+1],u=T[E+2],c=e[2*l]*r,d=e[2*l+1]*n,v=e[2*h]*r,g=e[2*h+1]*n,m=e[2*u]*r,y=e[2*u+1]*n,o.push(new i(c,d,v,g,m,y));return o}},function(f,x,t){var a=t(82);f.exports=function(i,e,s,r){return r===void 0&&(r=s),new a(i,e,i,e-r,i+s,e)}},function(f,x,t){var a=t(504),i=t(505);f.exports=function(e,s,r,n){n===void 0&&(n=a);var o=n(e),l=s-o.x,h=r-o.y;return i(e,l,h)}},function(f,x,t){var a=t(3);f.exports=function(i,e){e===void 0&&(e=new a);var s=i.x3,r=i.y3,n=i.x1-s,o=i.y1-r,l=i.x2-s,h=i.y2-r,u=2*(n*h-o*l),c=o*(l*l+h*h)-(n*n+o*o)*h,d=n*(l*l+h*h)-(n*n+o*o)*l;return e.x=s-c/u,e.y=r+d/u,e}},function(f,x,t){var a=t(65);f.exports=function(i,e){e===void 0&&(e=new a);var s,r,n,o,l=i.x1,h=i.y1,u=i.x2,c=i.y2,d=i.x3,v=i.y3,g=u-l,m=c-h,y=d-l,T=v-h,E=g*(l+u)+m*(h+c),S=y*(l+d)+T*(h+v),C=2*(g*(v-c)-m*(d-u));return Math.abs(C)<1e-6?(s=Math.min(l,u,d),r=Math.min(h,c,v),n=.5*(Math.max(l,u,d)-s),o=.5*(Math.max(h,c,v)-r),e.x=s+n,e.y=r+o):(e.x=(T*E-m*S)/C,e.y=(g*S-y*E)/C,n=e.x-l,o=e.y-h),e.radius=Math.sqrt(n*n+o*o),e}},function(f,x,t){var a=t(82);f.exports=function(i){return new a(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3)}},function(f,x,t){var a=t(115);f.exports=function(i,e){return a(i,e.x,e.y)}},function(f,x){f.exports=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)}},function(f,x){f.exports=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2&&t.x3===a.x3&&t.y3===a.y3}},function(f,x,t){var a=t(67);f.exports=function(i){var e=i.getLineA(),s=i.getLineB(),r=i.getLineC();return a(e)+a(s)+a(r)}},function(f,x,t){var a=t(238),i=t(506);f.exports=function(e,s){var r=i(e);return a(e,r.x,r.y,s)}},function(f,x,t){var a=t(238);f.exports=function(i,e,s){return a(i,e.x,e.y,s)}},function(f,x,t){var a=t(203),i=t(17)(!1,i={CreatePixelPerfectHandler:t(507),CreateInteractiveObject:t(508),Events:t(51),Gamepad:t(1309),InputManager:t(409),InputPlugin:t(1321),InputPluginCache:t(153),Keyboard:t(1322),Mouse:t(1336),Pointer:t(412),Touch:t(1337)},a);f.exports=i},function(f,x,t){f.exports={Axis:t(509),Button:t(510),Events:t(239),Gamepad:t(511),GamepadPlugin:t(1316),Configs:t(1317)}},function(f,x){f.exports="down"},function(f,x){f.exports="up"},function(f,x){f.exports="connected"},function(f,x){f.exports="disconnected"},function(f,x){f.exports="down"},function(f,x){f.exports="up"},function(f,x,t){var a=t(0),i=t(9),e=t(239),s=t(511),r=t(6),n=t(153),o=t(51),l=new a({Extends:i,initialize:function(h){i.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(o.BOOT,this.boot,this),h.pluginEvents.on(o.START,this.start,this)},boot:function(){var h=this.scene.sys.game,u=this.settings.input,c=h.config;this.enabled=r(u,"gamepad",c.inputGamepad)&&h.device.input.gamepads,this.target=r(u,"gamepad.target",c.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(o.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(o.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){function h(d){!d.defaultPrevented&&u.isActive()&&(u.refreshPads(),u.queue.push(d))}var u=this,c=this.target;this.onGamepadHandler=h,c.addEventListener("gamepadconnected",h,!1),c.addEventListener("gamepaddisconnected",h,!1),this.sceneInputPlugin.pluginEvents.on(o.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(o.UPDATE,this.update);for(var h=0;h<this.gamepads.length;h++)this.gamepads[h].removeAllListeners()},disconnectAll:function(){for(var h=0;h<this.gamepads.length;h++)this.gamepads[h].pad.connected=!1},refreshPads:function(){var h=navigator.getGamepads();if(h)for(var u=this.gamepads,c=0;c<h.length;c++){var d,v,g,m,y=h[c];y&&(d=y.id,(g=u[v=y.index])?g.id!==d?(g.destroy(),u[v]=new s(this,y)):g.update(y):(m=new s(this,y),u[v]=m,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=m):this._pad3=m:this._pad2=m:this._pad1=m))}else this.disconnectAll()},getAll:function(){for(var h=[],u=this.gamepads,c=0;c<u.length;c++)u[c]&&h.push(u[c]);return h},getPad:function(h){for(var u=this.gamepads,c=0;c<u.length;c++)if(u[c]&&u[c].index===h)return u[c]},update:function(){if(this.enabled){this.refreshPads();var h=this.queue.length;if(h!==0)for(var u=this.queue.splice(0,h),c=0;c<h;c++){var d=u[c],v=this.getPad(d.gamepad.index);d.type==="gamepadconnected"?this.emit(e.CONNECTED,v,d):d.type==="gamepaddisconnected"&&this.emit(e.DISCONNECTED,v,d)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var h=0;h<this.gamepads.length;h++)this.gamepads[h]&&this.gamepads[h].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});n.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),f.exports=l},function(f,x,t){f.exports={DUALSHOCK_4:t(1318),SNES_USB:t(1319),XBOX_360:t(1320)}},function(f,x){f.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(f,x){f.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(f,x){f.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(f,x,t){var a=t(65),i=t(66),e=t(0),s=t(203),r=t(508),n=t(507),o=t(50),l=t(111),h=t(112),u=t(51),c=t(9),d=t(2),v=t(56),g=t(153),m=t(7),y=t(24),T=t(10),E=t(57),S=t(20),C=t(82),M=t(115),P=new e({Extends:c,initialize:function(R){c.call(this),this.scene=R,this.systems=R.sys,this.settings=R.sys.settings,this.manager=R.sys.game.input,this.pluginEvents=new c,this.enabled=!0,this.displayList,this.cameras,g.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var L={cancelled:!1};this._eventContainer={stopPropagation:function(){L.cancelled=!0}},this._eventData=L,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,R.sys.events.once(S.BOOT,this.boot,this),R.sys.events.on(S.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(S.DESTROY,this.destroy,this),this.pluginEvents.emit(u.BOOT)},start:function(){var R=this.systems.events;R.on(S.TRANSITION_START,this.transitionIn,this),R.on(S.TRANSITION_OUT,this.transitionOut,this),R.on(S.TRANSITION_COMPLETE,this.transitionComplete,this),R.on(S.PRE_UPDATE,this.preUpdate,this),R.once(S.SHUTDOWN,this.shutdown,this),this.manager.events.on(u.GAME_OUT,this.onGameOut,this),this.manager.events.on(u.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(u.START)},onGameOver:function(R){this.isActive()&&this.emit(u.GAME_OVER,R.timeStamp,R)},onGameOut:function(R){this.isActive()&&this.emit(u.GAME_OUT,R.timeStamp,R)},preUpdate:function(){this.pluginEvents.emit(u.PRE_UPDATE);var R=this._pendingRemoval,L=this._pendingInsertion,w=R.length,B=L.length;if(w!==0||B!==0){for(var G=this._list,Y=0;Y<w;Y++){var D=R[Y],F=G.indexOf(D);-1<F&&(G.splice(F,1),this.clear(D,!0))}R.length=0,this._pendingRemoval.length=0,this._list=G.concat(L.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(R,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(u.UPDATE,R,L),this._updatedThisFrame)return this._updatedThisFrame=!1;for(var w=this.manager,B=w.pointers,G=w.pointersTotal,Y=0;Y<G;Y++)B[Y].updateMotion();if(this._list.length===0)return!1;var D=this.pollRate;if(D===-1)return!1;if(0<D){if(this._pollTimer-=L,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var F=!1;for(Y=0;Y<G;Y++){var N=0,I=B[Y];this._tempZones=[],this._temp=this.hitTestPointer(I),this.sortGameObjects(this._temp,I),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),N+=this.processOverOutEvents(I),this.getDragState(I)===2&&this.processDragThresholdEvent(I,R),0<N&&(F=!0)}return F},update:function(R,L){if(!this.isActive())return!1;for(var w=L.length,B=!1,G=0;G<w;G++){var Y=0,D=L[G];switch(this._tempZones=[],this._temp=this.hitTestPointer(D),this.sortGameObjects(this._temp,D),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),R){case s.MOUSE_DOWN:Y+=this.processDragDownEvent(D),Y+=this.processDownEvents(D),Y+=this.processOverOutEvents(D);break;case s.MOUSE_UP:Y+=this.processDragUpEvent(D),Y+=this.processUpEvents(D),Y+=this.processOverOutEvents(D);break;case s.TOUCH_START:Y+=this.processDragDownEvent(D),Y+=this.processDownEvents(D),Y+=this.processOverEvents(D);break;case s.TOUCH_END:case s.TOUCH_CANCEL:Y+=this.processDragUpEvent(D),Y+=this.processUpEvents(D),Y+=this.processOutEvents(D);break;case s.MOUSE_MOVE:case s.TOUCH_MOVE:Y+=this.processDragMoveEvent(D),Y+=this.processMoveEvents(D),Y+=this.processOverOutEvents(D);break;case s.MOUSE_WHEEL:Y+=this.processWheelEvent(D)}0<Y&&(B=!0)}return this._updatedThisFrame=!0,B},clear:function(R,L){L===void 0&&(L=!1);var w=R.input;if(w){L||this.queueForRemoval(R),w.gameObject=void 0,w.target=void 0,w.hitArea=void 0,w.hitAreaCallback=void 0,w.callbackContext=void 0,R.input=null;var B=this._draggable.indexOf(R);return-1<B&&this._draggable.splice(B,1),-1<(B=this._drag[0].indexOf(R))&&this._drag[0].splice(B,1),-1<(B=this._over[0].indexOf(R))&&(this._over[0].splice(B,1),this.manager.resetCursor(w)),R}},disable:function(R){R.input.enabled=!1},enable:function(R,L,w,B){return B===void 0&&(B=!1),R.input?R.input.enabled=!0:this.setHitArea(R,L,w),R.input&&B&&!R.input.dropZone&&(R.input.dropZone=B),this},hitTestPointer:function(R){for(var L=this.cameras.getCamerasBelowPointer(R),w=0;w<L.length;w++){for(var B=L[w],G=this.manager.hitTest(R,this._list,B),Y=0;Y<G.length;Y++){var D=G[Y];D.input.dropZone&&this._tempZones.push(D)}if(0<G.length)return R.camera=B,G}return R.camera=L[0],[]},processDownEvents:function(R){for(var L=0,w=this._temp,B=this._eventData,G=this._eventContainer,Y=B.cancelled=!1,D=0;D<w.length;D++){var F=w[D];if(F.input){if(L++,F.emit(u.GAMEOBJECT_POINTER_DOWN,R,F.input.localX,F.input.localY,G),B.cancelled||!F.input){Y=!0;break}if(this.emit(u.GAMEOBJECT_DOWN,R,F,G),B.cancelled||!F.input){Y=!0;break}}}return!Y&&this.manager&&(R.downElement===this.manager.game.canvas?this.emit(u.POINTER_DOWN,R,w):this.emit(u.POINTER_DOWN_OUTSIDE,R)),L},getDragState:function(R){return this._dragState[R.id]},setDragState:function(R,L){this._dragState[R.id]=L},processDragThresholdEvent:function(R,L){var w=!1,B=this.dragTimeThreshold,G=this.dragDistanceThreshold;if((0<G&&o(R.x,R.y,R.downX,R.downY)>=G||0<B&&L>=R.downTime+B)&&(w=!0),w)return this.setDragState(R,3),this.processDragStartList(R)},processDragStartList:function(R){if(this.getDragState(R)!==3)return 0;for(var L=this._drag[R.id],w=0;w<L.length;w++){var B=L[w],G=B.input;G.dragState=2,G.dragStartX=B.x,G.dragStartY=B.y,G.dragStartXGlobal=R.worldX,G.dragStartYGlobal=R.worldY,G.dragX=G.dragStartXGlobal-G.dragStartX,G.dragY=G.dragStartYGlobal-G.dragStartY,B.emit(u.GAMEOBJECT_DRAG_START,R,G.dragX,G.dragY),this.emit(u.DRAG_START,R,B)}return this.setDragState(R,4),L.length},processDragDownEvent:function(R){var L=this._temp;if(this._draggable.length===0||L.length===0||!R.primaryDown||this.getDragState(R)!==0)return 0;this.setDragState(R,1);for(var w=[],B=0;B<L.length;B++){var G=L[B];G.input.draggable&&G.input.dragState===0&&w.push(G)}return w.length===0?(this.setDragState(R,0),0):(1<w.length&&(this.sortGameObjects(w,R),this.topOnly&&w.splice(1)),this._drag[R.id]=w,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(R,3),this.processDragStartList(R)):(this.setDragState(R,2),0))},processDragMoveEvent:function(R){if(this.getDragState(R)===2&&this.processDragThresholdEvent(R,this.manager.game.loop.now),this.getDragState(R)!==4)return 0;for(var L=this._tempZones,w=this._drag[R.id],B=0;B<w.length;B++){var G,Y,D,F,N,I,b,U,X=w[B],z=X.input,V=z.target;V?(G=L.indexOf(V))===0?(X.emit(u.GAMEOBJECT_DRAG_OVER,R,V),this.emit(u.DRAG_OVER,R,X,V)):0<G?(X.emit(u.GAMEOBJECT_DRAG_LEAVE,R,V),this.emit(u.DRAG_LEAVE,R,X,V),z.target=L[0],V=z.target,X.emit(u.GAMEOBJECT_DRAG_ENTER,R,V),this.emit(u.DRAG_ENTER,R,X,V)):(X.emit(u.GAMEOBJECT_DRAG_LEAVE,R,V),this.emit(u.DRAG_LEAVE,R,X,V),L[0]?(z.target=L[0],V=z.target,X.emit(u.GAMEOBJECT_DRAG_ENTER,R,V),this.emit(u.DRAG_ENTER,R,X,V)):z.target=null):!V&&L[0]&&(z.target=L[0],V=z.target,X.emit(u.GAMEOBJECT_DRAG_ENTER,R,V),this.emit(u.DRAG_ENTER,R,X,V)),D=X.parentContainer?(F=R.worldX-z.dragStartXGlobal,N=R.worldY-z.dragStartYGlobal,I=X.getParentRotation(),b=F*Math.cos(I)+N*Math.sin(I),U=N*Math.cos(I)-F*Math.sin(I),b*=1/X.parentContainer.scaleX,U*=1/X.parentContainer.scaleY,Y=b+z.dragStartX,U+z.dragStartY):(Y=R.worldX-z.dragX,R.worldY-z.dragY),X.emit(u.GAMEOBJECT_DRAG,R,Y,D),this.emit(u.DRAG,R,X,Y,D)}return w.length},processDragUpEvent:function(R){for(var L=this._drag[R.id],w=0;w<L.length;w++){var B,G,Y=L[w],D=Y.input;D&&D.dragState===2&&(D.dragState=0,D.dragX=D.localX-Y.displayOriginX,D.dragY=D.localY-Y.displayOriginY,B=!1,(G=D.target)&&(Y.emit(u.GAMEOBJECT_DROP,R,G),this.emit(u.DROP,R,Y,G),B=!(D.target=null)),Y.input&&(Y.emit(u.GAMEOBJECT_DRAG_END,R,D.dragX,D.dragY,B),this.emit(u.DRAG_END,R,Y,B)))}return this.setDragState(R,0),L.splice(0),0},processMoveEvents:function(R){for(var L=0,w=this._temp,B=this._eventData,G=this._eventContainer,Y=B.cancelled=!1,D=0;D<w.length;D++){var F=w[D];if(F.input){if(L++,F.emit(u.GAMEOBJECT_POINTER_MOVE,R,F.input.localX,F.input.localY,G),B.cancelled||!F.input){Y=!0;break}if(this.emit(u.GAMEOBJECT_MOVE,R,F,G),B.cancelled||!F.input){Y=!0;break}if(this.topOnly)break}}return Y||this.emit(u.POINTER_MOVE,R,w),L},processWheelEvent:function(R){for(var L=0,w=this._temp,B=this._eventData,G=this._eventContainer,Y=B.cancelled=!1,D=R.deltaX,F=R.deltaY,N=R.deltaZ,I=0;I<w.length;I++){var b=w[I];if(b.input){if(L++,b.emit(u.GAMEOBJECT_POINTER_WHEEL,R,D,F,N,G),B.cancelled||!b.input){Y=!0;break}if(this.emit(u.GAMEOBJECT_WHEEL,R,b,D,F,N,G),B.cancelled||!b.input){Y=!0;break}}}return Y||this.emit(u.POINTER_WHEEL,R,w,D,F,N),L},processOverEvents:function(R){var L=this._temp,w=0,B=L.length,G=[];if(0<B){for(var Y=this.manager,D=this._eventData,F=this._eventContainer,N=D.cancelled=!1,I=0;I<B;I++){var b=L[I];if(b.input){if(G.push(b),Y.setCursor(b.input),b.emit(u.GAMEOBJECT_POINTER_OVER,R,b.input.localX,b.input.localY,F),w++,D.cancelled||!b.input){N=!0;break}if(this.emit(u.GAMEOBJECT_OVER,R,b,F),D.cancelled||!b.input){N=!0;break}}}N||this.emit(u.POINTER_OVER,R,G)}return this._over[R.id]=G,w},processOutEvents:function(R){var L=this._over[R.id],w=0,B=L.length;if(0<B){var G=this.manager,Y=this._eventData,D=this._eventContainer,F=Y.cancelled=!1;this.sortGameObjects(L,R);for(var N=0;N<B;N++){var I=L[N];if((I=L[N]).input){if(G.resetCursor(I.input),I.emit(u.GAMEOBJECT_POINTER_OUT,R,D),w++,Y.cancelled||!I.input){F=!0;break}if(this.emit(u.GAMEOBJECT_OUT,R,I,D),Y.cancelled||!I.input){F=!0;break}F||this.emit(u.POINTER_OUT,R,L)}}this._over[R.id]=[]}return w},processOverOutEvents:function(R){for(var L,w=this._temp,B=[],G=[],Y=[],D=this._over[R.id],F=this._drag[R.id],N=this.manager,I=0;I<D.length;I++)L=D[I],w.indexOf(L)===-1&&F.indexOf(L)===-1?B.push(L):Y.push(L);for(I=0;I<w.length;I++)L=w[I],D.indexOf(L)===-1&&G.push(L);var b=B.length,U=0,X=this._eventData,z=this._eventContainer,V=X.cancelled=!1;if(0<b){for(this.sortGameObjects(B,R),I=0;I<b;I++)if((L=B[I]).input){if(N.resetCursor(L.input),L.emit(u.GAMEOBJECT_POINTER_OUT,R,z),U++,X.cancelled||!L.input){V=!0;break}if(this.emit(u.GAMEOBJECT_OUT,R,L,z),X.cancelled||!L.input){V=!0;break}}V||this.emit(u.POINTER_OUT,R,B)}if(b=G.length,V=X.cancelled=!1,0<b){for(this.sortGameObjects(G,R),I=0;I<b;I++)if((L=G[I]).input){if(N.setCursor(L.input),L.emit(u.GAMEOBJECT_POINTER_OVER,R,L.input.localX,L.input.localY,z),U++,X.cancelled||!L.input){V=!0;break}if(this.emit(u.GAMEOBJECT_OVER,R,L,z),X.cancelled||!L.input){V=!0;break}}V||this.emit(u.POINTER_OVER,R,G)}return D=Y.concat(G),this._over[R.id]=this.sortGameObjects(D,R),U},processUpEvents:function(R){for(var L=this._temp,w=this._eventData,B=this._eventContainer,G=w.cancelled=!1,Y=0;Y<L.length;Y++){var D=L[Y];if(D.input){if(D.emit(u.GAMEOBJECT_POINTER_UP,R,D.input.localX,D.input.localY,B),w.cancelled||!D.input){G=!0;break}if(this.emit(u.GAMEOBJECT_UP,R,D,B),w.cancelled||!D.input){G=!0;break}}}return!G&&this.manager&&(R.upElement===this.manager.game.canvas?this.emit(u.POINTER_UP,R,L):this.emit(u.POINTER_UP_OUTSIDE,R)),L.length},queueForInsertion:function(R){return this._pendingInsertion.indexOf(R)===-1&&this._list.indexOf(R)===-1&&this._pendingInsertion.push(R),this},queueForRemoval:function(R){return this._pendingRemoval.push(R),this},setDraggable:function(R,L){L===void 0&&(L=!0),Array.isArray(R)||(R=[R]);for(var w=0;w<R.length;w++){var B=R[w];B.input.draggable=L;var G=this._draggable.indexOf(B);L&&G===-1?this._draggable.push(B):!L&&-1<G&&this._draggable.splice(G,1)}return this},makePixelPerfect:function(R){R===void 0&&(R=1);var L=this.systems.textures;return n(L,R)},setHitArea:function(R,L,w){if(L===void 0)return this.setHitAreaFromTexture(R);Array.isArray(R)||(R=[R]);var B,G,Y=!1,D=!1,F=!1,N=!1,I=!1,b=!0;m(L)?(L=d(B=L,"hitArea",null),w=d(B,"hitAreaCallback",null),Y=d(B,"draggable",!1),D=d(B,"dropZone",!1),F=d(B,"cursor",!1),N=d(B,"useHandCursor",!1),I=d(B,"pixelPerfect",!1),G=d(B,"alphaTolerance",1),I&&(L={},w=this.makePixelPerfect(G)),L&&w||(this.setHitAreaFromTexture(R),b=!1)):typeof L!="function"||w||(w=L,L={});for(var U=0;U<R.length;U++){var X,z=R[U];I&&z.type==="Container"?console.warn("Cannot pixelPerfect test a Container. Use a custom callback."):((X=z.input?z.input:r(z,L,w)).customHitArea=b,X.dropZone=D,X.cursor=N?"pointer":F,z.input=X,Y&&this.setDraggable(z),this.queueForInsertion(z))}return this},setHitAreaCircle:function(R,L,w,B,G){G===void 0&&(G=i);var Y=new a(L,w,B);return this.setHitArea(R,Y,G)},setHitAreaEllipse:function(R,L,w,B,G,Y){Y===void 0&&(Y=h);var D=new l(L,w,B,G);return this.setHitArea(R,D,Y)},setHitAreaFromTexture:function(R,L){L===void 0&&(L=E),Array.isArray(R)||(R=[R]);for(var w=0;w<R.length;w++){var B=R[w],G=B.frame,Y=0,D=0;B.width?(Y=B.width,D=B.height):G&&(Y=G.realWidth,D=G.realHeight),B.type!=="Container"||Y!==0&&D!==0?Y!==0&&D!==0&&(B.input=r(B,new T(0,0,Y,D),L),this.queueForInsertion(B)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(R,L,w,B,G,Y){Y===void 0&&(Y=E);var D=new T(L,w,B,G);return this.setHitArea(R,D,Y)},setHitAreaTriangle:function(R,L,w,B,G,Y,D,F){F===void 0&&(F=M);var N=new C(L,w,B,G,Y,D);return this.setHitArea(R,N,F)},enableDebug:function(R,L){L===void 0&&(L=65280);var w=R.input;if(!w||!w.hitArea)return this;var B=w.hitArea,G=B.type,Y=w.hitAreaDebug,D=this.systems.add,F=this.systems.updateList;Y&&(F.remove(Y),Y.destroy(),Y=null);var N=0,I=0;switch(G){case v.CIRCLE:Y=D.arc(0,0,B.radius),N=B.x-B.radius,I=B.y-B.radius;break;case v.ELLIPSE:Y=D.ellipse(0,0,B.width,B.height),N=B.x-B.width/2,I=B.y-B.height/2;break;case v.LINE:Y=D.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case v.POLYGON:Y=D.polygon(0,0,B.points);break;case v.RECTANGLE:Y=D.rectangle(0,0,B.width,B.height),N=B.x,I=B.y;break;case v.TRIANGLE:Y=D.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3)}return Y&&(Y.isFilled=!1,Y.preUpdate=function(){Y.setStrokeStyle(1/R.scale,L),Y.setDisplayOrigin(R.displayOriginX,R.displayOriginY);var b,U=R.x,X=R.y,z=R.rotation,V=R.scaleX,W=R.scaleY;R.parentContainer&&(U=(b=R.getWorldTransformMatrix()).tx,X=b.ty,z=b.rotation,V=b.scaleX,W=b.scaleY),Y.setRotation(z),Y.setScale(V,W),Y.setPosition(U+N,X+I),Y.setScrollFactor(R.scrollFactorX,R.scrollFactorY),Y.setDepth(R.depth)},F.add(Y),w.hitAreaDebug=Y),this},removeDebug:function(R){var L,w=R.input;return w&&w.hitAreaDebug&&(L=w.hitAreaDebug,this.systems.updateList.remove(L),L.destroy(),w.hitAreaDebug=null),this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(R){return this.pollRate=R,this._pollTimer=0,this},setGlobalTopOnly:function(R){return this.manager.globalTopOnly=R,this},setTopOnly:function(R){return this.topOnly=R,this},sortGameObjects:function(R,L){if(R.length<2)return R;var w=L.camera.renderList;return R.sort(function(B,G){return w.indexOf(G)-w.indexOf(B)})},sortDropZones:function(R){return R.length<2?R:(this.scene.sys.depthSort(),R.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(R,L){if(R.parentContainer||L.parentContainer){if(R.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-R.parentContainer.getIndex(R);if(R.parentContainer===L)return-1;if(L.parentContainer===R)return 1;for(var w=R.getIndexList(),B=L.getIndexList(),G=Math.min(w.length,B.length),Y=0;Y<G;Y++){var D=w[Y],F=B[Y];if(D!==F)return F-D}return B.length-w.length}return this.displayList.getIndex(L)-this.displayList.getIndex(R)},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(R){return this.manager.addPointer(R)},setDefaultCursor:function(R){return this.manager.setDefaultCursor(R),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(u.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;for(var R=this._dragState.length=0;R<10;R++)this._drag[R]=[],this._over[R]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var w=this.systems.events;w.off(S.TRANSITION_START,this.transitionIn,this),w.off(S.TRANSITION_OUT,this.transitionOut,this),w.off(S.TRANSITION_COMPLETE,this.transitionComplete,this),w.off(S.PRE_UPDATE,this.preUpdate,this),L.events.off(u.GAME_OUT,this.onGameOut,this),L.events.off(u.GAME_OVER,this.onGameOver,this),w.off(S.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(u.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(S.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});y.register("InputPlugin",P,"input"),f.exports=P},function(f,x,t){f.exports={Events:t(154),KeyboardManager:t(410),KeyboardPlugin:t(1330),Key:t(512),KeyCodes:t(143),KeyCombo:t(513),AdvanceKeyCombo:t(515),ProcessKeyCombo:t(514),ResetKeyCombo:t(516),JustDown:t(1332),JustUp:t(1333),DownDuration:t(1334),UpDuration:t(1335)}},function(f,x){f.exports="keydown"},function(f,x){f.exports="keyup"},function(f,x){f.exports="keycombomatch"},function(f,x){f.exports="down"},function(f,x){f.exports="keydown-"},function(f,x){f.exports="keyup-"},function(f,x){f.exports="up"},function(f,x,t){var a=t(0),i=t(9),e=t(154),s=t(22),r=t(6),n=t(51),o=t(153),l=t(512),h=t(143),u=t(513),c=t(1331),d=t(20),v=t(76),g=new a({Extends:i,initialize:function(m){i.call(this),this.game=m.systems.game,this.scene=m.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=m,this.manager=m.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,m.pluginEvents.once(n.BOOT,this.boot,this),m.pluginEvents.on(n.START,this.start,this)},boot:function(){var m=this.settings.input;this.enabled=r(m,"keyboard",!0);var y=r(m,"keyboard.capture",null);y&&this.addCaptures(y),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(n.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this),this.game.events.on(s.BLUR,this.resetKeys,this),this.scene.sys.events.on(d.PAUSE,this.resetKeys,this),this.scene.sys.events.on(d.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(m){return this.manager.addCapture(m),this},removeCapture:function(m){return this.manager.removeCapture(m),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:h.UP,down:h.DOWN,left:h.LEFT,right:h.RIGHT,space:h.SPACE,shift:h.SHIFT})},addKeys:function(m,y,T){y===void 0&&(y=!0),T===void 0&&(T=!1);var E={};if(typeof m=="string"){m=m.split(",");for(var S=0;S<m.length;S++){var C=m[S].trim();C&&(E[C]=this.addKey(C,y,T))}}else for(var M in m)E[M]=this.addKey(m[M],y,T);return E},addKey:function(m,y,T){y===void 0&&(y=!0),T===void 0&&(T=!1);var E=this.keys;if(m instanceof l){var S=E.indexOf(m);return-1<S?E[S]=m:E[m.keyCode]=m,y&&this.addCapture(m.keyCode),m.setEmitOnRepeat(T),m}return typeof m=="string"&&(m=h[m.toUpperCase()]),E[m]||(E[m]=new l(this,m),y&&this.addCapture(m),E[m].setEmitOnRepeat(T)),E[m]},removeKey:function(m,y){y===void 0&&(y=!1);var T,E,S=this.keys;return m instanceof l?-1<(E=S.indexOf(m))&&(T=this.keys[E],this.keys[E]=void 0):typeof m=="string"&&(m=h[m.toUpperCase()]),S[m]&&(T=S[m],S[m]=void 0),T&&(T.plugin=null,y&&T.destroy()),this},removeAllKeys:function(m){for(var y=this.keys,T=0;T<y.length;T++){var E=y[T];E&&(y[T]=void 0,m&&E.destroy())}return this},createCombo:function(m,y){return new u(this,m,y)},checkDown:function(m,y){if(y===void 0&&(y=0),this.enabled&&m.isDown){var T=v(this.time-m.timeDown,y);if(T>m._tick)return m._tick=T,!0}return!1},update:function(){var m=this.manager.queue,y=m.length;if(this.isActive()&&y!==0)for(var T=this.keys,E=0;E<y;E++){var S=m[E],C=S.keyCode,M=T[C],P=!1;S.cancelled===void 0&&(S.cancelled=0,S.stopImmediatePropagation=function(){S.cancelled=1},S.stopPropagation=function(){S.cancelled=-1}),S.cancelled!==-1&&(C===this.prevCode&&S.timeStamp===this.prevTime&&S.type===this.prevType||(this.prevCode=C,this.prevTime=S.timeStamp,this.prevType=S.type,S.type==="keydown"?(M&&(P=M.isDown,M.onDown(S)),S.cancelled||M&&P||(c[C]&&this.emit(e.KEY_DOWN+c[C],S),S.cancelled||this.emit(e.ANY_KEY_DOWN,S))):(M&&M.onUp(S),S.cancelled||(c[C]&&this.emit(e.KEY_UP+c[C],S),S.cancelled||this.emit(e.ANY_KEY_UP,S))),S.cancelled===1&&(S.cancelled=0)))}},resetKeys:function(){for(var m=this.keys,y=0;y<m.length;y++)m[y]&&m[y].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(n.MANAGER_PROCESS,this.update,this),this.game.events.off(s.BLUR,this.resetKeys),this.scene.sys.events.off(d.PAUSE,this.resetKeys,this),this.scene.sys.events.off(d.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var m=this.keys,y=0;y<m.length;y++)m[y]&&m[y].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});o.register("KeyboardPlugin",g,"keyboard","keyboard","inputKeyboard"),f.exports=g},function(f,x,t){var a=t(143),i={};for(var e in a)i[a[e]]=e;f.exports=i},function(f,x){f.exports=function(t){return!!t._justDown&&!(t._justDown=!1)}},function(f,x){f.exports=function(t){return!!t._justUp&&!(t._justUp=!1)}},function(f,x){f.exports=function(t,a){a===void 0&&(a=50);var i=t.plugin.game.loop.time-t.timeDown;return t.isDown&&i<a}},function(f,x){f.exports=function(t,a){a===void 0&&(a=50);var i=t.plugin.game.loop.time-t.timeUp;return t.isUp&&i<a}},function(f,x,t){f.exports={MouseManager:t(411)}},function(f,x,t){f.exports={TouchManager:t(413)}},function(f,x,t){var a=t(21),i=t(17)(!1,i={Events:t(95),FileTypes:t(1339),File:t(23),FileTypesManager:t(8),GetURL:t(155),LoaderPlugin:t(1365),MergeXHRSettings:t(240),MultiFile:t(49),XHRLoader:t(517),XHRSettings:t(156)},a);f.exports=i},function(f,x,t){f.exports={AnimationJSONFile:t(1340),AsepriteFile:t(1341),AtlasJSONFile:t(1342),AtlasXMLFile:t(1343),AudioFile:t(518),AudioSpriteFile:t(1344),BinaryFile:t(1345),BitmapFontFile:t(1346),CSSFile:t(1347),GLSLFile:t(1348),HTML5AudioFile:t(519),HTMLFile:t(1349),HTMLTextureFile:t(1350),ImageFile:t(71),JSONFile:t(61),MultiAtlasFile:t(1351),MultiScriptFile:t(1352),OBJFile:t(1353),PackFile:t(1354),PluginFile:t(1355),SceneFile:t(1356),ScenePluginFile:t(1357),ScriptFile:t(520),SpriteSheetFile:t(1358),SVGFile:t(1359),TextFile:t(242),TilemapCSVFile:t(1360),TilemapImpactFile:t(1361),TilemapJSONFile:t(1362),UnityAtlasFile:t(1363),VideoFile:t(1364),XMLFile:t(241)}},function(f,x,t){var a=t(0),i=t(8),e=t(61),s=t(95),r=new a({Extends:e,initialize:function(n,o,l,h,u){e.call(this,n,o,l,h,u),this.type="animationJSON"},onProcess:function(){this.loader.once(s.POST_PROCESS,this.onLoadComplete,this),e.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});i.register("animation",function(n,o,l,h){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new r(this,n[u]));else this.addFile(new r(this,n,o,h,l));return this}),f.exports=r},function(f,x,t){var a=t(0),i=t(8),e=t(2),s=t(71),r=t(7),n=t(61),o=t(49),l=new a({Extends:o,initialize:function(h,u,c,d,v,g){var m,y,T=r(u)?(u=e(y=u,"key"),m=new s(h,{key:u,url:e(y,"textureURL"),extension:e(y,"textureExtension","png"),normalMap:e(y,"normalMap"),xhrSettings:e(y,"textureXhrSettings")}),new n(h,{key:u,url:e(y,"atlasURL"),extension:e(y,"atlasExtension","json"),xhrSettings:e(y,"atlasXhrSettings")})):(m=new s(h,u,c,v),new n(h,u,d,g));m.linkFile?o.call(this,h,"atlasjson",u,[m,T,m.linkFile]):o.call(this,h,"atlasjson",u,[m,T])},addToCache:function(){var h,u,c;this.isReadyToProcess()&&(h=this.files[0],u=this.files[1],c=this.files[2]?this.files[2].data:null,this.loader.textureManager.addAtlas(h.key,h.data,u.data,c),u.addToCache(),this.complete=!0)}});i.register("aseprite",function(h,u,c,d,v){var g;if(Array.isArray(h))for(var m=0;m<h.length;m++)g=new l(this,h[m]),this.addFile(g.files);else g=new l(this,h,u,c,d,v),this.addFile(g.files);return this}),f.exports=l},function(f,x,t){var a=t(0),i=t(8),e=t(2),s=t(71),r=t(7),n=t(61),o=t(49),l=new a({Extends:o,initialize:function(h,u,c,d,v,g){var m,y,T=r(u)?(u=e(y=u,"key"),m=new s(h,{key:u,url:e(y,"textureURL"),extension:e(y,"textureExtension","png"),normalMap:e(y,"normalMap"),xhrSettings:e(y,"textureXhrSettings")}),new n(h,{key:u,url:e(y,"atlasURL"),extension:e(y,"atlasExtension","json"),xhrSettings:e(y,"atlasXhrSettings")})):(m=new s(h,u,c,v),new n(h,u,d,g));m.linkFile?o.call(this,h,"atlasjson",u,[m,T,m.linkFile]):o.call(this,h,"atlasjson",u,[m,T])},addToCache:function(){var h,u,c;this.isReadyToProcess()&&(h=this.files[0],u=this.files[1],c=this.files[2]?this.files[2].data:null,this.loader.textureManager.addAtlas(h.key,h.data,u.data,c),u.pendingDestroy(),this.complete=!0)}});i.register("atlas",function(h,u,c,d,v){var g;if(Array.isArray(h))for(var m=0;m<h.length;m++)g=new l(this,h[m]),this.addFile(g.files);else g=new l(this,h,u,c,d,v),this.addFile(g.files);return this}),f.exports=l},function(f,x,t){var a=t(0),i=t(8),e=t(2),s=t(71),r=t(7),n=t(49),o=t(241),l=new a({Extends:n,initialize:function(h,u,c,d,v,g){var m,y,T=r(u)?(u=e(y=u,"key"),m=new s(h,{key:u,url:e(y,"textureURL"),extension:e(y,"textureExtension","png"),normalMap:e(y,"normalMap"),xhrSettings:e(y,"textureXhrSettings")}),new o(h,{key:u,url:e(y,"atlasURL"),extension:e(y,"atlasExtension","xml"),xhrSettings:e(y,"atlasXhrSettings")})):(m=new s(h,u,c,v),new o(h,u,d,g));m.linkFile?n.call(this,h,"atlasxml",u,[m,T,m.linkFile]):n.call(this,h,"atlasxml",u,[m,T])},addToCache:function(){var h,u,c;this.isReadyToProcess()&&(h=this.files[0],u=this.files[1],c=this.files[2]?this.files[2].data:null,this.loader.textureManager.addAtlasXML(h.key,h.data,u.data,c),u.pendingDestroy(),this.complete=!0)}});i.register("atlasXML",function(h,u,c,d,v){var g;if(Array.isArray(h))for(var m=0;m<h.length;m++)g=new l(this,h[m]),this.addFile(g.files);else g=new l(this,h,u,c,d,v),this.addFile(g.files);return this}),f.exports=l},function(f,x,t){var a=t(518),i=t(0),e=t(8),s=t(2),r=t(7),n=t(61),o=t(49),l=new i({Extends:o,initialize:function(h,u,c,d,v,g,m){var y,T,E;r(u)&&(u=s(y=u,"key"),c=s(y,"jsonURL"),d=s(y,"audioURL"),v=s(y,"audioConfig"),g=s(y,"audioXhrSettings"),m=s(y,"jsonXhrSettings")),d?(E=a.create(h,u,d,v,g))&&(T=new n(h,u,c,m),o.call(this,h,"audiosprite",u,[E,T]),this.config.resourceLoad=!1):(T=new n(h,u,c,m),o.call(this,h,"audiosprite",u,[T]),this.config.resourceLoad=!0,this.config.audioConfig=v,this.config.audioXhrSettings=g)},onFileComplete:function(h){var u,c,d,v;this.files.indexOf(h)!==-1&&(this.pending--,this.config.resourceLoad&&h.type==="json"&&h.data.hasOwnProperty("resources")&&(u=h.data.resources,c=s(this.config,"audioConfig"),d=s(this.config,"audioXhrSettings"),(v=a.create(this.loader,h.key,u,c,d))&&(this.addToMultiFile(v),this.loader.addFile(v))))},addToCache:function(){var h,u;this.isReadyToProcess()&&(h=this.files[0],u=this.files[1],h.addToCache(),u.addToCache(),this.complete=!0)}});e.register("audioSprite",function(h,u,c,d,v,g){var m,y=this.systems.game,T=y.config.audio,E=y.device.audio;if(T&&T.noAudio||!E.webAudio&&!E.audioData)return this;if(Array.isArray(h))for(var S=0;S<h.length;S++)(m=new l(this,h[S])).files&&this.addFile(m.files);else(m=new l(this,h,u,c,d,v,g)).files&&this.addFile(m.files);return this})},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(7),o=new a({Extends:e,initialize:function(l,h,u,c,d){var v,g="bin";n(h)&&(h=r(v=h,"key"),u=r(v,"url"),c=r(v,"xhrSettings"),g=r(v,"extension",g),d=r(v,"dataType",d));var m={type:"binary",cache:l.cacheManager.binary,extension:g,responseType:"arraybuffer",key:h,url:u,xhrSettings:c,config:{dataType:d}};e.call(this,l,m)},onProcess:function(){this.state=i.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});s.register("binary",function(l,h,u,c){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new o(this,l[d]));else this.addFile(new o(this,l,h,c,u));return this}),f.exports=o},function(f,x,t){var a=t(0),i=t(8),e=t(2),s=t(71),r=t(7),n=t(49),o=t(212),l=t(241),h=new a({Extends:n,initialize:function(u,c,d,v,g,m){var y,T,E=r(c)?(c=e(T=c,"key"),y=new s(u,{key:c,url:e(T,"textureURL"),extension:e(T,"textureExtension","png"),normalMap:e(T,"normalMap"),xhrSettings:e(T,"textureXhrSettings")}),new l(u,{key:c,url:e(T,"fontDataURL"),extension:e(T,"fontDataExtension","xml"),xhrSettings:e(T,"fontDataXhrSettings")})):(y=new s(u,c,d,g),new l(u,c,v,m));y.linkFile?n.call(this,u,"bitmapfont",c,[y,E,y.linkFile]):n.call(this,u,"bitmapfont",c,[y,E])},addToCache:function(){var u,c,d,v;this.isReadyToProcess()&&(u=this.files[0],c=this.files[1],u.addToCache(),c.pendingDestroy(),d=u.cache.get(u.key),v=o(c.data,u.cache.getFrame(u.key),0,0,d),this.loader.cacheManager.bitmapFont.add(u.key,{data:v,texture:u.key,frame:null}),this.complete=!0)}});i.register("bitmapFont",function(u,c,d,v,g){var m;if(Array.isArray(u))for(var y=0;y<u.length;y++)m=new h(this,u[y]),this.addFile(m.files);else m=new h(this,u,c,d,v,g),this.addFile(m.files);return this}),f.exports=h},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(7),o=new a({Extends:e,initialize:function(l,h,u,c){var d,v="css";n(h)&&(h=r(d=h,"key"),u=r(d,"url"),c=r(d,"xhrSettings"),v=r(d,"extension",v));var g={type:"script",cache:!1,extension:v,responseType:"text",key:h,url:u,xhrSettings:c};e.call(this,l,g)},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("css",function(l,h,u){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new o(this,l[c]));else this.addFile(new o(this,l,h,u));return this}),f.exports=o},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(7),o=t(396),l=new a({Extends:e,initialize:function(h,u,c,d,v){var g,m="glsl";n(u)?(u=r(g=u,"key"),c=r(g,"url"),d=r(g,"shaderType","fragment"),v=r(g,"xhrSettings"),m=r(g,"extension",m)):d===void 0&&(d="fragment");var y={type:"glsl",cache:h.cacheManager.shader,extension:m,responseType:"text",key:u,url:c,config:{shaderType:d},xhrSettings:v};e.call(this,h,y)},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.split(`
`),u=this.extractBlock(h,0);if(u)for(;u;){var c,d=this.getShaderName(u.header),v=this.getShaderType(u.header),g=this.getShaderUniforms(u.header),m=u.shader;this.cache.has(d)?(c=this.cache.get(d),v==="fragment"?c.fragmentSrc=m:c.vertexSrc=m,c.uniforms||(c.uniforms=g)):v==="fragment"?this.cache.add(d,new o(d,m,"",g)):this.cache.add(d,new o(d,"",m,g)),u=this.extractBlock(h,u.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new o(this.key,this.data)):this.cache.add(this.key,new o(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(h){for(var u=0;u<h.length;u++){var c=h[u].trim();if(c.substring(0,5)==="name:")return c.substring(5).trim()}return this.key},getShaderType:function(h){for(var u=0;u<h.length;u++){var c=h[u].trim();if(c.substring(0,5)==="type:")return c.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(h){for(var u={},c=0;c<h.length;c++){var d=h[c].trim();if(d.substring(0,8)==="uniform."){var v=d.indexOf(":");if(v){var g=d.substring(8,v);try{u[g]=JSON.parse(d.substring(v+1))}catch{console.warn("Invalid uniform JSON: "+g)}}}}return u},extractBlock:function(h,u){for(var c=-1,d=-1,v=-1,g=!1,m=!1,y=[],T=[],E=u;E<h.length;E++){var S=h[E].trim();if(S==="---")if(c===-1)c=E,g=!0;else{if(!g){m=!1;break}d=E,m=!(g=!1)}else g?y.push(S):m&&(T.push(S),v=E)}return g||d===-1?null:{header:y,shader:T.join(`
`),offset:v}}});s.register("glsl",function(h,u,c,d){if(Array.isArray(h))for(var v=0;v<h.length;v++)this.addFile(new l(this,h[v]));else this.addFile(new l(this,h,u,c,d));return this}),f.exports=l},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(7),o=new a({Extends:e,initialize:function(l,h,u,c){var d,v="html";n(h)&&(h=r(d=h,"key"),u=r(d,"url"),c=r(d,"xhrSettings"),v=r(d,"extension",v));var g={type:"text",cache:l.cacheManager.html,extension:v,responseType:"text",key:h,url:u,xhrSettings:c};e.call(this,l,g)},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("html",function(l,h,u){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new o(this,l[c]));else this.addFile(new o(this,l,h,u));return this}),f.exports=o},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(7),o=new a({Extends:e,initialize:function(l,h,u,c,d,v){c===void 0&&(c=512),d===void 0&&(d=512);var g,m="html";n(h)&&(h=r(g=h,"key"),u=r(g,"url"),v=r(g,"xhrSettings"),m=r(g,"extension",m),c=r(g,"width",c),d=r(g,"height",d));var y={type:"html",cache:l.textureManager,extension:m,responseType:"text",key:h,url:u,xhrSettings:v,config:{width:c,height:d}};e.call(this,l,y)},onProcess:function(){this.state=i.FILE_PROCESSING;var l=this.config.width,h=this.config.height,u=[];u.push('<svg width="'+l+'px" height="'+h+'px" viewBox="0 0 '+l+" "+h+'" xmlns="http://www.w3.org/2000/svg">'),u.push('<foreignObject width="100%" height="100%">'),u.push('<body xmlns="http://www.w3.org/1999/xhtml">'),u.push(this.xhrLoader.responseText),u.push("</body>"),u.push("</foreignObject>"),u.push("</svg>");var c=[u.join(`
`)],d=this;try{var v=new window.Blob(c,{type:"image/svg+xml;charset=utf-8"})}catch{return d.state=i.FILE_ERRORED,void d.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){e.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){e.revokeObjectURL(d.data),d.onProcessError()},e.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){var l=this.cache.addImage(this.key,this.data);this.pendingDestroy(l)}});s.register("htmlTexture",function(l,h,u,c,d){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new o(this,l[v]));else this.addFile(new o(this,l,h,u,c,d));return this}),f.exports=o},function(f,x,t){var a=t(0),i=t(8),e=t(2),s=t(71),r=t(7),n=t(61),o=t(49),l=new a({Extends:o,initialize:function(h,u,c,d,v,g,m){var y;r(u)&&(u=e(y=u,"key"),c=e(y,"url",!1)?e(y,"url"):e(y,"atlasURL"),g=e(y,"xhrSettings"),d=e(y,"path"),v=e(y,"baseURL"),m=e(y,"textureXhrSettings"));var T=new n(h,u,c,g);o.call(this,h,"multiatlas",u,[T]),this.config.path=d,this.config.baseURL=v,this.config.textureXhrSettings=m},onFileComplete:function(h){if(this.files.indexOf(h)!==-1&&(this.pending--,h.type==="json"&&h.data.hasOwnProperty("textures"))){var u=h.data.textures,c=this.config,d=this.loader,v=d.baseURL,g=d.path,m=d.prefix,y=e(c,"baseURL",this.baseURL),T=e(c,"path",this.path),E=e(c,"prefix",this.prefix),S=e(c,"textureXhrSettings");d.setBaseURL(y),d.setPath(T),d.setPrefix(E);for(var C=0;C<u.length;C++){var M,P=u[C].image,R="MA"+this.multiKeyIndex+"_"+P,L=new s(d,R,P,S);this.addToMultiFile(L),d.addFile(L),u[C].normalMap&&((M=new s(d,R,u[C].normalMap,S)).type="normalMap",L.setLink(M),this.addToMultiFile(M),d.addFile(M))}d.setBaseURL(v),d.setPath(g),d.setPrefix(m)}},addToCache:function(){if(this.isReadyToProcess()){for(var h=this.files[0],u=[],c=[],d=[],v=1;v<this.files.length;v++){var g=this.files[v];if(g.type!=="normalMap")for(var m=g.key.indexOf("_"),y=g.key.substr(m+1),T=g.data,E=0;E<h.data.textures.length;E++){var S=h.data.textures[E];if(S.image===y){c.push(T),u.push(S),g.linkFile&&d.push(g.linkFile.data);break}}}for(d.length===0&&(d=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,c,u,d),this.complete=!0,v=0;v<this.files.length;v++)this.files[v].pendingDestroy()}}});i.register("multiatlas",function(h,u,c,d,v){var g;if(Array.isArray(h))for(var m=0;m<h.length;m++)g=new l(this,h[m]),this.addFile(g.files);else g=new l(this,h,u,c,d,v),this.addFile(g.files);return this}),f.exports=l},function(f,x,t){var a=t(0),i=t(8),e=t(2),s=t(7),r=t(49),n=t(520),o=new a({Extends:r,initialize:function(l,h,u,c){var d,v="js",g=[];s(h)&&(h=e(d=h,"key"),u=e(d,"url"),c=e(d,"xhrSettings"),v=e(d,"extension",v)),Array.isArray(u)||(u=[u]);for(var m=0;m<u.length;m++){var y=new n(l,{key:h+"_"+m.toString(),url:u[m],extension:v,xhrSettings:c});y.onProcess=function(){this.onProcessComplete()},g.push(y)}r.call(this,l,"scripts",h,g)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var h=this.files[l];h.data=document.createElement("script"),h.data.language="javascript",h.data.type="text/javascript",h.data.defer=!1,h.data.text=h.xhrLoader.responseText,document.head.appendChild(h.data)}this.complete=!0}}});i.register("scripts",function(l,h,u){var c;if(Array.isArray(l))for(var d=0;d<l.length;d++)c=new o(this,l[d]),this.addFile(c.files);else c=new o(this,l,h,u),this.addFile(c.files);return this}),f.exports=o},function(f,x,t){var a=t(0),i=t(8),e=t(2),s=t(7),r=t(49),n=t(498),o=t(499),l=t(242),h=new a({Extends:r,initialize:function(u,c,d,v,g,m){var y,T,E,S=u.cacheManager.obj;s(c)?(c=e(E=c,"key"),y=new l(u,{key:c,type:"obj",cache:S,url:e(E,"url"),extension:e(E,"extension","obj"),xhrSettings:e(E,"xhrSettings"),config:{flipUV:e(E,"flipUV",g)}}),(v=e(E,"matURL"))&&(T=new l(u,{key:c,type:"mat",cache:S,url:v,extension:e(E,"matExtension","mat"),xhrSettings:e(E,"xhrSettings")}))):(y=new l(u,{key:c,url:d,type:"obj",cache:S,extension:"obj",xhrSettings:m,config:{flipUV:g}}),v&&(T=new l(u,{key:c,url:v,type:"mat",cache:S,extension:"mat",xhrSettings:m}))),r.call(this,u,"obj",c,[y,T])},addToCache:function(){var u,c,d;this.isReadyToProcess()&&(u=this.files[0],c=this.files[1],d=n(u.data,u.config.flipUV),c&&(d.materials=o(c.data)),u.cache.add(u.key,d),this.complete=!0)}});i.register("obj",function(u,c,d,v,g){var m;if(Array.isArray(u))for(var y=0;y<u.length;y++)m=new h(this,u[y]),this.addFile(m.files);else m=new h(this,u,c,d,v,g),this.addFile(m.files);return this}),f.exports=h},function(f,x,t){var a=t(0),i=t(21),e=t(8),s=t(61),r=new a({Extends:s,initialize:function(n,o,l,h,u){s.call(this,n,o,l,h,u),this.type="packfile"},onProcess:function(){this.state!==i.FILE_POPULATED&&(this.state=i.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});e.register("pack",function(n,o,l,h){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new r(this,n[u]));else this.addFile(new r(this,n,o,h,l));return this}),f.exports=r},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(7),o=new a({Extends:e,initialize:function(l,h,u,c,d,v){var g,m="js";n(h)&&(h=r(g=h,"key"),u=r(g,"url"),v=r(g,"xhrSettings"),m=r(g,"extension",m),c=r(g,"start"),d=r(g,"mapping"));var y={type:"plugin",cache:!1,extension:m,responseType:"text",key:h,url:u,xhrSettings:v,config:{start:c,mapping:d}};e.call(this,l,y),typeof u=="function"&&(this.data=u,this.state=i.FILE_POPULATED)},onProcess:function(){var l,h=this.loader.systems.plugins,u=this.config,c=r(u,"start",!1),d=r(u,"mapping",null);this.state===i.FILE_POPULATED?h.install(this.key,this.data,c,d):(this.state=i.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l=h.install(this.key,window[this.key],c,d),(c||d)&&(this.loader.systems[d]=l,this.loader.scene[d]=l)),this.onProcessComplete()}});s.register("plugin",function(l,h,u,c,d){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new o(this,l[v]));else this.addFile(new o(this,l,h,u,c,d));return this}),f.exports=o},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(7),o=new a({Extends:e,initialize:function(l,h,u,c){var d,v="js";n(h)&&(h=r(d=h,"key"),u=r(d,"url"),c=r(d,"xhrSettings"),v=r(d,"extension",v));var g={type:"text",extension:v,responseType:"text",key:h,url:u,xhrSettings:c};e.call(this,l,g)},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),h=eval;this.loader.sceneManager.add(this.key,h(l)),this.complete=!0}});s.register("sceneFile",function(l,h,u){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new o(this,l[c]));else this.addFile(new o(this,l,h,u));return this}),f.exports=o},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(7),o=new a({Extends:e,initialize:function(l,h,u,c,d,v){var g,m="js";n(h)&&(h=r(g=h,"key"),u=r(g,"url"),v=r(g,"xhrSettings"),m=r(g,"extension",m),c=r(g,"systemKey"),d=r(g,"sceneKey"));var y={type:"scenePlugin",cache:!1,extension:m,responseType:"text",key:h,url:u,xhrSettings:v,config:{systemKey:c,sceneKey:d}};e.call(this,l,y),typeof u=="function"&&(this.data=u,this.state=i.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,h=this.config,u=this.key,c=r(h,"systemKey",u),d=r(h,"sceneKey",u);this.state===i.FILE_POPULATED?l.installScenePlugin(c,this.data,d,this.loader.scene,!0):(this.state=i.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(c,window[this.key],d,this.loader.scene,!0)),this.onProcessComplete()}});s.register("scenePlugin",function(l,h,u,c,d){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new o(this,l[v]));else this.addFile(new o(this,l,h,u,c,d));return this}),f.exports=o},function(f,x,t){var a=t(0),i=t(8),e=t(71),s=new a({Extends:e,initialize:function(r,n,o,l,h){e.call(this,r,n,o,h,l),this.type="spritesheet"},addToCache:function(){var r=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(r)}});i.register("spritesheet",function(r,n,o,l){if(Array.isArray(r))for(var h=0;h<r.length;h++)this.addFile(new s(this,r[h]));else this.addFile(new s(this,r,n,o,l));return this}),f.exports=s},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(7),o=new a({Extends:e,initialize:function(l,h,u,c,d){var v,g="svg";n(h)&&(h=r(v=h,"key"),u=r(v,"url"),c=r(v,"svgConfig",{}),d=r(v,"xhrSettings"),g=r(v,"extension",g));var m={type:"svg",cache:l.textureManager,extension:g,responseType:"text",key:h,url:u,xhrSettings:d,config:{width:r(c,"width"),height:r(c,"height"),scale:r(c,"scale")}};e.call(this,l,m)},onProcess:function(){this.state=i.FILE_PROCESSING;var l=this.xhrLoader.responseText,h=[l],u=this.config.width,c=this.config.height,d=this.config.scale;t:if(u&&c||d){var v,g=new DOMParser().parseFromString(l,"text/xml").getElementsByTagName("svg")[0],m=g.hasAttribute("viewBox"),y=parseFloat(g.getAttribute("width")),T=parseFloat(g.getAttribute("height"));if(!m&&y&&T?g.setAttribute("viewBox","0  0 "+y+" "+T):!m||y||T||(y=(v=g.getAttribute("viewBox").split(/\s+|,/))[2],T=v[3]),d){if(!y||!T)break t;u=y*d,c=T*d}g.setAttribute("width",u.toString()+"px"),g.setAttribute("height",c.toString()+"px"),h=[new XMLSerializer().serializeToString(g)]}try{var E=new window.Blob(h,{type:"image/svg+xml;charset=utf-8"})}catch{return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var S=this,C=!1;this.data.onload=function(){C||e.revokeObjectURL(S.data),S.onProcessComplete()},this.data.onerror=function(){C?S.onProcessError():(C=!0,e.revokeObjectURL(S.data),S.data.src="data:image/svg+xml,"+encodeURIComponent(h.join("")))},e.createObjectURL(this.data,E,"image/svg+xml")},addToCache:function(){var l=this.cache.addImage(this.key,this.data);this.pendingDestroy(l)}});s.register("svg",function(l,h,u,c){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new o(this,l[d]));else this.addFile(new o(this,l,h,u,c));return this}),f.exports=o},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(2),n=t(7),o=t(40),l=new a({Extends:e,initialize:function(h,u,c,d){var v,g="csv";n(u)&&(u=r(v=u,"key"),c=r(v,"url"),d=r(v,"xhrSettings"),g=r(v,"extension",g));var m={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:g,responseType:"text",key:u,url:c,xhrSettings:d};e.call(this,h,m),this.tilemapFormat=o.CSV},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,h),this.pendingDestroy(h)}});s.register("tilemapCSV",function(h,u,c){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new l(this,h[d]));else this.addFile(new l(this,h,u,c));return this}),f.exports=l},function(f,x,t){var a=t(0),i=t(8),e=t(61),s=t(40),r=new a({Extends:e,initialize:function(n,o,l,h){e.call(this,n,o,l,h),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var n={format:s.WELTMEISTER,data:this.data};this.cache.add(this.key,n),this.pendingDestroy(n)}});i.register("tilemapImpact",function(n,o,l){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new r(this,n[h]));else this.addFile(new r(this,n,o,l));return this}),f.exports=r},function(f,x,t){var a=t(0),i=t(8),e=t(61),s=t(40),r=new a({Extends:e,initialize:function(n,o,l,h){e.call(this,n,o,l,h),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var n={format:s.TILED_JSON,data:this.data};this.cache.add(this.key,n),this.pendingDestroy(n)}});i.register("tilemapTiledJSON",function(n,o,l){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new r(this,n[h]));else this.addFile(new r(this,n,o,l));return this}),f.exports=r},function(f,x,t){var a=t(0),i=t(8),e=t(2),s=t(71),r=t(7),n=t(49),o=t(242),l=new a({Extends:n,initialize:function(h,u,c,d,v,g){var m,y,T=r(u)?(u=e(y=u,"key"),m=new s(h,{key:u,url:e(y,"textureURL"),extension:e(y,"textureExtension","png"),normalMap:e(y,"normalMap"),xhrSettings:e(y,"textureXhrSettings")}),new o(h,{key:u,url:e(y,"atlasURL"),extension:e(y,"atlasExtension","txt"),xhrSettings:e(y,"atlasXhrSettings")})):(m=new s(h,u,c,v),new o(h,u,d,g));m.linkFile?n.call(this,h,"unityatlas",u,[m,T,m.linkFile]):n.call(this,h,"unityatlas",u,[m,T])},addToCache:function(){var h,u,c;this.isReadyToProcess()&&(h=this.files[0],u=this.files[1],c=this.files[2]?this.files[2].data:null,this.loader.textureManager.addUnityAtlas(h.key,h.data,u.data,c),u.pendingDestroy(),this.complete=!0)}});i.register("unityAtlas",function(h,u,c,d,v){var g;if(Array.isArray(h))for(var m=0;m<h.length;m++)g=new l(this,h[m]),this.addFile(g.files);else g=new l(this,h,u,c,d,v),this.addFile(g.files);return this}),f.exports=l},function(f,x,t){var a=t(0),i=t(21),e=t(23),s=t(8),r=t(155),n=t(2),o=t(7),l=new a({Extends:e,initialize:function(h,u,c,d,v,g,m){d===void 0&&(d="loadeddata"),v===void 0&&(v=!1),g===void 0&&(g=!1),d!=="loadeddata"&&d!=="canplay"&&d!=="canplaythrough"&&(d="loadeddata");var y={type:"video",cache:h.cacheManager.video,extension:c.type,responseType:"blob",key:u,url:c.url,xhrSettings:m,config:{loadEvent:d,asBlob:v,noAudio:g}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),e.call(this,h,y)},onProcess:function(){var h,u;this.state=i.FILE_PROCESSING,this.config.asBlob?(h=this.createVideoElement(),this.data=h,(u=this).data.onloadeddata=function(){u.onProcessComplete()},this.data.onerror=function(){e.revokeObjectURL(u.data),u.onProcessError()},e.createObjectURL(h,this.xhrLoader.response,""),h.load()):this.onProcessComplete()},createVideoElement:function(){var h=document.createElement("video");return h.controls=!1,h.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(h.muted=!0,h.defaultMuted=!0,h.setAttribute("autoplay","autoplay")),h.setAttribute("playsinline","playsinline"),h.setAttribute("preload","auto"),h},onVideoLoadHandler:function(h){var u=h.target;u.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),u.removeEventListener("error",this.onErrorCallback,!0),this.data=u,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(h){var u=h.target;u&&(u.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),u.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var h,u=this.config.loadEvent;this.config.asBlob?e.prototype.load.call(this):(this.percentComplete=0,(h=this.createVideoElement()).addEventListener(u,this.onLoadCallback,!0),h.addEventListener("error",this.onErrorCallback,!0),h.src=r(this,this.loader.baseURL),h.load())}});l.create=function(h,u,c,d,v,g,m){var y=h.systems.game;o(u)&&(c=n(u,"url",[]),d=n(u,"loadEvent","loadeddata"),v=n(u,"asBlob",!1),g=n(u,"noAudio",!1),m=n(u,"xhrSettings"),u=n(u,"key"));var T=l.getVideoURL(y,c);if(T)return new l(h,u,T,d,v,g,m)},l.getVideoURL=function(h,u){Array.isArray(u)||(u=[u]);for(var c=0;c<u.length;c++){var d,v=n(u[c],"url",u[c]);if(v.indexOf("blob:")===0)return{url:v,type:""};if(d=v.indexOf("data:")===0?v.split(",")[0].match(/\/(.*?);/):v.match(/\.([a-zA-Z0-9]+)($|\?)/),d=n(u[c],"type",d?d[1]:"").toLowerCase(),h.device.video[d])return{url:v,type:d}}return null},s.register("video",function(h,u,c,d,v,g){var m;if(Array.isArray(h))for(var y=0;y<h.length;y++)(m=l.create(this,h[y]))&&this.addFile(m);else(m=l.create(this,h,u,c,d,v,g))&&this.addFile(m);return this}),f.exports=l},function(f,x,t){var a=t(0),i=t(21),e=t(149),s=t(9),r=t(95),n=t(8),o=t(2),l=t(24),h=t(20),u=t(156),c=new a({Extends:s,initialize:function(d){s.call(this);var v=d.sys.game.config,g=d.sys.settings.loader;this.scene=d,this.systems=d.sys,this.cacheManager=d.sys.cache,this.textureManager=d.sys.textures,this.sceneManager=d.sys.game.scene,n.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(o(g,"baseURL",v.loaderBaseURL)),this.setPath(o(g,"path",v.loaderPath)),this.setPrefix(o(g,"prefix",v.loaderPrefix)),this.maxParallelDownloads=o(g,"maxParallelDownloads",v.loaderMaxParallelDownloads),this.xhr=u(o(g,"responseType",v.loaderResponseType),o(g,"async",v.loaderAsync),o(g,"user",v.loaderUser),o(g,"password",v.loaderPassword),o(g,"timeout",v.loaderTimeout),o(g,"withCredentials",v.loaderWithCredentials)),this.crossOrigin=o(g,"crossOrigin",v.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new e,this.inflight=new e,this.queue=new e,this._deleteQueue=new e,this.totalFailed=0,this.totalComplete=0,this.state=i.LOADER_IDLE,this.multiKeyIndex=0,d.sys.events.once(h.BOOT,this.boot,this),d.sys.events.on(h.START,this.pluginStart,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},setBaseURL:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.baseURL=d,this},setPath:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.path=d,this},setPrefix:function(d){return d===void 0&&(d=""),this.prefix=d,this},setCORS:function(d){return this.crossOrigin=d,this},addFile:function(d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var g=d[v];this.keyExists(g)||(this.list.set(g),this.emit(r.ADD,g.key,g.type,this,g),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(d){var v=d.hasCacheConflict();return v||this.list.iterate(function(g){if(g.type===d.type&&g.key===d.key)return!(v=!0)}),!v&&this.isLoading()&&(this.inflight.iterate(function(g){if(g.type===d.type&&g.key===d.key)return!(v=!0)}),this.queue.iterate(function(g){if(g.type===d.type&&g.key===d.key)return!(v=!0)})),v},addPack:function(d,v){v&&d.hasOwnProperty(v)&&(d={packKey:d[v]});var g=0,m=this.baseURL,y=this.path,T=this.prefix;for(var E in d)if(Object.prototype.hasOwnProperty.call(d,E)){var S=d[E],C=o(S,"baseURL",m),M=o(S,"path",y),P=o(S,"prefix",T),R=o(S,"files",null),L=o(S,"defaultType","void");if(Array.isArray(R)){this.setBaseURL(C),this.setPath(M),this.setPrefix(P);for(var w=0;w<R.length;w++){var B=R[w],G=B.hasOwnProperty("type")?B.type:L;this[G]&&(this[G](B),g++)}}}return this.setBaseURL(m),this.setPath(y),this.setPrefix(T),0<g},isLoading:function(){return this.state===i.LOADER_LOADING||this.state===i.LOADER_PROCESSING},isReady:function(){return this.state===i.LOADER_IDLE||this.state===i.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=i.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(h.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===i.LOADER_LOADING&&0<this.list.size&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(d){if((d.state===i.FILE_POPULATED||d.state===i.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(d),this.list.delete(d),d.crossOrigin||(d.crossOrigin=this.crossOrigin),d.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(d,v){this.inflight&&(this.inflight.delete(d),this.updateProgress(),v?(this.totalComplete++,this.queue.set(d),this.emit(r.FILE_LOAD,d),d.onProcess()):(this.totalFailed++,this._deleteQueue.set(d),this.emit(r.FILE_LOAD_ERROR,d),this.fileProcessComplete(d)))},fileProcessComplete:function(d){this.scene&&this.systems&&this.systems.game&&!this.systems.game.pendingDestroy&&(d.state===i.FILE_ERRORED?d.multiFile&&d.multiFile.onFileFailed(d):d.state===i.FILE_COMPLETE&&(d.multiFile?d.multiFile.isReadyToProcess()&&d.multiFile.addToCache():d.addToCache()),this.queue.delete(d),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=i.LOADER_COMPLETE,this.systems.events.off(h.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(d){this._deleteQueue.set(d)},saveJSON:function(d,v){return this.save(JSON.stringify(d),v)},save:function(d,v,g){v===void 0&&(v="file.json"),g===void 0&&(g="application/json");var m=new Blob([d],{type:g}),y=URL.createObjectURL(m),T=document.createElement("a");return T.download=v,T.textContent="Download "+v,T.href=y,T.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var d=this.systems.game.config,v=this.systems.settings.loader;this.setBaseURL(o(v,"baseURL",d.loaderBaseURL)),this.setPath(o(v,"path",d.loaderPath)),this.setPrefix(o(v,"prefix",d.loaderPrefix)),this.state=i.LOADER_IDLE},shutdown:function(){this.reset(),this.state=i.LOADER_SHUTDOWN,this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=i.LOADER_DESTROYED,this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});l.register("Loader",c,"load"),f.exports=c},function(f,x,t){var a=t(62),i=t(17)(!1,i={ArcadePhysics:t(1367),Body:t(527),Collider:t(528),Components:t(243),Events:t(245),Factory:t(521),GetOverlapX:t(246),GetOverlapY:t(247),SeparateX:t(537),SeparateY:t(538),Group:t(524),Image:t(522),Sprite:t(157),StaticBody:t(539),StaticGroup:t(525),Tilemap:t(1391),World:t(526)},a);f.exports=i},function(f,x,t){var a=t(0),i=t(36),e=t(50),s=t(353),r=t(521),n=t(2),o=t(127),l=t(523),h=t(244),u=t(24),c=t(20),d=t(3),v=t(526),g=new a({initialize:function(m){this.scene=m,this.systems=m.sys,this.config=this.getConfig(),this.world,this.add,m.sys.events.once(c.BOOT,this.boot,this),m.sys.events.on(c.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new r(this.world));var m=this.systems.events;n(this.config,"customUpdate",!1)||m.on(c.UPDATE,this.world.update,this.world),m.on(c.POST_UPDATE,this.world.postUpdate,this.world),m.once(c.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(c.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(c.UPDATE,this.world.update,this.world)},getConfig:function(){var m=this.systems.game.config.physics,y=this.systems.settings.physics;return o(n(y,"arcade",{}),n(m,"arcade",{}))},overlap:function(m,y,T,E,S){return T===void 0&&(T=null),E===void 0&&(E=null),S===void 0&&(S=T),this.world.collideObjects(m,y,T,E,S,!0)},collide:function(m,y,T,E,S){return T===void 0&&(T=null),E===void 0&&(E=null),S===void 0&&(S=T),this.world.collideObjects(m,y,T,E,S,!1)},collideTiles:function(m,y,T,E,S){return this.world.collideTiles(m,y,T,E,S)},overlapTiles:function(m,y,T,E,S){return this.world.overlapTiles(m,y,T,E,S)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(m,y,T,E,S,C){E===void 0&&(E=60);var M=Math.atan2(T-m.y,y-m.x);return m.body.acceleration.setToPolar(M,E),S!==void 0&&C!==void 0&&m.body.maxVelocity.set(S,C),M},accelerateToObject:function(m,y,T,E,S){return this.accelerateTo(m,y.x,y.y,T,E,S)},closest:function(m,y){y=y||this.world.bodies.entries;for(var T=Number.MAX_VALUE,E=null,S=m.x,C=m.y,M=y.length,P=0;P<M;P++){var R,L=y[P],w=L.body||L;m!==L&&m!==w&&m!==w.gameObject&&m!==w.center&&(R=s(S,C,w.center.x,w.center.y))<T&&(E=L,T=R)}return E},furthest:function(m,y){y=y||this.world.bodies.entries;for(var T=-1,E=null,S=m.x,C=m.y,M=y.length,P=0;P<M;P++){var R,L=y[P],w=L.body||L;m!==L&&m!==w&&m!==w.gameObject&&m!==w.center&&T<(R=s(S,C,w.center.x,w.center.y))&&(E=L,T=R)}return E},moveTo:function(m,y,T,E,S){E===void 0&&(E=60),S===void 0&&(S=0);var C=Math.atan2(T-m.y,y-m.x);return 0<S&&(E=e(m.x,m.y,y,T)/(S/1e3)),m.body.velocity.setToPolar(C,E),C},moveToObject:function(m,y,T,E){return this.moveTo(m,y.x,y.y,T,E)},velocityFromAngle:function(m,y,T){return y===void 0&&(y=60),T===void 0&&(T=new d),T.setToPolar(i(m),y)},velocityFromRotation:function(m,y,T){return y===void 0&&(y=60),T===void 0&&(T=new d),T.setToPolar(m,y)},overlapRect:function(m,y,T,E,S,C){return h(this.world,m,y,T,E,S,C)},overlapCirc:function(m,y,T,E,S){return l(this.world,m,y,T,E,S)},shutdown:function(){var m;this.world&&((m=this.systems.events).off(c.UPDATE,this.world.update,this.world),m.off(c.POST_UPDATE,this.world.postUpdate,this.world),m.off(c.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null)},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});u.register("ArcadePhysics",g,"arcadePhysics"),f.exports=g},function(f,x){f.exports={setAcceleration:function(t,a){return this.body.acceleration.set(t,a),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}}},function(f,x){f.exports={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}}},function(f,x){f.exports={setBounce:function(t,a){return this.body.bounce.set(t,a),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,a,i){return this.body.setCollideWorldBounds(t,a,i),this}}},function(f,x){f.exports={setDebug:function(t,a,i){return this.debugShowBody=t,this.debugShowVelocity=a,this.debugBodyColor=i,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}}},function(f,x){f.exports={setDrag:function(t,a){return this.body.drag.set(t,a),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}}},function(f,x){var t={enableBody:function(a,i,e,s,r){return a&&this.body.reset(i,e),s&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(a,i){return a===void 0&&(a=!1),i===void 0&&(i=!1),this.body.stop(),this.body.enable=!1,a&&(this.body.gameObject.active=!1),i&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};f.exports=t},function(f,x){f.exports={setFriction:function(t,a){return this.body.friction.set(t,a),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}}},function(f,x){f.exports={setGravity:function(t,a){return this.body.gravity.set(t,a),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}}},function(f,x){var t={setImmovable:function(a){return a===void 0&&(a=!0),this.body.immovable=a,this}};f.exports=t},function(f,x){f.exports={setMass:function(t){return this.body.mass=t,this}}},function(f,x){var t={setPushable:function(a){return a===void 0&&(a=!0),this.body.pushable=a,this}};f.exports=t},function(f,x){f.exports={setOffset:function(t,a){return this.body.setOffset(t,a),this},setSize:function(t,a,i){return this.body.setSize(t,a,i),this},setBodySize:function(t,a,i){return this.body.setSize(t,a,i),this},setCircle:function(t,a,i){return this.body.setCircle(t,a,i),this}}},function(f,x){f.exports={setVelocity:function(t,a){return this.body.setVelocity(t,a),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,a){return this.body.maxVelocity.set(t,a),this}}},function(f,x){f.exports="collide"},function(f,x){f.exports="overlap"},function(f,x){f.exports="pause"},function(f,x){f.exports="resume"},function(f,x){f.exports="tilecollide"},function(f,x){f.exports="tileoverlap"},function(f,x){f.exports="worldbounds"},function(f,x){f.exports="worldstep"},function(f,x){var t,a,i,e,s,r,n,o,l,h,u,c,d,v,g,m,y,T=function(){return h&&g&&a.blocked.right?(t.processX(-y,n,!1,!0),1):l&&m&&a.blocked.left?(t.processX(y,n,!0),1):d&&m&&t.blocked.right?(a.processX(-y,o,!1,!0),2):c&&g&&t.blocked.left?(a.processX(y,o,!0),2):0},E=function(S){var C;return i&&e?(y*=.5,S===0||S===3?(t.processX(y,s),a.processX(-y,r)):(t.processX(-y,s),a.processX(y,r))):i&&!e?S===0||S===3?t.processX(y,n,!0):t.processX(-y,n,!1,!0):!i&&e?S===0||S===3?a.processX(-y,o,!1,!0):a.processX(y,o,!0):(C=.5*y,S===0?v?(t.processX(y,0,!0),a.processX(0,null,!1,!0)):d?(t.processX(C,0,!0),a.processX(-C,0,!1,!0)):(t.processX(C,a.velocity.x,!0),a.processX(-C,null,!1,!0)):S===1?u?(t.processX(0,null,!1,!0),a.processX(y,0,!0)):h?(t.processX(-C,0,!1,!0),a.processX(C,0,!0)):(t.processX(-C,null,!1,!0),a.processX(C,t.velocity.x,!0)):S===2?v?(t.processX(-y,0,!1,!0),a.processX(0,null,!0)):c?(t.processX(-C,0,!1,!0),a.processX(C,0,!0)):(t.processX(-C,a.velocity.x,!1,!0),a.processX(C,null,!0)):S===3&&(u?(t.processX(0,null,!0),a.processX(-y,0,!1,!0)):l?(t.processX(C,0,!0),a.processX(-C,0,!1,!0)):(t.processX(C,a.velocity.y,!0),a.processX(-C,null,!1,!0)))),!0};f.exports={BlockCheck:T,Check:function(){var S=t.velocity.x,C=a.velocity.x,M=Math.sqrt(C*C*a.mass/t.mass)*(0<C?1:-1),P=Math.sqrt(S*S*t.mass/a.mass)*(0<S?1:-1),R=.5*(M+P);return P-=R,s=R+(M-=R)*t.bounce.x,r=R+P*a.bounce.x,l&&m?E(0):c&&g?E(1):h&&g?E(2):!(!d||!m)&&E(3)},Set:function(S,C,M){a=C;var P=(t=S).velocity.x,R=a.velocity.x;return i=t.pushable,l=t._dx<0,h=0<t._dx,u=t._dx===0,g=Math.abs(t.right-a.x)<=Math.abs(a.right-t.x),n=R-P*t.bounce.x,e=a.pushable,c=a._dx<0,d=0<a._dx,v=a._dx===0,m=!g,o=P-R*a.bounce.x,y=Math.abs(M),T()},Run:E,RunImmovableBody1:function(S){S===1?a.velocity.x=0:g?a.processX(y,o,!0):a.processX(-y,o,!1,!0),t.moves&&(a.y+=(t.y-t.prev.y)*t.friction.y,a._dy=a.y-a.prev.y)},RunImmovableBody2:function(S){S===2?t.velocity.x=0:m?t.processX(y,n,!0):t.processX(-y,n,!1,!0),a.moves&&(t.y+=(a.y-a.prev.y)*a.friction.y,t._dy=t.y-t.prev.y)}}},function(f,x){var t,a,i,e,s,r,n,o,l,h,u,c,d,v,g,m,y,T=function(){return h&&g&&a.blocked.down?(t.processY(-y,n,!1,!0),1):l&&m&&a.blocked.up?(t.processY(y,n,!0),1):d&&m&&t.blocked.down?(a.processY(-y,o,!1,!0),2):c&&g&&t.blocked.up?(a.processY(y,o,!0),2):0},E=function(S){var C;return i&&e?(y*=.5,S===0||S===3?(t.processY(y,s),a.processY(-y,r)):(t.processY(-y,s),a.processY(y,r))):i&&!e?S===0||S===3?t.processY(y,n,!0):t.processY(-y,n,!1,!0):!i&&e?S===0||S===3?a.processY(-y,o,!1,!0):a.processY(y,o,!0):(C=.5*y,S===0?v?(t.processY(y,0,!0),a.processY(0,null,!1,!0)):d?(t.processY(C,0,!0),a.processY(-C,0,!1,!0)):(t.processY(C,a.velocity.y,!0),a.processY(-C,null,!1,!0)):S===1?u?(t.processY(0,null,!1,!0),a.processY(y,0,!0)):h?(t.processY(-C,0,!1,!0),a.processY(C,0,!0)):(t.processY(-C,null,!1,!0),a.processY(C,t.velocity.y,!0)):S===2?v?(t.processY(-y,0,!1,!0),a.processY(0,null,!0)):c?(t.processY(-C,0,!1,!0),a.processY(C,0,!0)):(t.processY(-C,a.velocity.y,!1,!0),a.processY(C,null,!0)):S===3&&(u?(t.processY(0,null,!0),a.processY(-y,0,!1,!0)):l?(t.processY(C,0,!0),a.processY(-C,0,!1,!0)):(t.processY(C,a.velocity.y,!0),a.processY(-C,null,!1,!0)))),!0};f.exports={BlockCheck:T,Check:function(){var S=t.velocity.y,C=a.velocity.y,M=Math.sqrt(C*C*a.mass/t.mass)*(0<C?1:-1),P=Math.sqrt(S*S*t.mass/a.mass)*(0<S?1:-1),R=.5*(M+P);return P-=R,s=R+(M-=R)*t.bounce.y,r=R+P*a.bounce.y,l&&m?E(0):c&&g?E(1):h&&g?E(2):!(!d||!m)&&E(3)},Set:function(S,C,M){a=C;var P=(t=S).velocity.y,R=a.velocity.y;return i=t.pushable,l=t._dy<0,h=0<t._dy,u=t._dy===0,g=Math.abs(t.bottom-a.y)<=Math.abs(a.bottom-t.y),n=R-P*t.bounce.y,e=a.pushable,c=a._dy<0,d=0<a._dy,v=a._dy===0,m=!g,o=P-R*a.bounce.y,y=Math.abs(M),T()},Run:E,RunImmovableBody1:function(S){S===1?a.velocity.y=0:g?a.processY(y,o,!0):a.processY(-y,o,!1,!0),t.moves&&(a.x+=(t.x-t.prev.x)*t.friction.x,a._dx=a.x-a.prev.x)},RunImmovableBody2:function(S){S===2?t.velocity.y=0:m?t.processY(y,n,!0):t.processY(-y,n,!1,!0),a.moves&&(t.x+=(a.x-a.prev.x)*a.friction.x,t._dx=t.x-t.prev.x)}}},function(f,x,t){var a={ProcessTileCallbacks:t(530),ProcessTileSeparationX:t(534),ProcessTileSeparationY:t(536),SeparateTile:t(532),TileCheckX:t(533),TileCheckY:t(535),TileIntersectsBody:t(248)};f.exports=a},function(f,x,t){var a=t(0),i=t(3),e=new a({initialize:function(){this.boundsCenter=new i,this.centerDiff=new i},parseBody:function(s){if(!(s=s.hasOwnProperty("body")?s.body:s).hasOwnProperty("bounds")||!s.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,n=this.centerDiff,o=s.bounds.max.x-s.bounds.min.x,l=s.bounds.max.y-s.bounds.min.y,h=o*s.centerOfMass.x,u=l*s.centerOfMass.y;return r.set(o/2,l/2),n.set(h-r.x,u-r.y),!0},getTopLeft:function(s,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(s)){var o=this.boundsCenter,l=this.centerDiff;return new i(r+o.x+l.x,n+o.y+l.y)}return!1},getTopCenter:function(s,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(s)){var o=this.boundsCenter,l=this.centerDiff;return new i(r+l.x,n+o.y+l.y)}return!1},getTopRight:function(s,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(s)){var o=this.boundsCenter,l=this.centerDiff;return new i(r-(o.x-l.x),n+o.y+l.y)}return!1},getLeftCenter:function(s,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(s)){var o=this.boundsCenter,l=this.centerDiff;return new i(r+o.x+l.x,n+l.y)}return!1},getCenter:function(s,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(s)){var o=this.centerDiff;return new i(r+o.x,n+o.y)}return!1},getRightCenter:function(s,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(s)){var o=this.boundsCenter,l=this.centerDiff;return new i(r-(o.x-l.x),n+l.y)}return!1},getBottomLeft:function(s,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(s)){var o=this.boundsCenter,l=this.centerDiff;return new i(r+o.x+l.x,n-(o.y-l.y))}return!1},getBottomCenter:function(s,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(s)){var o=this.boundsCenter,l=this.centerDiff;return new i(r+l.x,n-(o.y-l.y))}return!1},getBottomRight:function(s,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(s)){var o=this.boundsCenter,l=this.centerDiff;return new i(r-(o.x-l.x),n-(o.y-l.y))}return!1}});f.exports=e},function(f,x){function t(S,C,M,P){var R=C[0]-S[0],L=C[1]-S[1],w=P[0]-M[0],B=P[1]-M[1];if(w*L-B*R!=0){var G=(R*(M[1]-S[1])+L*(S[0]-M[0]))/(w*L-B*R),Y=(w*(S[1]-M[1])+B*(M[0]-S[0]))/(B*R-w*L);return 0<=G&&G<=1&&0<=Y&&Y<=1}}function a(S,C,M){return(C[0]-S[0])*(M[1]-S[1])-(M[0]-S[0])*(C[1]-S[1])}function i(S,C,M){return 0<a(S,C,M)}function e(S,C,M){return 0<=a(S,C,M)}function s(S,C,M){return a(S,C,M)<0}function r(S,C,M){return a(S,C,M)<=0}f.exports={decomp:function(S){var C=function M(P){for(var R=[],L=[],w=[],B=[],G=Number.MAX_VALUE,Y=0;Y<P.length;++Y)if(c(P,Y)){for(var D=0;D<P.length;++D)if(g(P,Y,D)){L=M(y(P,Y,D,B)),w=M(y(P,D,Y,B));for(var F=0;F<w.length;F++)L.push(w[F]);L.length<G&&(G=(R=L).length,R.push([h(P,Y),h(P,D)]))}}return R}(S);return 0<C.length?function M(P,R){if(R.length===0)return[P];{if(R instanceof Array&&R.length&&R[0]instanceof Array&&R[0].length===2&&R[0][0]instanceof Array){for(var L=[P],Y=0;Y<R.length;Y++)for(var G=R[Y],D=0;D<L.length;D++){var w=L[D],B=M(w,G);if(B){L.splice(D,1),L.push(B[0],B[1]);break}}return L}var G=R,Y=P.indexOf(G[0]),D=P.indexOf(G[1]);return Y!==-1&&D!==-1&&[y(P,Y,D),y(P,D,Y)]}}(S,C):[S]},quickDecomp:function S(C,M,P,R,L,w,B){w=w||100,B=B||0,L=L||25,M=M!==void 0?M:[],P=P||[],R=R||[];var G=[0,0],Y=[0,0],D=[0,0],F=0,N=0,I=0,b=0,U=0,X=0,z=0,V=[],W=[],H=C,K=C;if(K.length<3)return M;if(B++,w<B)return console.warn("quickDecomp: max level ("+w+") reached."),M;for(var Z=0;Z<C.length;++Z)if(c(H,Z)){P.push(H[Z]),F=N=Number.MAX_VALUE;for(var j=0;j<C.length;++j)i(h(H,Z-1),h(H,Z),h(H,j))&&r(h(H,Z-1),h(H,Z),h(H,j-1))&&(D=T(h(H,Z-1),h(H,Z),h(H,j),h(H,j-1)),s(h(H,Z+1),h(H,Z),D)&&(I=l(H[Z],D))<N&&(N=I,Y=D,X=j)),i(h(H,Z+1),h(H,Z),h(H,j+1))&&r(h(H,Z+1),h(H,Z),h(H,j))&&(D=T(h(H,Z+1),h(H,Z),h(H,j),h(H,j+1)),i(h(H,Z-1),h(H,Z),D)&&(I=l(H[Z],D))<F&&(F=I,G=D,U=j));if(X===(U+1)%C.length)D[0]=(Y[0]+G[0])/2,D[1]=(Y[1]+G[1])/2,R.push(D),Z<U?(u(V,H,Z,U+1),V.push(D),W.push(D),X!==0&&u(W,H,X,H.length),u(W,H,0,Z+1)):(Z!==0&&u(V,H,Z,H.length),u(V,H,0,U+1),V.push(D),W.push(D),u(W,H,X,Z+1));else{if(U<X&&(U+=C.length),b=Number.MAX_VALUE,U<X)return M;for(var j=X;j<=U;++j)e(h(H,Z-1),h(H,Z),h(H,j))&&r(h(H,Z+1),h(H,Z),h(H,j))&&(I=l(h(H,Z),h(H,j)))<b&&m(H,Z,j)&&(b=I,z=j%C.length);Z<z?(u(V,H,Z,z+1),z!==0&&u(W,H,z,K.length),u(W,H,0,Z+1)):(Z!==0&&u(V,H,Z,K.length),u(V,H,0,z+1),u(W,H,z,Z+1))}return V.length<W.length?(S(V,M,P,R,L,w,B),S(W,M,P,R,L,w,B)):(S(W,M,P,R,L,w,B),S(V,M,P,R,L,w,B)),M}return M.push(C),M},isSimple:function(S){var C,M=S;for(C=0;C<M.length-1;C++)for(var P=0;P<C-1;P++)if(t(M[C],M[C+1],M[P],M[P+1]))return!1;for(C=1;C<M.length-2;C++)if(t(M[0],M[M.length-1],M[C],M[C+1]))return!1;return!0},removeCollinearPoints:function(S,C){for(var M=0,P=S.length-1;3<S.length&&0<=P;--P)!function(R,L,w,B){{if(B){var G=n,Y=o;G[0]=L[0]-R[0],G[1]=L[1]-R[1],Y[0]=w[0]-L[0],Y[1]=w[1]-L[1];var D=G[0]*Y[0]+G[1]*Y[1],F=Math.sqrt(G[0]*G[0]+G[1]*G[1]),N=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]);return Math.acos(D/(F*N))<B}return a(R,L,w)===0}}(h(S,P-1),h(S,P),h(S,P+1),C)||(S.splice(P%S.length,1),M++);return M},removeDuplicatePoints:function(S,C){for(var M=S.length-1;1<=M;--M)for(var P=S[M],R=M-1;0<=R;--R)!function(L,w,B){return E(L[0],w[0],B)&&E(L[1],w[1],B)}(P,S[R],C)||S.splice(M,1)},makeCCW:function(S){for(var C=0,M=S,P=1;P<S.length;++P)(M[P][1]<M[C][1]||M[P][1]===M[C][1]&&M[P][0]>M[C][0])&&(C=P);return!i(h(S,C-1),h(S,C),h(S,C+1))&&(function(R){for(var L=[],w=R.length,B=0;B!==w;B++)L.push(R.pop());for(B=0;B!==w;B++)R[B]=L[B]}(S),!0)}};var n=[],o=[];function l(S,C){var M=C[0]-S[0],P=C[1]-S[1];return M*M+P*P}function h(S,C){var M=S.length;return S[C<0?C%M+M:C%M]}function u(S,C,M,P){for(var R=M;R<P;R++)S.push(C[R])}function c(S,C){return s(h(S,C-1),h(S,C),h(S,C+1))}var d=[],v=[];function g(S,C,M){var P,R,L=d,w=v;if(!e(h(S,C+1),h(S,C),h(S,M))||!r(h(S,C-1),h(S,C),h(S,M))){R=l(h(S,C),h(S,M));for(var B=0;B!==S.length;++B)if((B+1)%S.length!==C&&B!==C&&e(h(S,C),h(S,M),h(S,B+1))&&r(h(S,C),h(S,M),h(S,B))&&(L[0]=h(S,C),L[1]=h(S,M),w[0]=h(S,B),w[1]=h(S,B+1),P=function(G,Y,D){D=D||0;var F=[0,0],N=G[1][1]-G[0][1],I=G[0][0]-G[1][0],b=N*G[0][0]+I*G[0][1],U=Y[1][1]-Y[0][1],X=Y[0][0]-Y[1][0],z=U*Y[0][0]+X*Y[0][1],V=N*X-U*I;return E(V,0,D)||(F[0]=(X*b-I*z)/V,F[1]=(N*z-U*b)/V),F}(L,w),l(h(S,C),P)<R))return;return 1}}function m(S,C,M){for(var P=0;P!==S.length;++P)if(P!==C&&P!==M&&(P+1)%S.length!==C&&(P+1)%S.length!==M&&t(h(S,C),h(S,M),h(S,P),h(S,P+1)))return;return 1}function y(S,C,M,P){var R=P||[];if(R.length=0,C<M)for(var L=C;L<=M;L++)R.push(S[L]);else{for(L=0;L<=M;L++)R.push(S[L]);for(L=C;L<S.length;L++)R.push(S[L])}return R}function T(S,C,M,P,R){R=R||0;var L=C[1]-S[1],w=S[0]-C[0],B=L*S[0]+w*S[1],G=P[1]-M[1],Y=M[0]-P[0],D=G*M[0]+Y*M[1],F=L*Y-G*w;return E(F,0,R)?[0,0]:[(Y*B-w*D)/F,(L*D-G*B)/F]}function E(S,C,M){return M=M||0,Math.abs(S-C)<=M}},function(f,x,t){var a=t(86),i=t(0),e=t(591),s=t(128),r=t(592),n=t(1395),o=t(1396),l=t(1397),h=t(593),u=t(589),c=t(590),d=t(1398),v=t(64),g=new i({initialize:function(m){this.world=m,this.scene=m.scene,this.sys=m.scene.sys},rectangle:function(m,y,T,E,S){var C=a.rectangle(m,y,T,E,S);return this.world.add(C),C},trapezoid:function(m,y,T,E,S,C){var M=a.trapezoid(m,y,T,E,S,C);return this.world.add(M),M},circle:function(m,y,T,E,S){var C=a.circle(m,y,T,E,S);return this.world.add(C),C},polygon:function(m,y,T,E,S){var C=a.polygon(m,y,T,E,S);return this.world.add(C),C},fromVertices:function(m,y,T,E,S,C,M){typeof T=="string"&&(T=v.fromPath(T));var P=a.fromVertices(m,y,T,E,S,C,M);return this.world.add(P),P},fromPhysicsEditor:function(m,y,T,E,S){S===void 0&&(S=!0);var C=u.parseBody(m,y,T,E);return S&&!this.world.has(C)&&this.world.add(C),C},fromSVG:function(m,y,T,E,S,C){E===void 0&&(E=1),S===void 0&&(S={}),C===void 0&&(C=!0);for(var M=T.getElementsByTagName("path"),P=[],R=0;R<M.length;R++){var L=r.pathToVertices(M[R],30);E!==1&&v.scale(L,E,E),P.push(L)}var w=a.fromVertices(m,y,P,S);return C&&this.world.add(w),w},fromJSON:function(m,y,T,E,S){E===void 0&&(E={}),S===void 0&&(S=!0);var C=c.parseBody(m,y,T,E);return C&&S&&this.world.add(C),C},imageStack:function(m,y,T,E,S,C,M,P,R){M===void 0&&(M=0),P===void 0&&(P=0),R===void 0&&(R={});var L=this.world,w=this.sys.displayList;R.addToWorld=!1;var B=e.stack(T,E,S,C,M,P,function(G,Y){var D=new o(L,G,Y,m,y,R);return w.add(D),D.body});return L.add(B),B},stack:function(m,y,T,E,S,C,M){var P=e.stack(m,y,T,E,S,C,M);return this.world.add(P),P},pyramid:function(m,y,T,E,S,C,M){var P=e.pyramid(m,y,T,E,S,C,M);return this.world.add(P),P},chain:function(m,y,T,E,S,C){return e.chain(m,y,T,E,S,C)},mesh:function(m,y,T,E,S){return e.mesh(m,y,T,E,S)},newtonsCradle:function(m,y,T,E,S){var C=e.newtonsCradle(m,y,T,E,S);return this.world.add(C),C},car:function(m,y,T,E,S){var C=e.car(m,y,T,E,S);return this.world.add(C),C},softBody:function(m,y,T,E,S,C,M,P,R,L){var w=e.softBody(m,y,T,E,S,C,M,P,R,L);return this.world.add(w),w},joint:function(m,y,T,E,S){return this.constraint(m,y,T,E,S)},spring:function(m,y,T,E,S){return this.constraint(m,y,T,E,S)},constraint:function(m,y,T,E,S){E===void 0&&(E=1),S===void 0&&(S={}),S.bodyA=m.type==="body"?m:m.body,S.bodyB=y.type==="body"?y:y.body,isNaN(T)||(S.length=T),S.stiffness=E;var C=s.create(S);return this.world.add(C),C},worldConstraint:function(m,y,T,E){T===void 0&&(T=1),E===void 0&&(E={}),E.bodyB=m.type==="body"?m:m.body,isNaN(y)||(E.length=y),E.stiffness=T;var S=s.create(E);return this.world.add(S),S},mouseSpring:function(m){return this.pointerConstraint(m)},pointerConstraint:function(m){m===void 0&&(m={}),m.hasOwnProperty("render")||(m.render={visible:!1});var y=new d(this.scene,this.world,m);return this.world.add(y.constraint),y},image:function(m,y,T,E,S){var C=new o(this.world,m,y,T,E,S);return this.sys.displayList.add(C),C},tileBody:function(m,y){return new h(this.world,m,y)},sprite:function(m,y,T,E,S){var C=new l(this.world,m,y,T,E,S);return this.sys.displayList.add(C),this.sys.updateList.add(C),C},gameObject:function(m,y,T){return n(this.world,m,y,T)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});f.exports=g},function(f,x,t){var a=t(249),i=t(2),e=t(3);f.exports=function(s,r,n,o){n===void 0&&(n={}),o===void 0&&(o=!0);var l,h=r.x,u=r.y;return r.body={temp:!0,position:{x:h,y:u}},[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity].forEach(function(c){for(var d in c)(v=c[d]).get&&typeof v.get=="function"||v.set&&typeof v.set=="function"?Object.defineProperty(r,d,{get:c[d].get,set:c[d].set}):Object.defineProperty(r,d,{value:c[d]});var v}),r.world=s,r._tempVec2=new e(h,u),n.hasOwnProperty("type")&&n.type==="body"?r.setExistingBody(n,o):(l=(l=i(n,"shape",null))||"rectangle",n.addToWorld=o,r.setBody(l,n)),r}},function(f,x,t){var a=t(0),i=t(249),e=t(15),s=t(2),r=t(125),n=t(167),o=t(3),l=new a({Extends:r,Mixins:[i.Bounce,i.Collision,i.Force,i.Friction,i.Gravity,i.Mass,i.Sensor,i.SetBody,i.Sleep,i.Static,i.Transform,i.Velocity,n],initialize:function(h,u,c,d,v,g){e.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,v),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new o(u,c);var m=s(g,"shape",null);m?this.setBody(m,g):this.setRectangle(this.width,this.height,g),this.setPosition(u,c),this.initPipeline()}});f.exports=l},function(f,x,t){var a=t(164),i=t(0),e=t(249),s=t(15),r=t(2),n=t(167),o=t(73),l=t(3),h=new i({Extends:o,Mixins:[e.Bounce,e.Collision,e.Force,e.Friction,e.Gravity,e.Mass,e.Sensor,e.SetBody,e.Sleep,e.Static,e.Transform,e.Velocity,n],initialize:function(u,c,d,v,g,m){s.call(this,u.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(v,g),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new l(c,d);var y=r(m,"shape",null);y?this.setBody(y,m):this.setRectangle(this.width,this.height,m),this.setPosition(c,d),this.initPipeline()}});f.exports=h},function(f,x,t){var a=t(84),i=t(0),e=t(118),s=t(128),r=t(273),n=t(272),o=t(51),l=t(127),h=t(165),u=t(3),c=t(64),d=new i({initialize:function(v,g,m){m===void 0&&(m={}),this.scene=v,this.world=g,this.camera=null,this.pointer=null,this.active=!0,this.position=new u,this.body=null,this.part=null,this.constraint=s.create(l(m,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(n.BEFORE_UPDATE,this.update,this),v.sys.input.on(o.POINTER_DOWN,this.onDown,this),v.sys.input.on(o.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var g=this.position,m=this.constraint;this.camera.getWorldPoint(v.x,v.y,g);for(var y=e.allBodies(this.world.localWorld),T=0;T<y.length;T++){var E=y[T];if(!E.ignorePointer&&a.contains(E.bounds,g)&&r.canCollide(E.collisionFilter,m.collisionFilter)&&this.hitTestBody(E,g))return this.world.emit(n.DRAG_START,E,this.part,this),!0}return!1},hitTestBody:function(v,g){for(var m=this.constraint,y=v.parts.length,T=1<y?1:0;T<y;T++){var E=v.parts[T];if(c.contains(E.vertices,g))return m.pointA=g,m.pointB={x:g.x-v.position.x,y:g.y-v.position.y},m.bodyB=v,m.angleB=v.angle,h.set(v,!1),this.part=E,this.body=v,!0}return!1},update:function(){var v=this.pointer,g=this.body;if(this.active&&v)if(v.isDown||!g){if(v.isDown){if(!g&&!this.getBody(v))return;g=this.body;var m=this.position,y=this.constraint;this.camera.getWorldPoint(v.x,v.y,m),y.pointA.x=m.x,y.pointA.y=m.y,h.set(g,!1),this.world.emit(n.DRAG,g,this)}}else this.stopDrag();else g&&this.stopDrag()},stopDrag:function(){var v=this.body,g=this.constraint;g.bodyB=null,g.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(n.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(n.BEFORE_UPDATE,this.update),this.scene.sys.input.off(o.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(o.POINTER_UP,this.onUp,this)}});f.exports=d},function(f,x,t){var a={};f.exports=a;var i=t(595),e=t(32);a.name="matter-js",a.version="0.14.2",a.uses=[],a.used=[],a.use=function(){i.use(a,Array.prototype.slice.call(arguments))},a.before=function(s,r){return s=s.replace(/^Matter./,""),e.chainPathBefore(a,s,r)},a.after=function(s,r){return s=s.replace(/^Matter./,""),e.chainPathAfter(a,s,r)}},function(f,x,t){var a={};f.exports=a;var i=t(83),e=t(274),s=t(84),r=t(86),n=t(64);a.collides=function(o,l){for(var h=[],u=0;u<l.length;u++){var c=l[u];if(o!==c&&s.overlaps(c.bounds,o.bounds))for(var d=c.parts.length===1?0:1;d<c.parts.length;d++){var v=c.parts[d];if(s.overlaps(v.bounds,o.bounds)){var g=e.collides(v,o);if(g.collided){h.push(g);break}}}}return h},a.ray=function(o,l,h,u){u=u||1e-100;for(var c=i.angle(l,h),d=i.magnitude(i.sub(l,h)),v=.5*(h.x+l.x),g=.5*(h.y+l.y),m=r.rectangle(v,g,d,u,{angle:c}),y=a.collides(m,o),T=0;T<y.length;T+=1){var E=y[T];E.body=E.bodyB=E.bodyA}return y},a.region=function(o,l,h){for(var u=[],c=0;c<o.length;c++){var d=o[c],v=s.overlaps(d.bounds,l);(v&&!h||!v&&h)&&u.push(d)}return u},a.point=function(o,l){for(var h=[],u=0;u<o.length;u++){var c=o[u];if(s.contains(c.bounds,l))for(var d=c.parts.length===1?0:1;d<c.parts.length;d++){var v=c.parts[d];if(s.contains(v.bounds,l)&&n.contains(v.vertices,l)){h.push(c);break}}}return h}},function(f,x,t){var a={};f.exports=a;var i=t(596),e=t(165),s=t(599),r=t(598),n=t(1523),o=t(597),l=t(166),h=t(118),u=t(128),c=t(32),d=t(41);a.create=function(v,g){g=(g=c.isElement(v)?g:v)||{},((v=c.isElement(v)?v:null)||g.render)&&c.warn("Engine.create: engine.render is deprecated (see docs)");var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:o}},y=c.extend(m,g);return y.world=g.world||i.create(y.world),y.pairs=r.create(),y.broadphase=y.broadphase.controller.create(y.broadphase),y.metrics=y.metrics||{extended:!1},y.metrics=n.create(y.metrics),y},a.update=function(v,g,m){g=g||1e3/60,m=m||1;var y,T=v.world,E=v.timing,S=v.broadphase,C=[];E.timestamp+=g*E.timeScale;var M={timestamp:E.timestamp};l.trigger(v,"beforeUpdate",M);var P=h.allBodies(T),R=h.allConstraints(T);for(n.reset(v.metrics),v.enableSleeping&&e.update(P,E.timeScale),a._bodiesApplyGravity(P,T.gravity),a._bodiesUpdate(P,g,E.timeScale,m,T.bounds),u.preSolveAll(P),y=0;y<v.constraintIterations;y++)u.solveAll(R,E.timeScale);u.postSolveAll(P),C=S.controller?(T.isModified&&S.controller.clear(S),S.controller.update(S,P,v,T.isModified),S.pairsList):P,T.isModified&&h.setModified(T,!1,!1,!0);var L=S.detector(C,v),w=v.pairs,B=E.timestamp;for(r.update(w,L,B),r.removeOld(w,B),v.enableSleeping&&e.afterCollisions(w.list,E.timeScale),0<w.collisionStart.length&&l.trigger(v,"collisionStart",{pairs:w.collisionStart}),s.preSolvePosition(w.list),y=0;y<v.positionIterations;y++)s.solvePosition(w.list,P,E.timeScale);for(s.postSolvePosition(P),u.preSolveAll(P),y=0;y<v.constraintIterations;y++)u.solveAll(R,E.timeScale);for(u.postSolveAll(P),s.preSolveVelocity(w.list),y=0;y<v.velocityIterations;y++)s.solveVelocity(w.list,E.timeScale);return 0<w.collisionActive.length&&l.trigger(v,"collisionActive",{pairs:w.collisionActive}),0<w.collisionEnd.length&&l.trigger(v,"collisionEnd",{pairs:w.collisionEnd}),n.update(v.metrics,v),a._bodiesClearForces(P),l.trigger(v,"afterUpdate",M),v},a.merge=function(v,g){if(c.extend(v,g),g.world){v.world=g.world,a.clear(v);for(var m=h.allBodies(v.world),y=0;y<m.length;y++){var T=m[y];e.set(T,!1),T.id=c.nextId()}}},a.clear=function(v){var g=v.world;r.clear(v.pairs);var m,y=v.broadphase;y.controller&&(m=h.allBodies(g),y.controller.clear(y),y.controller.update(y,m,v,!0))},a._bodiesClearForces=function(v){for(var g=0;g<v.length;g++){var m=v[g];m.force.x=0,m.force.y=0,m.torque=0}},a._bodiesApplyGravity=function(v,g){var m=g.scale!==void 0?g.scale:.001;if((g.x!==0||g.y!==0)&&m!==0)for(var y=0;y<v.length;y++){var T=v[y];T.ignoreGravity||T.isStatic||T.isSleeping||(T.force.x+=T.mass*g.x*m*T.gravityScale.x,T.force.y+=T.mass*g.y*m*T.gravityScale.y)}},a._bodiesUpdate=function(v,g,m,y,T){for(var E=0;E<v.length;E++){var S=v[E];S.isStatic||S.isSleeping||d.update(S,g,m,y)}}},function(f,x,t){var a=t(86),i=t(41),e=t(0),s=t(32),r=t(118),n=t(1401),o=t(9),l=t(272),h=t(2),u=t(6),c=t(41),d=t(166),v=t(593),g=t(596),m=t(83),y=new e({Extends:o,initialize:function(T,E){o.call(this),this.scene=T,this.engine=n.create(E),this.localWorld=this.engine.world;var S=u(E,"gravity",null);S?this.setGravity(S.x,S.y,S.scale):S===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=u(E,"enabled",!0),this.correction=u(E,"correction",1),this.getDelta=u(E,"getDelta",this.update60Hz);var C=h(E,"runner",{}),M=h(C,"fps",!1),P=h(C,"fps",60),R=h(C,"delta",1e3/P),L=h(C,"deltaMin",1e3/P),w=h(C,"deltaMax",1e3/(.5*P));M||(P=1e3/R),this.runner={fps:P,correction:h(C,"correction",1),deltaSampleSize:h(C,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:h(C,"isFixed",!1),delta:R,deltaMin:L,deltaMax:w},this.autoUpdate=u(E,"autoUpdate",!0);var B,G,Y,D,F,N,I,b,U,X,z=u(E,"debug",!1);this.drawDebug=typeof z=="object"||z,this.debugGraphic,this.debugConfig={showAxes:h(z,"showAxes",!1),showAngleIndicator:h(z,"showAngleIndicator",!1),angleColor:h(z,"angleColor",15208787),showBroadphase:h(z,"showBroadphase",!1),broadphaseColor:h(z,"broadphaseColor",16757760),showBounds:h(z,"showBounds",!1),boundsColor:h(z,"boundsColor",16777215),showVelocity:h(z,"showVelocity",!1),velocityColor:h(z,"velocityColor",44783),showCollisions:h(z,"showCollisions",!1),collisionColor:h(z,"collisionColor",16094476),showSeparations:h(z,"showSeparations",!1),separationColor:h(z,"separationColor",16753920),showBody:h(z,"showBody",!0),showStaticBody:h(z,"showStaticBody",!0),showInternalEdges:h(z,"showInternalEdges",!1),renderFill:h(z,"renderFill",!1),renderLine:h(z,"renderLine",!0),fillColor:h(z,"fillColor",1075465),fillOpacity:h(z,"fillOpacity",1),lineColor:h(z,"lineColor",2678297),lineOpacity:h(z,"lineOpacity",1),lineThickness:h(z,"lineThickness",1),staticFillColor:h(z,"staticFillColor",857979),staticLineColor:h(z,"staticLineColor",1255396),showSleeping:h(z,"showSleeping",!1),staticBodySleepOpacity:h(z,"staticBodySleepOpacity",.7),sleepFillColor:h(z,"sleepFillColor",4605510),sleepLineColor:h(z,"sleepLineColor",10066585),showSensors:h(z,"showSensors",!0),sensorFillColor:h(z,"sensorFillColor",857979),sensorLineColor:h(z,"sensorLineColor",1255396),showPositions:h(z,"showPositions",!0),positionSize:h(z,"positionSize",4),positionColor:h(z,"positionColor",14697178),showJoint:h(z,"showJoint",!0),jointColor:h(z,"jointColor",14737474),jointLineOpacity:h(z,"jointLineOpacity",1),jointLineThickness:h(z,"jointLineThickness",2),pinSize:h(z,"pinSize",4),pinColor:h(z,"pinColor",4382944),springColor:h(z,"springColor",14697184),anchorColor:h(z,"anchorColor",15724527),anchorSize:h(z,"anchorSize",4),showConvexHulls:h(z,"showConvexHulls",!1),hullColor:h(z,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),h(E,"setBounds",!1)&&(typeof(B=E.setBounds)=="boolean"?this.setBounds():(G=h(B,"x",0),Y=h(B,"y",0),D=h(B,"width",T.sys.scale.width),F=h(B,"height",T.sys.scale.height),N=h(B,"thickness",64),I=h(B,"left",!0),b=h(B,"right",!0),U=h(B,"top",!0),X=h(B,"bottom",!0),this.setBounds(G,Y,D,F,N,I,b,U,X)))},setCompositeRenderStyle:function(T){for(var E,S,C=T.bodies,M=T.constraints,P=T.composites,R=0;R<C.length;R++)S=(E=C[R]).render,this.setBodyRenderStyle(E,S.lineColor,S.lineOpacity,S.lineThickness,S.fillColor,S.fillOpacity);for(R=0;R<M.length;R++)S=(E=M[R]).render,this.setConstraintRenderStyle(E,S.lineColor,S.lineOpacity,S.lineThickness,S.pinSize,S.anchorColor,S.anchorSize);for(R=0;R<P.length;R++)E=P[R],this.setCompositeRenderStyle(E);return this},setBodyRenderStyle:function(T,E,S,C,M,P){var R=T.render,L=this.debugConfig;return R&&(E==null&&(E=T.isStatic?L.staticLineColor:L.lineColor),S==null&&(S=L.lineOpacity),C==null&&(C=L.lineThickness),M==null&&(M=T.isStatic?L.staticFillColor:L.fillColor),P==null&&(P=L.fillOpacity),E!==!1&&(R.lineColor=E),S!==!1&&(R.lineOpacity=S),C!==!1&&(R.lineThickness=C),M!==!1&&(R.fillColor=M),P!==!1&&(R.fillOpacity=P)),this},setConstraintRenderStyle:function(T,E,S,C,M,P,R){var L,w=T.render,B=this.debugConfig;return w&&(E==null&&((L=w.type)==="line"?E=B.jointColor:L==="pin"?E=B.pinColor:L==="spring"&&(E=B.springColor)),S==null&&(S=B.jointLineOpacity),C==null&&(C=B.jointLineThickness),M==null&&(M=B.pinSize),P==null&&(P=B.anchorColor),R==null&&(R=B.anchorSize),E!==!1&&(w.lineColor=E),S!==!1&&(w.lineOpacity=S),C!==!1&&(w.lineThickness=C),M!==!1&&(w.pinSize=M),P!==!1&&(w.anchorColor=P),R!==!1&&(w.anchorSize=R)),this},setEventsProxy:function(){var T=this,E=this.engine,S=this.localWorld;this.drawDebug&&(d.on(S,"compositeModified",function(C){T.setCompositeRenderStyle(C)}),d.on(S,"beforeAdd",function(C){for(var M=[].concat(C.object),P=0;P<M.length;P++){var R=M[P],L=R.render;R.type==="body"?T.setBodyRenderStyle(R,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity):R.type==="composite"?T.setCompositeRenderStyle(R):R.type==="constraint"&&T.setConstraintRenderStyle(R,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize)}})),d.on(S,"beforeAdd",function(C){T.emit(l.BEFORE_ADD,C)}),d.on(S,"afterAdd",function(C){T.emit(l.AFTER_ADD,C)}),d.on(S,"beforeRemove",function(C){T.emit(l.BEFORE_REMOVE,C)}),d.on(S,"afterRemove",function(C){T.emit(l.AFTER_REMOVE,C)}),d.on(E,"beforeUpdate",function(C){T.emit(l.BEFORE_UPDATE,C)}),d.on(E,"afterUpdate",function(C){T.emit(l.AFTER_UPDATE,C)}),d.on(E,"collisionStart",function(C){var M,P,R=C.pairs;0<R.length&&(M=R[0].bodyA,P=R[0].bodyB),T.emit(l.COLLISION_START,C,M,P)}),d.on(E,"collisionActive",function(C){var M,P,R=C.pairs;0<R.length&&(M=R[0].bodyA,P=R[0].bodyB),T.emit(l.COLLISION_ACTIVE,C,M,P)}),d.on(E,"collisionEnd",function(C){var M,P,R=C.pairs;0<R.length&&(M=R[0].bodyA,P=R[0].bodyB),T.emit(l.COLLISION_END,C,M,P)})},setBounds:function(T,E,S,C,M,P,R,L,w){return T===void 0&&(T=0),E===void 0&&(E=0),S===void 0&&(S=this.scene.sys.scale.width),C===void 0&&(C=this.scene.sys.scale.height),M===void 0&&(M=64),P===void 0&&(P=!0),R===void 0&&(R=!0),L===void 0&&(L=!0),w===void 0&&(w=!0),this.updateWall(P,"left",T-M,E-M,M,C+2*M),this.updateWall(R,"right",T+S,E-M,M,C+2*M),this.updateWall(L,"top",T,E-M,S,M),this.updateWall(w,"bottom",T,E+C,S,M),this},updateWall:function(T,E,S,C,M,P){var R=this.walls[E];T?(R&&g.remove(this.localWorld,R),S+=M/2,C+=P/2,this.walls[E]=this.create(S,C,M,P,{isStatic:!0,friction:0,frictionStatic:0})):(R&&g.remove(this.localWorld,R),this.walls[E]=null)},createDebugGraphic:function(){var T=this.scene.sys.add.graphics({x:0,y:0});return T.setDepth(Number.MAX_VALUE),this.debugGraphic=T,this.drawDebug=!0,T},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(T,E,S){return T===void 0&&(T=0),E===void 0&&(E=1),this.localWorld.gravity.x=T,this.localWorld.gravity.y=E,S!==void 0&&(this.localWorld.gravity.scale=S),this},create:function(T,E,S,C,M){var P=a.rectangle(T,E,S,C,M);return g.add(this.localWorld,P),P},add:function(T){return g.add(this.localWorld,T),this},remove:function(T,E){Array.isArray(T)||(T=[T]);for(var S=0;S<T.length;S++){var C=T[S],M=C.body?C.body:C;r.remove(this.localWorld,M,E)}return this},removeConstraint:function(T,E){return r.remove(this.localWorld,T,E),this},convertTilemapLayer:function(T,E){var S=T.layer,C=T.getTilesWithin(0,0,S.width,S.height,{isColliding:!0});return this.convertTiles(C,E),this},convertTiles:function(T,E){if(T.length===0)return this;for(var S=0;S<T.length;S++)new v(this,T[S],E);return this},nextGroup:function(T){return c.nextGroup(T)},nextCategory:function(){return c.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(l.RESUME),this},update:function(T,E){var S,C,M,P;this.enabled&&this.autoUpdate&&(S=this.engine,C=this.runner,M=S.timing,P=this.correction,C.isFixed?E=this.getDelta(T,E):(E=T-C.timePrev||C.delta,C.timePrev=T,C.deltaHistory.push(E),C.deltaHistory=C.deltaHistory.slice(-C.deltaSampleSize),P=(E=(E=(E=Math.min.apply(null,C.deltaHistory))<C.deltaMin?C.deltaMin:E)>C.deltaMax?C.deltaMax:E)/C.delta,C.delta=E),C.timeScalePrev!==0&&(P*=M.timeScale/C.timeScalePrev),M.timeScale===0&&(P=0),C.timeScalePrev=M.timeScale,C.correction=P,C.frameCounter+=1,1e3<=T-C.counterTimestamp&&(C.fps=C.frameCounter*((T-C.counterTimestamp)/1e3),C.counterTimestamp=T,C.frameCounter=0),n.update(S,E,P))},step:function(T,E){n.update(this.engine,T,E)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(T){var E=T.hasOwnProperty("body")?T.body:T;return r.get(this.localWorld,E.id,E.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){var T,E,S,C;this.drawDebug&&(T=this.debugConfig,E=this.engine,S=this.debugGraphic,C=r.allBodies(this.localWorld),this.debugGraphic.clear(),T.showBroadphase&&E.broadphase.controller&&this.renderGrid(E.broadphase,S,T.broadphaseColor,.5),T.showBounds&&this.renderBodyBounds(C,S,T.boundsColor,.5),(T.showBody||T.showStaticBody)&&this.renderBodies(C),T.showJoint&&this.renderJoints(),(T.showAxes||T.showAngleIndicator)&&this.renderBodyAxes(C,S,T.showAxes,T.angleColor,.5),T.showVelocity&&this.renderBodyVelocity(C,S,T.velocityColor,1,2),T.showSeparations&&this.renderSeparations(E.pairs.list,S,T.separationColor),T.showCollisions&&this.renderCollisions(E.pairs.list,S,T.collisionColor))},renderGrid:function(T,E,S,C){E.lineStyle(1,S,C);for(var M=s.keys(T.buckets),P=0;P<M.length;P++){var R,L=M[P];T.buckets[L].length<2||(R=L.split(/C|R/),E.strokeRect(parseInt(R[1],10)*T.bucketWidth,parseInt(R[2],10)*T.bucketHeight,T.bucketWidth,T.bucketHeight))}return this},renderSeparations:function(T,E,S){E.lineStyle(1,S,1);for(var C=0;C<T.length;C++){var M,P,R,L,w,B,G,Y=T[C];Y.isActive&&(P=(M=Y.collision).bodyA,R=M.bodyB,L=P.position,w=R.position,B=M.penetration,G=P.isStatic||R.isStatic?1:4,R.isStatic&&(G=0),E.lineBetween(w.x,w.y,w.x-B.x*G,w.y-B.y*G),G=P.isStatic||R.isStatic?1:4,P.isStatic&&(G=0),E.lineBetween(L.x,L.y,L.x-B.x*G,L.y-B.y*G))}return this},renderCollisions:function(T,E,S){var C,M,P,R,L,w;for(E.lineStyle(1,S,.5),E.fillStyle(S,1),C=0;C<T.length;C++)if((M=T[C]).isActive)for(var B=0;B<M.activeContacts.length;B++){var G=M.activeContacts[B].vertex;E.fillRect(G.x-2,G.y-2,5,5)}for(C=0;C<T.length;C++)(M=T[C]).isActive&&(P=M.collision,0<(R=M.activeContacts).length&&(L=R[0].vertex.x,w=R[0].vertex.y,R.length===2&&(L=(R[0].vertex.x+R[1].vertex.x)/2,w=(R[0].vertex.y+R[1].vertex.y)/2),P.bodyB===P.supports[0].body||P.bodyA.isStatic?E.lineBetween(L-8*P.normal.x,w-8*P.normal.y,L,w):E.lineBetween(L+8*P.normal.x,w+8*P.normal.y,L,w)));return this},renderBodyBounds:function(T,E,S,C){E.lineStyle(1,S,C);for(var M=0;M<T.length;M++){var P=T[M];if(P.render.visible){var R=P.bounds;if(R)E.strokeRect(R.min.x,R.min.y,R.max.x-R.min.x,R.max.y-R.min.y);else for(var L=P.parts,w=1<L.length?1:0;w<L.length;w++){var B=L[w];E.strokeRect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}}return this},renderBodyAxes:function(T,E,S,C,M){E.lineStyle(1,C,M);for(var P=0;P<T.length;P++){var R,L,w,B=T[P],G=B.parts;if(B.render.visible)if(S)for(L=1<G.length?1:0;L<G.length;L++)for(R=G[L],w=0;w<R.axes.length;w++){var Y=R.axes[w];E.lineBetween(R.position.x,R.position.y,R.position.x+20*Y.x,R.position.y+20*Y.y)}else for(L=1<G.length?1:0;L<G.length;L++)for(R=G[L],w=0;w<R.axes.length;w++)E.lineBetween(R.position.x,R.position.y,(R.vertices[0].x+R.vertices[R.vertices.length-1].x)/2,(R.vertices[0].y+R.vertices[R.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(T,E,S,C,M){E.lineStyle(M,S,C);for(var P=0;P<T.length;P++){var R=T[P];R.render.visible&&E.lineBetween(R.position.x,R.position.y,R.position.x+2*(R.position.x-R.positionPrev.x),R.position.y+2*(R.position.y-R.positionPrev.y))}return this},renderBodies:function(T){for(var E=this.debugGraphic,S=this.debugConfig,C=S.showBody,M=S.showStaticBody,P=S.showSleeping,R=S.showInternalEdges,L=S.showConvexHulls,w=S.renderFill,B=S.renderLine,G=S.staticBodySleepOpacity,Y=S.sleepFillColor,D=S.sleepLineColor,F=S.hullColor,N=0;N<T.length;N++){var I,b,U,X,z,V,W=T[N];W.render.visible&&(!M&&W.isStatic||!C&&!W.isStatic||(I=W.render.lineColor,b=W.render.lineOpacity,U=W.render.lineThickness,X=W.render.fillColor,z=W.render.fillOpacity,P&&W.isSleeping&&(W.isStatic?(b*=G,z*=G):(I=D,X=Y)),w||(X=null),B||(I=null),this.renderBody(W,E,R,I,b,U,X,z),V=W.parts.length,L&&1<V&&this.renderConvexHull(W,E,F,U)))}},renderBody:function(T,E,S,C,M,P,R,L){C===void 0&&(C=null),M===void 0&&(M=null),P===void 0&&(P=1),R===void 0&&(R=null),L===void 0&&(L=null);for(var w,B,G,Y=this.debugConfig,D=Y.sensorFillColor,F=Y.sensorLineColor,N=T.parts,I=N.length,b=1<I?1:0;b<I;b++){var U=N[b],X=U.render,z=X.opacity;if(X.visible&&z!==0&&(!U.isSensor||Y.showSensors)){var V=U.circleRadius;if(E.beginPath(),U.isSensor?(R!==null&&E.fillStyle(D,L*z),C!==null&&E.lineStyle(P,F,M*z)):(R!==null&&E.fillStyle(R,L*z),C!==null&&E.lineStyle(P,C,M*z)),V)E.arc(U.position.x,U.position.y,V,0,2*Math.PI);else{var W=U.vertices,H=W.length;E.moveTo(W[0].x,W[0].y);for(var K=1;K<H;K++){var Z,j=W[K];!W[K-1].isInternal||S?E.lineTo(j.x,j.y):E.moveTo(j.x,j.y),K<H&&j.isInternal&&!S&&(Z=(K+1)%H,E.moveTo(W[Z].x,W[Z].y))}E.closePath()}R!==null&&E.fillPath(),C!==null&&E.strokePath()}}return Y.showPositions&&!T.isStatic&&(w=T.position.x,B=T.position.y,G=Math.ceil(Y.positionSize/2),E.fillStyle(Y.positionColor,1),E.fillRect(w-G,B-G,Y.positionSize,Y.positionSize)),this},renderConvexHull:function(T,E,S,C){if(C===void 0&&(C=1),1<T.parts.length){var M=T.vertices;E.lineStyle(C,S),E.beginPath(),E.moveTo(M[0].x,M[0].y);for(var P=1;P<M.length;P++)E.lineTo(M[P].x,M[P].y);E.lineTo(M[0].x,M[0].y),E.strokePath()}return this},renderJoints:function(){for(var T=this.debugGraphic,E=r.allConstraints(this.localWorld),S=0;S<E.length;S++){var C=E[S].render,M=C.lineColor,P=C.lineOpacity,R=C.lineThickness,L=C.pinSize,w=C.anchorColor,B=C.anchorSize;this.renderConstraint(E[S],T,M,P,R,L,w,B)}},renderConstraint:function(T,E,S,C,M,P,R,L){var w=T.render;if(!w.visible||!T.pointA||!T.pointB)return this;E.lineStyle(M,S,C);var B,G=T.bodyA,Y=T.bodyB,D=G?m.add(G.position,T.pointA):T.pointA;if(w.type==="pin")E.strokeCircle(D.x,D.y,P);else{if(B=Y?m.add(Y.position,T.pointB):T.pointB,E.beginPath(),E.moveTo(D.x,D.y),w.type==="spring")for(var F,N=m.sub(B,D),I=m.perp(m.normalise(N)),b=Math.ceil(s.clamp(T.length/5,12,20)),U=1;U<b;U+=1)F=U%2==0?1:-1,E.lineTo(D.x+N.x*(U/b)+I.x*F*4,D.y+N.y*(U/b)+I.y*F*4);E.lineTo(B.x,B.y)}return E.strokePath(),w.anchors&&0<L&&(E.fillStyle(R),E.fillCircle(D.x,D.y,L),E.fillCircle(B.x,B.y,L)),this},resetCollisionIDs:function(){return i._nextCollidingGroupId=1,i._nextNonCollidingGroupId=-1,i._nextCategory=1,this},shutdown:function(){d.off(this.engine),this.removeAllListeners(),g.clear(this.localWorld,!1),n.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});f.exports=y},function(f,x,t){f.exports={BasePlugin:t(540),DefaultPlugins:t(197),PluginCache:t(24),PluginManager:t(414),ScenePlugin:t(1404)}},function(f,x,t){var a=t(540),i=t(0),e=t(20),s=new i({Extends:a,initialize:function(r,n,o){a.call(this,n),this.scene=r,this.systems=r.sys,this.pluginKey=o,r.sys.events.once(e.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});f.exports=s},function(f,x,t){f.exports={Canvas:t(1406),Events:t(91),Snapshot:t(1407),WebGL:t(1408)}},function(f,x,t){f.exports={CanvasRenderer:t(368),GetBlendModes:t(370),SetTransform:t(30)}},function(f,x,t){f.exports={Canvas:t(369),WebGL:t(383)}},function(f,x,t){var a=t(107),i=t(17)(!1,i={PipelineManager:t(372),Pipelines:t(1409),RenderTarget:t(141),Utils:t(12),WebGLPipeline:t(58),WebGLRenderer:t(371),WebGLShader:t(375)},a);f.exports=i},function(f,x,t){var a=t(92),i=t(17)(!1,i={BitmapMaskPipeline:t(373),Events:t(374),GraphicsPipeline:t(376),LightPipeline:t(377),MultiPipeline:t(108),PointLightPipeline:t(378),PostFXPipeline:t(1410),RopePipeline:t(379),SinglePipeline:t(380),UtilityPipeline:t(381)},a);f.exports=i},function(f,x,t){var a=t(0),i=t(198),e=t(2),s=t(1411),r=t(382),n=t(58),o=new a({Extends:n,initialize:function(l){l.renderTarget=e(l,"renderTarget",1),l.fragShader=e(l,"fragShader",s),l.vertShader=e(l,"vertShader",r),l.attributes=e(l,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),l.batchSize=1,l.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],n.call(this,l),this.isPostFX=!0,this.gameObject,this.colorMatrix=new i,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){n.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(l){this.bindAndDraw(l)},copyFrame:function(l,h,u,c,d){this.manager.copyFrame(l,h,u,c,d)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,h,u){this.manager.drawFrame(l,h,u,this.colorMatrix)},blendFrames:function(l,h,u,c,d){this.manager.blendFrames(l,h,u,c,d)},blendFramesAdditive:function(l,h,u,c,d){this.manager.blendFramesAdditive(l,h,u,c,d)},clearFrame:function(l,h){this.manager.clearFrame(l,h)},blitFrame:function(l,h,u,c,d,v){this.manager.blitFrame(l,h,u,c,d,v)},copyFrameRect:function(l,h,u,c,d,v,g,m){this.manager.copyFrameRect(l,h,u,c,d,v,g,m)},bindAndDraw:function(l,h,u,c,d){u===void 0&&(u=!0),c===void 0&&(c=!0);var v=this.gl,g=this.renderer;this.bind(d),this.set1i("uMainSampler",0),h?(v.viewport(0,0,h.width,h.height),v.bindFramebuffer(v.FRAMEBUFFER,h.framebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,h.texture,0),u&&(c?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT))):(g.popFramebuffer(!1,!1,!1),g.currentFramebuffer||v.viewport(0,0,g.width,g.height)),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,l.texture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),h?(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,null)):g.resetTextures()}});f.exports=o},function(f,x){f.exports=["#define SHADER_NAME PHASER_POSTFX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}",""].join(`
`)},function(f,x,t){var a=t(17),i=t(201),e=a(!1,e={Center:t(403),Events:t(104),Orientation:t(404),ScaleManager:t(415),ScaleModes:t(405),Zoom:t(406)},i.CENTER);e=a(!1,e,i.ORIENTATION),e=a(!1,e,i.SCALE_MODE),e=a(!1,e,i.ZOOM),f.exports=e},function(f,x,t){var a=t(144),i=t(17)(!1,i={Events:t(20),GetPhysicsPlugins:t(419),GetScenePlugins:t(420),SceneManager:t(417),ScenePlugin:t(1414),Settings:t(421),Systems:t(204)},a);f.exports=i},function(f,x,t){var a=t(18),i=t(0),e=t(20),s=t(2),r=t(24),n=new i({initialize:function(o){this.scene=o,this.systems=o.sys,this.settings=o.sys.settings,this.key=o.sys.settings.key,this.manager=o.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,o.sys.events.once(e.BOOT,this.boot,this),o.sys.events.on(e.START,this.pluginStart,this)},boot:function(){this.systems.events.once(e.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(e.SHUTDOWN,this.shutdown,this)},start:function(o,l){return o===void 0&&(o=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",o,l),this},restart:function(o){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,o),this},transition:function(o){o===void 0&&(o={});var l=s(o,"target",!1),h=this.manager.getScene(l);if(!l||!this.checkValidTransition(h))return!1;var u=s(o,"duration",1e3);this._elapsed=0,this._target=h,this._duration=u,this._willSleep=s(o,"sleep",!1),this._willRemove=s(o,"remove",!1);var c=s(o,"onUpdate",null);c&&(this._onUpdate=c,this._onUpdateScope=s(o,"onUpdateScope",this.scene));var d=s(o,"allowInput",!1);this.settings.transitionAllowInput=d;var v=h.sys.settings;return v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=u,v.transitionAllowInput=d,s(o,"moveAbove",!1)?this.manager.moveAbove(this.key,l):s(o,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),h.sys.isSleeping()?h.sys.wake(s(o,"data")):this.manager.start(l,s(o,"data")),this.systems.events.emit(e.TRANSITION_OUT,h,u),this.systems.events.on(e.UPDATE,this.step,this),!0},checkValidTransition:function(o){return!(!o||o.sys.isActive()||o.sys.isTransitioning()||o===this.scene||this.systems.isTransitioning())},step:function(o,l){this._elapsed+=l,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var o=this._target.sys,l=this._target.sys.settings;this.systems.events.off(e.UPDATE,this.step,this),o.events.emit(e.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(o,l,h,u){return this.manager.add(o,l,h,u)},launch:function(o,l){return o&&o!==this.key&&this.manager.queueOp("start",o,l),this},run:function(o,l){return o&&o!==this.key&&this.manager.queueOp("run",o,l),this},pause:function(o,l){return o===void 0&&(o=this.key),this.manager.queueOp("pause",o,l),this},resume:function(o,l){return o===void 0&&(o=this.key),this.manager.queueOp("resume",o,l),this},sleep:function(o,l){return o===void 0&&(o=this.key),this.manager.queueOp("sleep",o,l),this},wake:function(o,l){return o===void 0&&(o=this.key),this.manager.queueOp("wake",o,l),this},switch:function(o){return o!==this.key&&this.manager.queueOp("switch",this.key,o),this},stop:function(o,l){return o===void 0&&(o=this.key),this.manager.queueOp("stop",o,l),this},setActive:function(o,l,h){l===void 0&&(l=this.key);var u=this.manager.getScene(l);return u&&u.sys.setActive(o,h),this},setVisible:function(o,l){l===void 0&&(l=this.key);var h=this.manager.getScene(l);return h&&h.sys.setVisible(o),this},isSleeping:function(o){return o===void 0&&(o=this.key),this.manager.isSleeping(o)},isActive:function(o){return o===void 0&&(o=this.key),this.manager.isActive(o)},isPaused:function(o){return o===void 0&&(o=this.key),this.manager.isPaused(o)},isVisible:function(o){return o===void 0&&(o=this.key),this.manager.isVisible(o)},swapPosition:function(o,l){return l===void 0&&(l=this.key),o!==l&&this.manager.swapPosition(o,l),this},moveAbove:function(o,l){return l===void 0&&(l=this.key),o!==l&&this.manager.moveAbove(o,l),this},moveBelow:function(o,l){return l===void 0&&(l=this.key),o!==l&&this.manager.moveBelow(o,l),this},remove:function(o){return o===void 0&&(o=this.key),this.manager.remove(o),this},moveUp:function(o){return o===void 0&&(o=this.key),this.manager.moveUp(o),this},moveDown:function(o){return o===void 0&&(o=this.key),this.manager.moveDown(o),this},bringToTop:function(o){return o===void 0&&(o=this.key),this.manager.bringToTop(o),this},sendToBack:function(o){return o===void 0&&(o=this.key),this.manager.sendToBack(o),this},get:function(o){return this.manager.getScene(o)},getIndex:function(o){return o===void 0&&(o=this.key),this.manager.getIndex(o)},shutdown:function(){var o=this.systems.events;o.off(e.SHUTDOWN,this.shutdown,this),o.off(e.POST_UPDATE,this.step,this),o.off(e.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(e.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",n,"scenePlugin"),f.exports=n},function(f,x,t){f.exports={Events:t(438),List:t(110),Map:t(102),ProcessQueue:t(211),RTree:t(531),Set:t(149),Size:t(416)}},function(f,x,t){var a=t(17),i=t(1417),e=a(!1,e={CanvasTexture:t(423),Events:t(106),FilterMode:i,Frame:t(109),Parsers:t(425),Texture:t(206),TextureManager:t(422),TextureSource:t(424)},i);f.exports=e},function(f,x){f.exports={LINEAR:0,NEAREST:1}},function(f,x,t){var a=t(17),i=t(1419),e=a(!1,e={Components:t(251),Parsers:t(1452),Formats:t(40),ImageCollection:t(576),ParseToTilemap:t(262),Tile:t(85),Tilemap:t(580),TilemapCreator:t(1459),TilemapFactory:t(1460),Tileset:t(122),TilemapLayer:t(581),Orientation:t(29),LayerData:t(120),MapData:t(121),ObjectLayer:t(572)},i.ORIENTATION);f.exports=e},function(f,x,t){var a={ORIENTATION:t(29)};f.exports=a},function(f,x,t){var a=t(26),i=t(63);f.exports=function(e,s,r,n,o,l,h,u){h===void 0&&(h=!0),e<0&&(e=0),s<0&&(s=0);for(var c=a(e,s,r,n,null,u),d=o-e,v=l-s,g=0;g<c.length;g++){var m=c[g].x+d,y=c[g].y+v;0<=m&&m<u.width&&0<=y&&y<u.height&&u.data[y][m]&&u.data[y][m].copy(c[g])}h&&i(o-1,l-1,r+2,n+2,u)}},function(f,x,t){var a=t(26),i=t(542);f.exports=function(e,s,r,n,o,l){r=r||{},Array.isArray(e)||(e=[e]);var h=l.tilemapLayer;n=n||h.scene,o=o||n.cameras.main;for(var u=a(0,0,l.width,l.height,null,l),c=[],d=0;d<u.length;d++){var v,g=u[d];e.indexOf(g.index)!==-1&&(v=h.tileToWorldXY(g.x,g.y,void 0,o,l),r.x=v.x,r.y=v.y,c.push(n.make.sprite(r)))}if(typeof s=="number")for(d=0;d<e.length;d++)i(e[d],s,0,0,l.width,l.height,l);else if(Array.isArray(s))for(d=0;d<e.length;d++)i(e[d],s[d],0,0,l.width,l.height,l);return c}},function(f,x,t){var a=t(26),i=t(63),e=t(72);f.exports=function(s,r,n,o,l,h,u){for(var c=u.collideIndexes.indexOf(s)!==-1,d=a(r,n,o,l,null,u),v=0;v<d.length;v++)d[v].index=s,e(d[v],c);h&&i(r-1,n-1,o+2,l+2,u)}},function(f,x,t){var a=t(26);f.exports=function(i,e,s,r,n,o,l,h){return a(s,r,n,o,l,h).filter(i,e)}},function(f,x){f.exports=function(t,a,i,e){a===void 0&&(a=0),i===void 0&&(i=!1);var s,r,n,o=0;if(i){for(r=e.height-1;0<=r;r--)for(s=e.width-1;0<=s;s--)if((n=e.data[r][s])&&n.index===t){if(o===a)return n;o+=1}}else for(r=0;r<e.height;r++)for(s=0;s<e.width;s++)if((n=e.data[r][s])&&n.index===t){if(o===a)return n;o+=1}return null}},function(f,x,t){var a=t(26);f.exports=function(i,e,s,r,n,o,l,h){return a(s,r,n,o,l,h).find(i,e)||null}},function(f,x,t){var a=t(26);f.exports=function(i,e,s,r,n,o,l,h){a(s,r,n,o,l,h).forEach(i,e)}},function(f,x,t){var a=t(29),i=t(544),e=t(545),s=t(547),r=t(1),n=t(548);f.exports=function(o){return o===a.ORTHOGONAL?i:o===a.HEXAGONAL?e:o===a.STAGGERED?n:o===a.ISOMETRIC?s:r}},function(f,x,t){var a=t(158),i=new(t(3));f.exports=function(e,s,r,n,o){return o.tilemapLayer.worldToTileXY(e,s,!0,i,n),a(i.x,i.y,r,o)}},function(f,x,t){function a(u,c){return s.RectangleToTriangle(c,u)}var i=t(483),e=t(26),s=t(484),r=t(1),n=t(3),o=new n,l=new n,h=new n;f.exports=function(u,c,d,v){if(u===void 0)return[];var g=r;u instanceof i.Circle?g=s.CircleToRectangle:u instanceof i.Rectangle?g=s.RectangleToRectangle:u instanceof i.Triangle?g=a:u instanceof i.Line&&(g=s.LineToRectangle),v.tilemapLayer.worldToTileXY(u.left,u.top,!0,l,d);var m=l.x,y=l.y;v.tilemapLayer.worldToTileXY(u.right,u.bottom,!0,h,d);var T=Math.ceil(h.x),E=Math.ceil(h.y),S=Math.max(T-m,1),C=Math.max(E-y,1),M=e(m,y,S,C,c,v),P=v.tileWidth,R=v.tileHeight;v.tilemapLayer&&(P*=v.tilemapLayer.scaleX,R*=v.tilemapLayer.scaleY);for(var L=[],w=new i.Rectangle(0,0,P,R),B=0;B<M.length;B++){var G=M[B];v.tilemapLayer.tileToWorldXY(G.x,G.y,o,d),w.x=o.x,w.y=o.y,g(u,w)&&L.push(G)}return L}},function(f,x,t){var a=t(29),i=t(1),e=t(253);f.exports=function(s){return s===a.ORTHOGONAL?e:i}},function(f,x,t){var a=t(29),i=t(550),e=t(551),s=t(1),r=t(552),n=t(553);f.exports=function(o){return o===a.ORTHOGONAL?n:o===a.ISOMETRIC?e:o===a.HEXAGONAL?i:o===a.STAGGERED?r:s}},function(f,x,t){var a=t(29),i=t(554),e=t(1),s=t(555),r=t(254);f.exports=function(n){return n===a.ORTHOGONAL?r:n===a.HEXAGONAL?i:n===a.STAGGERED?s:e}},function(f,x,t){var a=t(29),i=t(1),e=t(255);f.exports=function(s){return s===a.ORTHOGONAL?e:i}},function(f,x,t){var a=t(29),i=t(556),e=t(557),s=t(1),r=t(558),n=t(559);f.exports=function(o){return o===a.ORTHOGONAL?n:o===a.ISOMETRIC?e:o===a.HEXAGONAL?i:o===a.STAGGERED?r:s}},function(f,x,t){var a=t(29),i=t(560),e=t(1),s=t(561),r=t(256);f.exports=function(n){return n===a.ORTHOGONAL?r:n===a.HEXAGONAL?i:n===a.STAGGERED?s:e}},function(f,x,t){var a=t(562),i=new(t(3));f.exports=function(e,s,r,n){n.tilemapLayer.worldToTileXY(e,s,!0,i,r);var o=i.x,l=i.y;return a(o,l,n)}},function(f,x,t){var a=t(257),i=new(t(3));f.exports=function(e,s,r,n,o,l){return l.tilemapLayer.worldToTileXY(s,r,!0,i,o,l),a(e,i.x,i.y,n,l)}},function(f,x,t){var a=t(63),i=t(257);f.exports=function(e,s,r,n,o){if(n===void 0&&(n=!0),!Array.isArray(e))return null;Array.isArray(e[0])||(e=[e]);for(var l=e.length,h=e[0].length,u=0;u<l;u++)for(var c=0;c<h;c++){var d=e[u][c];i(d,s+c,r+u,!1,o)}n&&a(s-1,r-1,h+2,l+2,o)}},function(f,x,t){var a=t(26),i=t(210);f.exports=function(e,s,r,n,o,l){var h,u=a(e,s,r,n,{},l);if(!o)for(o=[],h=0;h<u.length;h++)o.indexOf(u[h].index)===-1&&o.push(u[h].index);for(h=0;h<u.length;h++)u[h].index=i(o)}},function(f,x,t){var a=t(563),i=new(t(3));f.exports=function(e,s,r,n,o,l){return l.tilemapLayer.worldToTileXY(e,s,!0,i,o,l),a(i.x,i.y,r,n,l)}},function(f,x,t){var a=t(26),i=t(397),e=new i(105,210,231,150),s=new i(243,134,48,200),r=new i(40,39,37,150);f.exports=function(n,o,l){o===void 0&&(o={});var h=o.tileColor!==void 0?o.tileColor:e,u=o.collidingTileColor!==void 0?o.collidingTileColor:s,c=o.faceColor!==void 0?o.faceColor:r,d=a(0,0,l.width,l.height,null,l);n.translateCanvas(l.tilemapLayer.x,l.tilemapLayer.y),n.scaleCanvas(l.tilemapLayer.scaleX,l.tilemapLayer.scaleY);for(var v=0;v<d.length;v++){var g=d[v],m=g.width,y=g.height,T=g.pixelX,E=g.pixelY,S=g.collides?u:h;S!==null&&(n.fillStyle(S.color,S.alpha/255),n.fillRect(T,E,m,y)),T+=1,E+=1,m-=2,y-=2,c!==null&&(n.lineStyle(1,c.color,c.alpha/255),g.faceTop&&n.lineBetween(T,E,T+m,E),g.faceRight&&n.lineBetween(T+m,E,T+m,E+y),g.faceBottom&&n.lineBetween(T,E+y,T+m,E+y),g.faceLeft&&n.lineBetween(T,E,T,E+y))}}},function(f,x,t){var a=t(72),i=t(63),e=t(160);f.exports=function(s,r,n,o,l){r===void 0&&(r=!0),n===void 0&&(n=!0),l===void 0&&(l=!0),Array.isArray(s)||(s=[s]);for(var h=0;h<s.length;h++)e(s[h],r,o);if(l)for(var u=0;u<o.height;u++)for(var c=0;c<o.width;c++){var d=o.data[u][c];d&&s.indexOf(d.index)!==-1&&a(d,r)}n&&i(0,0,o.width,o.height,o)}},function(f,x,t){var a=t(72),i=t(63),e=t(160);f.exports=function(s,r,n,o,l,h){if(n===void 0&&(n=!0),o===void 0&&(o=!0),h===void 0&&(h=!0),!(r<s)){for(var u=s;u<=r;u++)e(u,n,l);if(h)for(var c=0;c<l.height;c++)for(var d=0;d<l.width;d++){var v=l.data[c][d];v&&v.index>=s&&v.index<=r&&a(v,n)}o&&i(0,0,l.width,l.height,l)}}},function(f,x,t){var a=t(72),i=t(63),e=t(160);f.exports=function(s,r,n,o){r===void 0&&(r=!0),n===void 0&&(n=!0),Array.isArray(s)||(s=[s]);for(var l=0;l<o.height;l++)for(var h=0;h<o.width;h++){var u=o.data[l][h];u&&s.indexOf(u.index)===-1&&(a(u,r),e(u.index,r,o))}n&&i(0,0,o.width,o.height,o)}},function(f,x,t){var a=t(72),i=t(63),e=t(126);f.exports=function(s,r,n,o){r===void 0&&(r=!0),n===void 0&&(n=!0);for(var l=0;l<o.height;l++)for(var h=0;h<o.width;h++){var u=o.data[l][h];if(u){for(var c in s)if(e(u.properties,c)){var d=s[c];Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++)u.properties[c]===d[v]&&a(u,r)}}}n&&i(0,0,o.width,o.height,o)}},function(f,x,t){var a=t(72),i=t(63);f.exports=function(e,s,r){e===void 0&&(e=!0),s===void 0&&(s=!0);for(var n=0;n<r.height;n++)for(var o=0;o<r.width;o++){var l,h=r.data[n][o];h&&(l=h.getCollisionGroup())&&l.objects&&0<l.objects.length&&a(h,e)}s&&i(0,0,r.width,r.height,r)}},function(f,x){f.exports=function(t,a,i,e){if(typeof t=="number")e.callbacks[t]=a!==null?{callback:a,callbackContext:i}:void 0;else for(var s=0,r=t.length;s<r;s++)e.callbacks[t[s]]=a!==null?{callback:a,callbackContext:i}:void 0}},function(f,x,t){var a=t(26);f.exports=function(i,e,s,r,n,o,l){for(var h=a(i,e,s,r,null,l),u=0;u<h.length;u++)h[u].setCollisionCallback(n,o)}},function(f,x,t){var a=t(26),i=t(131);f.exports=function(e,s,r,n,o){var l=a(e,s,r,n,null,o),h=l.map(function(c){return c.index});i(h);for(var u=0;u<l.length;u++)l[u].index=h[u]}},function(f,x,t){var a=t(26);f.exports=function(i,e,s,r,n,o,l){for(var h=a(s,r,n,o,null,l),u=0;u<h.length;u++)h[u]&&(h[u].index===i?h[u].index=e:h[u].index===e&&(h[u].index=i))}},function(f,x,t){var a=t(26);f.exports=function(i,e,s,r,n,o){if(n){for(var l=a(i,e,s,r,null,o),h=0,u=0;u<n.length;u++)h+=n[u].weight;if(!(h<=0))for(u=0;u<l.length;u++){for(var c=Math.random()*h,d=0,v=-1,g=0;g<n.length;g++)if(c<=(d+=n[g].weight)){var m=n[g].index,v=Array.isArray(m)?m[Math.floor(Math.random()*m.length)]:m;break}l[u].index=v}}}},function(f,x,t){f.exports={FromOrientationString:t(258),Parse:t(564),Parse2DArray:t(259),ParseCSV:t(565),Impact:t(1454),Tiled:t(1455)}},function(f,x){f.exports=function(t,a){for(var i=0;i<t.length;i++){var e=t[i],s=i;if(e.name&&e.name!==""&&(s=e.name),Array.isArray(e.wangtiles)&&0<e.wangtiles.length){var r,n,o,l={},h={};if(Array.isArray(e.edgecolors))for(r=0;r<e.edgecolors.length;r++)o=1+r,(n=e.edgecolors[r]).name!==""&&(l[o]=n.name);if(Array.isArray(e.cornercolors))for(r=0;r<e.cornercolors.length;r++)o=1+r,(n=e.cornercolors[r]).name!==""&&(h[o]=n.name);if(Array.isArray(e.colors))for(r=0;r<e.colors.length;r++)o=1+r,(n=e.colors[r]).name!==""&&(l[o]=h[o]=n.name);for(var u=[l,h,l,h,l,h,l,h],c=0;c<e.wangtiles.length;c++){for(var d,v=e.wangtiles[c],g=(g=a[v.tileid]||(a[v.tileid]={})).wangid||(g.wangid={}),m=[],y=0;y<Math.min(u.length,v.wangid.length);y++)(n=v.wangid[y])!==0?(d=u[y][n])===void 0?m.push(n):m.push(d):m.push(void 0);g[s]=m}}}}},function(f,x,t){f.exports={ParseTileLayers:t(578),ParseTilesets:t(579),ParseWeltmeister:t(577)}},function(f,x,t){f.exports={AssignTileProperties:t(567),Base64Decode:t(574),BuildTilesetIndex:t(568),CreateGroupLayer:t(161),ParseGID:t(261),ParseImageLayers:t(569),ParseJSONTiled:t(566),ParseObject:t(260),ParseObjectLayers:t(570),ParseTileLayers:t(573),ParseTilesets:t(575)}},function(f,x,t){var a=t(1),i=t(1),a=t(1457),i=t(1458);f.exports={renderWebGL:a,renderCanvas:i}},function(f,x,t){var a=t(12);f.exports=function(i,e,s){var r=e.cull(s),n=r.length,o=s.alpha*e.alpha;if(!(n===0||o<=0)){var l=e.gidMap,h=i.pipelines.set(e.pipeline,e),u=a.getTintAppendFloatAlpha,c=e.scrollFactorX,d=e.scrollFactorY,v=e.x,g=e.y,m=e.scaleX,y=e.scaleY;i.pipelines.preBatch(e);for(var T=0;T<n;T++){var E,S,C,M,P,R,L,w,B,G,Y=r[T],D=l[Y.index];D&&(E=D.getTileTextureCoordinates(Y.index))!==null&&(S=D.glTexture,C=h.setTexture2D(S,e),M=D.tileWidth,P=D.tileHeight,R=E.x,L=E.y,w=.5*D.tileWidth,B=.5*D.tileHeight,G=u(Y.tint,o*Y.alpha),h.batchTexture(e,S,S.width,S.height,v+(w+Y.pixelX)*m,g+(B+Y.pixelY)*y,Y.width,Y.height,m,y,Y.rotation,Y.flipX,Y.flipY,c,d,w,B,R,L,M,P,G,G,G,G,!1,0,0,s,null,!0,C))}i.pipelines.postBatch(e)}}},function(f,x,t){var a=t(25),i=new a,e=new a,s=new a;f.exports=function(r,n,o,l){var h=n.cull(o),u=h.length,c=o.alpha*n.alpha;if(!(u===0||c<=0)){var d=i,v=e,g=s;v.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),d.copyFrom(o.matrix);var m=r.currentContext,y=n.gidMap;m.save(),l?(d.multiplyWithOffset(l,-o.scrollX*n.scrollFactorX,-o.scrollY*n.scrollFactorY),v.e=n.x,v.f=n.y,d.multiply(v,g),g.copyToContext(m)):(v.e-=o.scrollX*n.scrollFactorX,v.f-=o.scrollY*n.scrollFactorY,v.copyToContext(m)),(!r.antialias||1<n.scaleX||1<n.scaleY)&&(m.imageSmoothingEnabled=!1);for(var T=0;T<u;T++){var E,S,C,M,P,R,L=h[T],w=y[L.index];w&&(E=w.image.getSourceImage(),(S=w.getTileTextureCoordinates(L.index))!==null&&(P=.5*(C=w.tileWidth),R=.5*(M=w.tileHeight),m.save(),m.translate(L.pixelX+P,L.pixelY+R),L.rotation!==0&&m.rotate(L.rotation),(L.flipX||L.flipY)&&m.scale(L.flipX?-1:1,L.flipY?-1:1),m.globalAlpha=c*L.alpha,m.drawImage(E,S.x,S.y,C,M,-P,-R,C,M),m.restore()))}m.restore()}}},function(f,x,t){var a=t(16),i=t(262);a.register("tilemap",function(e){var s=e!==void 0?e:{};return i(this.scene,s.key,s.tileWidth,s.tileHeight,s.width,s.height,s.data,s.insertNull)})},function(f,x,t){var a=t(5),i=t(262);a.register("tilemap",function(e,s,r,n,o,l,h){return e===null&&(e=void 0),s===null&&(s=void 0),r===null&&(r=void 0),n===null&&(n=void 0),o===null&&(o=void 0),i(this.scene,e,s,r,n,o,l,h)})},function(f,x,t){f.exports={Clock:t(1462),TimerEvent:t(582)}},function(f,x,t){var a=t(0),i=t(24),e=t(20),s=t(582),r=t(93),n=new a({initialize:function(o){this.scene=o,this.systems=o.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],o.sys.events.once(e.BOOT,this.boot,this),o.sys.events.on(e.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(e.DESTROY,this.destroy,this)},start:function(){var o=this.systems.events;o.on(e.PRE_UPDATE,this.preUpdate,this),o.on(e.UPDATE,this.update,this),o.once(e.SHUTDOWN,this.shutdown,this)},addEvent:function(o){var l;return o instanceof s?(l=o,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat):l=new s(o),this._pendingInsertion.push(l),l},delayedCall:function(o,l,h,u){return this.addEvent({delay:o,callback:l,args:h,callbackScope:u})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(o){Array.isArray(o)||(o=[o]);for(var l=0;l<o.length;l++){var h=o[l];r(this._pendingRemoval,h),r(this._pendingInsertion,h),r(this._active,h)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var o=this._pendingRemoval.length,l=this._pendingInsertion.length;if(o!==0||l!==0){for(var h,u=0;u<o;u++){h=this._pendingRemoval[u];var c=this._active.indexOf(h);-1<c&&this._active.splice(c,1),h.destroy()}for(u=0;u<l;u++)h=this._pendingInsertion[u],this._active.push(h);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(o,l){if(this.now=o,!this.paused){l*=this.timeScale;for(var h=0;h<this._active.length;h++){var u,c=this._active[h];c.paused||(c.elapsed+=l*c.timeScale,c.elapsed>=c.delay&&(u=c.elapsed-c.delay,c.elapsed=c.delay,!c.hasDispatched&&c.callback&&(c.hasDispatched=!0,c.callback.apply(c.callbackScope,c.args)),0<c.repeatCount?(c.repeatCount--,c.elapsed=u,c.hasDispatched=!1):this._pendingRemoval.push(c)))}}},shutdown:function(){for(var o=0;o<this._pendingInsertion.length;o++)this._pendingInsertion[o].destroy();for(o=0;o<this._active.length;o++)this._active[o].destroy();for(o=0;o<this._pendingRemoval.length;o++)this._pendingRemoval[o].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(e.PRE_UPDATE,this.preUpdate,this),l.off(e.UPDATE,this.update,this),l.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(e.START,this.start,this),this.scene=null,this.systems=null}});i.register("Clock",n,"time"),f.exports=n},function(f,x,t){var a=t(100),i=t(17)(!1,i={Builders:t(1464),Events:t(267),TweenManager:t(1480),Tween:t(266),TweenData:t(268),Timeline:t(588)},a);f.exports=i},function(f,x,t){f.exports={GetBoolean:t(99),GetEaseFunction:t(80),GetNewValue:t(162),GetProps:t(583),GetTargets:t(263),GetTweens:t(584),GetValueOp:t(264),NumberTweenBuilder:t(585),StaggerBuilder:t(586),TimelineBuilder:t(587),TweenBuilder:t(163)}},function(f,x){f.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(f,x){f.exports="complete"},function(f,x){f.exports="loop"},function(f,x){f.exports="pause"},function(f,x){f.exports="resume"},function(f,x){f.exports="start"},function(f,x){f.exports="update"},function(f,x){f.exports="active"},function(f,x){f.exports="complete"},function(f,x){f.exports="loop"},function(f,x){f.exports="repeat"},function(f,x){f.exports="start"},function(f,x){f.exports="stop"},function(f,x){f.exports="update"},function(f,x){f.exports="yoyo"},function(f,x,t){var a=t(93),i=t(0),e=t(585),s=t(24),r=t(20),n=t(586),o=t(587),l=t(100),h=t(163),u=new i({initialize:function(c){this.scene=c,this.systems=c.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,c.sys.events.once(r.BOOT,this.boot,this),c.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var c=this.systems.events;c.on(r.PRE_UPDATE,this.preUpdate,this),c.on(r.UPDATE,this.update,this),c.once(r.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(c){return o(this,c)},timeline:function(c){var d=o(this,c);return d.paused||(this._add.push(d),this._toProcess++),d},create:function(c){return h(this,c)},add:function(c){var d=h(this,c);return this._add.push(d),this._toProcess++,d},existing:function(c){return this._add.push(c),this._toProcess++,this},addCounter:function(c){var d=e(this,c);return this._add.push(d),this._toProcess++,d},stagger:function(c,d){return n(c,d)},preUpdate:function(){if(this._toProcess!==0){for(var c,d=this._destroy,v=this._active,g=this._pending,m=0;m<d.length;m++){c=d[m];var y=v.indexOf(c);y===-1?-1<(y=g.indexOf(c))&&(c.state=l.REMOVED,g.splice(y,1)):(c.state=l.REMOVED,v.splice(y,1))}for(d.length=0,d=this._add,m=0;m<d.length;m++)(c=d[m]).state===l.PENDING_ADD&&(c.init()?(c.play(),this._active.push(c)):this._pending.push(c));d.length=0,this._toProcess=0}},update:function(c,d){var v,g=this._active;d*=this.timeScale;for(var m=0;m<g.length;m++)(v=g[m]).update(c,d)&&(this._destroy.push(v),this._toProcess++)},remove:function(c){return a(this._add,c),a(this._pending,c),a(this._active,c),a(this._destroy,c),c.state=l.REMOVED,this},makeActive:function(c){if(this._add.indexOf(c)!==-1||this._active.indexOf(c)!==-1)return this;var d=this._pending.indexOf(c);return d!==-1&&this._pending.splice(d,1),this._add.push(c),c.state=l.PENDING_ADD,this._toProcess++,this},each:function(c,d){for(var v=[null],g=1;g<arguments.length;g++)v.push(arguments[g]);for(var m in this.list)v[0]=this.list[m],c.apply(d,v)},getAllTweens:function(){for(var c=this._active,d=[],v=0;v<c.length;v++)d.push(c[v]);return d},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(c,d){d===void 0&&(d=!1);var v,g,m,y=this._active,T=[];for(Array.isArray(c)||(c=[c]),g=0;g<y.length;g++)for(v=y[g],m=0;m<c.length;m++)v.hasTarget(c[m])&&T.push(v);if(d)for(y=this._pending,g=0;g<y.length;g++)for(v=y[g],m=0;m<c.length;m++)v.hasTarget(c[m])&&T.push(v);return T},isTweening:function(c){for(var d,v=this._active,g=0;g<v.length;g++)if((d=v[g]).hasTarget(c)&&d.isPlaying())return!0;return!1},killAll:function(){for(var c=this.getAllTweens(),d=0;d<c.length;d++)c[d].stop();return this},killTweensOf:function(c){for(var d=this.getTweensOf(c),v=0;v<d.length;v++)d[v].stop();return this},pauseAll:function(){for(var c=this._active,d=0;d<c.length;d++)c[d].pause();return this},resumeAll:function(){for(var c=this._active,d=0;d<c.length;d++)c[d].resume();return this},setGlobalTimeScale:function(c){return this.timeScale=c,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var c=this.systems.events;c.off(r.PRE_UPDATE,this.preUpdate,this),c.off(r.UPDATE,this.update,this),c.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});s.register("TweenManager",u,"tweens"),f.exports=u},function(f,x,t){f.exports={Array:t(208),Base64:t(1482),Objects:t(1484),String:t(1488),NOOP:t(1)}},function(f,x,t){f.exports={ArrayBufferToBase64:t(1483),Base64ToArrayBuffer:t(433)}},function(f,x){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";f.exports=function(a,i){for(var e=new Uint8Array(a),s=e.length,r=i?"data:"+i+";base64,":"",n=0;n<s;n+=3)r+=t[e[n]>>2],r+=t[(3&e[n])<<4|e[n+1]>>4],r+=t[(15&e[n+1])<<2|e[n+2]>>6],r+=t[63&e[n+2]];return s%3==2?r=r.substring(0,r.length-1)+"=":s%3==1&&(r=r.substring(0,r.length-2)+"=="),r}},function(f,x,t){f.exports={Clone:t(77),DeepCopy:t(175),Extend:t(17),GetAdvancedValue:t(13),GetFastValue:t(2),GetMinMaxValue:t(1485),GetValue:t(6),HasAll:t(1486),HasAny:t(455),HasValue:t(126),IsPlainObject:t(7),Merge:t(127),MergeRight:t(1487),Pick:t(571),SetValue:t(478)}},function(f,x,t){var a=t(6),i=t(18);f.exports=function(e,s,r,n,o){o===void 0&&(o=r);var l=a(e,s,o);return i(l,r,n)}},function(f,x){f.exports=function(t,a){for(var i=0;i<a.length;i++)if(!t.hasOwnProperty(a[i]))return!1;return!0}},function(f,x,t){var a=t(77);f.exports=function(i,e){var s=a(i);for(var r in e)s.hasOwnProperty(r)&&(s[r]=e[r]);return s}},function(f,x,t){f.exports={Format:t(1489),Pad:t(186),RemoveAt:t(1490),Reverse:t(1491),UppercaseFirst:t(205),UUID:t(222)}},function(f,x){f.exports=function(t,a){return t.replace(/%([0-9]+)/g,function(i,e){return a[Number(e)-1]})}},function(f,x){f.exports=function(t,a){return a===0?t.slice(1):t.slice(0,a-1)+t.slice(a)}},function(f,x){f.exports=function(t){return t.split("").reverse().join("")}},function(f,x,t){f.exports={SoundManagerCreator:t(426),Events:t(70),BaseSound:t(146),BaseSoundManager:t(145),WebAudioSound:t(434),WebAudioSoundManager:t(432),HTML5AudioSound:t(429),HTML5AudioSoundManager:t(427),NoAudioSound:t(431),NoAudioSoundManager:t(430)}},function(f,x,t){f.exports={Arcade:t(1366),Matter:t(1494)}},function(f,x,t){f.exports={BodyBounds:t(1392),Components:t(249),Events:t(272),Factory:t(1394),MatterGameObject:t(1395),Image:t(1396),Matter:t(594),MatterPhysics:t(1524),PolyDecomp:t(1393),Sprite:t(1397),TileBody:t(593),PhysicsEditorParser:t(589),PhysicsJSONParser:t(590),PointerConstraint:t(1398),World:t(1402)}},function(f,x){f.exports={setBounce:function(t){return this.body.restitution=t,this}}},function(f,x){var t={setCollisionCategory:function(a){return this.body.collisionFilter.category=a,this},setCollisionGroup:function(a){return this.body.collisionFilter.group=a,this},setCollidesWith:function(a){var i=0;if(Array.isArray(a))for(var e=0;e<a.length;e++)i|=a[e];else i=a;return this.body.collisionFilter.mask=i,this},setOnCollide:function(a){return this.body.onCollideCallback=a,this},setOnCollideEnd:function(a){return this.body.onCollideEndCallback=a,this},setOnCollideActive:function(a){return this.body.onCollideActiveCallback=a,this},setOnCollideWith:function(a,i){Array.isArray(a)||(a=[a]);for(var e=0;e<a.length;e++){var s=a[e].hasOwnProperty("body")?a[e].body:a[e];this.body.setOnCollideWith(s,i)}return this}};f.exports=t},function(f,x,t){var a=t(41),i={applyForce:function(e){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,e),this},applyForceFrom:function(e,s){return a.applyForce(this.body,e,s),this},thrust:function(e){var s=this.body.angle;return this._tempVec2.set(e*Math.cos(s),e*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(e){var s=this.body.angle-Math.PI/2;return this._tempVec2.set(e*Math.cos(s),e*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(e){var s=this.body.angle+Math.PI/2;return this._tempVec2.set(e*Math.cos(s),e*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(e){var s=this.body.angle-Math.PI;return this._tempVec2.set(e*Math.cos(s),e*Math.sin(s)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};f.exports=i},function(f,x){var t={setFriction:function(a,i,e){return this.body.friction=a,i!==void 0&&(this.body.frictionAir=i),e!==void 0&&(this.body.frictionStatic=e),this},setFrictionAir:function(a){return this.body.frictionAir=a,this},setFrictionStatic:function(a){return this.body.frictionStatic=a,this}};f.exports=t},function(f,x){f.exports={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}}},function(f,x,t){var a=t(41),i=t(3),e={setMass:function(s){return a.setMass(this.body,s),this},setDensity:function(s){return a.setDensity(this.body,s),this},centerOfMass:{get:function(){return new i(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};f.exports=e},function(f,x){f.exports={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}}},function(f,x,t){var a=t(86),i=t(41),e=t(124),s=t(2),r=t(589),n=t(590),o=t(64),l={setRectangle:function(h,u,c){return this.setBody({type:"rectangle",width:h,height:u},c)},setCircle:function(h,u){return this.setBody({type:"circle",radius:h},u)},setPolygon:function(h,u,c){return this.setBody({type:"polygon",sides:u,radius:h},c)},setTrapezoid:function(h,u,c,d){return this.setBody({type:"trapezoid",width:h,height:u,slope:c},d)},setExistingBody:function(h,u){u===void 0&&(u=!0),this.body&&this.world.remove(this.body,!0),this.body=h;for(var c=0;c<h.parts.length;c++)h.parts[c].gameObject=this;var d,v,g,m,y,T,E=this;return h.destroy=function(){E.world.remove(E.body,!0),E.body.gameObject=null},u&&(this.world.has(h)&&this.world.remove(h,!0),this.world.add(h)),this._originComponent&&(d=h.render.sprite.xOffset,v=h.render.sprite.yOffset,g=h.centerOfMass.x,m=h.centerOfMass.y,e(g,.5)&&e(m,.5)?this.setOrigin(d+.5,v+.5):(y=h.centerOffset.x,T=h.centerOffset.y,this.setOrigin(d+y/this.displayWidth,v+T/this.displayHeight))),this},setBody:function(h,u){if(!h)return this;typeof h=="string"&&(h={type:h});var c=s(h,"type","rectangle"),d=s(h,"x",this._tempVec2.x),v=s(h,"y",this._tempVec2.y),g=s(h,"width",this.width),m=s(h,"height",this.height);switch(c){case"rectangle":E=a.rectangle(d,v,g,m,u);break;case"circle":var y=s(h,"radius",Math.max(g,m)/2),T=s(h,"maxSides",25),E=a.circle(d,v,y,u,T);break;case"trapezoid":var S=s(h,"slope",.5);E=a.trapezoid(d,v,g,m,S,u);break;case"polygon":var C=s(h,"sides",5),M=s(h,"radius",Math.max(g,m)/2);E=a.polygon(d,v,C,M,u);break;case"fromVertices":case"fromVerts":var P,R,L,w=s(h,"verts",null);w&&(typeof w=="string"&&(w=o.fromPath(w)),E=this.body&&!this.body.hasOwnProperty("temp")?(i.setVertices(this.body,w),this.body):(P=s(h,"flagInternal",!1),R=s(h,"removeCollinear",.01),L=s(h,"minimumArea",10),a.fromVertices(d,v,w,u,P,R,L)));break;case"fromPhysicsEditor":E=r.parseBody(d,v,h,u);break;case"fromPhysicsTracer":E=n.parseBody(d,v,h,u)}return E&&this.setExistingBody(E,h.addToWorld),this}};f.exports=l},function(f,x,t){var a=t(272),i=t(165),e=t(166),s={setToSleep:function(){return i.set(this.body,!0),this},setAwake:function(){return i.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,n){return this.setSleepStartEvent(r),this.setSleepEndEvent(n),this},setSleepStartEvent:function(r){var n;return r?(n=this.world,e.on(this.body,"sleepStart",function(o){n.emit(a.SLEEP_START,o,this)})):e.off(this.body,"sleepStart"),this},setSleepEndEvent:function(r){var n;return r?(n=this.world,e.on(this.body,"sleepEnd",function(o){n.emit(a.SLEEP_END,o,this)})):e.off(this.body,"sleepEnd"),this}};f.exports=s},function(f,x){f.exports="afteradd"},function(f,x){f.exports="afterremove"},function(f,x){f.exports="afterupdate"},function(f,x){f.exports="beforeadd"},function(f,x){f.exports="beforeremove"},function(f,x){f.exports="beforeupdate"},function(f,x){f.exports="collisionactive"},function(f,x){f.exports="collisionend"},function(f,x){f.exports="collisionstart"},function(f,x){f.exports="dragend"},function(f,x){f.exports="drag"},function(f,x){f.exports="dragstart"},function(f,x){f.exports="pause"},function(f,x){f.exports="resume"},function(f,x){f.exports="sleepend"},function(f,x){f.exports="sleepstart"},function(f,x,t){var a=t(41),i={setStatic:function(e){return a.setStatic(this.body,e),this},isStatic:function(){return this.body.isStatic}};f.exports=i},function(f,x,t){var a=t(41),i=t(14),e=t(269),s=t(270),r={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),a.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(n){var o=1/this._scaleX,l=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=4,a.scale(this.body,o,l),a.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var o=1/this._scaleX,l=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=4,a.scale(this.body,o,l),a.scale(this.body,this._scaleX,n)}},angle:{get:function(){return s(this.body.angle*i.RAD_TO_DEG)},set:function(n){this.rotation=s(n)*i.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=e(n),a.setAngle(this.body,this._rotation)}},setPosition:function(n,o){return n===void 0&&(n=0),o===void 0&&(o=n),this._tempVec2.set(n,o),a.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=e(n),a.setAngle(this.body,n),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,a.setAngle(this.body,this.rotation),this},setScale:function(n,o,l){n===void 0&&(n=1),o===void 0&&(o=n);var h=1/this._scaleX,u=1/this._scaleY;return this._scaleX=n,this._scaleY=o,a.scale(this.body,h,u,l),a.scale(this.body,n,o,l),this}};f.exports=r},function(f,x,t){var a=t(41),i={setAngularVelocity:function(e){return a.setAngularVelocity(this.body,e),this},setVelocityX:function(e){return this._tempVec2.set(e,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(e){return this._tempVec2.set(this.body.velocity.x,e),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(e,s){return this._tempVec2.set(e,s),a.setVelocity(this.body,this._tempVec2),this}};f.exports=i},function(f,x,t){var a={};f.exports=a;var i=t(118),e=t(32);a.create=function(s){return e.extend({extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0},!1,s)},a.reset=function(s){s.extended&&(s.narrowDetections=0,s.narrowphaseTests=0,s.narrowReuse=0,s.narrowReuseCount=0,s.midphaseTests=0,s.broadphaseTests=0,s.narrowEff=0,s.midEff=0,s.broadEff=0,s.collisions=0,s.buckets=0,s.pairs=0,s.bodies=0)},a.update=function(s,r){var n,o;s.extended&&(n=r.world,o=i.allBodies(n),s.collisions=s.narrowDetections,s.pairs=r.pairs.list.length,s.bodies=o.length,s.midEff=(s.narrowDetections/(s.midphaseTests||1)).toFixed(2),s.narrowEff=(s.narrowDetections/(s.narrowphaseTests||1)).toFixed(2),s.broadEff=(1-s.broadphaseTests/(o.length||1)).toFixed(2),s.narrowReuse=(s.narrowReuseCount/(s.narrowphaseTests||1)).toFixed(2))}},function(f,x,t){var a=t(123),i=t(271),e=t(86),s=t(41),r=t(1392),n=t(84),o=t(0),l=t(118),h=t(591),u=t(128),c=t(273),d=t(50),v=t(1394),g=t(2),m=t(6),y=t(597),T=t(1525),E=t(1526),S=t(1399),C=t(1527),M=t(127),P=t(250),R=t(598),L=t(595),w=t(24),B=t(1400),G=t(599),Y=t(274),D=t(20),F=t(592),N=t(83),I=t(64),b=t(1402),U=new o({initialize:function(X){this.scene=X,this.systems=X.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=s,this.composite=l,this.detector=c,this.grid=y,this.pair=P,this.pairs=R,this.query=B,this.resolver=G,this.sat=Y,this.constraint=u,this.bodies=e,this.composites=h,this.axes=i,this.bounds=n,this.svg=F,this.vector=N,this.vertices=I,this.verts=I,this._tempVec2=N.create(),m(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),m(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),m(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),G._restingThresh=m(this.config,"restingThresh",4),G._restingThreshTangent=m(this.config,"restingThreshTangent",6),G._positionDampen=m(this.config,"positionDampen",.9),G._positionWarming=m(this.config,"positionWarming",.8),G._frictionNormalMultiplier=m(this.config,"frictionNormalMultiplier",5),X.sys.events.once(D.BOOT,this.boot,this),X.sys.events.on(D.START,this.start,this)},boot:function(){this.world=new b(this.scene,this.config),this.add=new v(this.world),this.bodyBounds=new r,this.systems.events.once(D.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new b(this.scene,this.config),this.add=new v(this.world));var X=this.systems.events;X.on(D.UPDATE,this.world.update,this.world),X.on(D.POST_UPDATE,this.world.postUpdate,this.world),X.once(D.SHUTDOWN,this.shutdown,this)},getConfig:function(){var X=this.systems.game.config.physics,z=this.systems.settings.physics;return M(g(z,"matter",{}),g(X,"matter",{}))},enableAttractorPlugin:function(){return L.register(T),L.use(S,T),this},enableWrapPlugin:function(){return L.register(C),L.use(S,C),this},enableCollisionEventsPlugin:function(){return L.register(E),L.use(S,E),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(X,z){this.world.step(X,z)},containsPoint:function(X,z,V){X=this.getMatterBodies(X);var W=N.create(z,V);return 0<B.point(X,W).length},intersectPoint:function(X,z,V){V=this.getMatterBodies(V);var W=N.create(X,z),H=[];return B.point(V,W).forEach(function(K){H.indexOf(K)===-1&&H.push(K)}),H},intersectRect:function(X,z,V,W,H,K){H===void 0&&(H=!1),K=this.getMatterBodies(K);var Z={min:{x:X,y:z},max:{x:X+V,y:z+W}},j=[];return B.region(K,Z,H).forEach(function(k){j.indexOf(k)===-1&&j.push(k)}),j},intersectRay:function(X,z,V,W,H,K){H===void 0&&(H=1),K=this.getMatterBodies(K);for(var Z=[],j=B.ray(K,N.create(X,z),N.create(V,W),H),k=0;k<j.length;k++)Z.push(j[k].body);return Z},intersectBody:function(X,z){z=this.getMatterBodies(z);for(var V=[],W=B.collides(X,z),H=0;H<W.length;H++){var K=W[H];K.bodyA===X?V.push(K.bodyB):V.push(K.bodyA)}return V},overlap:function(X,z,V,W,H){V===void 0&&(V=null),W===void 0&&(W=null),H===void 0&&(H=V),Array.isArray(X)||(X=[X]),X=this.getMatterBodies(X),z=this.getMatterBodies(z);for(var K=!1,Z=0;Z<X.length;Z++)for(var j=X[Z],k=B.collides(j,z),J=0;J<k.length;J++){var q=k[J],_=q.bodyA.id===j.id?q.bodyB:q.bodyA;if(!W||W.call(H,j,_,q)){if(K=!0,V)V.call(H,j,_,q);else if(!W)return!0}}return K},setCollisionCategory:function(X,z){return(X=this.getMatterBodies(X)).forEach(function(V){V.collisionFilter.category=z}),this},setCollisionGroup:function(X,z){return(X=this.getMatterBodies(X)).forEach(function(V){V.collisionFilter.group=z}),this},setCollidesWith:function(X,z){X=this.getMatterBodies(X);var V=0;if(Array.isArray(z))for(var W=0;W<z.length;W++)V|=z[W];else V=z;return X.forEach(function(H){H.collisionFilter.mask=V}),this},getMatterBodies:function(X){if(!X)return this.world.getAllBodies();Array.isArray(X)||(X=[X]);for(var z=[],V=0;V<X.length;V++){var W=X[V].hasOwnProperty("body")?X[V].body:X[V];z.push(W)}return z},setVelocity:function(X,z,V){X=this.getMatterBodies(X);var W=this._tempVec2;return W.x=z,W.y=V,X.forEach(function(H){s.setVelocity(H,W)}),this},setVelocityX:function(X,z){X=this.getMatterBodies(X);var V=this._tempVec2;return V.x=z,X.forEach(function(W){V.y=W.velocity.y,s.setVelocity(W,V)}),this},setVelocityY:function(X,z){X=this.getMatterBodies(X);var V=this._tempVec2;return V.y=z,X.forEach(function(W){V.x=W.velocity.x,s.setVelocity(W,V)}),this},setAngularVelocity:function(X,z){return(X=this.getMatterBodies(X)).forEach(function(V){s.setAngularVelocity(V,z)}),this},applyForce:function(X,z){X=this.getMatterBodies(X);var V=this._tempVec2;return X.forEach(function(W){V.x=W.position.x,V.y=W.position.y,s.applyForce(W,V,z)}),this},applyForceFromPosition:function(X,z,V,W){X=this.getMatterBodies(X);var H=this._tempVec2;return X.forEach(function(K){W===void 0&&(W=K.angle),H.x=V*Math.cos(W),H.y=V*Math.sin(W),s.applyForce(K,z,H)}),this},applyForceFromAngle:function(X,z,V){X=this.getMatterBodies(X);var W=this._tempVec2;return X.forEach(function(H){V===void 0&&(V=H.angle),W.x=z*Math.cos(V),W.y=z*Math.sin(V),s.applyForce(H,{x:H.position.x,y:H.position.y},W)}),this},getConstraintLength:function(X){var z=X.pointA.x,V=X.pointA.y,W=X.pointB.x,H=X.pointB.y;return X.bodyA&&(z+=X.bodyA.position.x,V+=X.bodyA.position.y),X.bodyB&&(W+=X.bodyB.position.x,H+=X.bodyB.position.y),d(z,V,W,H)},alignBody:function(X,z,V,W){var H;switch(X=X.hasOwnProperty("body")?X.body:X,W){case a.TOP_LEFT:case a.LEFT_TOP:H=this.bodyBounds.getTopLeft(X,z,V);break;case a.TOP_CENTER:H=this.bodyBounds.getTopCenter(X,z,V);break;case a.TOP_RIGHT:case a.RIGHT_TOP:H=this.bodyBounds.getTopRight(X,z,V);break;case a.LEFT_CENTER:H=this.bodyBounds.getLeftCenter(X,z,V);break;case a.CENTER:H=this.bodyBounds.getCenter(X,z,V);break;case a.RIGHT_CENTER:H=this.bodyBounds.getRightCenter(X,z,V);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:H=this.bodyBounds.getBottomLeft(X,z,V);break;case a.BOTTOM_CENTER:H=this.bodyBounds.getBottomCenter(X,z,V);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:H=this.bodyBounds.getBottomRight(X,z,V)}return H&&s.setPosition(X,H),this},shutdown:function(){var X=this.systems.events;this.world&&(X.off(D.UPDATE,this.world.update,this.world),X.off(D.POST_UPDATE,this.world.postUpdate,this.world)),X.off(D.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(D.START,this.start,this),this.scene=null,this.systems=null}});w.register("MatterPhysics",U,"matterPhysics"),f.exports=U},function(f,x,t){var a=t(594),i={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Body.create",function(){i.Body.init(this)}),e.before("Engine.update",function(s){i.Engine.update(s)})},Body:{init:function(e){e.plugin.attractors=e.plugin.attractors||[]}},Engine:{update:function(e){for(var s=a.Composite.allBodies(e.world),r=0;r<s.length;r++){var n=s[r],o=n.plugin.attractors;if(o&&0<o.length)for(var l=0;l<s.length;l++){var h=s[l];if(r!==l)for(var u=0;u<o.length;u++){var c=o[u],d=c;a.Common.isFunction(c)&&(d=c(n,h)),d&&a.Body.applyForce(h,h.position,d)}}}}},Attractors:{gravityConstant:.001,gravity:function(e,s){var r=a.Vector.sub(s.position,e.position),n=a.Vector.magnitudeSquared(r)||1e-4,o=a.Vector.normalise(r),l=-i.Attractors.gravityConstant*(e.mass*s.mass/n),h=a.Vector.mult(o,l);a.Body.applyForce(e,e.position,a.Vector.neg(h)),a.Body.applyForce(s,s.position,h)}}};f.exports=i},function(f,x){f.exports={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(a){a.pairs.map(function(i){var e=i.bodyA,s=i.bodyB;e.gameObject&&e.gameObject.emit("collide",e,s,i),s.gameObject&&s.gameObject.emit("collide",s,e,i),t.Events.trigger(e,"onCollide",{pair:i}),t.Events.trigger(s,"onCollide",{pair:i}),e.onCollideCallback&&e.onCollideCallback(i),s.onCollideCallback&&s.onCollideCallback(i),e.onCollideWith[s.id]&&e.onCollideWith[s.id](s,i),s.onCollideWith[e.id]&&s.onCollideWith[e.id](e,i)})}),t.Events.on(this,"collisionActive",function(a){a.pairs.map(function(i){var e=i.bodyA,s=i.bodyB;e.gameObject&&e.gameObject.emit("collideActive",e,s,i),s.gameObject&&s.gameObject.emit("collideActive",s,e,i),t.Events.trigger(e,"onCollideActive",{pair:i}),t.Events.trigger(s,"onCollideActive",{pair:i}),e.onCollideActiveCallback&&e.onCollideActiveCallback(i),s.onCollideActiveCallback&&s.onCollideActiveCallback(i)})}),t.Events.on(this,"collisionEnd",function(a){a.pairs.map(function(i){var e=i.bodyA,s=i.bodyB;e.gameObject&&e.gameObject.emit("collideEnd",e,s,i),s.gameObject&&s.gameObject.emit("collideEnd",s,e,i),t.Events.trigger(e,"onCollideEnd",{pair:i}),t.Events.trigger(s,"onCollideEnd",{pair:i}),e.onCollideEndCallback&&e.onCollideEndCallback(i),s.onCollideEndCallback&&s.onCollideEndCallback(i)})})})}}},function(f,x,t){var a=t(594),i={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Engine.update",function(){i.Engine.update(this)})},Engine:{update:function(e){for(var s=e.world,r=a.Composite.allBodies(s),n=a.Composite.allComposites(s),o=0;o<r.length;o+=1){var l=r[o];l.plugin.wrap&&i.Body.wrap(l,l.plugin.wrap)}for(o=0;o<n.length;o+=1){var h=n[o];h.plugin.wrap&&i.Composite.wrap(h,h.plugin.wrap)}}},Bounds:{wrap:function(e,s){var r=null,n=null;if(s.min.x!==void 0&&s.max.x!==void 0&&(e.min.x>s.max.x?r=s.min.x-e.max.x:e.max.x<s.min.x&&(r=s.max.x-e.min.x)),s.min.y!==void 0&&s.max.y!==void 0&&(e.min.y>s.max.y?n=s.min.y-e.max.y:e.max.y<s.min.y&&(n=s.max.y-e.min.y)),r!==null||n!==null)return{x:r||0,y:n||0}}},Body:{wrap:function(e,s){var r=i.Bounds.wrap(e.bounds,s);return r&&a.Body.translate(e,r),r}},Composite:{bounds:function(e){for(var s=a.Composite.allBodies(e),r=[],n=0;n<s.length;n+=1){var o=s[n];r.push(o.bounds.min,o.bounds.max)}return a.Bounds.create(r)},wrap:function(e,s){var r=i.Bounds.wrap(i.Composite.bounds(e),s);return r&&a.Composite.translate(e,r),r}}};f.exports=i},function(f,x,t){(function(a){var i=t(33),e=t(17),s={Actions:t(275),Animations:t(723),BlendModes:t(35),Cache:t(735),Cameras:t(738),Core:t(806),Class:t(0),Create:t(888),Curves:t(894),Data:t(896),Display:t(898),DOM:t(917),Events:t(918),Game:t(920),GameObjects:t(1011),Geom:t(483),Input:t(1308),Loader:t(1338),Math:t(193),Physics:t(1493),Plugins:t(1403),Renderer:t(1405),Scale:t(1412),ScaleModes:t(168),Scene:t(418),Scenes:t(1413),Structs:t(1415),Textures:t(1416),Tilemaps:t(1418),Time:t(1461),Tweens:t(1463),Utils:t(1481)};s.Sound=t(1492),s=e(!1,s,i),f.exports=s,a.Phaser=s}).call(this,t(600))}],A.c=p,A.d=function(f,x,t){A.o(f,x)||Object.defineProperty(f,x,{enumerable:!0,get:t})},A.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},A.t=function(f,x){if(1&x&&(f=A(f)),8&x||4&x&&typeof f=="object"&&f&&f.__esModule)return f;var t=Object.create(null);if(A.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:f}),2&x&&typeof f!="string")for(var a in f)A.d(t,a,function(i){return f[i]}.bind(null,a));return t},A.n=function(f){var x=f&&f.__esModule?function(){return f.default}:function(){return f};return A.d(x,"a",x),x},A.o=function(f,x){return Object.prototype.hasOwnProperty.call(f,x)},A.p="",A(A.s=1528);function A(f){if(p[f])return p[f].exports;var x=p[f]={i:f,l:!1,exports:{}};return O[f].call(x.exports,x,x.exports,A),x.l=!0,x.exports}var O,p})})(Rt);var Ct={exports:{}};(function(xt,st){(function(O,p){xt.exports=p()})(St,function(){return function(A){var O={};function p(f){if(O[f])return O[f].exports;var x=O[f]={i:f,l:!1,exports:{}};return A[f].call(x.exports,x,x.exports,p),x.l=!0,x.exports}return p.m=A,p.c=O,p.d=function(f,x,t){p.o(f,x)||Object.defineProperty(f,x,{enumerable:!0,get:t})},p.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},p.t=function(f,x){if(x&1&&(f=p(f)),x&8||x&4&&typeof f=="object"&&f&&f.__esModule)return f;var t=Object.create(null);if(p.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:f}),x&2&&typeof f!="string")for(var a in f)p.d(t,a,function(i){return f[i]}.bind(null,a));return t},p.n=function(f){var x=f&&f.__esModule?function(){return f.default}:function(){return f};return p.d(x,"a",x),x},p.o=function(f,x){return Object.prototype.hasOwnProperty.call(f,x)},p.p="",p(p.s=1528)}([function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function p(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}function f(e,s,r){var n=r?e[s]:Object.getOwnPropertyDescriptor(e,s);return!r&&n.value&&typeof n.value=="object"&&(n=n.value),n&&p(n)?(typeof n.enumerable>"u"&&(n.enumerable=!0),typeof n.configurable>"u"&&(n.configurable=!0),n):!1}function x(e,s){var r=Object.getOwnPropertyDescriptor(e,s);return r?(r.value&&typeof r.value=="object"&&(r=r.value),r.configurable===!1):!1}function t(e,s,r,n){for(var o in s)if(!!s.hasOwnProperty(o)){var l=f(s,o,r);if(l!==!1){var h=n||e;if(x(h.prototype,o)){if(i.ignoreFinals)continue;throw new Error("cannot override final property '"+o+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(e.prototype,o,l)}else e.prototype[o]=s[o]}}function a(e,s){if(!!s){Array.isArray(s)||(s=[s]);for(var r=0;r<s.length;r++)t(e,s[r].prototype||s[r])}}function i(e){e||(e={});var s,r;if(e.initialize){if(typeof e.initialize!="function")throw new Error("initialize must be a function");s=e.initialize,delete e.initialize}else if(e.Extends){var n=e.Extends;s=function(){n.apply(this,arguments)}}else s=function(){};e.Extends?(s.prototype=Object.create(e.Extends.prototype),s.prototype.constructor=s,r=e.Extends,delete e.Extends):s.prototype.constructor=s;var o=null;return e.Mixins&&(o=e.Mixins,delete e.Mixins),a(s,o),t(s,e,!0,r),s}i.extend=t,i.mixin=a,i.ignoreFinals=!1,A.exports=i},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(){};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=typeof f;return!f||a==="number"||a==="string"?t:f.hasOwnProperty(x)&&f[x]!==void 0?f[x]:t};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(124),t=new f({initialize:function(i,e){this.x=0,this.y=0,typeof i=="object"?(this.x=i.x||0,this.y=i.y||0):(e===void 0&&(e=i),this.x=i||0,this.y=e||0)},clone:function(){return new t(this.x,this.y)},copy:function(a){return this.x=a.x||0,this.y=a.y||0,this},setFromObject:function(a){return this.x=a.x||0,this.y=a.y||0,this},set:function(a,i){return i===void 0&&(i=a),this.x=a,this.y=i,this},setTo:function(a,i){return this.set(a,i)},setToPolar:function(a,i){return i==null&&(i=1),this.x=Math.cos(a)*i,this.y=Math.sin(a)*i,this},equals:function(a){return this.x===a.x&&this.y===a.y},fuzzyEquals:function(a,i){return x(this.x,a.x,i)&&x(this.y,a.y,i)},angle:function(){var a=Math.atan2(this.y,this.x);return a<0&&(a+=2*Math.PI),a},setAngle:function(a){return this.setToPolar(a,this.length())},add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a):(this.x=0,this.y=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(a){var i=a.x-this.x,e=a.y-this.y;return Math.sqrt(i*i+e*e)},distanceSq:function(a){var i=a.x-this.x,e=a.y-this.y;return i*i+e*e},length:function(){var a=this.x,i=this.y;return Math.sqrt(a*a+i*i)},setLength:function(a){return this.normalize().scale(a)},lengthSq:function(){var a=this.x,i=this.y;return a*a+i*i},normalize:function(){var a=this.x,i=this.y,e=a*a+i*i;return e>0&&(e=1/Math.sqrt(e),this.x=a*e,this.y=i*e),this},normalizeRightHand:function(){var a=this.x;return this.x=this.y*-1,this.y=a,this},normalizeLeftHand:function(){var a=this.x;return this.x=this.y,this.y=a*-1,this},dot:function(a){return this.x*a.x+this.y*a.y},cross:function(a){return this.x*a.y-this.y*a.x},lerp:function(a,i){i===void 0&&(i=0);var e=this.x,s=this.y;return this.x=e+i*(a.x-e),this.y=s+i*(a.y-s),this},transformMat3:function(a){var i=this.x,e=this.y,s=a.val;return this.x=s[0]*i+s[3]*e+s[6],this.y=s[1]*i+s[4]*e+s[7],this},transformMat4:function(a){var i=this.x,e=this.y,s=a.val;return this.x=s[0]*i+s[4]*e+s[12],this.y=s[1]*i+s[5]*e+s[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(a){var i=this.length();return i&&i>a&&this.scale(a/i),this},reflect:function(a){return a=a.clone().normalize(),this.subtract(a.scale(2*this.dot(a)))},mirror:function(a){return this.reflect(a).negate()},rotate:function(a){var i=Math.cos(a),e=Math.sin(a);return this.set(i*this.x-e*this.y,e*this.x+i*this.y)}});t.ZERO=new t,t.RIGHT=new t(1,0),t.LEFT=new t(-1,0),t.UP=new t(0,-1),t.DOWN=new t(0,1),t.ONE=new t(1,1),A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(56),t=new f({initialize:function(i,e){i===void 0&&(i=0),e===void 0&&(e=i),this.type=x.POINT,this.x=i,this.y=e},setTo:function(a,i){return a===void 0&&(a=0),i===void 0&&(i=a),this.x=a,this.y=i,this}});A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(24),t=p(20),a=new f({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(t.BOOT,this.boot,this),this.events.on(t.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(t.DESTROY,this.destroy,this)},start:function(){this.events.once(t.SHUTDOWN,this.shutdown,this)},existing:function(i){return(i.renderCanvas||i.renderWebGL)&&this.displayList.add(i),i.preUpdate&&this.updateList.add(i),i},shutdown:function(){this.events.off(t.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(t.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(i,e){a.prototype.hasOwnProperty(i)||(a.prototype[i]=e)},a.remove=function(i){a.prototype.hasOwnProperty(i)&&delete a.prototype[i]},x.register("GameObjectFactory",a,"add"),A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){if(!f||typeof f=="number")return t;if(f.hasOwnProperty(x))return f[x];if(x.indexOf(".")!==-1){for(var a=x.split("."),i=f,e=t,s=0;s<a.length;s++)if(i.hasOwnProperty(a[s]))e=i[a[s]],i=i[a[s]];else{e=t;break}return e}else return t};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){if(typeof f!="object"||f.nodeType||f===f.window)return!1;try{if(f.constructor&&!{}.hasOwnProperty.call(f.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={},f={install:function(x){for(var t in p)x[t]=p[t]},register:function(x,t){p[x]=t},destroy:function(){p={}}};A.exports=f},function(A,O,p){var f=Object.prototype.hasOwnProperty,x="~";function t(){}Object.create&&(t.prototype=Object.create(null),new t().__proto__||(x=!1));function a(r,n,o){this.fn=r,this.context=n,this.once=o||!1}function i(r,n,o,l,h){if(typeof o!="function")throw new TypeError("The listener must be a function");var u=new a(o,l||r,h),c=x?x+n:n;return r._events[c]?r._events[c].fn?r._events[c]=[r._events[c],u]:r._events[c].push(u):(r._events[c]=u,r._eventsCount++),r}function e(r,n){--r._eventsCount===0?r._events=new t:delete r._events[n]}function s(){this._events=new t,this._eventsCount=0}s.prototype.eventNames=function(){var n=[],o,l;if(this._eventsCount===0)return n;for(l in o=this._events)f.call(o,l)&&n.push(x?l.slice(1):l);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(o)):n},s.prototype.listeners=function(n){var o=x?x+n:n,l=this._events[o];if(!l)return[];if(l.fn)return[l.fn];for(var h=0,u=l.length,c=new Array(u);h<u;h++)c[h]=l[h].fn;return c},s.prototype.listenerCount=function(n){var o=x?x+n:n,l=this._events[o];return l?l.fn?1:l.length:0},s.prototype.emit=function(n,o,l,h,u,c){var d=x?x+n:n;if(!this._events[d])return!1;var v=this._events[d],g=arguments.length,m,y;if(v.fn){switch(v.once&&this.removeListener(n,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,o),!0;case 3:return v.fn.call(v.context,o,l),!0;case 4:return v.fn.call(v.context,o,l,h),!0;case 5:return v.fn.call(v.context,o,l,h,u),!0;case 6:return v.fn.call(v.context,o,l,h,u,c),!0}for(y=1,m=new Array(g-1);y<g;y++)m[y-1]=arguments[y];v.fn.apply(v.context,m)}else{var T=v.length,E;for(y=0;y<T;y++)switch(v[y].once&&this.removeListener(n,v[y].fn,void 0,!0),g){case 1:v[y].fn.call(v[y].context);break;case 2:v[y].fn.call(v[y].context,o);break;case 3:v[y].fn.call(v[y].context,o,l);break;case 4:v[y].fn.call(v[y].context,o,l,h);break;default:if(!m)for(E=1,m=new Array(g-1);E<g;E++)m[E-1]=arguments[E];v[y].fn.apply(v[y].context,m)}}return!0},s.prototype.on=function(n,o,l){return i(this,n,o,l,!1)},s.prototype.once=function(n,o,l){return i(this,n,o,l,!0)},s.prototype.removeListener=function(n,o,l,h){var u=x?x+n:n;if(!this._events[u])return this;if(!o)return e(this,u),this;var c=this._events[u];if(c.fn)c.fn===o&&(!h||c.once)&&(!l||c.context===l)&&e(this,u);else{for(var d=0,v=[],g=c.length;d<g;d++)(c[d].fn!==o||h&&!c[d].once||l&&c[d].context!==l)&&v.push(c[d]);v.length?this._events[u]=v.length===1?v[0]:v:e(this,u)}return this},s.prototype.removeAllListeners=function(n){var o;return n?(o=x?x+n:n,this._events[o]&&e(this,o)):(this._events=new t,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=x,s.EventEmitter=s,A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(57),t=p(171),a=p(306),i=p(56),e=p(47),s=p(174),r=new f({initialize:function(o,l,h,u){o===void 0&&(o=0),l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=0),this.type=i.RECTANGLE,this.x=o,this.y=l,this.width=h,this.height=u},contains:function(n,o){return x(this,n,o)},getPoint:function(n,o){return t(this,n,o)},getPoints:function(n,o,l){return a(this,n,o,l)},getRandomPoint:function(n){return s(this,n)},setTo:function(n,o,l,h){return this.x=n,this.y=o,this.width=l,this.height=h,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(n,o){return o===void 0&&(o=n),this.x=n,this.y=o,this},setSize:function(n,o){return o===void 0&&(o=n),this.width=n,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(n){return n===void 0&&(n=new e),n.setTo(this.x,this.y,this.right,this.y),n},getLineB:function(n){return n===void 0&&(n=new e),n.setTo(this.right,this.y,this.right,this.bottom),n},getLineC:function(n){return n===void 0&&(n=new e),n.setTo(this.right,this.bottom,this.x,this.bottom),n},getLineD:function(n){return n===void 0&&(n=new e),n.setTo(this.x,this.bottom,this.x,this.y),n},left:{get:function(){return this.x},set:function(n){n>=this.right?this.width=0:this.width=this.right-n,this.x=n}},right:{get:function(){return this.x+this.width},set:function(n){n<=this.x?this.width=0:this.width=n-this.x}},top:{get:function(){return this.y},set:function(n){n>=this.bottom?this.height=0:this.height=this.bottom-n,this.y=n}},bottom:{get:function(){return this.y+this.height},set:function(n){n<=this.y?this.height=0:this.height=n-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(n){this.x=n-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(n){this.y=n-this.height/2}}});A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Alpha:p(607),AlphaSingle:p(303),BlendMode:p(304),ComputedSize:p(608),Crop:p(609),Depth:p(305),Flip:p(610),GetBounds:p(611),Mask:p(309),Origin:p(632),PathFollower:p(633),Pipeline:p(167),ScrollFactor:p(312),Size:p(634),Texture:p(635),TextureCrop:p(636),Tint:p(637),ToJSON:p(176),Transform:p(313),TransformMatrix:p(25),Visible:p(314)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function p(f){for(var x="",t=0;t<f;++t)t>0&&(x+=`
else `),t<f-1&&(x+="if(test == "+t+".0){}");return x}A.exports={getTintFromFloats:function(f,x,t,a){var i=(f*255|0)&255,e=(x*255|0)&255,s=(t*255|0)&255,r=(a*255|0)&255;return(r<<24|i<<16|e<<8|s)>>>0},getTintAppendFloatAlpha:function(f,x){var t=(x*255|0)&255;return(t<<24|f)>>>0},getTintAppendFloatAlphaAndSwap:function(f,x){var t=(f>>16|0)&255,a=(f>>8|0)&255,i=(f|0)&255,e=(x*255|0)&255;return(e<<24|i<<16|a<<8|t)>>>0},getFloatsFromUintRGB:function(f){var x=(f>>16|0)&255,t=(f>>8|0)&255,a=(f|0)&255;return[x/255,t/255,a/255]},checkShaderMax:function(f,x){(!x||x===-1)&&(x=f.getParameter(f.MAX_TEXTURE_IMAGE_UNITS));for(var t=f.createShader(f.FRAGMENT_SHADER),a=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);;){var i=a.replace(/%forloop%/gi,p(x));if(f.shaderSource(t,i),f.compileShader(t),!f.getShaderParameter(t,f.COMPILE_STATUS))x=x/2|0;else break}return x},parseFragmentShaderMaxTextures:function(f,x){if(!f)return"";for(var t="",a=0;a<x;a++)a>0&&(t+=`
	else `),a<x-1&&(t+="if (outTexId < "+a+".5)"),t+=`
	{`,t+=`
		texture = texture2D(uMainSampler[`+a+"], outTexCoord);",t+=`
	}`;return f=f.replace(/%count%/gi,x.toString()),f.replace(/%forloop%/gi,t)}}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(193),x=p(6),t=function(a,i,e){var s=x(a,i,null);if(s===null)return e;if(Array.isArray(s))return f.RND.pick(s);if(typeof s=="object"){if(s.hasOwnProperty("randInt"))return f.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return f.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if(typeof s=="function")return s(i);return s};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(176),t=p(101),a=p(9),i=p(75),e=p(20),s=new f({Extends:a,initialize:function(n,o){a.call(this),this.scene=n,this.displayList=null,this.type=o,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(i.ADDED_TO_SCENE,this.addedToScene,this),this.on(i.REMOVED_FROM_SCENE,this.removedFromScene,this),n.sys.queueDepthSort()},setActive:function(r){return this.active=r,this},setName:function(r){return this.name=r,this},setState:function(r){return this.state=r,this},setDataEnabled:function(){return this.data||(this.data=new t(this)),this},setData:function(r,n){return this.data||(this.data=new t(this)),this.data.set(r,n),this},incData:function(r,n){return this.data||(this.data=new t(this)),this.data.inc(r,n),this},toggleData:function(r){return this.data||(this.data=new t(this)),this.data.toggle(r),this},getData:function(r){return this.data||(this.data=new t(this)),this.data.get(r)},setInteractive:function(r,n,o){return this.scene.sys.input.enable(this,r,n,o),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return x(this)},willRender:function(r){return!(s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&r.id)},getIndexList:function(){for(var r=this,n=this.parentContainer,o=[];n&&(o.unshift(n.getIndex(r)),r=n,n.parentContainer);)n=n.parentContainer;return this.displayList?o.unshift(this.displayList.getIndex(r)):o.unshift(this.scene.sys.displayList.getIndex(r)),o},addToDisplayList:function(r){return r===void 0&&(r=this.scene.sys.displayList),this.displayList&&this.displayList!==r&&this.removeFromDisplayList(),r.exists(this)||(this.displayList=r,r.add(this,!0),r.queueDepthSort(),this.emit(i.ADDED_TO_SCENE,this,this.scene),r.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var r=this.displayList||this.scene.sys.displayList;return r.exists(this)&&(r.remove(this,!0),r.queueDepthSort(),this.displayList=null,this.emit(i.REMOVED_FROM_SCENE,this,this.scene),r.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(r){!this.scene||this.ignoreDestroy||(r===void 0&&(r=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(i.DESTROY,this,r),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});s.RENDER_MASK=15,A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(24),t=p(20),a=new f({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(t.BOOT,this.boot,this),this.events.on(t.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(t.DESTROY,this.destroy,this)},start:function(){this.events.once(t.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(t.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(t.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(i,e){a.prototype.hasOwnProperty(i)||(a.prototype[i]=e)},a.remove=function(i){a.prototype.hasOwnProperty(i)&&delete a.prototype[i]},x.register("GameObjectCreator",a,"make"),A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(7),x=function(){var t,a,i,e,s,r,n=arguments[0]||{},o=1,l=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[1]||{},o=2),l===o&&(n=this,--o);o<l;o++)if((t=arguments[o])!=null)for(a in t)i=n[a],e=t[a],n!==e&&(h&&e&&(f(e)||(s=Array.isArray(e)))?(s?(s=!1,r=i&&Array.isArray(i)?i:[]):r=i&&f(i)?i:{},n[a]=x(h,r,e)):e!==void 0&&(n[a]=e));return n};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return Math.max(x,Math.min(t,f))};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(25),x=new f,t=new f,a=new f,i={camera:x,sprite:t,calc:a},e=function(s,r,n){var o=x,l=t,h=a;return l.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),o.copyFrom(r.matrix),n?(o.multiplyWithOffset(n,-r.scrollX*s.scrollFactorX,-r.scrollY*s.scrollFactorY),l.e=s.x,l.f=s.y):(l.e-=r.scrollX*s.scrollFactorX,l.f-=r.scrollY*s.scrollFactorY),o.multiply(l,h),i};A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={ADDED_TO_SCENE:p(656),BOOT:p(657),CREATE:p(658),DESTROY:p(659),PAUSE:p(660),POST_UPDATE:p(661),PRE_RENDER:p(662),PRE_UPDATE:p(663),READY:p(664),REMOVED_FROM_SCENE:p(665),RENDER:p(666),RESUME:p(667),SHUTDOWN:p(668),SLEEP:p(669),START:p(670),TRANSITION_COMPLETE:p(671),TRANSITION_INIT:p(672),TRANSITION_OUT:p(673),TRANSITION_START:p(674),TRANSITION_WAKE:p(675),UPDATE:p(676),WAKE:p(677)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={BLUR:p(612),BOOT:p(613),CONTEXT_LOST:p(614),CONTEXT_RESTORED:p(615),DESTROY:p(616),FOCUS:p(617),HIDDEN:p(618),PAUSE:p(619),POST_RENDER:p(620),POST_STEP:p(621),PRE_RENDER:p(622),PRE_STEP:p(623),READY:p(624),RESUME:p(625),STEP:p(626),VISIBLE:p(627)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(95),a=p(2),i=p(155),e=p(240),s=p(517),r=p(156),n=new f({initialize:function(l,h){this.loader=l,this.cache=a(h,"cache",!1),this.type=a(h,"type",!1),this.key=a(h,"key",!1);var u=this.key;if(l.prefix&&l.prefix!==""&&(this.key=l.prefix+u),!this.type||!this.key)throw new Error("Invalid Loader."+this.type+" key");var c=a(h,"url");c===void 0?c=l.path+u+"."+a(h,"extension",""):typeof c=="string"&&!c.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)&&(c=l.path+c),this.url=c,this.src="",this.xhrSettings=r(a(h,"responseType",void 0)),a(h,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,a(h,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?x.FILE_POPULATED:x.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(h,"config",{}),this.multiFile,this.linkFile},setLink:function(o){this.linkFile=o,o.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===x.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=x.FILE_LOADING,this.src=i(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=s(this,this.loader.xhr))},onLoad:function(o,l){var h=o.responseURL&&(o.responseURL.indexOf("file://")===0||o.responseURL.indexOf("capacitor://")===0),u=h&&l.target.status===0,c=!(l.target&&l.target.status!==200)||u;o.readyState===4&&o.status>=400&&o.status<=599&&(c=!1),this.state=x.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,c)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(o){o.lengthComputable&&(this.bytesLoaded=o.loaded,this.bytesTotal=o.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(t.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=x.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=x.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=x.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(o){o===void 0&&(o=this.data);var l=this.key,h=this.type;this.loader.emit(t.FILE_COMPLETE,l,h,o),this.loader.emit(t.FILE_KEY_COMPLETE+h+"-"+l,l,h,o),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});n.createObjectURL=function(o,l,h){if(typeof URL=="function")o.src=URL.createObjectURL(l);else{var u=new FileReader;u.onload=function(){o.removeAttribute("crossOrigin"),o.src="data:"+(l.type||h)+";base64,"+u.result.split(",")[1]},u.onerror=o.onerror,u.readAsDataURL(l)}},n.revokeObjectURL=function(o){typeof URL=="function"&&URL.revokeObjectURL(o.src)},A.exports=n},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={},f={},x={};x.register=function(t,a,i,e){e===void 0&&(e=!1),p[t]={plugin:a,mapping:i,custom:e}},x.registerCustom=function(t,a,i,e){f[t]={plugin:a,mapping:i,data:e}},x.hasCore=function(t){return p.hasOwnProperty(t)},x.hasCustom=function(t){return f.hasOwnProperty(t)},x.getCore=function(t){return p[t]},x.getCustom=function(t){return f[t]},x.getCustomClass=function(t){return f.hasOwnProperty(t)?f[t].plugin:null},x.remove=function(t){p.hasOwnProperty(t)&&delete p[t]},x.removeCustom=function(t){f.hasOwnProperty(t)&&delete f[t]},x.destroyCorePlugins=function(){for(var t in p)p.hasOwnProperty(t)&&delete p[t]},x.destroyCustomPlugins=function(){for(var t in f)f.hasOwnProperty(t)&&delete f[t]},A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(14),t=p(3),a=new f({initialize:function(e,s,r,n,o,l){e===void 0&&(e=1),s===void 0&&(s=0),r===void 0&&(r=0),n===void 0&&(n=1),o===void 0&&(o=0),l===void 0&&(l=0),this.matrix=new Float32Array([e,s,r,n,o,l,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(i){this.matrix[0]=i}},b:{get:function(){return this.matrix[1]},set:function(i){this.matrix[1]=i}},c:{get:function(){return this.matrix[2]},set:function(i){this.matrix[2]=i}},d:{get:function(){return this.matrix[3]},set:function(i){this.matrix[3]=i}},e:{get:function(){return this.matrix[4]},set:function(i){this.matrix[4]=i}},f:{get:function(){return this.matrix[5]},set:function(i){this.matrix[5]=i}},tx:{get:function(){return this.matrix[4]},set:function(i){this.matrix[4]=i}},ty:{get:function(){return this.matrix[5]},set:function(i){this.matrix[5]=i}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var i=this.matrix,e=i[0],s=i[1],r=i[2],n=i[3];return e||s?s>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):r||n?x.TAU-(n>0?Math.acos(-r/this.scaleY):-Math.acos(r/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var i=this.matrix;return i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0,this},translate:function(i,e){var s=this.matrix;return s[4]=s[0]*i+s[2]*e+s[4],s[5]=s[1]*i+s[3]*e+s[5],this},scale:function(i,e){var s=this.matrix;return s[0]*=i,s[1]*=i,s[2]*=e,s[3]*=e,this},rotate:function(i){var e=Math.sin(i),s=Math.cos(i),r=this.matrix,n=r[0],o=r[1],l=r[2],h=r[3];return r[0]=n*s+l*e,r[1]=o*s+h*e,r[2]=n*-e+l*s,r[3]=o*-e+h*s,this},multiply:function(i,e){var s=this.matrix,r=i.matrix,n=s[0],o=s[1],l=s[2],h=s[3],u=s[4],c=s[5],d=r[0],v=r[1],g=r[2],m=r[3],y=r[4],T=r[5],E=e===void 0?this:e;return E.a=d*n+v*l,E.b=d*o+v*h,E.c=g*n+m*l,E.d=g*o+m*h,E.e=y*n+T*l+u,E.f=y*o+T*h+c,E},multiplyWithOffset:function(i,e,s){var r=this.matrix,n=i.matrix,o=r[0],l=r[1],h=r[2],u=r[3],c=r[4],d=r[5],v=e*o+s*h+c,g=e*l+s*u+d,m=n[0],y=n[1],T=n[2],E=n[3],S=n[4],C=n[5];return r[0]=m*o+y*h,r[1]=m*l+y*u,r[2]=T*o+E*h,r[3]=T*l+E*u,r[4]=S*o+C*h+v,r[5]=S*l+C*u+g,this},transform:function(i,e,s,r,n,o){var l=this.matrix,h=l[0],u=l[1],c=l[2],d=l[3],v=l[4],g=l[5];return l[0]=i*h+e*c,l[1]=i*u+e*d,l[2]=s*h+r*c,l[3]=s*u+r*d,l[4]=n*h+o*c+v,l[5]=n*u+o*d+g,this},transformPoint:function(i,e,s){s===void 0&&(s={x:0,y:0});var r=this.matrix,n=r[0],o=r[1],l=r[2],h=r[3],u=r[4],c=r[5];return s.x=i*n+e*l+u,s.y=i*o+e*h+c,s},invert:function(){var i=this.matrix,e=i[0],s=i[1],r=i[2],n=i[3],o=i[4],l=i[5],h=e*n-s*r;return i[0]=n/h,i[1]=-s/h,i[2]=-r/h,i[3]=e/h,i[4]=(r*l-n*o)/h,i[5]=-(e*l-s*o)/h,this},copyFrom:function(i){var e=this.matrix;return e[0]=i.a,e[1]=i.b,e[2]=i.c,e[3]=i.d,e[4]=i.e,e[5]=i.f,this},copyFromArray:function(i){var e=this.matrix;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],this},copyToContext:function(i){var e=this.matrix;return i.transform(e[0],e[1],e[2],e[3],e[4],e[5]),i},setToContext:function(i){var e=this.matrix;return i.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),i},copyToArray:function(i){var e=this.matrix;return i===void 0?i=[e[0],e[1],e[2],e[3],e[4],e[5]]:(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5]),i},setTransform:function(i,e,s,r,n,o){var l=this.matrix;return l[0]=i,l[1]=e,l[2]=s,l[3]=r,l[4]=n,l[5]=o,this},decomposeMatrix:function(){var i=this.decomposedMatrix,e=this.matrix,s=e[0],r=e[1],n=e[2],o=e[3],l=s*o-r*n;if(i.translateX=e[4],i.translateY=e[5],s||r){var h=Math.sqrt(s*s+r*r);i.rotation=r>0?Math.acos(s/h):-Math.acos(s/h),i.scaleX=h,i.scaleY=l/h}else if(n||o){var u=Math.sqrt(n*n+o*o);i.rotation=Math.PI*.5-(o>0?Math.acos(-n/u):-Math.acos(n/u)),i.scaleX=l/u,i.scaleY=u}else i.rotation=0,i.scaleX=0,i.scaleY=0;return i},applyITRS:function(i,e,s,r,n){var o=this.matrix,l=Math.sin(s),h=Math.cos(s);return o[4]=i,o[5]=e,o[0]=h*r,o[1]=l*r,o[2]=-l*n,o[3]=h*n,this},applyInverse:function(i,e,s){s===void 0&&(s=new t);var r=this.matrix,n=r[0],o=r[1],l=r[2],h=r[3],u=r[4],c=r[5],d=1/(n*h+l*-o);return s.x=h*d*i+-l*d*e+(c*l-u*h)*d,s.y=n*d*e+-o*d*i+(-c*n+u*o)*d,s},getX:function(i,e){return i*this.a+e*this.c+this.e},getY:function(i,e){return i*this.b+e*this.d+this.f},getXRound:function(i,e,s){var r=this.getX(i,e);return s&&(r=Math.round(r)),r},getYRound:function(i,e,s){var r=this.getY(i,e);return s&&(r=Math.round(r)),r},getCSSMatrix:function(){var i=this.matrix;return"matrix("+i[0]+","+i[1]+","+i[2]+","+i[3]+","+i[4]+","+i[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(2),x=function(t,a,i,e,s,r){t===void 0&&(t=0),a===void 0&&(a=0),i===void 0&&(i=r.width),e===void 0&&(e=r.height),s||(s={});var n=f(s,"isNotEmpty",!1),o=f(s,"isColliding",!1),l=f(s,"hasInterestingFace",!1);t<0&&(i+=t,t=0),a<0&&(e+=a,a=0),t+i>r.width&&(i=Math.max(r.width-t,0)),a+e>r.height&&(e=Math.max(r.height-a,0));for(var h=[],u=a;u<a+e;u++)for(var c=t;c<t+i;c++){var d=r.data[u][c];if(d!==null){if(n&&d.index===-1||o&&!d.collides||l&&!d.hasInterestingFace)continue;h.push(d)}}return h};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i,e){a===void 0&&(a=0),i===void 0&&(i=0),e===void 0&&(e=1);var s,r=0,n=f.length;if(e===1)for(s=i;s<n;s++)f[s][x]=t+r*a,r++;else for(s=i;s>=0;s--)f[s][x]=t+r*a,r++;return f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(35),x=p(13),t=function(a,i,e){i.x=x(e,"x",0),i.y=x(e,"y",0),i.depth=x(e,"depth",0),i.flipX=x(e,"flipX",!1),i.flipY=x(e,"flipY",!1);var s=x(e,"scale",null);typeof s=="number"?i.setScale(s):s!==null&&(i.scaleX=x(s,"x",1),i.scaleY=x(s,"y",1));var r=x(e,"scrollFactor",null);typeof r=="number"?i.setScrollFactor(r):r!==null&&(i.scrollFactorX=x(r,"x",1),i.scrollFactorY=x(r,"y",1)),i.rotation=x(e,"rotation",0);var n=x(e,"angle",null);n!==null&&(i.angle=n),i.alpha=x(e,"alpha",1);var o=x(e,"origin",null);if(typeof o=="number")i.setOrigin(o);else if(o!==null){var l=x(o,"x",.5),h=x(o,"y",.5);i.setOrigin(l,h)}i.blendMode=x(e,"blendMode",f.NORMAL),i.visible=x(e,"visible",!0);var u=x(e,"add",!0);return u&&a.sys.displayList.add(i),i.preUpdate&&a.sys.updateList.add(i),i};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(19),x=function(t,a,i,e,s){var r=e.alpha*i.alpha;if(r<=0)return!1;var n=f(i,e,s).calc;return a.globalCompositeOperation=t.blendModes[i.blendMode],a.globalAlpha=r,a.save(),n.setToContext(a),a.imageSmoothingEnabled=!(!t.antialias||i.frame&&i.frame.source.scaleMode),!0};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(33),x=p(192),t=[],a=!1,i=function(){var e=function(d,v,g,m,y){v===void 0&&(v=1),g===void 0&&(g=1),m===void 0&&(m=f.CANVAS),y===void 0&&(y=!1);var T,E=n(m);return E===null?(E={parent:d,canvas:document.createElement("canvas"),type:m},m===f.CANVAS&&t.push(E),T=E.canvas):(E.parent=d,T=E.canvas),y&&(E.parent=T),T.width=v,T.height=g,a&&m===f.CANVAS&&x.disable(T.getContext("2d")),T},s=function(d,v,g){return e(d,v,g,f.CANVAS)},r=function(d,v,g){return e(d,v,g,f.WEBGL)},n=function(d){if(d===void 0&&(d=f.CANVAS),d===f.WEBGL)return null;for(var v=0;v<t.length;v++){var g=t[v];if(!g.parent&&g.type===d)return g}return null},o=function(d){var v=d instanceof HTMLCanvasElement;t.forEach(function(g){(v&&g.canvas===d||!v&&g.parent===d)&&(g.parent=null,g.canvas.width=1,g.canvas.height=1)})},l=function(){var d=0;return t.forEach(function(v){v.parent&&d++}),d},h=function(){return t.length-l()},u=function(){a=!0},c=function(){a=!1};return{create2D:s,create:e,createWebGL:r,disableSmoothing:u,enableSmoothing:c,first:n,free:h,pool:t,remove:o,total:l}};A.exports=i()},function(A,O){var p={};A.exports=p,function(){p._nextId=0,p._seed=0,p._nowStartTime=+new Date,p.extend=function(x,t){var a,i;typeof t=="boolean"?(a=2,i=t):(a=1,i=!0);for(var e=a;e<arguments.length;e++){var s=arguments[e];if(s)for(var r in s)i&&s[r]&&s[r].constructor===Object&&(!x[r]||x[r].constructor===Object)?(x[r]=x[r]||{},p.extend(x[r],i,s[r])):x[r]=s[r]}return x},p.clone=function(x,t){return p.extend({},t,x)},p.keys=function(x){if(Object.keys)return Object.keys(x);var t=[];for(var a in x)t.push(a);return t},p.values=function(x){var t=[];if(Object.keys){for(var a=Object.keys(x),i=0;i<a.length;i++)t.push(x[a[i]]);return t}for(var e in x)t.push(x[e]);return t},p.get=function(x,t,a,i){t=t.split(".").slice(a,i);for(var e=0;e<t.length;e+=1)x=x[t[e]];return x},p.set=function(x,t,a,i,e){var s=t.split(".").slice(i,e);return p.get(x,t,0,-1)[s[s.length-1]]=a,a},p.shuffle=function(x){for(var t=x.length-1;t>0;t--){var a=Math.floor(p.random()*(t+1)),i=x[t];x[t]=x[a],x[a]=i}return x},p.choose=function(x){return x[Math.floor(p.random()*x.length)]},p.isElement=function(x){return typeof HTMLElement<"u"?x instanceof HTMLElement:!!(x&&x.nodeType&&x.nodeName)},p.isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"},p.isFunction=function(x){return typeof x=="function"},p.isPlainObject=function(x){return typeof x=="object"&&x.constructor===Object},p.isString=function(x){return Object.prototype.toString.call(x)==="[object String]"},p.clamp=function(x,t,a){return x<t?t:x>a?a:x},p.sign=function(x){return x<0?-1:1},p.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-p._nowStartTime},p.random=function(x,t){return x=typeof x<"u"?x:0,t=typeof t<"u"?t:1,x+f()*(t-x)};var f=function(){return p._seed=(p._seed*9301+49297)%233280,p._seed/233280};p.colorToNumber=function(x){return x=x.replace("#",""),x.length==3&&(x=x.charAt(0)+x.charAt(0)+x.charAt(1)+x.charAt(1)+x.charAt(2)+x.charAt(2)),parseInt(x,16)},p.logLevel=1,p.log=function(){console&&p.logLevel>0&&p.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},p.info=function(){console&&p.logLevel>0&&p.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},p.warn=function(){console&&p.logLevel>0&&p.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},p.nextId=function(){return p._nextId++},p.indexOf=function(x,t){if(x.indexOf)return x.indexOf(t);for(var a=0;a<x.length;a++)if(x[a]===t)return a;return-1},p.map=function(x,t){if(x.map)return x.map(t);for(var a=[],i=0;i<x.length;i+=1)a.push(t(x[i]));return a},p.topologicalSort=function(x){var t=[],a=[],i=[];for(var e in x)!a[e]&&!i[e]&&p._topologicalSort(e,a,i,x,t);return t},p._topologicalSort=function(x,t,a,i,e){var s=i[x]||[];a[x]=!0;for(var r=0;r<s.length;r+=1){var n=s[r];a[n]||t[n]||p._topologicalSort(n,t,a,i,e)}a[x]=!1,t[x]=!0,e.push(x)},p.chain=function(){for(var x=[],t=0;t<arguments.length;t+=1){var a=arguments[t];a._chained?x.push.apply(x,a._chained):x.push(a)}var i=function(){for(var e,s=new Array(arguments.length),r=0,n=arguments.length;r<n;r++)s[r]=arguments[r];for(r=0;r<x.length;r+=1){var o=x[r].apply(e,s);typeof o<"u"&&(e=o)}return e};return i._chained=x,i},p.chainPathBefore=function(x,t,a){return p.set(x,t,p.chain(a,p.get(x,t)))},p.chainPathAfter=function(x,t,a){return p.set(x,t,p.chain(p.get(x,t),a))}}()},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={VERSION:"3.55.2",BlendModes:p(35),ScaleModes:p(168),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};A.exports=f},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(11),t=p(15),a=p(47),i=new f({Extends:t,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.ScrollFactor,x.Transform,x.Visible],initialize:function(s,r,n){r===void 0&&(r="Shape"),t.call(this,s,r),this.geom=n,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline()},setFillStyle:function(e,s){return s===void 0&&(s=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=s,this.isFilled=!0),this},setStrokeStyle:function(e,s,r){return r===void 0&&(r=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=s,this.strokeAlpha=r,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,s){return this.width=e,this.height=s,this},setDisplaySize:function(e,s){return this.displayWidth=e,this.displayHeight=s,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});A.exports=i},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(14),x=function(t){return t*f.DEG_TO_RAD};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={DESTROY:p(743),FADE_IN_COMPLETE:p(744),FADE_IN_START:p(745),FADE_OUT_COMPLETE:p(746),FADE_OUT_START:p(747),FLASH_COMPLETE:p(748),FLASH_START:p(749),FOLLOW_UPDATE:p(750),PAN_COMPLETE:p(751),PAN_START:p(752),POST_RENDER:p(753),PRE_RENDER:p(754),ROTATE_COMPLETE:p(755),ROTATE_START:p(756),SHAKE_COMPLETE:p(757),SHAKE_START:p(758),ZOOM_COMPLETE:p(759),ZOOM_START:p(760)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(103),t=p(328),a=p(188),i=p(329),e=new f({initialize:function(r,n,o,l){r===void 0&&(r=0),n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(r,n,o,l)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(s,r,n,o,l){return o===void 0&&(o=255),l===void 0&&(l=!0),this._locked=!0,this.red=s,this.green=r,this.blue=n,this.alpha=o,this._locked=!1,this.update(l)},setGLTo:function(s,r,n,o){return o===void 0&&(o=1),this._locked=!0,this.redGL=s,this.greenGL=r,this.blueGL=n,this.alphaGL=o,this._locked=!1,this.update(!0)},setFromRGB:function(s){return this._locked=!0,this.red=s.r,this.green=s.g,this.blue=s.b,s.hasOwnProperty("a")&&(this.alpha=s.a),this._locked=!1,this.update(!0)},setFromHSV:function(s,r,n){return a(s,r,n,this)},update:function(s){if(s===void 0&&(s=!1),this._locked)return this;var r=this.r,n=this.g,o=this.b,l=this.a;return this._color=x(r,n,o),this._color32=t(r,n,o,l),this._rgba="rgba("+r+","+n+","+o+","+l/255+")",s&&i(r,n,o,this),this},updateHSV:function(){var s=this.r,r=this.g,n=this.b;return i(s,r,n,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(s){return this.setTo(s,s,s)},random:function(s,r){s===void 0&&(s=0),r===void 0&&(r=255);var n=Math.floor(s+Math.random()*(r-s)),o=Math.floor(s+Math.random()*(r-s)),l=Math.floor(s+Math.random()*(r-s));return this.setTo(n,o,l)},randomGray:function(s,r){s===void 0&&(s=0),r===void 0&&(r=255);var n=Math.floor(s+Math.random()*(r-s));return this.setTo(n,n,n)},saturate:function(s){return this.s+=s/100,this},desaturate:function(s){return this.s-=s/100,this},lighten:function(s){return this.v+=s/100,this},darken:function(s){return this.v-=s/100,this},brighten:function(s){var r=this.r,n=this.g,o=this.b;return r=Math.max(0,Math.min(255,r-Math.round(255*-(s/100)))),n=Math.max(0,Math.min(255,n-Math.round(255*-(s/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(s/100)))),this.setTo(r,n,o)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(s){this.gl[0]=Math.min(Math.abs(s),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(s){this.gl[1]=Math.min(Math.abs(s),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(s){this.gl[2]=Math.min(Math.abs(s),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(s){this.gl[3]=Math.min(Math.abs(s),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(s){s=Math.floor(Math.abs(s)),this.r=Math.min(s,255),this.gl[0]=s/255,this.update(!0)}},green:{get:function(){return this.g},set:function(s){s=Math.floor(Math.abs(s)),this.g=Math.min(s,255),this.gl[1]=s/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(s){s=Math.floor(Math.abs(s)),this.b=Math.min(s,255),this.gl[2]=s/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(s){s=Math.floor(Math.abs(s)),this.a=Math.min(s,255),this.gl[3]=s/255,this.update()}},h:{get:function(){return this._h},set:function(s){this._h=s,a(s,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(s){this._s=s,a(this._h,s,this._v,this)}},v:{get:function(){return this._v},set:function(s){this._v=s,a(this._h,this._s,s,this)}}});A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a,i,e){this.x=0,this.y=0,this.z=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=i||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clone:function(){return new x(this.x,this.y,this.z)},addVectors:function(t,a){return this.x=t.x+a.x,this.y=t.y+a.y,this.z=t.z+a.z,this},crossVectors:function(t,a){var i=t.x,e=t.y,s=t.z,r=a.x,n=a.y,o=a.z;return this.x=e*o-s*n,this.y=s*r-i*o,this.z=i*n-e*r,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this},set:function(t,a,i){return typeof t=="object"?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=a||0,this.z=i||0),this},setFromMatrixPosition:function(t){return this.fromArray(t.val,12)},setFromMatrixColumn:function(t,a){return this.fromArray(t.val,a*4)},fromArray:function(t,a){return a===void 0&&(a=0),this.x=t[a],this.y=t[a+1],this.z=t[a+2],this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addScale:function(t,a){return this.x+=t.x*a,this.y+=t.y*a,this.z+=t.z*a||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(t){var a=t.x-this.x,i=t.y-this.y,e=t.z-this.z||0;return Math.sqrt(a*a+i*i+e*e)},distanceSq:function(t){var a=t.x-this.x,i=t.y-this.y,e=t.z-this.z||0;return a*a+i*i+e*e},length:function(){var t=this.x,a=this.y,i=this.z;return Math.sqrt(t*t+a*a+i*i)},lengthSq:function(){var t=this.x,a=this.y,i=this.z;return t*t+a*a+i*i},normalize:function(){var t=this.x,a=this.y,i=this.z,e=t*t+a*a+i*i;return e>0&&(e=1/Math.sqrt(e),this.x=t*e,this.y=a*e,this.z=i*e),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){var a=this.x,i=this.y,e=this.z,s=t.x,r=t.y,n=t.z;return this.x=i*n-e*r,this.y=e*s-a*n,this.z=a*r-i*s,this},lerp:function(t,a){a===void 0&&(a=0);var i=this.x,e=this.y,s=this.z;return this.x=i+a*(t.x-i),this.y=e+a*(t.y-e),this.z=s+a*(t.z-s),this},applyMatrix3:function(t){var a=this.x,i=this.y,e=this.z,s=t.val;return this.x=s[0]*a+s[3]*i+s[6]*e,this.y=s[1]*a+s[4]*i+s[7]*e,this.z=s[2]*a+s[5]*i+s[8]*e,this},applyMatrix4:function(t){var a=this.x,i=this.y,e=this.z,s=t.val,r=1/(s[3]*a+s[7]*i+s[11]*e+s[15]);return this.x=(s[0]*a+s[4]*i+s[8]*e+s[12])*r,this.y=(s[1]*a+s[5]*i+s[9]*e+s[13])*r,this.z=(s[2]*a+s[6]*i+s[10]*e+s[14])*r,this},transformMat3:function(t){var a=this.x,i=this.y,e=this.z,s=t.val;return this.x=a*s[0]+i*s[3]+e*s[6],this.y=a*s[1]+i*s[4]+e*s[7],this.z=a*s[2]+i*s[5]+e*s[8],this},transformMat4:function(t){var a=this.x,i=this.y,e=this.z,s=t.val;return this.x=s[0]*a+s[4]*i+s[8]*e+s[12],this.y=s[1]*a+s[5]*i+s[9]*e+s[13],this.z=s[2]*a+s[6]*i+s[10]*e+s[14],this},transformCoordinates:function(t){var a=this.x,i=this.y,e=this.z,s=t.val,r=a*s[0]+i*s[4]+e*s[8]+s[12],n=a*s[1]+i*s[5]+e*s[9]+s[13],o=a*s[2]+i*s[6]+e*s[10]+s[14],l=a*s[3]+i*s[7]+e*s[11]+s[15];return this.x=r/l,this.y=n/l,this.z=o/l,this},transformQuat:function(t){var a=this.x,i=this.y,e=this.z,s=t.x,r=t.y,n=t.z,o=t.w,l=o*a+r*e-n*i,h=o*i+n*a-s*e,u=o*e+s*i-r*a,c=-s*a-r*i-n*e;return this.x=l*o+c*-s+h*-n-u*-r,this.y=h*o+c*-r+u*-s-l*-n,this.z=u*o+c*-n+l*-r-h*-s,this},project:function(t){var a=this.x,i=this.y,e=this.z,s=t.val,r=s[0],n=s[1],o=s[2],l=s[3],h=s[4],u=s[5],c=s[6],d=s[7],v=s[8],g=s[9],m=s[10],y=s[11],T=s[12],E=s[13],S=s[14],C=s[15],M=1/(a*l+i*d+e*y+C);return this.x=(a*r+i*h+e*v+T)*M,this.y=(a*n+i*u+e*g+E)*M,this.z=(a*o+i*c+e*m+S)*M,this},projectViewMatrix:function(t,a){return this.applyMatrix4(t).applyMatrix4(a)},unprojectViewMatrix:function(t,a){return this.applyMatrix4(t).applyMatrix4(a)},unproject:function(t,a){var i=t.x,e=t.y,s=t.z,r=t.w,n=this.x-i,o=r-this.y-1-e,l=this.z;return this.x=2*n/s-1,this.y=2*o/r-1,this.z=2*l-1,this.project(a)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});x.ZERO=new x,x.RIGHT=new x(1,0,0),x.LEFT=new x(-1,0,0),x.UP=new x(0,-1,0),x.DOWN=new x(0,1,0),x.FORWARD=new x(0,0,1),x.BACK=new x(0,0,-1),x.ONE=new x(1,1,1),A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(A,O,p){var f={};A.exports=f;var x=p(64),t=p(83),a=p(165),i=p(32),e=p(84),s=p(271);(function(){f._inertiaScale=4,f._nextCollidingGroupId=1,f._nextNonCollidingGroupId=-1,f._nextCategory=1,f.create=function(n){var o={id:i.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!n.hasOwnProperty("position")&&n.hasOwnProperty("vertices")?n.position=x.centre(n.vertices):n.hasOwnProperty("vertices")||(o.vertices=x.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var l=i.extend(o,n);return r(l,n),l.setOnCollideWith=function(h,u){return u?this.onCollideWith[h.id]=u:delete this.onCollideWith[h.id],this},l},f.nextGroup=function(n){return n?f._nextNonCollidingGroupId--:f._nextCollidingGroupId++},f.nextCategory=function(){return f._nextCategory=f._nextCategory<<1,f._nextCategory};var r=function(n,o){o=o||{},f.set(n,{bounds:n.bounds||e.create(n.vertices),positionPrev:n.positionPrev||t.clone(n.position),anglePrev:n.anglePrev||n.angle,vertices:n.vertices,parts:n.parts||[n],isStatic:n.isStatic,isSleeping:n.isSleeping,parent:n.parent||n});var l=n.bounds;if(x.rotate(n.vertices,n.angle,n.position),s.rotate(n.axes,n.angle),e.update(l,n.vertices,n.velocity),f.set(n,{axes:o.axes||n.axes,area:o.area||n.area,mass:o.mass||n.mass,inertia:o.inertia||n.inertia}),n.parts.length===1){var h=n.centerOfMass,u=n.centerOffset,c=l.max.x-l.min.x,d=l.max.y-l.min.y;h.x=-(l.min.x-n.position.x)/c,h.y=-(l.min.y-n.position.y)/d,u.x=c*h.x,u.y=d*h.y}};f.set=function(n,o,l){var h;typeof o=="string"&&(h=o,o={},o[h]=l);for(h in o)if(!!Object.prototype.hasOwnProperty.call(o,h))switch(l=o[h],h){case"isStatic":f.setStatic(n,l);break;case"isSleeping":a.set(n,l);break;case"mass":f.setMass(n,l);break;case"density":f.setDensity(n,l);break;case"inertia":f.setInertia(n,l);break;case"vertices":f.setVertices(n,l);break;case"position":f.setPosition(n,l);break;case"angle":f.setAngle(n,l);break;case"velocity":f.setVelocity(n,l);break;case"angularVelocity":f.setAngularVelocity(n,l);break;case"parts":f.setParts(n,l);break;case"centre":f.setCentre(n,l);break;default:n[h]=l}},f.setStatic=function(n,o){for(var l=0;l<n.parts.length;l++){var h=n.parts[l];h.isStatic=o,o?(h._original={restitution:h.restitution,friction:h.friction,mass:h.mass,inertia:h.inertia,density:h.density,inverseMass:h.inverseMass,inverseInertia:h.inverseInertia},h.restitution=0,h.friction=1,h.mass=h.inertia=h.density=1/0,h.inverseMass=h.inverseInertia=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.angularVelocity=0,h.speed=0,h.angularSpeed=0,h.motion=0):h._original&&(h.restitution=h._original.restitution,h.friction=h._original.friction,h.mass=h._original.mass,h.inertia=h._original.inertia,h.density=h._original.density,h.inverseMass=h._original.inverseMass,h.inverseInertia=h._original.inverseInertia,h._original=null)}},f.setMass=function(n,o){var l=n.inertia/(n.mass/6);n.inertia=l*(o/6),n.inverseInertia=1/n.inertia,n.mass=o,n.inverseMass=1/n.mass,n.density=n.mass/n.area},f.setDensity=function(n,o){f.setMass(n,o*n.area),n.density=o},f.setInertia=function(n,o){n.inertia=o,n.inverseInertia=1/n.inertia},f.setVertices=function(n,o){o[0].body===n?n.vertices=o:n.vertices=x.create(o,n),n.axes=s.fromVertices(n.vertices),n.area=x.area(n.vertices),f.setMass(n,n.density*n.area);var l=x.centre(n.vertices);x.translate(n.vertices,l,-1),f.setInertia(n,f._inertiaScale*x.inertia(n.vertices,n.mass)),x.translate(n.vertices,n.position),e.update(n.bounds,n.vertices,n.velocity)},f.setParts=function(n,o,l){var h;for(o=o.slice(0),n.parts.length=0,n.parts.push(n),n.parent=n,h=0;h<o.length;h++){var u=o[h];u!==n&&(u.parent=n,n.parts.push(u))}if(n.parts.length!==1){if(l=typeof l<"u"?l:!0,l){var c=[];for(h=0;h<o.length;h++)c=c.concat(o[h].vertices);x.clockwiseSort(c);var d=x.hull(c),v=x.centre(d);f.setVertices(n,d),x.translate(n.vertices,v)}var g=f._totalProperties(n),m=g.centre.x,y=g.centre.y,T=n.bounds,E=n.centerOfMass,S=n.centerOffset;e.update(T,n.vertices,n.velocity),E.x=-(T.min.x-m)/(T.max.x-T.min.x),E.y=-(T.min.y-y)/(T.max.y-T.min.y),S.x=m,S.y=y,n.area=g.area,n.parent=n,n.position.x=m,n.position.y=y,n.positionPrev.x=m,n.positionPrev.y=y,f.setMass(n,g.mass),f.setInertia(n,g.inertia),f.setPosition(n,g.centre)}},f.setCentre=function(n,o,l){l?(n.positionPrev.x+=o.x,n.positionPrev.y+=o.y,n.position.x+=o.x,n.position.y+=o.y):(n.positionPrev.x=o.x-(n.position.x-n.positionPrev.x),n.positionPrev.y=o.y-(n.position.y-n.positionPrev.y),n.position.x=o.x,n.position.y=o.y)},f.setPosition=function(n,o){var l=t.sub(o,n.position);n.positionPrev.x+=l.x,n.positionPrev.y+=l.y;for(var h=0;h<n.parts.length;h++){var u=n.parts[h];u.position.x+=l.x,u.position.y+=l.y,x.translate(u.vertices,l),e.update(u.bounds,u.vertices,n.velocity)}},f.setAngle=function(n,o){var l=o-n.angle;n.anglePrev+=l;for(var h=0;h<n.parts.length;h++){var u=n.parts[h];u.angle+=l,x.rotate(u.vertices,l,n.position),s.rotate(u.axes,l),e.update(u.bounds,u.vertices,n.velocity),h>0&&t.rotateAbout(u.position,l,n.position,u.position)}},f.setVelocity=function(n,o){n.positionPrev.x=n.position.x-o.x,n.positionPrev.y=n.position.y-o.y,n.velocity.x=o.x,n.velocity.y=o.y,n.speed=t.magnitude(n.velocity)},f.setAngularVelocity=function(n,o){n.anglePrev=n.angle-o,n.angularVelocity=o,n.angularSpeed=Math.abs(n.angularVelocity)},f.translate=function(n,o){f.setPosition(n,t.add(n.position,o))},f.rotate=function(n,o,l){if(!l)f.setAngle(n,n.angle+o);else{var h=Math.cos(o),u=Math.sin(o),c=n.position.x-l.x,d=n.position.y-l.y;f.setPosition(n,{x:l.x+(c*h-d*u),y:l.y+(c*u+d*h)}),f.setAngle(n,n.angle+o)}},f.scale=function(n,o,l,h){var u=0,c=0;h=h||n.position;for(var d=0;d<n.parts.length;d++){var v=n.parts[d];v.scale.x=o,v.scale.y=l,x.scale(v.vertices,o,l,h),v.axes=s.fromVertices(v.vertices),v.area=x.area(v.vertices),f.setMass(v,n.density*v.area),x.translate(v.vertices,{x:-v.position.x,y:-v.position.y}),f.setInertia(v,f._inertiaScale*x.inertia(v.vertices,v.mass)),x.translate(v.vertices,{x:v.position.x,y:v.position.y}),d>0&&(u+=v.area,c+=v.inertia),v.position.x=h.x+(v.position.x-h.x)*o,v.position.y=h.y+(v.position.y-h.y)*l,e.update(v.bounds,v.vertices,n.velocity)}n.parts.length>1&&(n.area=u,n.isStatic||(f.setMass(n,n.density*u),f.setInertia(n,c))),n.circleRadius&&(o===l?n.circleRadius*=o:n.circleRadius=null)},f.update=function(n,o,l,h){var u=Math.pow(o*l*n.timeScale,2),c=1-n.frictionAir*l*n.timeScale,d=n.position.x-n.positionPrev.x,v=n.position.y-n.positionPrev.y;n.velocity.x=d*c*h+n.force.x/n.mass*u,n.velocity.y=v*c*h+n.force.y/n.mass*u,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.position.x+=n.velocity.x,n.position.y+=n.velocity.y,n.angularVelocity=(n.angle-n.anglePrev)*c*h+n.torque/n.inertia*u,n.anglePrev=n.angle,n.angle+=n.angularVelocity,n.speed=t.magnitude(n.velocity),n.angularSpeed=Math.abs(n.angularVelocity);for(var g=0;g<n.parts.length;g++){var m=n.parts[g];x.translate(m.vertices,n.velocity),g>0&&(m.position.x+=n.velocity.x,m.position.y+=n.velocity.y),n.angularVelocity!==0&&(x.rotate(m.vertices,n.angularVelocity,n.position),s.rotate(m.axes,n.angularVelocity),g>0&&t.rotateAbout(m.position,n.angularVelocity,n.position,m.position)),e.update(m.bounds,m.vertices,n.velocity)}},f.applyForce=function(n,o,l){n.force.x+=l.x,n.force.y+=l.y;var h={x:o.x-n.position.x,y:o.y-n.position.y};n.torque+=h.x*l.y-h.y*l.x},f._totalProperties=function(n){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},l=n.parts.length===1?0:1;l<n.parts.length;l++){var h=n.parts[l],u=h.mass!==1/0?h.mass:1;o.mass+=u,o.area+=h.area,o.inertia+=h.inertia,o.centre=t.add(o.centre,t.mult(h.position,u))}return o.centre=t.div(o.centre,o.mass),o}})()},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.y+f.height-f.height*f.originY};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.x-f.width*f.originX};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.x+f.width-f.width*f.originX};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.y-f.height*f.originY};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i,e){a===void 0&&(a=0),i===void 0&&(i=0),e===void 0&&(e=1);var s,r=0,n=f.length;if(e===1)for(s=i;s<n;s++)f[s][x]+=t+r*a,r++;else for(s=i;s>=0;s--)f[s][x]+=t+r*a,r++;return f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(307),t=p(172),a=p(56),i=p(173),e=p(3),s=new f({initialize:function(n,o,l,h){n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=0),h===void 0&&(h=0),this.type=a.LINE,this.x1=n,this.y1=o,this.x2=l,this.y2=h},getPoint:function(r,n){return x(this,r,n)},getPoints:function(r,n,o){return t(this,r,n,o)},getRandomPoint:function(r){return i(this,r)},setTo:function(r,n,o,l){return r===void 0&&(r=0),n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=0),this.x1=r,this.y1=n,this.x2=o,this.y2=l,this},getPointA:function(r){return r===void 0&&(r=new e),r.set(this.x1,this.y1),r},getPointB:function(r){return r===void 0&&(r=new e),r.set(this.x2,this.y2),r},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(r){this.x1<=this.x2?this.x1=r:this.x2=r}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(r){this.x1>this.x2?this.x1=r:this.x2=r}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(r){this.y1<=this.y2?this.y1=r:this.y2=r}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(r){this.y1>this.y2?this.y1=r:this.y2=r}}});A.exports=s},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){var i=t||x.fillColor,e=a||x.fillAlpha,s=(i&16711680)>>>16,r=(i&65280)>>>8,n=i&255;f.fillStyle="rgba("+s+","+r+","+n+","+e+")"};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a,i,e,s){var r=[];s.forEach(function(o){o&&r.push(o)}),this.loader=a,this.type=i,this.key=e,this.multiKeyIndex=a.multiKeyIndex++,this.files=r,this.complete=!1,this.pending=r.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var n=0;n<r.length;n++)r[n].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(t){return this.files.push(t),t.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(t){var a=this.files.indexOf(t);a!==-1&&this.pending--},onFileFailed:function(t){var a=this.files.indexOf(t);a!==-1&&this.failed++}});A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){var i=f-t,e=x-a;return Math.sqrt(i*i+e*e)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={BOOT:p(922),DESTROY:p(923),DRAG_END:p(924),DRAG_ENTER:p(925),DRAG:p(926),DRAG_LEAVE:p(927),DRAG_OVER:p(928),DRAG_START:p(929),DROP:p(930),GAME_OUT:p(931),GAME_OVER:p(932),GAMEOBJECT_DOWN:p(933),GAMEOBJECT_DRAG_END:p(934),GAMEOBJECT_DRAG_ENTER:p(935),GAMEOBJECT_DRAG:p(936),GAMEOBJECT_DRAG_LEAVE:p(937),GAMEOBJECT_DRAG_OVER:p(938),GAMEOBJECT_DRAG_START:p(939),GAMEOBJECT_DROP:p(940),GAMEOBJECT_MOVE:p(941),GAMEOBJECT_OUT:p(942),GAMEOBJECT_OVER:p(943),GAMEOBJECT_POINTER_DOWN:p(944),GAMEOBJECT_POINTER_MOVE:p(945),GAMEOBJECT_POINTER_OUT:p(946),GAMEOBJECT_POINTER_OVER:p(947),GAMEOBJECT_POINTER_UP:p(948),GAMEOBJECT_POINTER_WHEEL:p(949),GAMEOBJECT_UP:p(950),GAMEOBJECT_WHEEL:p(951),MANAGER_BOOT:p(952),MANAGER_PROCESS:p(953),MANAGER_UPDATE:p(954),POINTER_DOWN:p(955),POINTER_DOWN_OUTSIDE:p(956),POINTER_MOVE:p(957),POINTER_OUT:p(958),POINTER_OVER:p(959),POINTER_UP:p(960),POINTER_UP_OUTSIDE:p(961),POINTER_WHEEL:p(962),POINTERLOCK_CHANGE:p(963),PRE_UPDATE:p(964),SHUTDOWN:p(965),START:p(966),UPDATE:p(967)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.y=x+f.height*f.originY,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.x=x+f.width*f.originX,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.x=x-f.width+f.width*f.originX,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.y=x-f.height+f.height*f.originY,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return f.width<=0||f.height<=0?!1:f.x<=x&&f.x+f.width>=x&&f.y<=t&&f.y+f.height>=t};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(175),t=p(9),a=p(374),i=p(2),e=p(69),s=p(91),r=p(141),n=p(12),o=p(375),l=new f({Extends:t,initialize:function(u){t.call(this);var c=u.game,d=c.renderer,v=d.gl;this.name=i(u,"name","WebGLPipeline"),this.game=c,this.renderer=d,this.manager,this.gl=v,this.view=c.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.topology=i(u,"topology",v.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.currentUnit=0,this.forceZero=i(u,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=u,this.glReset=!1},boot:function(){var h,u=this.gl,c=this.config,d=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var v=this.renderTargets,g=i(c,"renderTarget",!1);typeof g=="boolean"&&g&&(g=1);var m=d.width,y=d.height;if(typeof g=="number")for(h=0;h<g;h++)v.push(new r(d,m,y,1,0,!0));else if(Array.isArray(g))for(h=0;h<g.length;h++){var T=i(g[h],"scale",1),E=i(g[h],"minFilter",0),S=i(g[h],"autoClear",1);v.push(new r(d,m,y,T,E,S))}v.length&&(this.currentRenderTarget=v[0]),this.setShadersFromConfig(c);var C=this.shaders,M=0;for(h=0;h<C.length;h++)C[h].vertexSize>M&&(M=C[h].vertexSize);var P=i(c,"batchSize",d.config.batchSize);this.vertexCapacity=P*6;var R=new ArrayBuffer(this.vertexCapacity*M);this.vertexData=R,this.bytes=new Uint8Array(R),this.vertexViewF32=new Float32Array(R),this.vertexViewU32=new Uint32Array(R);var L=i(c,"vertices",null);for(L?(this.vertexViewF32.set(L),this.vertexBuffer=d.createVertexBuffer(R,u.STATIC_DRAW)):this.vertexBuffer=d.createVertexBuffer(R.byteLength,u.DYNAMIC_DRAW),this.setVertexBuffer(),h=C.length-1;h>=0;h--)C[h].rebind();this.hasBooted=!0,d.on(s.RESIZE,this.resize,this),d.on(s.PRE_RENDER,this.onPreRender,this),d.on(s.RENDER,this.onRender,this),d.on(s.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(h,u){var c=this.renderer;if(h!==this.currentShader||c.currentProgram!==this.currentShader.program){this.flush(),c.resetTextures();var d=this.setVertexBuffer();d&&!u&&(u=!0),h.bind(u,!1),this.currentShader=h}return this},getShaderByName:function(h){for(var u=this.shaders,c=0;c<u.length;c++)if(u[c].name===h)return u[c]},setShadersFromConfig:function(h){var u,c=this.shaders,d=this.renderer;for(u=0;u<c.length;u++)c[u].destroy();var v="vertShader",g="fragShader",m="attributes",y=i(h,v,null),T=n.parseFragmentShaderMaxTextures(i(h,g,null),d.maxTextures),E=i(h,m,null),S=i(h,"shaders",[]),C=S.length;if(C===0)y&&T&&(this.shaders=[new o(this,"default",y,T,x(E))]);else{var M=[];for(u=0;u<C;u++){var P=S[u],R=i(P,"name","default"),L=i(P,v,y),w=n.parseFragmentShaderMaxTextures(i(P,g,T),d.maxTextures),B=i(P,m,E);L&&w&&M.push(new o(this,R,L,w,x(B)))}this.shaders=M}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},setGameObject:function(h,u){return u===void 0&&(u=h.frame),this.currentUnit=this.renderer.setTextureSource(u.source),this.currentUnit},shouldFlush:function(h){return h===void 0&&(h=0),this.vertexCount+h>this.vertexCapacity},resize:function(h,u){(h!==this.width||u!==this.height)&&this.flush(),this.width=h,this.height=u;for(var c=this.renderTargets,d=0;d<c.length;d++)c[d].resize(h,u);return this.setProjectionMatrix(h,u),this.emit(a.RESIZE,h,u,this),this.onResize(h,u),this},setProjectionMatrix:function(h,u){var c=this.projectionMatrix;if(!c)return this;this.projectionWidth=h,this.projectionHeight=u,c.ortho(0,h,u,0,-1e3,1e3);for(var d=this.shaders,v="uProjectionMatrix",g=0;g<d.length;g++){var m=d[g];m.hasUniform(v)&&(m.resetUniform(v),m.setMatrix4fv(v,!1,c.val,m))}return this},updateProjectionMatrix:function(){if(this.projectionMatrix){var h=this.renderer.projectionWidth,u=this.renderer.projectionHeight;(this.projectionWidth!==h||this.projectionHeight!==u)&&this.setProjectionMatrix(h,u)}},bind:function(h){if(h===void 0&&(h=this.currentShader),this.glReset)return this.rebind(h);var u=this.setVertexBuffer();return h.bind(u),this.currentShader=h,this.emit(a.BIND,this,h),this.onActive(h),this},rebind:function(h){this.setVertexBuffer();for(var u=this.shaders,c=u.length-1;c>=0;c--){var d=u[c].rebind();(!h||d===h)&&(this.currentShader=d)}return this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(){var h=this.gl,u=this.vertexBuffer;return h.getParameter(h.ARRAY_BUFFER_BINDING)!==u?(h.bindBuffer(h.ARRAY_BUFFER,u),!0):!1},preBatch:function(h){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(h),this},postBatch:function(h){return this.onDraw(this.currentRenderTarget),this.onPostBatch(h),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(h){if(h===void 0&&(h=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,h),this.onBeforeFlush(h);var u=this.gl,c=this.vertexCount,d=this.currentShader.vertexSize;this.active&&(this.setVertexBuffer(),c===this.vertexCapacity?u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.DYNAMIC_DRAW):u.bufferSubData(u.ARRAY_BUFFER,0,this.bytes.subarray(0,c*d)),u.drawArrays(this.topology,0,c)),this.vertexCount=0,this.emit(a.AFTER_FLUSH,this,h),this.onAfterFlush(h)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(h,u,c,d,v,g,m){var y=this.vertexViewF32,T=this.vertexViewU32,E=this.vertexCount*this.currentShader.vertexComponentCount-1;y[++E]=h,y[++E]=u,y[++E]=c,y[++E]=d,y[++E]=v,y[++E]=g,T[++E]=m,this.vertexCount++},batchQuad:function(h,u,c,d,v,g,m,y,T,E,S,C,M,P,R,L,w,B,G,Y){Y===void 0&&(Y=this.currentUnit);var D=!1;return this.shouldFlush(6)&&(this.flush(),D=!0,Y=this.setTexture2D(G)),this.batchVert(u,c,E,S,Y,B,P),this.batchVert(d,v,E,M,Y,B,L),this.batchVert(g,m,C,M,Y,B,w),this.batchVert(u,c,E,S,Y,B,P),this.batchVert(g,m,C,M,Y,B,w),this.batchVert(y,T,C,S,Y,B,R),this.onBatch(h),D},batchTri:function(h,u,c,d,v,g,m,y,T,E,S,C,M,P,R,L,w){w===void 0&&(w=this.currentUnit);var B=!1;return this.shouldFlush(3)&&(this.flush(),B=!0,w=this.setTexture2D(L)),this.batchVert(u,c,y,T,w,R,C),this.batchVert(d,v,y,S,w,R,M),this.batchVert(g,m,E,S,w,R,P),this.onBatch(h),B},drawFillRect:function(h,u,c,d,v,g,m,y){m===void 0&&(m=this.renderer.whiteTexture.glTexture),y===void 0&&(y=!0),h=Math.floor(h),u=Math.floor(u);var T=Math.floor(h+c),E=Math.floor(u+d),S=this.setTexture2D(m),C=n.getTintAppendFloatAlphaAndSwap(v,g),M=0,P=0,R=1,L=1;y&&(P=1,L=0),this.batchQuad(null,h,u,h,E,T,E,T,u,M,P,R,L,C,C,C,C,0,m,S)},setTexture2D:function(h){return h===void 0&&(h=this.renderer.whiteTexture.glTexture),this.currentUnit=this.renderer.setTexture2D(h),this.currentUnit},bindTexture:function(h,u){u===void 0&&(u=0);var c=this.gl;return c.activeTexture(c.TEXTURE0+u),c.bindTexture(c.TEXTURE_2D,h),this},bindRenderTarget:function(h,u){return this.bindTexture(h.texture,u)},setTime:function(h){return this.set1f(h,this.game.loop.getDuration()),this},set1f:function(h,u,c){return c===void 0&&(c=this.currentShader),c.set1f(h,u),this},set2f:function(h,u,c,d){return d===void 0&&(d=this.currentShader),d.set2f(h,u,c),this},set3f:function(h,u,c,d,v){return v===void 0&&(v=this.currentShader),v.set3f(h,u,c,d),this},set4f:function(h,u,c,d,v,g){return g===void 0&&(g=this.currentShader),g.set4f(h,u,c,d,v),this},set1fv:function(h,u,c){return c===void 0&&(c=this.currentShader),c.set1fv(h,u),this},set2fv:function(h,u,c){return c===void 0&&(c=this.currentShader),c.set2fv(h,u),this},set3fv:function(h,u,c){return c===void 0&&(c=this.currentShader),c.set3fv(h,u),this},set4fv:function(h,u,c){return c===void 0&&(c=this.currentShader),c.set4fv(h,u),this},set1iv:function(h,u,c){return c===void 0&&(c=this.currentShader),c.set1iv(h,u),this},set2iv:function(h,u,c){return c===void 0&&(c=this.currentShader),c.set2iv(h,u),this},set3iv:function(h,u,c){return c===void 0&&(c=this.currentShader),c.set3iv(h,u),this},set4iv:function(h,u,c){return c===void 0&&(c=this.currentShader),c.set4iv(h,u),this},set1i:function(h,u,c){return c===void 0&&(c=this.currentShader),c.set1i(h,u),this},set2i:function(h,u,c,d){return d===void 0&&(d=this.currentShader),d.set2i(h,u,c),this},set3i:function(h,u,c,d,v){return v===void 0&&(v=this.currentShader),v.set3i(h,u,c,d),this},set4i:function(h,u,c,d,v,g){return g===void 0&&(g=this.currentShader),g.set4i(h,u,c,d,v),this},setMatrix2fv:function(h,u,c,d){return d===void 0&&(d=this.currentShader),d.setMatrix2fv(h,u,c),this},setMatrix3fv:function(h,u,c,d){return d===void 0&&(d=this.currentShader),d.setMatrix3fv(h,u,c),this},setMatrix4fv:function(h,u,c,d){return d===void 0&&(d=this.currentShader),d.setMatrix4fv(h,u,c),this},destroy:function(){this.emit(a.DESTROY,this);var h,u=this.shaders;for(h=0;h<u.length;h++)u[h].destroy();var c=this.renderTargets;for(h=0;h<c.length;h++)c[h].destroy();this.gl.deleteBuffer(this.vertexBuffer);var d=this.renderer;return d.off(s.RESIZE,this.resize,this),d.off(s.PRE_RENDER,this.onPreRender,this),d.off(s.RENDER,this.onRender,this),d.off(s.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this}});A.exports=l},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function f(F,N,I){I=I||2;var b=N&&N.length,U=b?N[0]*I:F.length,X=x(F,0,U,I,!0),z=[];if(!X||X.next===X.prev)return z;var V,W,H,K,Z,j,k;if(b&&(X=n(F,N,X,I)),F.length>80*I){V=H=F[0],W=K=F[1];for(var J=I;J<U;J+=I)Z=F[J],j=F[J+1],Z<V&&(V=Z),j<W&&(W=j),Z>H&&(H=Z),j>K&&(K=j);k=Math.max(H-V,K-W),k=k!==0?1/k:0}return a(X,z,I,V,W,k),z}function x(F,N,I,b,U){var X,z;if(U===D(F,N,I,b)>0)for(X=N;X<I;X+=b)z=B(X,F[X],F[X+1],z);else for(X=I-b;X>=N;X-=b)z=B(X,F[X],F[X+1],z);return z&&E(z,z.next)&&(G(z),z=z.next),z}function t(F,N){if(!F)return F;N||(N=F);var I=F,b;do if(b=!1,!I.steiner&&(E(I,I.next)||T(I.prev,I,I.next)===0)){if(G(I),I=N=I.prev,I===I.next)break;b=!0}else I=I.next;while(b||I!==N);return N}function a(F,N,I,b,U,X,z){if(!!F){!z&&X&&c(F,b,U,X);for(var V=F,W,H;F.prev!==F.next;){if(W=F.prev,H=F.next,X?e(F,b,U,X):i(F)){N.push(W.i/I),N.push(F.i/I),N.push(H.i/I),G(F),F=H.next,V=H.next;continue}if(F=H,F===V){z?z===1?(F=s(t(F),N,I),a(F,N,I,b,U,X,2)):z===2&&r(F,N,I,b,U,X):a(t(F),N,I,b,U,X,1);break}}}}function i(F){var N=F.prev,I=F,b=F.next;if(T(N,I,b)>=0)return!1;for(var U=F.next.next;U!==F.prev;){if(m(N.x,N.y,I.x,I.y,b.x,b.y,U.x,U.y)&&T(U.prev,U,U.next)>=0)return!1;U=U.next}return!0}function e(F,N,I,b){var U=F.prev,X=F,z=F.next;if(T(U,X,z)>=0)return!1;for(var V=U.x<X.x?U.x<z.x?U.x:z.x:X.x<z.x?X.x:z.x,W=U.y<X.y?U.y<z.y?U.y:z.y:X.y<z.y?X.y:z.y,H=U.x>X.x?U.x>z.x?U.x:z.x:X.x>z.x?X.x:z.x,K=U.y>X.y?U.y>z.y?U.y:z.y:X.y>z.y?X.y:z.y,Z=v(V,W,N,I,b),j=v(H,K,N,I,b),k=F.prevZ,J=F.nextZ;k&&k.z>=Z&&J&&J.z<=j;){if(k!==F.prev&&k!==F.next&&m(U.x,U.y,X.x,X.y,z.x,z.y,k.x,k.y)&&T(k.prev,k,k.next)>=0||(k=k.prevZ,J!==F.prev&&J!==F.next&&m(U.x,U.y,X.x,X.y,z.x,z.y,J.x,J.y)&&T(J.prev,J,J.next)>=0))return!1;J=J.nextZ}for(;k&&k.z>=Z;){if(k!==F.prev&&k!==F.next&&m(U.x,U.y,X.x,X.y,z.x,z.y,k.x,k.y)&&T(k.prev,k,k.next)>=0)return!1;k=k.prevZ}for(;J&&J.z<=j;){if(J!==F.prev&&J!==F.next&&m(U.x,U.y,X.x,X.y,z.x,z.y,J.x,J.y)&&T(J.prev,J,J.next)>=0)return!1;J=J.nextZ}return!0}function s(F,N,I){var b=F;do{var U=b.prev,X=b.next.next;!E(U,X)&&S(U,b,b.next,X)&&R(U,X)&&R(X,U)&&(N.push(U.i/I),N.push(b.i/I),N.push(X.i/I),G(b),G(b.next),b=F=X),b=b.next}while(b!==F);return t(b)}function r(F,N,I,b,U,X){var z=F;do{for(var V=z.next.next;V!==z.prev;){if(z.i!==V.i&&y(z,V)){var W=w(z,V);z=t(z,z.next),W=t(W,W.next),a(z,N,I,b,U,X),a(W,N,I,b,U,X);return}V=V.next}z=z.next}while(z!==F)}function n(F,N,I,b){var U=[],X,z,V,W,H;for(X=0,z=N.length;X<z;X++)V=N[X]*b,W=X<z-1?N[X+1]*b:F.length,H=x(F,V,W,b,!1),H===H.next&&(H.steiner=!0),U.push(g(H));for(U.sort(o),X=0;X<U.length;X++)l(U[X],I),I=t(I,I.next);return I}function o(F,N){return F.x-N.x}function l(F,N){if(N=h(F,N),N){var I=w(N,F);t(N,N.next),t(I,I.next)}}function h(F,N){var I=N,b=F.x,U=F.y,X=-1/0,z;do{if(U<=I.y&&U>=I.next.y&&I.next.y!==I.y){var V=I.x+(U-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(V<=b&&V>X){if(X=V,V===b){if(U===I.y)return I;if(U===I.next.y)return I.next}z=I.x<I.next.x?I:I.next}}I=I.next}while(I!==N);if(!z)return null;if(b===X)return z;var W=z,H=z.x,K=z.y,Z=1/0,j;I=z;do b>=I.x&&I.x>=H&&b!==I.x&&m(U<K?b:X,U,H,K,U<K?X:b,U,I.x,I.y)&&(j=Math.abs(U-I.y)/(b-I.x),R(I,F)&&(j<Z||j===Z&&(I.x>z.x||I.x===z.x&&u(z,I)))&&(z=I,Z=j)),I=I.next;while(I!==W);return z}function u(F,N){return T(F.prev,F,N.prev)<0&&T(N.next,F,F.next)<0}function c(F,N,I,b){var U=F;do U.z===null&&(U.z=v(U.x,U.y,N,I,b)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==F);U.prevZ.nextZ=null,U.prevZ=null,d(U)}function d(F){var N,I,b,U,X,z,V,W,H=1;do{for(I=F,F=null,X=null,z=0;I;){for(z++,b=I,V=0,N=0;N<H&&(V++,b=b.nextZ,!!b);N++);for(W=H;V>0||W>0&&b;)V!==0&&(W===0||!b||I.z<=b.z)?(U=I,I=I.nextZ,V--):(U=b,b=b.nextZ,W--),X?X.nextZ=U:F=U,U.prevZ=X,X=U;I=b}X.nextZ=null,H*=2}while(z>1);return F}function v(F,N,I,b,U){return F=32767*(F-I)*U,N=32767*(N-b)*U,F=(F|F<<8)&16711935,F=(F|F<<4)&252645135,F=(F|F<<2)&858993459,F=(F|F<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,F|N<<1}function g(F){var N=F,I=F;do(N.x<I.x||N.x===I.x&&N.y<I.y)&&(I=N),N=N.next;while(N!==F);return I}function m(F,N,I,b,U,X,z,V){return(U-z)*(N-V)-(F-z)*(X-V)>=0&&(F-z)*(b-V)-(I-z)*(N-V)>=0&&(I-z)*(X-V)-(U-z)*(b-V)>=0}function y(F,N){return F.next.i!==N.i&&F.prev.i!==N.i&&!P(F,N)&&(R(F,N)&&R(N,F)&&L(F,N)&&(T(F.prev,F,N.prev)||T(F,N.prev,N))||E(F,N)&&T(F.prev,F,F.next)>0&&T(N.prev,N,N.next)>0)}function T(F,N,I){return(N.y-F.y)*(I.x-N.x)-(N.x-F.x)*(I.y-N.y)}function E(F,N){return F.x===N.x&&F.y===N.y}function S(F,N,I,b){var U=M(T(F,N,I)),X=M(T(F,N,b)),z=M(T(I,b,F)),V=M(T(I,b,N));return!!(U!==X&&z!==V||U===0&&C(F,I,N)||X===0&&C(F,b,N)||z===0&&C(I,F,b)||V===0&&C(I,N,b))}function C(F,N,I){return N.x<=Math.max(F.x,I.x)&&N.x>=Math.min(F.x,I.x)&&N.y<=Math.max(F.y,I.y)&&N.y>=Math.min(F.y,I.y)}function M(F){return F>0?1:F<0?-1:0}function P(F,N){var I=F;do{if(I.i!==F.i&&I.next.i!==F.i&&I.i!==N.i&&I.next.i!==N.i&&S(I,I.next,F,N))return!0;I=I.next}while(I!==F);return!1}function R(F,N){return T(F.prev,F,F.next)<0?T(F,N,F.next)>=0&&T(F,F.prev,N)>=0:T(F,N,F.prev)<0||T(F,F.next,N)<0}function L(F,N){var I=F,b=!1,U=(F.x+N.x)/2,X=(F.y+N.y)/2;do I.y>X!=I.next.y>X&&I.next.y!==I.y&&U<(I.next.x-I.x)*(X-I.y)/(I.next.y-I.y)+I.x&&(b=!b),I=I.next;while(I!==F);return b}function w(F,N){var I=new Y(F.i,F.x,F.y),b=new Y(N.i,N.x,N.y),U=F.next,X=N.prev;return F.next=N,N.prev=F,I.next=U,U.prev=I,b.next=I,I.prev=b,X.next=b,b.prev=X,b}function B(F,N,I,b){var U=new Y(F,N,I);return b?(U.next=b.next,U.prev=b,b.next.prev=U,b.next=U):(U.prev=U,U.next=U),U}function G(F){F.next.prev=F.prev,F.prev.next=F.next,F.prevZ&&(F.prevZ.nextZ=F.nextZ),F.nextZ&&(F.nextZ.prevZ=F.prevZ)}function Y(F,N,I){this.i=F,this.x=N,this.y=I,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}f.deviation=function(F,N,I,b){var U=N&&N.length,X=U?N[0]*I:F.length,z=Math.abs(D(F,0,X,I));if(U)for(var V=0,W=N.length;V<W;V++){var H=N[V]*I,K=V<W-1?N[V+1]*I:F.length;z-=Math.abs(D(F,H,K,I))}var Z=0;for(V=0;V<b.length;V+=3){var j=b[V]*I,k=b[V+1]*I,J=b[V+2]*I;Z+=Math.abs((F[j]-F[J])*(F[k+1]-F[j+1])-(F[j]-F[k])*(F[J+1]-F[j+1]))}return z===0&&Z===0?0:Math.abs((Z-z)/z)};function D(F,N,I,b){for(var U=0,X=N,z=I-b;X<I;X+=b)U+=(F[z]-F[X])*(F[X+1]+F[z+1]),z=X;return U}f.flatten=function(F){for(var N=F[0][0].length,I={vertices:[],holes:[],dimensions:N},b=0,U=0;U<F.length;U++){for(var X=0;X<F[U].length;X++)for(var z=0;z<N;z++)I.vertices.push(F[U][X][z]);U>0&&(b+=F[U-1].length,I.holes.push(b))}return I},A.exports=f},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){var i=t||x.strokeColor,e=a||x.strokeAlpha,s=(i&16711680)>>>16,r=(i&65280)>>>8,n=i&255;f.strokeStyle="rgba("+s+","+r+","+n+","+e+")",f.lineWidth=x.lineWidth};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(6),s=p(7),r=new f({Extends:t,initialize:function(o,l,h,u,c){var d="json";if(s(l)){var v=l;l=i(v,"key"),h=i(v,"url"),u=i(v,"xhrSettings"),d=i(v,"extension",d),c=i(v,"dataKey",c)}var g={type:"json",cache:o.cacheManager.json,extension:d,responseType:"text",key:l,url:h,xhrSettings:u,config:c};t.call(this,o,g),s(h)&&(c?this.data=e(h,c):this.data=h,this.state=x.FILE_POPULATED)},onProcess:function(){if(this.state!==x.FILE_POPULATED){this.state=x.FILE_PROCESSING;try{var n=JSON.parse(this.xhrLoader.responseText)}catch(l){throw console.warn("Invalid JSON: "+this.key),this.onProcessError(),l}var o=this.config;typeof o=="string"?this.data=e(n,o,n):this.data=n}this.onProcessComplete()}});a.register("json",function(n,o,l,h){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new r(this,n[u]));else this.addFile(new r(this,n,o,h,l));return this}),A.exports=r},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(158),x=p(26),t=function(a,i,e,s,r){for(var n=null,o=null,l=null,h=null,u=x(a,i,e,s,null,r),c=0;c<u.length;c++){var d=u[c];d&&(d.collides?(n=f(d.x,d.y-1,!0,r),o=f(d.x,d.y+1,!0,r),l=f(d.x-1,d.y,!0,r),h=f(d.x+1,d.y,!0,r),d.faceTop=!(n&&n.collides),d.faceBottom=!(o&&o.collides),d.faceLeft=!(l&&l.collides),d.faceRight=!(h&&h.collides)):d.resetFaces())}};A.exports=t},function(A,O,p){var f={};A.exports=f;var x=p(83),t=p(32);(function(){f.create=function(a,i){for(var e=[],s=0;s<a.length;s++){var r=a[s],n={x:r.x,y:r.y,index:s,body:i,isInternal:!1,contact:null,offset:null};n.contact={vertex:n,normalImpulse:0,tangentImpulse:0},e.push(n)}return e},f.fromPath=function(a,i){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,s=[];return a.replace(e,function(r,n,o){s.push({x:parseFloat(n),y:parseFloat(o)})}),f.create(s,i)},f.centre=function(a){for(var i=f.area(a,!0),e={x:0,y:0},s,r,n,o=0;o<a.length;o++)n=(o+1)%a.length,s=x.cross(a[o],a[n]),r=x.mult(x.add(a[o],a[n]),s),e=x.add(e,r);return x.div(e,6*i)},f.mean=function(a){for(var i={x:0,y:0},e=0;e<a.length;e++)i.x+=a[e].x,i.y+=a[e].y;return x.div(i,a.length)},f.area=function(a,i){for(var e=0,s=a.length-1,r=0;r<a.length;r++)e+=(a[s].x-a[r].x)*(a[s].y+a[r].y),s=r;return i?e/2:Math.abs(e)/2},f.inertia=function(a,i){for(var e=0,s=0,r=a,n,o,l=0;l<r.length;l++)o=(l+1)%r.length,n=Math.abs(x.cross(r[o],r[l])),e+=n*(x.dot(r[o],r[o])+x.dot(r[o],r[l])+x.dot(r[l],r[l])),s+=n;return i/6*(e/s)},f.translate=function(a,i,e){var s;if(e)for(s=0;s<a.length;s++)a[s].x+=i.x*e,a[s].y+=i.y*e;else for(s=0;s<a.length;s++)a[s].x+=i.x,a[s].y+=i.y;return a},f.rotate=function(a,i,e){if(i!==0){for(var s=Math.cos(i),r=Math.sin(i),n=0;n<a.length;n++){var o=a[n],l=o.x-e.x,h=o.y-e.y;o.x=e.x+(l*s-h*r),o.y=e.y+(l*r+h*s)}return a}},f.contains=function(a,i){for(var e=0;e<a.length;e++){var s=a[e],r=a[(e+1)%a.length];if((i.x-s.x)*(r.y-s.y)+(i.y-s.y)*(s.x-r.x)>0)return!1}return!0},f.scale=function(a,i,e,s){if(i===1&&e===1)return a;s=s||f.centre(a);for(var r,n,o=0;o<a.length;o++)r=a[o],n=x.sub(r,s),a[o].x=s.x+n.x*i,a[o].y=s.y+n.y*e;return a},f.chamfer=function(a,i,e,s,r){typeof i=="number"?i=[i]:i=i||[8],e=typeof e<"u"?e:-1,s=s||2,r=r||14;for(var n=[],o=0;o<a.length;o++){var l=a[o-1>=0?o-1:a.length-1],h=a[o],u=a[(o+1)%a.length],c=i[o<i.length?o:i.length-1];if(c===0){n.push(h);continue}var d=x.normalise({x:h.y-l.y,y:l.x-h.x}),v=x.normalise({x:u.y-h.y,y:h.x-u.x}),g=Math.sqrt(2*Math.pow(c,2)),m=x.mult(t.clone(d),c),y=x.normalise(x.mult(x.add(d,v),.5)),T=x.sub(h,x.mult(y,g)),E=e;e===-1&&(E=Math.pow(c,.32)*1.75),E=t.clamp(E,s,r),E%2===1&&(E+=1);for(var S=Math.acos(x.dot(d,v)),C=S/E,M=0;M<E;M++)n.push(x.add(x.rotate(m,C*M),T))}return n},f.clockwiseSort=function(a){var i=f.mean(a);return a.sort(function(e,s){return x.angle(i,e)-x.angle(i,s)}),a},f.isConvex=function(a){var i=0,e=a.length,s,r,n,o;if(e<3)return null;for(s=0;s<e;s++)if(r=(s+1)%e,n=(s+2)%e,o=(a[r].x-a[s].x)*(a[n].y-a[r].y),o-=(a[r].y-a[s].y)*(a[n].x-a[r].x),o<0?i|=1:o>0&&(i|=2),i===3)return!1;return i!==0?!0:null},f.hull=function(a){var i=[],e=[],s,r;for(a=a.slice(0),a.sort(function(n,o){var l=n.x-o.x;return l!==0?l:n.y-o.y}),r=0;r<a.length;r+=1){for(s=a[r];e.length>=2&&x.cross3(e[e.length-2],e[e.length-1],s)<=0;)e.pop();e.push(s)}for(r=a.length-1;r>=0;r-=1){for(s=a[r];i.length>=2&&x.cross3(i[i.length-2],i[i.length-1],s)<=0;)i.pop();i.push(s)}return i.pop(),e.pop(),i.concat(e)}})()},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(66),t=p(300),a=p(301),i=p(56),e=p(170),s=new f({initialize:function(n,o,l){n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=0),this.type=i.CIRCLE,this.x=n,this.y=o,this._radius=l,this._diameter=l*2},contains:function(r,n){return x(this,r,n)},getPoint:function(r,n){return t(this,r,n)},getPoints:function(r,n,o){return a(this,r,n,o)},getRandomPoint:function(r){return e(this,r)},setTo:function(r,n,o){return this.x=r,this.y=n,this._radius=o,this._diameter=o*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(r,n){return n===void 0&&(n=r),this.x=r,this.y=n,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(r){this._radius=r,this._diameter=r*2}},diameter:{get:function(){return this._diameter},set:function(r){this._diameter=r,this._radius=r*.5}},left:{get:function(){return this.x-this._radius},set:function(r){this.x=r+this._radius}},right:{get:function(){return this.x+this._radius},set:function(r){this.x=r-this._radius}},top:{get:function(){return this.y-this._radius},set:function(r){this.y=r+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(r){this.y=r-this._radius}}});A.exports=s},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){if(f.radius>0&&x>=f.left&&x<=f.right&&t>=f.top&&t<=f.bottom){var a=(f.x-x)*(f.x-x),i=(f.y-t)*(f.y-t);return a+i<=f.radius*f.radius}else return!1};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return Math.sqrt((f.x2-f.x1)*(f.x2-f.x1)+(f.y2-f.y1)*(f.y2-f.y1))};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=t-x;return x+((f-x)%a+a)%a};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(39),t=1e-6,a=new f({initialize:function(l){this.val=new Float32Array(16),l?this.copy(l):this.identity()},clone:function(){return new a(this)},set:function(o){return this.copy(o)},setValues:function(o,l,h,u,c,d,v,g,m,y,T,E,S,C,M,P){var R=this.val;return R[0]=o,R[1]=l,R[2]=h,R[3]=u,R[4]=c,R[5]=d,R[6]=v,R[7]=g,R[8]=m,R[9]=y,R[10]=T,R[11]=E,R[12]=S,R[13]=C,R[14]=M,R[15]=P,this},copy:function(o){var l=o.val;return this.setValues(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])},fromArray:function(o){return this.setValues(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(o,l,h){var u=i.fromQuat(h),c=u.val,d=l.x,v=l.y,g=l.z;return this.setValues(c[0]*d,c[1]*d,c[2]*d,0,c[4]*v,c[5]*v,c[6]*v,0,c[8]*g,c[9]*g,c[10]*g,0,o.x,o.y,o.z,1)},xyz:function(o,l,h){this.identity();var u=this.val;return u[12]=o,u[13]=l,u[14]=h,this},scaling:function(o,l,h){this.zero();var u=this.val;return u[0]=o,u[5]=l,u[10]=h,u[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var o=this.val,l=o[1],h=o[2],u=o[3],c=o[6],d=o[7],v=o[11];return o[1]=o[4],o[2]=o[8],o[3]=o[12],o[4]=l,o[6]=o[9],o[7]=o[13],o[8]=h,o[9]=c,o[11]=o[14],o[12]=u,o[13]=d,o[14]=v,this},getInverse:function(o){return this.copy(o),this.invert()},invert:function(){var o=this.val,l=o[0],h=o[1],u=o[2],c=o[3],d=o[4],v=o[5],g=o[6],m=o[7],y=o[8],T=o[9],E=o[10],S=o[11],C=o[12],M=o[13],P=o[14],R=o[15],L=l*v-h*d,w=l*g-u*d,B=l*m-c*d,G=h*g-u*v,Y=h*m-c*v,D=u*m-c*g,F=y*M-T*C,N=y*P-E*C,I=y*R-S*C,b=T*P-E*M,U=T*R-S*M,X=E*R-S*P,z=L*X-w*U+B*b+G*I-Y*N+D*F;return z?(z=1/z,this.setValues((v*X-g*U+m*b)*z,(u*U-h*X-c*b)*z,(M*D-P*Y+R*G)*z,(E*Y-T*D-S*G)*z,(g*I-d*X-m*N)*z,(l*X-u*I+c*N)*z,(P*B-C*D-R*w)*z,(y*D-E*B+S*w)*z,(d*U-v*I+m*F)*z,(h*I-l*U-c*F)*z,(C*Y-M*B+R*L)*z,(T*B-y*Y-S*L)*z,(v*N-d*b-g*F)*z,(l*b-h*N+u*F)*z,(M*w-C*G-P*L)*z,(y*G-T*w+E*L)*z)):this},adjoint:function(){var o=this.val,l=o[0],h=o[1],u=o[2],c=o[3],d=o[4],v=o[5],g=o[6],m=o[7],y=o[8],T=o[9],E=o[10],S=o[11],C=o[12],M=o[13],P=o[14],R=o[15];return this.setValues(v*(E*R-S*P)-T*(g*R-m*P)+M*(g*S-m*E),-(h*(E*R-S*P)-T*(u*R-c*P)+M*(u*S-c*E)),h*(g*R-m*P)-v*(u*R-c*P)+M*(u*m-c*g),-(h*(g*S-m*E)-v*(u*S-c*E)+T*(u*m-c*g)),-(d*(E*R-S*P)-y*(g*R-m*P)+C*(g*S-m*E)),l*(E*R-S*P)-y*(u*R-c*P)+C*(u*S-c*E),-(l*(g*R-m*P)-d*(u*R-c*P)+C*(u*m-c*g)),l*(g*S-m*E)-d*(u*S-c*E)+y*(u*m-c*g),d*(T*R-S*M)-y*(v*R-m*M)+C*(v*S-m*T),-(l*(T*R-S*M)-y*(h*R-c*M)+C*(h*S-c*T)),l*(v*R-m*M)-d*(h*R-c*M)+C*(h*m-c*v),-(l*(v*S-m*T)-d*(h*S-c*T)+y*(h*m-c*v)),-(d*(T*P-E*M)-y*(v*P-g*M)+C*(v*E-g*T)),l*(T*P-E*M)-y*(h*P-u*M)+C*(h*E-u*T),-(l*(v*P-g*M)-d*(h*P-u*M)+C*(h*g-u*v)),l*(v*E-g*T)-d*(h*E-u*T)+y*(h*g-u*v))},determinant:function(){var o=this.val,l=o[0],h=o[1],u=o[2],c=o[3],d=o[4],v=o[5],g=o[6],m=o[7],y=o[8],T=o[9],E=o[10],S=o[11],C=o[12],M=o[13],P=o[14],R=o[15],L=l*v-h*d,w=l*g-u*d,B=l*m-c*d,G=h*g-u*v,Y=h*m-c*v,D=u*m-c*g,F=y*M-T*C,N=y*P-E*C,I=y*R-S*C,b=T*P-E*M,U=T*R-S*M,X=E*R-S*P;return L*X-w*U+B*b+G*I-Y*N+D*F},multiply:function(o){var l=this.val,h=l[0],u=l[1],c=l[2],d=l[3],v=l[4],g=l[5],m=l[6],y=l[7],T=l[8],E=l[9],S=l[10],C=l[11],M=l[12],P=l[13],R=l[14],L=l[15],w=o.val,B=w[0],G=w[1],Y=w[2],D=w[3];return l[0]=B*h+G*v+Y*T+D*M,l[1]=B*u+G*g+Y*E+D*P,l[2]=B*c+G*m+Y*S+D*R,l[3]=B*d+G*y+Y*C+D*L,B=w[4],G=w[5],Y=w[6],D=w[7],l[4]=B*h+G*v+Y*T+D*M,l[5]=B*u+G*g+Y*E+D*P,l[6]=B*c+G*m+Y*S+D*R,l[7]=B*d+G*y+Y*C+D*L,B=w[8],G=w[9],Y=w[10],D=w[11],l[8]=B*h+G*v+Y*T+D*M,l[9]=B*u+G*g+Y*E+D*P,l[10]=B*c+G*m+Y*S+D*R,l[11]=B*d+G*y+Y*C+D*L,B=w[12],G=w[13],Y=w[14],D=w[15],l[12]=B*h+G*v+Y*T+D*M,l[13]=B*u+G*g+Y*E+D*P,l[14]=B*c+G*m+Y*S+D*R,l[15]=B*d+G*y+Y*C+D*L,this},multiplyLocal:function(o){var l=this.val,h=o.val;return this.setValues(l[0]*h[0]+l[1]*h[4]+l[2]*h[8]+l[3]*h[12],l[0]*h[1]+l[1]*h[5]+l[2]*h[9]+l[3]*h[13],l[0]*h[2]+l[1]*h[6]+l[2]*h[10]+l[3]*h[14],l[0]*h[3]+l[1]*h[7]+l[2]*h[11]+l[3]*h[15],l[4]*h[0]+l[5]*h[4]+l[6]*h[8]+l[7]*h[12],l[4]*h[1]+l[5]*h[5]+l[6]*h[9]+l[7]*h[13],l[4]*h[2]+l[5]*h[6]+l[6]*h[10]+l[7]*h[14],l[4]*h[3]+l[5]*h[7]+l[6]*h[11]+l[7]*h[15],l[8]*h[0]+l[9]*h[4]+l[10]*h[8]+l[11]*h[12],l[8]*h[1]+l[9]*h[5]+l[10]*h[9]+l[11]*h[13],l[8]*h[2]+l[9]*h[6]+l[10]*h[10]+l[11]*h[14],l[8]*h[3]+l[9]*h[7]+l[10]*h[11]+l[11]*h[15],l[12]*h[0]+l[13]*h[4]+l[14]*h[8]+l[15]*h[12],l[12]*h[1]+l[13]*h[5]+l[14]*h[9]+l[15]*h[13],l[12]*h[2]+l[13]*h[6]+l[14]*h[10]+l[15]*h[14],l[12]*h[3]+l[13]*h[7]+l[14]*h[11]+l[15]*h[15])},premultiply:function(o){return this.multiplyMatrices(o,this)},multiplyMatrices:function(o,l){var h=o.val,u=l.val,c=h[0],d=h[4],v=h[8],g=h[12],m=h[1],y=h[5],T=h[9],E=h[13],S=h[2],C=h[6],M=h[10],P=h[14],R=h[3],L=h[7],w=h[11],B=h[15],G=u[0],Y=u[4],D=u[8],F=u[12],N=u[1],I=u[5],b=u[9],U=u[13],X=u[2],z=u[6],V=u[10],W=u[14],H=u[3],K=u[7],Z=u[11],j=u[15];return this.setValues(c*G+d*N+v*X+g*H,m*G+y*N+T*X+E*H,S*G+C*N+M*X+P*H,R*G+L*N+w*X+B*H,c*Y+d*I+v*z+g*K,m*Y+y*I+T*z+E*K,S*Y+C*I+M*z+P*K,R*Y+L*I+w*z+B*K,c*D+d*b+v*V+g*Z,m*D+y*b+T*V+E*Z,S*D+C*b+M*V+P*Z,R*D+L*b+w*V+B*Z,c*F+d*U+v*W+g*j,m*F+y*U+T*W+E*j,S*F+C*U+M*W+P*j,R*F+L*U+w*W+B*j)},translate:function(o){return this.translateXYZ(o.x,o.y,o.z)},translateXYZ:function(o,l,h){var u=this.val;return u[12]=u[0]*o+u[4]*l+u[8]*h+u[12],u[13]=u[1]*o+u[5]*l+u[9]*h+u[13],u[14]=u[2]*o+u[6]*l+u[10]*h+u[14],u[15]=u[3]*o+u[7]*l+u[11]*h+u[15],this},scale:function(o){return this.scaleXYZ(o.x,o.y,o.z)},scaleXYZ:function(o,l,h){var u=this.val;return u[0]=u[0]*o,u[1]=u[1]*o,u[2]=u[2]*o,u[3]=u[3]*o,u[4]=u[4]*l,u[5]=u[5]*l,u[6]=u[6]*l,u[7]=u[7]*l,u[8]=u[8]*h,u[9]=u[9]*h,u[10]=u[10]*h,u[11]=u[11]*h,this},makeRotationAxis:function(o,l){var h=Math.cos(l),u=Math.sin(l),c=1-h,d=o.x,v=o.y,g=o.z,m=c*d,y=c*v;return this.setValues(m*d+h,m*v-u*g,m*g+u*v,0,m*v+u*g,y*v+h,y*g-u*d,0,m*g-u*v,y*g+u*d,c*g*g+h,0,0,0,0,1)},rotate:function(o,l){var h=this.val,u=l.x,c=l.y,d=l.z,v=Math.sqrt(u*u+c*c+d*d);if(Math.abs(v)<t)return this;v=1/v,u*=v,c*=v,d*=v;var g=Math.sin(o),m=Math.cos(o),y=1-m,T=h[0],E=h[1],S=h[2],C=h[3],M=h[4],P=h[5],R=h[6],L=h[7],w=h[8],B=h[9],G=h[10],Y=h[11],D=h[12],F=h[13],N=h[14],I=h[15],b=u*u*y+m,U=c*u*y+d*g,X=d*u*y-c*g,z=u*c*y-d*g,V=c*c*y+m,W=d*c*y+u*g,H=u*d*y+c*g,K=c*d*y-u*g,Z=d*d*y+m;return this.setValues(T*b+M*U+w*X,E*b+P*U+B*X,S*b+R*U+G*X,C*b+L*U+Y*X,T*z+M*V+w*W,E*z+P*V+B*W,S*z+R*V+G*W,C*z+L*V+Y*W,T*H+M*K+w*Z,E*H+P*K+B*Z,S*H+R*K+G*Z,C*H+L*K+Y*Z,D,F,N,I)},rotateX:function(o){var l=this.val,h=Math.sin(o),u=Math.cos(o),c=l[4],d=l[5],v=l[6],g=l[7],m=l[8],y=l[9],T=l[10],E=l[11];return l[4]=c*u+m*h,l[5]=d*u+y*h,l[6]=v*u+T*h,l[7]=g*u+E*h,l[8]=m*u-c*h,l[9]=y*u-d*h,l[10]=T*u-v*h,l[11]=E*u-g*h,this},rotateY:function(o){var l=this.val,h=Math.sin(o),u=Math.cos(o),c=l[0],d=l[1],v=l[2],g=l[3],m=l[8],y=l[9],T=l[10],E=l[11];return l[0]=c*u-m*h,l[1]=d*u-y*h,l[2]=v*u-T*h,l[3]=g*u-E*h,l[8]=c*h+m*u,l[9]=d*h+y*u,l[10]=v*h+T*u,l[11]=g*h+E*u,this},rotateZ:function(o){var l=this.val,h=Math.sin(o),u=Math.cos(o),c=l[0],d=l[1],v=l[2],g=l[3],m=l[4],y=l[5],T=l[6],E=l[7];return l[0]=c*u+m*h,l[1]=d*u+y*h,l[2]=v*u+T*h,l[3]=g*u+E*h,l[4]=m*u-c*h,l[5]=y*u-d*h,l[6]=T*u-v*h,l[7]=E*u-g*h,this},fromRotationTranslation:function(o,l){var h=o.x,u=o.y,c=o.z,d=o.w,v=h+h,g=u+u,m=c+c,y=h*v,T=h*g,E=h*m,S=u*g,C=u*m,M=c*m,P=d*v,R=d*g,L=d*m;return this.setValues(1-(S+M),T+L,E-R,0,T-L,1-(y+M),C+P,0,E+R,C-P,1-(y+S),0,l.x,l.y,l.z,1)},fromQuat:function(o){var l=o.x,h=o.y,u=o.z,c=o.w,d=l+l,v=h+h,g=u+u,m=l*d,y=l*v,T=l*g,E=h*v,S=h*g,C=u*g,M=c*d,P=c*v,R=c*g;return this.setValues(1-(E+C),y+R,T-P,0,y-R,1-(m+C),S+M,0,T+P,S-M,1-(m+E),0,0,0,0,1)},frustum:function(o,l,h,u,c,d){var v=1/(l-o),g=1/(u-h),m=1/(c-d);return this.setValues(c*2*v,0,0,0,0,c*2*g,0,0,(l+o)*v,(u+h)*g,(d+c)*m,-1,0,0,d*c*2*m,0)},perspective:function(o,l,h,u){var c=1/Math.tan(o/2),d=1/(h-u);return this.setValues(c/l,0,0,0,0,c,0,0,0,0,(u+h)*d,-1,0,0,2*u*h*d,0)},perspectiveLH:function(o,l,h,u){return this.setValues(2*h/o,0,0,0,0,2*h/l,0,0,0,0,-u/(h-u),1,0,0,h*u/(h-u),0)},ortho:function(o,l,h,u,c,d){var v=o-l,g=h-u,m=c-d;return v=v===0?v:1/v,g=g===0?g:1/g,m=m===0?m:1/m,this.setValues(-2*v,0,0,0,0,-2*g,0,0,0,0,2*m,0,(o+l)*v,(u+h)*g,(d+c)*m,1)},lookAtRH:function(o,l,h){var u=this.val;return n.subVectors(o,l),n.getLengthSquared()===0&&(n.z=1),n.normalize(),s.crossVectors(h,n),s.getLengthSquared()===0&&(Math.abs(h.z)===1?n.x+=1e-4:n.z+=1e-4,n.normalize(),s.crossVectors(h,n)),s.normalize(),r.crossVectors(n,s),u[0]=s.x,u[1]=s.y,u[2]=s.z,u[4]=r.x,u[5]=r.y,u[6]=r.z,u[8]=n.x,u[9]=n.y,u[10]=n.z,this},lookAt:function(o,l,h){var u=o.x,c=o.y,d=o.z,v=h.x,g=h.y,m=h.z,y=l.x,T=l.y,E=l.z;if(Math.abs(u-y)<t&&Math.abs(c-T)<t&&Math.abs(d-E)<t)return this.identity();var S=u-y,C=c-T,M=d-E,P=1/Math.sqrt(S*S+C*C+M*M);S*=P,C*=P,M*=P;var R=g*M-m*C,L=m*S-v*M,w=v*C-g*S;P=Math.sqrt(R*R+L*L+w*w),P?(P=1/P,R*=P,L*=P,w*=P):(R=0,L=0,w=0);var B=C*w-M*L,G=M*R-S*w,Y=S*L-C*R;return P=Math.sqrt(B*B+G*G+Y*Y),P?(P=1/P,B*=P,G*=P,Y*=P):(B=0,G=0,Y=0),this.setValues(R,B,S,0,L,G,C,0,w,Y,M,0,-(R*u+L*c+w*d),-(B*u+G*c+Y*d),-(S*u+C*c+M*d),1)},yawPitchRoll:function(o,l,h){this.zero(),i.zero(),e.zero();var u=this.val,c=i.val,d=e.val,v=Math.sin(h),g=Math.cos(h);return u[10]=1,u[15]=1,u[0]=g,u[1]=v,u[4]=-v,u[5]=g,v=Math.sin(l),g=Math.cos(l),c[0]=1,c[15]=1,c[5]=g,c[10]=g,c[9]=-v,c[6]=v,v=Math.sin(o),g=Math.cos(o),d[5]=1,d[15]=1,d[0]=g,d[2]=-v,d[8]=v,d[10]=g,this.multiplyLocal(i),this.multiplyLocal(e),this},setWorldMatrix:function(o,l,h,u,c){return this.yawPitchRoll(o.y,o.x,o.z),i.scaling(h.x,h.y,h.z),e.xyz(l.x,l.y,l.z),this.multiplyLocal(i),this.multiplyLocal(e),u&&this.multiplyLocal(u),c&&this.multiplyLocal(c),this},multiplyToMat4:function(o,l){var h=this.val,u=o.val,c=h[0],d=h[1],v=h[2],g=h[3],m=h[4],y=h[5],T=h[6],E=h[7],S=h[8],C=h[9],M=h[10],P=h[11],R=h[12],L=h[13],w=h[14],B=h[15],G=u[0],Y=u[1],D=u[2],F=u[3],N=u[4],I=u[5],b=u[6],U=u[7],X=u[8],z=u[9],V=u[10],W=u[11],H=u[12],K=u[13],Z=u[14],j=u[15];return l.setValues(G*c+Y*m+D*S+F*R,Y*d+Y*y+D*C+F*L,D*v+Y*T+D*M+F*w,F*g+Y*E+D*P+F*B,N*c+I*m+b*S+U*R,N*d+I*y+b*C+U*L,N*v+I*T+b*M+U*w,N*g+I*E+b*P+U*B,X*c+z*m+V*S+W*R,X*d+z*y+V*C+W*L,X*v+z*T+V*M+W*w,X*g+z*E+V*P+W*B,H*c+K*m+Z*S+j*R,H*d+K*y+Z*C+j*L,H*v+K*T+Z*M+j*w,H*g+K*E+Z*P+j*B)},fromRotationXYTranslation:function(o,l,h){var u=l.x,c=l.y,d=l.z,v=Math.sin(o.x),g=Math.cos(o.x),m=Math.sin(o.y),y=Math.cos(o.y),T=u,E=c,S=d,C=-v,M=0-C*m,P=0-g*m,R=C*y,L=g*y;return h||(T=y*u+m*d,E=M*u+g*c+R*d,S=P*u+v*c+L*d),this.setValues(y,M,P,0,0,g,v,0,m,R,L,0,T,E,S,1)},getMaxScaleOnAxis:function(){var o=this.val,l=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],h=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],u=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(l,h,u))}}),i=new a,e=new a,s=new x,r=new x,n=new x;A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={COMPLETE:p(987),DECODED:p(988),DECODED_ALL:p(989),DESTROY:p(990),DETUNE:p(991),GLOBAL_DETUNE:p(992),GLOBAL_MUTE:p(993),GLOBAL_RATE:p(994),GLOBAL_VOLUME:p(995),LOOP:p(996),LOOPED:p(997),MUTE:p(998),PAN:p(999),PAUSE_ALL:p(1e3),PAUSE:p(1001),PLAY:p(1002),RATE:p(1003),RESUME_ALL:p(1004),RESUME:p(1005),SEEK:p(1006),STOP_ALL:p(1007),STOP:p(1008),UNLOCKED:p(1009),VOLUME:p(1010)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(7),s=new f({Extends:t,initialize:function r(n,o,l,h,u){var c="png",d;if(e(o)){var v=o;o=i(v,"key"),l=i(v,"url"),d=i(v,"normalMap"),h=i(v,"xhrSettings"),c=i(v,"extension",c),u=i(v,"frameConfig")}Array.isArray(l)&&(d=l[1],l=l[0]);var g={type:"image",cache:n.textureManager,extension:c,responseType:"blob",key:o,url:l,xhrSettings:h,config:u};if(t.call(this,n,g),d){var m=new r(n,this.key,d,h,u);m.type="normalMap",this.setLink(m),n.addFile(m)}},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var r=this;this.data.onload=function(){t.revokeObjectURL(r.data),r.onProcessComplete()},this.data.onerror=function(){t.revokeObjectURL(r.data),r.onProcessError()},t.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var r,n=this.linkFile;n&&n.state===x.FILE_COMPLETE?(this.type==="image"?r=this.cache.addImage(this.key,this.data,n.data):r=this.cache.addImage(n.key,n.data,this.data),this.pendingDestroy(r),n.pendingDestroy(r)):n||(r=this.cache.addImage(this.key,this.data),this.pendingDestroy(r))}});a.register("image",function(r,n,o){if(Array.isArray(r))for(var l=0;l<r.length;l++)this.addFile(new s(this,r[l]));else this.addFile(new s(this,r,n,o));return this}),A.exports=s},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){x?f.setCollision(!0,!0,!0,!0,!1):f.resetCollision(!1)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(164),x=p(0),t=p(11),a=p(15),i=p(1065),e=new x({Extends:a,Mixins:[t.Alpha,t.BlendMode,t.Depth,t.Flip,t.GetBounds,t.Mask,t.Origin,t.Pipeline,t.ScrollFactor,t.Size,t.TextureCrop,t.Tint,t.Transform,t.Visible,i],initialize:function(r,n,o,l,h){a.call(this,r,"Sprite"),this._crop=this.resetCropObject(),this.anims=new f(this),this.setTexture(l,h),this.setPosition(n,o),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,r){this.anims.update(s,r)},play:function(s,r){return this.anims.play(s,r)},playReverse:function(s,r){return this.anims.playReverse(s,r)},playAfterDelay:function(s,r){return this.anims.playAfterDelay(s,r)},playAfterRepeat:function(s,r){return this.anims.playAfterRepeat(s,r)},chain:function(s){return this.anims.chain(s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(s){return this.anims.stopAfterDelay(s)},stopAfterRepeat:function(s){return this.anims.stopAfterRepeat(s)},stopOnFrame:function(s){return this.anims.stopOnFrame(s)},toJSON:function(){return t.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});A.exports=e},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){if(!(x>=f.length)){for(var t=f.length-1,a=f[x],i=x;i<t;i++)f[i]=f[i+1];return f.length=t,a}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={ADDED_TO_SCENE:p(643),DESTROY:p(644),REMOVED_FROM_SCENE:p(645),VIDEO_COMPLETE:p(646),VIDEO_CREATED:p(647),VIDEO_ERROR:p(648),VIDEO_LOOP:p(649),VIDEO_PLAY:p(650),VIDEO_SEEKED:p(651),VIDEO_SEEKING:p(652),VIDEO_STOP:p(653),VIDEO_TIMEOUT:p(654),VIDEO_UNLOCKED:p(655)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){return t===void 0&&(t=0),x===0?f:(f-=t,f=x*Math.floor(f/x),a?(t+f)/x:t+f)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){var x={};for(var t in f)Array.isArray(f[t])?x[t]=f[t].slice(0):x[t]=f[t];return x};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){var i=f.length;if(x<0||x>i||x>=t||t>i||x+t>i){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function p(a,i){return String(a).localeCompare(i)}function f(a,i){var e=a.length;if(e<=1)return a;for(var s=new Array(e),r=1;r<e;r*=2){x(a,i,r,s);var n=a;a=s,s=n}return a}function x(a,i,e,s){var r=a.length,n=0,o=e*2,l,h,u,c,d;for(l=0;l<r;l+=o)for(h=l+e,u=h+e,h>r&&(h=r),u>r&&(u=r),c=l,d=h;;)if(c<h&&d<u)i(a[c],a[d])<=0?s[n++]=a[c++]:s[n++]=a[d++];else if(c<h)s[n++]=a[c++];else if(d<u)s[n++]=a[d++];else break}var t=function(a,i){i===void 0&&(i=p);var e=f(a,i);return e!==a&&x(e,null,a.length,a),a};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(134),x=p(205),t=function(a,i){var e=f.Power0;if(typeof a=="string")if(f.hasOwnProperty(a))e=f[a];else{var s="";a.indexOf(".")&&(s=a.substr(a.indexOf(".")+1),s.toLowerCase()==="in"?s="easeIn":s.toLowerCase()==="out"?s="easeOut":s.toLowerCase()==="inout"&&(s="easeInOut")),a=x(a.substr(0,a.indexOf(".")+1)+s),f.hasOwnProperty(a)&&(e=f[a])}else typeof a=="function"?e=a:Array.isArray(a)&&a.length;if(!i)return e;var r=i.slice(0);return r.unshift(0),function(n){return r[0]=n,e.apply(this,r)}};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(12),x=function(t,a,i,e,s){var r=t.strokeTint,n=f.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*i);r.TL=n,r.TR=n,r.BL=n,r.BR=n;var o=a.pathData,l=o.length-1,h=a.lineWidth,u=h/2,c=o[0]-e,d=o[1]-s;a.closePath||(l-=2);for(var v=2;v<l;v+=2){var g=o[v]-e,m=o[v+1]-s;t.batchLine(c,d,g,m,u,u,h,v-2,a.closePath?v===l-1:!1),c=g,d=m}};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(115),t=p(476),a=p(477),i=p(56),e=p(47),s=p(181),r=new f({initialize:function(o,l,h,u,c,d){o===void 0&&(o=0),l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=0),this.type=i.TRIANGLE,this.x1=o,this.y1=l,this.x2=h,this.y2=u,this.x3=c,this.y3=d},contains:function(n,o){return x(this,n,o)},getPoint:function(n,o){return t(this,n,o)},getPoints:function(n,o,l){return a(this,n,o,l)},getRandomPoint:function(n){return s(this,n)},setTo:function(n,o,l,h,u,c){return n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=0),this.x1=n,this.y1=o,this.x2=l,this.y2=h,this.x3=u,this.y3=c,this},getLineA:function(n){return n===void 0&&(n=new e),n.setTo(this.x1,this.y1,this.x2,this.y2),n},getLineB:function(n){return n===void 0&&(n=new e),n.setTo(this.x2,this.y2,this.x3,this.y3),n},getLineC:function(n){return n===void 0&&(n=new e),n.setTo(this.x3,this.y3,this.x1,this.y1),n},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(n){var o=0;this.x1<=this.x2&&this.x1<=this.x3?o=this.x1-n:this.x2<=this.x1&&this.x2<=this.x3?o=this.x2-n:o=this.x3-n,this.x1-=o,this.x2-=o,this.x3-=o}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(n){var o=0;this.x1>=this.x2&&this.x1>=this.x3?o=this.x1-n:this.x2>=this.x1&&this.x2>=this.x3?o=this.x2-n:o=this.x3-n,this.x1-=o,this.x2-=o,this.x3-=o}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(n){var o=0;this.y1<=this.y2&&this.y1<=this.y3?o=this.y1-n:this.y2<=this.y1&&this.y2<=this.y3?o=this.y2-n:o=this.y3-n,this.y1-=o,this.y2-=o,this.y3-=o}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(n){var o=0;this.y1>=this.y2&&this.y1>=this.y3?o=this.y1-n:this.y2>=this.y1&&this.y2>=this.y3?o=this.y2-n:o=this.y3-n,this.y1-=o,this.y2-=o,this.y3-=o}}});A.exports=r},function(A,O){var p={};A.exports=p,function(){p.create=function(f,x){return{x:f||0,y:x||0}},p.clone=function(f){return{x:f.x,y:f.y}},p.magnitude=function(f){return Math.sqrt(f.x*f.x+f.y*f.y)},p.magnitudeSquared=function(f){return f.x*f.x+f.y*f.y},p.rotate=function(f,x,t){var a=Math.cos(x),i=Math.sin(x);t||(t={});var e=f.x*a-f.y*i;return t.y=f.x*i+f.y*a,t.x=e,t},p.rotateAbout=function(f,x,t,a){var i=Math.cos(x),e=Math.sin(x);a||(a={});var s=t.x+((f.x-t.x)*i-(f.y-t.y)*e);return a.y=t.y+((f.x-t.x)*e+(f.y-t.y)*i),a.x=s,a},p.normalise=function(f){var x=p.magnitude(f);return x===0?{x:0,y:0}:{x:f.x/x,y:f.y/x}},p.dot=function(f,x){return f.x*x.x+f.y*x.y},p.cross=function(f,x){return f.x*x.y-f.y*x.x},p.cross3=function(f,x,t){return(x.x-f.x)*(t.y-f.y)-(x.y-f.y)*(t.x-f.x)},p.add=function(f,x,t){return t||(t={}),t.x=f.x+x.x,t.y=f.y+x.y,t},p.sub=function(f,x,t){return t||(t={}),t.x=f.x-x.x,t.y=f.y-x.y,t},p.mult=function(f,x){return{x:f.x*x,y:f.y*x}},p.div=function(f,x){return{x:f.x/x,y:f.y/x}},p.perp=function(f,x){return x=x===!0?-1:1,{x:x*-f.y,y:x*f.x}},p.neg=function(f){return{x:-f.x,y:-f.y}},p.angle=function(f,x){return Math.atan2(x.y-f.y,x.x-f.x)},p._temp=[p.create(),p.create(),p.create(),p.create(),p.create(),p.create()]}()},function(A,O){var p={};A.exports=p,function(){p.create=function(f){var x={min:{x:0,y:0},max:{x:0,y:0}};return f&&p.update(x,f),x},p.update=function(f,x,t){f.min.x=1/0,f.max.x=-1/0,f.min.y=1/0,f.max.y=-1/0;for(var a=0;a<x.length;a++){var i=x[a];i.x>f.max.x&&(f.max.x=i.x),i.x<f.min.x&&(f.min.x=i.x),i.y>f.max.y&&(f.max.y=i.y),i.y<f.min.y&&(f.min.y=i.y)}t&&(t.x>0?f.max.x+=t.x:f.min.x+=t.x,t.y>0?f.max.y+=t.y:f.min.y+=t.y)},p.contains=function(f,x){return x.x>=f.min.x&&x.x<=f.max.x&&x.y>=f.min.y&&x.y<=f.max.y},p.overlaps=function(f,x){return f.min.x<=x.max.x&&f.max.x>=x.min.x&&f.max.y>=x.min.y&&f.min.y<=x.max.y},p.translate=function(f,x){f.min.x+=x.x,f.max.x+=x.x,f.min.y+=x.y,f.max.y+=x.y},p.shift=function(f,x){var t=f.max.x-f.min.x,a=f.max.y-f.min.y;f.min.x=x.x,f.max.x=x.x+t,f.min.y=x.y,f.max.y=x.y+a}}()},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(29),x=p(0),t=p(11),a=p(502),i=new x({Mixins:[t.Alpha,t.Flip,t.Visible],initialize:function(s,r,n,o,l,h,u,c){this.layer=s,this.index=r,this.x=n,this.y=o,this.width=l,this.height=h,this.right,this.bottom,this.baseWidth=u!==void 0?u:l,this.baseHeight=c!==void 0?c:h,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(e,s){return!(e<this.pixelX||s<this.pixelY||e>this.right||s>this.bottom)},copy:function(e){return this.index=e.index,this.alpha=e.alpha,this.properties=e.properties,this.visible=e.visible,this.setFlip(e.flipX,e.flipY),this.tint=e.tint,this.rotation=e.rotation,this.collideUp=e.collideUp,this.collideDown=e.collideDown,this.collideLeft=e.collideLeft,this.collideRight=e.collideRight,this.collisionCallback=e.collisionCallback,this.collisionCallbackContext=e.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(e){var s=this.tilemapLayer;return s?s.tileToWorldX(this.x,e):this.x*this.baseWidth},getRight:function(e){var s=this.tilemapLayer;return s?this.getLeft(e)+this.width*s.scaleX:this.getLeft(e)+this.width},getTop:function(e){var s=this.tilemapLayer;return s?s.tileToWorldY(this.y,e)-(this.height-this.baseHeight)*s.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(e){var s=this.tilemapLayer;return s?this.getTop(e)+this.height*s.scaleY:this.getTop(e)+this.height},getBounds:function(e,s){return s===void 0&&(s=new a),s.x=this.getLeft(),s.y=this.getTop(),s.width=this.getRight()-s.x,s.height=this.getBottom()-s.y,s},getCenterX:function(e){return(this.getLeft(e)+this.getRight(e))/2},getCenterY:function(e){return(this.getTop(e)+this.getBottom(e))/2},intersects:function(e,s,r,n){return!(r<=this.pixelX||n<=this.pixelY||e>=this.right||s>=this.bottom)},isInteresting:function(e,s){return e&&s?this.canCollide||this.hasInterestingFace:e?this.collides:s?this.hasInterestingFace:!1},resetCollision:function(e){if(e===void 0&&(e=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,e){var s=this.tilemapLayer;s&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(e,s,r,n,o){if(s===void 0&&(s=e),r===void 0&&(r=e),n===void 0&&(n=e),o===void 0&&(o=!0),this.collideLeft=e,this.collideRight=s,this.collideUp=r,this.collideDown=n,this.faceLeft=e,this.faceRight=s,this.faceTop=r,this.faceBottom=n,o){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(e,s){return e===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=e,this.collisionCallbackContext=s),this},setSize:function(e,s,r,n){return e!==void 0&&(this.width=e),s!==void 0&&(this.height=s),r!==void 0&&(this.baseWidth=r),n!==void 0&&(this.baseHeight=n),this.updatePixelXY(),this},updatePixelXY:function(){var e=this.layer.orientation;if(e===f.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(e===f.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(e===f.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(e===f.HEXAGONAL){var s=this.layer.hexSideLength,r=(this.baseHeight-s)/2+s;this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*r}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var e=this.layer.tilemapLayer;if(e){var s=e.gidMap[this.index];if(s)return s}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var e=this.tilemapLayer;return e?e.tilemap:null}}});A.exports=i},function(A,O,p){var f={};A.exports=f;var x=p(64),t=p(32),a=p(41),i=p(84),e=p(83),s=p(1393);(function(){f.rectangle=function(r,n,o,l,h){h=h||{};var u={label:"Rectangle Body",position:{x:r,y:n},vertices:x.fromPath("L 0 0 L "+o+" 0 L "+o+" "+l+" L 0 "+l)};if(h.chamfer){var c=h.chamfer;u.vertices=x.chamfer(u.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete h.chamfer}return a.create(t.extend({},u,h))},f.trapezoid=function(r,n,o,l,h,u){u=u||{},h*=.5;var c=(1-h*2)*o,d=o*h,v=d+c,g=v+d,m;h<.5?m="L 0 0 L "+d+" "+-l+" L "+v+" "+-l+" L "+g+" 0":m="L 0 0 L "+v+" "+-l+" L "+g+" 0";var y={label:"Trapezoid Body",position:{x:r,y:n},vertices:x.fromPath(m)};if(u.chamfer){var T=u.chamfer;y.vertices=x.chamfer(y.vertices,T.radius,T.quality,T.qualityMin,T.qualityMax),delete u.chamfer}return a.create(t.extend({},y,u))},f.circle=function(r,n,o,l,h){l=l||{};var u={label:"Circle Body",circleRadius:o};h=h||25;var c=Math.ceil(Math.max(10,Math.min(h,o)));return c%2===1&&(c+=1),f.polygon(r,n,c,o,t.extend({},u,l))},f.polygon=function(r,n,o,l,h){if(h=h||{},o<3)return f.circle(r,n,l,h);for(var u=2*Math.PI/o,c="",d=u*.5,v=0;v<o;v+=1){var g=d+v*u,m=Math.cos(g)*l,y=Math.sin(g)*l;c+="L "+m.toFixed(3)+" "+y.toFixed(3)+" "}var T={label:"Polygon Body",position:{x:r,y:n},vertices:x.fromPath(c)};if(h.chamfer){var E=h.chamfer;T.vertices=x.chamfer(T.vertices,E.radius,E.quality,E.qualityMin,E.qualityMax),delete h.chamfer}return a.create(t.extend({},T,h))},f.fromVertices=function(r,n,o,l,h,u,c){var d,v,g,m,y,T;for(l=l||{},v=[],h=typeof h<"u"?h:!1,u=typeof u<"u"?u:.01,c=typeof c<"u"?c:10,s||t.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),t.isArray(o[0])||(o=[o]),T=0;T<o.length;T+=1)if(m=o[T],g=x.isConvex(m),g||!s)g?m=x.clockwiseSort(m):m=x.hull(m),v.push({position:{x:r,y:n},vertices:m});else{var E=m.map(function(P){return[P.x,P.y]});s.makeCCW(E),u!==!1&&s.removeCollinearPoints(E,u);var S=s.quickDecomp(E);for(y=0;y<S.length;y++){var C=S[y],M=C.map(function(P){return{x:P[0],y:P[1]}});c>0&&x.area(M)<c||v.push({position:x.centre(M),vertices:M})}}for(y=0;y<v.length;y++)v[y]=a.create(t.extend(v[y],l));return h&&f.flagCoincidentParts(v,5),v.length>1?(d=a.create(t.extend({parts:v.slice(0)},l)),a.setPosition(d,{x:r,y:n}),d):v[0]},f.flagCoincidentParts=function(r,n){n===void 0&&(n=5);for(var o=0;o<r.length;o++)for(var l=r[o],h=o+1;h<r.length;h++){var u=r[h];if(i.overlaps(l.bounds,u.bounds))for(var c=l.vertices,d=u.vertices,v=0;v<l.vertices.length;v++)for(var g=0;g<u.vertices.length;g++){var m=e.magnitudeSquared(e.sub(c[(v+1)%c.length],d[g])),y=e.magnitudeSquared(e.sub(c[v],d[(g+1)%d.length]));m<n&&y<n&&(c[v].isInternal=!0,d[g].isInternal=!0)}}return r}})()},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.x-f.width*f.originX+f.width*.5};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=f.width*f.originX;return f.x=x+t-f.width*.5,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.y-f.height*f.originY+f.height*.5};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=f.height*f.originY;return f.y=x+t-f.height*.5,f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={POST_RENDER:p(628),PRE_RENDER:p(629),RENDER:p(630),RESIZE:p(631)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(74),x=function(t,a,i,e){e===void 0&&(e=t);var s;if(!Array.isArray(a))return s=t.indexOf(a),s!==-1?(f(t,s),i&&i.call(e,a),a):null;for(var r=a.length-1,n=[];r>=0;){var o=a[r];s=t.indexOf(o),s!==-1&&(f(t,s),n.push(o),i&&i.call(e,o)),r--}return n};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(199),t=p(10),a=p(3),i=new f({initialize:function(s){this.type=s,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(e,s){return s===void 0&&(s=32),e.strokePoints(this.getPoints(s))},getBounds:function(e,s){e||(e=new t),s===void 0&&(s=16);var r=this.getLength();s>r&&(s=r/2);var n=Math.max(1,Math.round(r/s));return x(this.getSpacedPoints(n),e)},getDistancePoints:function(e){var s=this.getLength(),r=Math.max(1,s/e);return this.getSpacedPoints(r)},getEndPoint:function(e){return e===void 0&&(e=new a),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var s=[],r,n=this.getPoint(0,this._tmpVec2A),o=0;s.push(0);for(var l=1;l<=e;l++)r=this.getPoint(l/e,this._tmpVec2B),o+=r.distance(n),s.push(o),n.copy(r);return this.cacheArcLengths=s,s},getPointAt:function(e,s){var r=this.getUtoTmapping(e);return this.getPoint(r,s)},getPoints:function(e,s,r){r===void 0&&(r=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var n=0;n<=e;n++)r.push(this.getPoint(n/e));return r},getRandomPoint:function(e){return e===void 0&&(e=new a),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,s,r){r===void 0&&(r=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var n=0;n<=e;n++){var o=this.getUtoTmapping(n/e,null,e);r.push(this.getPoint(o))}return r},getStartPoint:function(e){return e===void 0&&(e=new a),this.getPointAt(0,e)},getTangent:function(e,s){s===void 0&&(s=new a);var r=1e-4,n=e-r,o=e+r;return n<0&&(n=0),o>1&&(o=1),this.getPoint(n,this._tmpVec2A),this.getPoint(o,s),s.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,s){var r=this.getUtoTmapping(e);return this.getTangent(r,s)},getTFromDistance:function(e,s){return e<=0?0:this.getUtoTmapping(0,e,s)},getUtoTmapping:function(e,s,r){var n=this.getLengths(r),o=0,l=n.length,h;s?h=Math.min(s,n[l-1]):h=e*n[l-1];for(var u=0,c=l-1,d;u<=c;)if(o=Math.floor(u+(c-u)/2),d=n[o]-h,d<0)u=o+1;else if(d>0)c=o-1;else{c=o;break}if(o=c,n[o]===h)return o/(l-1);var v=n[o],g=n[o+1],m=g-v,y=(h-v)/m;return(o+y)/(l-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={ADD:p(968),COMPLETE:p(969),FILE_COMPLETE:p(970),FILE_KEY_COMPLETE:p(971),FILE_LOAD_ERROR:p(972),FILE_LOAD:p(973),FILE_PROGRESS:p(974),POST_PROCESS:p(975),PROGRESS:p(976),START:p(977)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a,i){i===void 0&&(i=new f);var e=t.x1,s=t.y1,r=t.x2,n=t.y2,o=a.x1,l=a.y1,h=a.x2,u=a.y2,c=(h-o)*(s-l)-(u-l)*(e-o),d=(r-e)*(s-l)-(n-s)*(e-o),v=(u-l)*(r-e)-(h-o)*(n-s);if(v===0)return!1;var g=c/v,m=d/v;return g>=0&&g<=1&&m>=0&&m<=1?(i.x=e+g*(r-e),i.y=s+g*(n-s),!0):!1};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return Math.atan2(f.y2-f.y1,f.x2-f.x1)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(18),x=function(t,a,i){return t=f(t,0,1),(i-a)*t+a};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return f&&f.hasOwnProperty(x)?f[x]:t};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(315),t=new f({initialize:function(i,e){this.parent=i,this.events=e,e||(this.events=i.events?i.events:i),this.list={},this.values={},this._frozen=!1,!i.hasOwnProperty("sys")&&this.events&&this.events.once(x.DESTROY,this.destroy,this)},get:function(a){var i=this.list;if(Array.isArray(a)){for(var e=[],s=0;s<a.length;s++)e.push(i[a[s]]);return e}else return i[a]},getAll:function(){var a={};for(var i in this.list)this.list.hasOwnProperty(i)&&(a[i]=this.list[i]);return a},query:function(a){var i={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(a)&&(i[e]=this.list[e]);return i},set:function(a,i){if(this._frozen)return this;if(typeof a=="string")return this.setValue(a,i);for(var e in a)this.setValue(e,a[e]);return this},inc:function(a,i){if(this._frozen)return this;i===void 0&&(i=1);var e=this.get(a);return e===void 0&&(e=0),this.set(a,e+i),this},toggle:function(a){return this._frozen?this:(this.set(a,!this.get(a)),this)},setValue:function(a,i){if(this._frozen)return this;if(this.has(a))this.values[a]=i;else{var e=this,s=this.list,r=this.events,n=this.parent;Object.defineProperty(this.values,a,{enumerable:!0,configurable:!0,get:function(){return s[a]},set:function(o){if(!e._frozen){var l=s[a];s[a]=o,r.emit(x.CHANGE_DATA,n,a,o,l),r.emit(x.CHANGE_DATA_KEY+a,n,o,l)}}}),s[a]=i,r.emit(x.SET_DATA,n,a,i)}return this},each:function(a,i){for(var e=[this.parent,null,void 0],s=1;s<arguments.length;s++)e.push(arguments[s]);for(var r in this.list)e[1]=r,e[2]=this.list[r],a.apply(i,e);return this},merge:function(a,i){i===void 0&&(i=!0);for(var e in a)a.hasOwnProperty(e)&&(i||!i&&!this.has(e))&&this.setValue(e,a[e]);return this},remove:function(a){if(this._frozen)return this;if(Array.isArray(a))for(var i=0;i<a.length;i++)this.removeValue(a[i]);else return this.removeValue(a);return this},removeValue:function(a){if(this.has(a)){var i=this.list[a];delete this.list[a],delete this.values[a],this.events.emit(x.REMOVE_DATA,this.parent,a,i)}return this},pop:function(a){var i=void 0;return!this._frozen&&this.has(a)&&(i=this.list[a],delete this.list[a],delete this.values[a],this.events.emit(x.REMOVE_DATA,this.parent,a,i)),i},has:function(a){return this.list.hasOwnProperty(a)},setFreeze:function(a){return this._frozen=a,this},reset:function(){for(var a in this.list)delete this.list[a],delete this.values[a];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(x.CHANGE_DATA),this.events.off(x.SET_DATA),this.events.off(x.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(a){this._frozen=!!a}},count:{get:function(){var a=0;for(var i in this.list)this.list[i]!==void 0&&a++;return a}}});A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a){if(this.entries={},this.size=0,Array.isArray(a))for(var i=0;i<a.length;i++)this.set(a[i][0],a[i][1])},set:function(t,a){return this.has(t)||this.size++,this.entries[t]=a,this},get:function(t){if(this.has(t))return this.entries[t]},getArray:function(){var t=[],a=this.entries;for(var i in a)t.push(a[i]);return t},has:function(t){return this.entries.hasOwnProperty(t)},delete:function(t){return this.has(t)&&(delete this.entries[t],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(t){delete this.entries[t]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var t=[],a=this.entries;for(var i in a)t.push(a[i]);return t},dump:function(){var t=this.entries;console.group("Map");for(var a in t)console.log(a,t[a]);console.groupEnd()},each:function(t){var a=this.entries;for(var i in a)if(t(i,a[i])===!1)break;return this},contains:function(t){var a=this.entries;for(var i in a)if(a[i]===t)return!0;return!1},merge:function(t,a){a===void 0&&(a=!1);var i=this.entries,e=t.entries;for(var s in e)i.hasOwnProperty(s)&&a?i[s]=e[s]:this.set(s,e[s]);return this}});A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return f<<16|x<<8|t};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={ENTER_FULLSCREEN:p(800),FULLSCREEN_FAILED:p(801),FULLSCREEN_UNSUPPORTED:p(802),LEAVE_FULLSCREEN:p(803),ORIENTATION_CHANGE:p(804),RESIZE:p(805)}},function(A,O,p){(function(f){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var x={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return x;var a=navigator.userAgent;/Windows/.test(a)?x.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(x.iOS=!0,x.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),x.iOSVersion=parseInt(RegExp.$1,10)):x.macOS=!0:/Android/.test(a)?x.android=!0:/Linux/.test(a)?x.linux=!0:/iP[ao]d|iPhone/i.test(a)?(x.iOS=!0,navigator.appVersion.match(/OS (\d+)/),x.iOSVersion=parseInt(RegExp.$1,10),x.iPhone=a.toLowerCase().indexOf("iphone")!==-1,x.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?x.kindle=!0:/CrOS/.test(a)&&(x.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(x.android=!1,x.iOS=!1,x.macOS=!1,x.windows=!0,x.windowsPhone=!0);var i=/Silk/.test(a);return(x.windows||x.macOS||x.linux&&!i||x.chromeOS)&&(x.desktop=!0),(x.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(x.desktop=!1),navigator.standalone&&(x.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(x.cordova=!0),window.ejecta!==void 0&&(x.ejecta=!0)),typeof f<"u"&&f.versions&&f.versions.node&&(x.node=!0),x.node&&typeof f.versions=="object"&&(x.nodeWebkit=!!f.versions["node-webkit"],x.electron=!!f.versions.electron),/Crosswalk/.test(a)&&(x.crosswalk=!0),x.pixelRatio=window.devicePixelRatio||1,x}A.exports=t()}).call(this,p(807))},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={ADD:p(861),ERROR:p(862),LOAD:p(863),READY:p(864),REMOVE:p(865)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(59),t=p(2),a=p(878),i=p(879),e=p(25),s=p(12),r=p(107),n=p(58),o=new f({Extends:n,initialize:function(h){var u=h.game.renderer,c=t(h,"fragShader",a);h.fragShader=s.parseFragmentShaderMaxTextures(c,u.maxTextures),h.vertShader=t(h,"vertShader",i),h.attributes=t(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:r.UNSIGNED_BYTE,normalized:!0}]),n.call(this,h),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){n.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(l,h,u){this.manager.set(this,l);var c=this._tempMatrix1,d=this._tempMatrix2,v=this._tempMatrix3,g=l.frame,m=g.glTexture,y=g.u0,T=g.v0,E=g.u1,S=g.v1,C=g.x,M=g.y,P=g.cutWidth,R=g.cutHeight,L=g.customPivot,w=l.displayOriginX,B=l.displayOriginY,G=-w+C,Y=-B+M;if(l.isCropped){var D=l._crop;(D.flipX!==l.flipX||D.flipY!==l.flipY)&&g.updateCropUVs(D,l.flipX,l.flipY),y=D.u0,T=D.v0,E=D.u1,S=D.v1,P=D.width,R=D.height,C=D.x,M=D.y,G=-w+C,Y=-B+M}var F=1,N=1;l.flipX&&(L||(G+=-g.realWidth+w*2),F=-1),(l.flipY||g.source.isGLTexture&&!m.flipY)&&(L||(Y+=-g.realHeight+B*2),N=-1),d.applyITRS(l.x,l.y,l.rotation,l.scaleX*F,l.scaleY*N),c.copyFrom(h.matrix),u?(c.multiplyWithOffset(u,-h.scrollX*l.scrollFactorX,-h.scrollY*l.scrollFactorY),d.e=l.x,d.f=l.y):(d.e-=h.scrollX*l.scrollFactorX,d.f-=h.scrollY*l.scrollFactorY),c.multiply(d,v);var I=G+P,b=Y+R,U=h.roundPixels,X=v.getXRound(G,Y,U),z=v.getYRound(G,Y,U),V=v.getXRound(G,b,U),W=v.getYRound(G,b,U),H=v.getXRound(I,b,U),K=v.getYRound(I,b,U),Z=v.getXRound(I,Y,U),j=v.getYRound(I,Y,U),k=s.getTintAppendFloatAlpha,J=h.alpha,q=k(l.tintTopLeft,J*l._alphaTL),_=k(l.tintTopRight,J*l._alphaTR),tt=k(l.tintBottomLeft,J*l._alphaBL),Q=k(l.tintBottomRight,J*l._alphaBR);this.shouldFlush(6)&&this.flush();var et=this.setGameObject(l,g);this.manager.preBatch(l),this.batchQuad(l,X,z,V,W,H,K,Z,j,y,T,E,S,q,_,tt,Q,l.tintFill,m,et),this.manager.postBatch(l)},batchTexture:function(l,h,u,c,d,v,g,m,y,T,E,S,C,M,P,R,L,w,B,G,Y,D,F,N,I,b,U,X,z,V,W,H){this.manager.set(this,l);var K=this._tempMatrix1,Z=this._tempMatrix2,j=this._tempMatrix3,k=w/u+U,J=B/c+X,q=(w+G)/u+U,_=(B+Y)/c+X,tt=g,Q=m,et=-R,$=-L;if(l.isCropped){var it=l._crop,ot=it.width,ut=it.height;tt=ot,Q=ut,g=ot,m=ut,w=it.x,B=it.y;var rt=w,nt=B;S&&(rt=G-it.x-ot),C&&(nt=Y-it.y-ut),k=rt/u+U,J=nt/c+X,q=(rt+ot)/u+U,_=(nt+ut)/c+X,et=-R+w,$=-L+B}C=C^(!W&&h.isRenderTexture?1:0),S&&(tt*=-1,et+=g),C&&(Q*=-1,$+=m);var lt=et+tt,at=$+Q;Z.applyITRS(d,v,E,y,T),K.copyFrom(z.matrix),V?(K.multiplyWithOffset(V,-z.scrollX*M,-z.scrollY*P),Z.e=d,Z.f=v):(Z.e-=z.scrollX*M,Z.f-=z.scrollY*P),K.multiply(Z,j);var ht=z.roundPixels,ft=j.getXRound(et,$,ht),dt=j.getYRound(et,$,ht),ct=j.getXRound(et,at,ht),pt=j.getYRound(et,at,ht),vt=j.getXRound(lt,at,ht),gt=j.getYRound(lt,at,ht),yt=j.getXRound(lt,$,ht),Tt=j.getYRound(lt,$,ht);H===void 0&&(H=this.renderer.setTexture2D(h)),l&&this.manager.preBatch(l),this.batchQuad(l,ft,dt,ct,pt,vt,gt,yt,Tt,k,J,q,_,D,F,N,I,b,h,H),l&&this.manager.postBatch(l)},batchTextureFrame:function(l,h,u,c,d,v,g){this.manager.set(this);var m=this._tempMatrix1.copyFrom(v),y=this._tempMatrix2,T=h+l.width,E=u+l.height;g?m.multiply(g,y):y=m;var S=y.getX(h,u),C=y.getY(h,u),M=y.getX(h,E),P=y.getY(h,E),R=y.getX(T,E),L=y.getY(T,E),w=y.getX(T,u),B=y.getY(T,u),G=this.renderer.setTextureSource(l.source);c=s.getTintAppendFloatAlpha(c,d),this.batchQuad(null,S,C,M,P,R,L,w,B,l.u0,l.v0,l.u1,l.v1,c,c,c,c,0,l.glTexture,G)},batchFillRect:function(l,h,u,c,d,v){this.renderer.pipelines.set(this);var g=this.calcMatrix;v&&v.multiply(d,g);var m=l+u,y=h+c,T=g.getX(l,h),E=g.getY(l,h),S=g.getX(l,y),C=g.getY(l,y),M=g.getX(m,y),P=g.getY(m,y),R=g.getX(m,h),L=g.getY(m,h),w=this.fillTint;this.batchQuad(null,T,E,S,C,M,P,R,L,0,0,1,1,w.TL,w.TR,w.BL,w.BR,2)},batchFillTriangle:function(l,h,u,c,d,v,g,m){this.renderer.pipelines.set(this);var y=this.calcMatrix;m&&m.multiply(g,y);var T=y.getX(l,h),E=y.getY(l,h),S=y.getX(u,c),C=y.getY(u,c),M=y.getX(d,v),P=y.getY(d,v),R=this.fillTint;this.batchTri(null,T,E,S,C,M,P,0,0,1,1,R.TL,R.TR,R.BL,2)},batchStrokeTriangle:function(l,h,u,c,d,v,g,m,y){var T=this.tempTriangle;T[0].x=l,T[0].y=h,T[0].width=g,T[1].x=u,T[1].y=c,T[1].width=g,T[2].x=d,T[2].y=v,T[2].width=g,T[3].x=l,T[3].y=h,T[3].width=g,this.batchStrokePath(T,g,!1,m,y)},batchFillPath:function(l,h,u){this.renderer.pipelines.set(this);var c=this.calcMatrix;u&&u.multiply(h,c);for(var d=l.length,v=this.polygonCache,g,m,y=this.fillTint.TL,T=this.fillTint.TR,E=this.fillTint.BL,S=0;S<d;++S)m=l[S],v.push(m.x,m.y);g=x(v),d=g.length;for(var C=0;C<d;C+=3){var M=g[C+0]*2,P=g[C+1]*2,R=g[C+2]*2,L=v[M+0],w=v[M+1],B=v[P+0],G=v[P+1],Y=v[R+0],D=v[R+1],F=c.getX(L,w),N=c.getY(L,w),I=c.getX(B,G),b=c.getY(B,G),U=c.getX(Y,D),X=c.getY(Y,D);this.batchTri(null,F,N,I,b,U,X,0,0,1,1,y,T,E,2)}v.length=0},batchStrokePath:function(l,h,u,c,d){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var v=l.length-1,g=0;g<v;g++){var m=l[g],y=l[g+1];this.batchLine(m.x,m.y,y.x,y.y,m.width/2,y.width/2,h,g,!u&&g===v-1,c,d)}},batchLine:function(l,h,u,c,d,v,g,m,y,T,E){this.renderer.pipelines.set(this);var S=this.calcMatrix;E&&E.multiply(T,S);var C=u-l,M=c-h,P=Math.sqrt(C*C+M*M),R=d*(c-h)/P,L=d*(l-u)/P,w=v*(c-h)/P,B=v*(l-u)/P,G=u-w,Y=c-B,D=l-R,F=h-L,N=u+w,I=c+B,b=l+R,U=h+L,X=S.getX(G,Y),z=S.getY(G,Y),V=S.getX(D,F),W=S.getY(D,F),H=S.getX(N,I),K=S.getY(N,I),Z=S.getX(b,U),j=S.getY(b,U),k=this.strokeTint,J=k.TL,q=k.TR,_=k.BL,tt=k.BR;if(this.batchQuad(null,Z,j,V,W,X,z,H,K,0,0,1,1,J,q,_,tt,2),!(g<=2)){var Q=this.prevQuad,et=this.firstQuad;m>0&&Q[4]?this.batchQuad(null,Z,j,V,W,Q[0],Q[1],Q[2],Q[3],0,0,1,1,J,q,_,tt,2):(et[0]=Z,et[1]=j,et[2]=V,et[3]=W,et[4]=1),y&&et[4]?this.batchQuad(null,X,z,H,K,et[0],et[1],et[2],et[3],0,0,1,1,J,q,_,tt,2):(Q[0]=X,Q[1]=z,Q[2]=H,Q[3]=K,Q[4]=1)}}});A.exports=o},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(18),t=p(17),a=new f({initialize:function(e,s,r,n,o,l,h){this.texture=e,this.name=s,this.source=e.source[r],this.sourceIndex=r,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(l,h,n,o)},setSize:function(i,e,s,r){s===void 0&&(s=0),r===void 0&&(r=0),this.cutX=s,this.cutY=r,this.cutWidth=i,this.cutHeight=e,this.width=i,this.height=e,this.halfWidth=Math.floor(i*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(i/2),this.centerY=Math.floor(e/2);var n=this.data,o=n.cut;o.x=s,o.y=r,o.w=i,o.h=e,o.r=s+i,o.b=r+e,n.sourceSize.w=i,n.sourceSize.h=e,n.spriteSourceSize.w=i,n.spriteSourceSize.h=e,n.radius=.5*Math.sqrt(i*i+e*e);var l=n.drawImage;return l.x=s,l.y=r,l.width=i,l.height=e,this.updateUVs()},setTrim:function(i,e,s,r,n,o){var l=this.data,h=l.spriteSourceSize;return l.trim=!0,l.sourceSize.w=i,l.sourceSize.h=e,h.x=s,h.y=r,h.w=n,h.h=o,h.r=s+n,h.b=r+o,this.x=s,this.y=r,this.width=n,this.height=o,this.halfWidth=n*.5,this.halfHeight=o*.5,this.centerX=Math.floor(n/2),this.centerY=Math.floor(o/2),this.updateUVs()},setCropUVs:function(i,e,s,r,n,o,l){var h=this.cutX,u=this.cutY,c=this.cutWidth,d=this.cutHeight,v=this.realWidth,g=this.realHeight;e=x(e,0,v),s=x(s,0,g),r=x(r,0,v-e),n=x(n,0,g-s);var m=h+e,y=u+s,T=r,E=n,S=this.data;if(S.trim){var C=S.spriteSourceSize;r=x(r,0,c-e),n=x(n,0,d-s);var M=e+r,P=s+n,R=!(C.r<e||C.b<s||C.x>M||C.y>P);if(R){var L=Math.max(C.x,e),w=Math.max(C.y,s),B=Math.min(C.r,M)-L,G=Math.min(C.b,P)-w;T=B,E=G,o?m=h+(c-(L-C.x)-B):m=h+(L-C.x),l?y=u+(d-(w-C.y)-G):y=u+(w-C.y),e=L,s=w,r=B,n=G}else m=0,y=0,T=0,E=0}else o&&(m=h+(c-e-r)),l&&(y=u+(d-s-n));var Y=this.source.width,D=this.source.height;return i.u0=Math.max(0,m/Y),i.v0=Math.max(0,y/D),i.u1=Math.min(1,(m+T)/Y),i.v1=Math.min(1,(y+E)/D),i.x=e,i.y=s,i.cx=m,i.cy=y,i.cw=T,i.ch=E,i.width=r,i.height=n,i.flipX=o,i.flipY=l,i},updateCropUVs:function(i,e,s){return this.setCropUVs(i,i.x,i.y,i.width,i.height,e,s)},setUVs:function(i,e,s,r,n,o){var l=this.data.drawImage;return l.width=i,l.height=e,this.u0=s,this.v0=r,this.u1=n,this.v1=o,this},updateUVs:function(){var i=this.cutX,e=this.cutY,s=this.cutWidth,r=this.cutHeight,n=this.data.drawImage;n.width=s,n.height=r;var o=this.source.width,l=this.source.height;return this.u0=i/o,this.v0=e/l,this.u1=(i+s)/o,this.v1=(e+r)/l,this},updateUVsInverted:function(){var i=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/i,this.v0=this.cutY/e,this.u1=this.cutX/i,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var i=new a(this.texture,this.name,this.sourceIndex);return i.cutX=this.cutX,i.cutY=this.cutY,i.cutWidth=this.cutWidth,i.cutHeight=this.cutHeight,i.x=this.x,i.y=this.y,i.width=this.width,i.height=this.height,i.halfWidth=this.halfWidth,i.halfHeight=this.halfHeight,i.centerX=this.centerX,i.centerY=this.centerY,i.rotated=this.rotated,i.data=t(!0,i.data,this.data),i.updateUVs(),i},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(208),x=p(0),t=p(1),a=p(79),i=new x({initialize:function(s){this.parent=s,this.list=[],this.position=0,this.addCallback=t,this.removeCallback=t,this._sortKey=""},add:function(e,s){return s?f.Add(this.list,e):f.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,s,r){return r?f.AddAt(this.list,e,s):f.AddAt(this.list,e,s,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,s){return e?(s===void 0&&(s=function(r,n){return r[e]-n[e]}),a(this.list,s),this):this},getByName:function(e){return f.GetFirst(this.list,"name",e)},getRandom:function(e,s){return f.GetRandom(this.list,e,s)},getFirst:function(e,s,r,n){return f.GetFirst(this.list,e,s,r,n)},getAll:function(e,s,r,n){return f.GetAll(this.list,e,s,r,n)},count:function(e,s){return f.CountAllMatching(this.list,e,s)},swap:function(e,s){f.Swap(this.list,e,s)},moveTo:function(e,s){return f.MoveTo(this.list,e,s)},moveAbove:function(e,s){return f.MoveAbove(this.list,e,s)},moveBelow:function(e,s){return f.MoveBelow(this.list,e,s)},remove:function(e,s){return s?f.Remove(this.list,e):f.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,s){return s?f.RemoveAt(this.list,e):f.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,s,r){return r?f.RemoveBetween(this.list,e,s):f.RemoveBetween(this.list,e,s,this.removeCallback,this)},removeAll:function(e){for(var s=this.list.length;s--;)this.remove(this.list[s],e);return this},bringToTop:function(e){return f.BringToTop(this.list,e)},sendToBack:function(e){return f.SendToBack(this.list,e)},moveUp:function(e){return f.MoveUp(this.list,e),e},moveDown:function(e){return f.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return f.Shuffle(this.list),this},replace:function(e,s){return f.Replace(this.list,e,s)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,s,r,n){return f.SetAll(this.list,e,s,r,n),this},each:function(e,s){for(var r=[null],n=2;n<arguments.length;n++)r.push(arguments[n]);for(n=0;n<this.list.length;n++)r[0]=this.list[n],e.apply(s,r)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(112),t=p(445),a=p(446),i=p(56),e=p(180),s=new f({initialize:function(n,o,l,h){n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=0),h===void 0&&(h=0),this.type=i.ELLIPSE,this.x=n,this.y=o,this.width=l,this.height=h},contains:function(r,n){return x(this,r,n)},getPoint:function(r,n){return t(this,r,n)},getPoints:function(r,n,o){return a(this,r,n,o)},getRandomPoint:function(r){return e(this,r)},setTo:function(r,n,o,l){return this.x=r,this.y=n,this.width=o,this.height=l,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(r,n){return n===void 0&&(n=r),this.x=r,this.y=n,this},setSize:function(r,n){return n===void 0&&(n=r),this.width=r,this.height=n,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(r){this.x=r+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(r){this.x=r-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(r){this.y=r+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(r){this.y=r-this.height/2}}});A.exports=s},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){if(f.width<=0||f.height<=0)return!1;var a=(x-f.x)/f.width,i=(t-f.y)/f.height;return a*=a,i*=i,a+i<.25};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(275),x=p(0),t=p(75),a=p(9),i=p(207),e=p(2),s=p(6),r=p(7),n=p(437),o=p(149),l=p(73),h=new x({Extends:a,initialize:function(c,d,v){a.call(this),v?d&&!Array.isArray(d)&&(d=[d]):Array.isArray(d)?r(d[0])&&(v=d,d=null):r(d)&&(v=d,d=null),this.scene=c,this.children=new o,this.isParent=!0,this.type="Group",this.classType=e(v,"classType",l),this.name=e(v,"name",""),this.active=e(v,"active",!0),this.maxSize=e(v,"maxSize",-1),this.defaultKey=e(v,"defaultKey",null),this.defaultFrame=e(v,"defaultFrame",null),this.runChildUpdate=e(v,"runChildUpdate",!1),this.createCallback=e(v,"createCallback",null),this.removeCallback=e(v,"removeCallback",null),this.createMultipleCallback=e(v,"createMultipleCallback",null),this.internalCreateCallback=e(v,"internalCreateCallback",null),this.internalRemoveCallback=e(v,"internalRemoveCallback",null),d&&this.addMultiple(d),v&&this.createMultiple(v),this.on(t.ADDED_TO_SCENE,this.addedToScene,this),this.on(t.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(u,c,d,v,g,m){if(u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=this.defaultKey),v===void 0&&(v=this.defaultFrame),g===void 0&&(g=!0),m===void 0&&(m=!0),this.isFull())return null;var y=new this.classType(this.scene,u,c,d,v);return y.addToDisplayList(this.scene.sys.displayList),y.addToUpdateList(),y.visible=g,y.setActive(m),this.add(y),y},createMultiple:function(u){if(this.isFull())return[];Array.isArray(u)||(u=[u]);var c=[];if(u[0].key)for(var d=0;d<u.length;d++){var v=this.createFromConfig(u[d]);c=c.concat(v)}return c},createFromConfig:function(u){if(this.isFull())return[];this.classType=e(u,"classType",this.classType);var c=e(u,"key",void 0),d=e(u,"frame",null),v=e(u,"visible",!0),g=e(u,"active",!0),m=[];if(c===void 0)return m;Array.isArray(c)||(c=[c]),Array.isArray(d)||(d=[d]);var y=e(u,"repeat",0),T=e(u,"randomKey",!1),E=e(u,"randomFrame",!1),S=e(u,"yoyo",!1),C=e(u,"quantity",!1),M=e(u,"frameQuantity",1),P=e(u,"max",0),R=n(c,d,{max:P,qty:C||M,random:T,randomB:E,repeat:y,yoyo:S});u.createCallback&&(this.createCallback=u.createCallback),u.removeCallback&&(this.removeCallback=u.removeCallback);for(var L=0;L<R.length;L++){var w=this.create(0,0,R[L].a,R[L].b,v,g);if(!w)break;m.push(w)}var B=s(u,"setXY.x",0),G=s(u,"setXY.y",0),Y=s(u,"setXY.stepX",0),D=s(u,"setXY.stepY",0);f.SetXY(m,B,G,Y,D);var F=s(u,"setRotation.value",0),N=s(u,"setRotation.step",0);f.SetRotation(m,F,N);var I=s(u,"setScale.x",1),b=s(u,"setScale.y",I),U=s(u,"setScale.stepX",0),X=s(u,"setScale.stepY",0);f.SetScale(m,I,b,U,X);var z=s(u,"setOrigin.x",.5),V=s(u,"setOrigin.y",z),W=s(u,"setOrigin.stepX",0),H=s(u,"setOrigin.stepY",0);f.SetOrigin(m,z,V,W,H);var K=s(u,"setAlpha.value",1),Z=s(u,"setAlpha.step",0);f.SetAlpha(m,K,Z);var j=s(u,"setDepth.value",0),k=s(u,"setDepth.step",0);f.SetDepth(m,j,k);var J=s(u,"setScrollFactor.x",1),q=s(u,"setScrollFactor.y",J),_=s(u,"setScrollFactor.stepX",0),tt=s(u,"setScrollFactor.stepY",0);f.SetScrollFactor(m,J,q,_,tt);var Q=e(u,"hitArea",null),et=e(u,"hitAreaCallback",null);Q&&f.SetHitArea(m,Q,et);var $=e(u,"gridAlign",!1);return $&&f.GridAlign(m,$),this.createMultipleCallback&&this.createMultipleCallback.call(this,m),m},preUpdate:function(u,c){if(!(!this.runChildUpdate||this.children.size===0))for(var d=this.children.entries.slice(),v=0;v<d.length;v++){var g=d[v];g.active&&g.update(u,c)}},add:function(u,c){return c===void 0&&(c=!1),this.isFull()?this:(this.children.set(u),this.internalCreateCallback&&this.internalCreateCallback.call(this,u),this.createCallback&&this.createCallback.call(this,u),c&&(u.addToDisplayList(this.scene.sys.displayList),u.addToUpdateList()),u.on(t.DESTROY,this.remove,this),this)},addMultiple:function(u,c){if(c===void 0&&(c=!1),Array.isArray(u))for(var d=0;d<u.length;d++)this.add(u[d],c);return this},remove:function(u,c,d){return c===void 0&&(c=!1),d===void 0&&(d=!1),this.children.contains(u)?(this.children.delete(u),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,u),this.removeCallback&&this.removeCallback.call(this,u),u.off(t.DESTROY,this.remove,this),d?u.destroy():c&&(u.removeFromDisplayList(),u.removeFromUpdateList()),this):this},clear:function(u,c){u===void 0&&(u=!1),c===void 0&&(c=!1);for(var d=this.children,v=0;v<d.size;v++){var g=d.entries[v];g.off(t.DESTROY,this.remove,this),c?g.destroy():u&&(g.removeFromDisplayList(),g.removeFromUpdateList())}return this.children.clear(),this},contains:function(u){return this.children.contains(u)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(u,c,d,v){return i(this.children.entries,u,c,d,v)},getFirst:function(u,c,d,v,g,m,y){return this.getHandler(!0,1,u,c,d,v,g,m,y)},getFirstNth:function(u,c,d,v,g,m,y,T){return this.getHandler(!0,u,c,d,v,g,m,y,T)},getLast:function(u,c,d,v,g,m,y){return this.getHandler(!1,1,u,c,d,v,g,m,y)},getLastNth:function(u,c,d,v,g,m,y,T){return this.getHandler(!1,u,c,d,v,g,m,y,T)},getHandler:function(u,c,d,v,g,m,y,T,E){d===void 0&&(d=!1),v===void 0&&(v=!1);var S,C,M=0,P=this.children.entries;if(u)for(C=0;C<P.length;C++)if(S=P[C],S.active===d){if(M++,M===c)break}else S=null;else for(C=P.length-1;C>=0;C--)if(S=P[C],S.active===d){if(M++,M===c)break}else S=null;return S?(typeof g=="number"&&(S.x=g),typeof m=="number"&&(S.y=m),S):v?this.create(g,m,y,T,E):null},get:function(u,c,d,v,g){return this.getFirst(!1,!0,u,c,d,v,g)},getFirstAlive:function(u,c,d,v,g,m){return this.getFirst(!0,u,c,d,v,g,m)},getFirstDead:function(u,c,d,v,g,m){return this.getFirst(!1,u,c,d,v,g,m)},playAnimation:function(u,c){return f.PlayAnimation(this.children.entries,u,c),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(u){u===void 0&&(u=!0);for(var c=0,d=0;d<this.children.size;d++)this.children.entries[d].active===u&&c++;return c},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var u=this.getTotalUsed(),c=this.maxSize===-1?999999999999:this.maxSize;return c-u},setActive:function(u){return this.active=u,this},setName:function(u){return this.name=u,this},propertyValueSet:function(u,c,d,v,g){return f.PropertyValueSet(this.children.entries,u,c,d,v,g),this},propertyValueInc:function(u,c,d,v,g){return f.PropertyValueInc(this.children.entries,u,c,d,v,g),this},setX:function(u,c){return f.SetX(this.children.entries,u,c),this},setY:function(u,c){return f.SetY(this.children.entries,u,c),this},setXY:function(u,c,d,v){return f.SetXY(this.children.entries,u,c,d,v),this},incX:function(u,c){return f.IncX(this.children.entries,u,c),this},incY:function(u,c){return f.IncY(this.children.entries,u,c),this},incXY:function(u,c,d,v){return f.IncXY(this.children.entries,u,c,d,v),this},shiftPosition:function(u,c,d){return f.ShiftPosition(this.children.entries,u,c,d),this},angle:function(u,c){return f.Angle(this.children.entries,u,c),this},rotate:function(u,c){return f.Rotate(this.children.entries,u,c),this},rotateAround:function(u,c){return f.RotateAround(this.children.entries,u,c),this},rotateAroundDistance:function(u,c,d){return f.RotateAroundDistance(this.children.entries,u,c,d),this},setAlpha:function(u,c){return f.SetAlpha(this.children.entries,u,c),this},setTint:function(u,c,d,v){return f.SetTint(this.children.entries,u,c,d,v),this},setOrigin:function(u,c,d,v){return f.SetOrigin(this.children.entries,u,c,d,v),this},scaleX:function(u,c){return f.ScaleX(this.children.entries,u,c),this},scaleY:function(u,c){return f.ScaleY(this.children.entries,u,c),this},scaleXY:function(u,c,d,v){return f.ScaleXY(this.children.entries,u,c,d,v),this},setDepth:function(u,c){return f.SetDepth(this.children.entries,u,c),this},setBlendMode:function(u){return f.SetBlendMode(this.children.entries,u),this},setHitArea:function(u,c){return f.SetHitArea(this.children.entries,u,c),this},shuffle:function(){return f.Shuffle(this.children.entries),this},kill:function(u){this.children.contains(u)&&u.setActive(!1)},killAndHide:function(u){this.children.contains(u)&&(u.setActive(!1),u.setVisible(!1))},setVisible:function(u,c,d){return f.SetVisible(this.children.entries,u,c,d),this},toggleVisible:function(){return f.ToggleVisible(this.children.entries),this},destroy:function(u,c){u===void 0&&(u=!1),c===void 0&&(c=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(t.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(c,u),this.scene=void 0,this.children=void 0)}});A.exports=h},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(12),x=function(t,a,i,e,s,r){for(var n=f.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*e),o=i.pathData,l=i.pathIndexes,h=0;h<l.length;h+=3){var u=l[h]*2,c=l[h+1]*2,d=l[h+2]*2,v=o[u+0]-s,g=o[u+1]-r,m=o[c+0]-s,y=o[c+1]-r,T=o[d+0]-s,E=o[d+1]-r,S=a.getX(v,g),C=a.getY(v,g),M=a.getX(m,y),P=a.getY(m,y),R=a.getX(T,E),L=a.getY(T,E);t.batchTri(i,S,C,M,P,R,L,0,0,1,1,n,n,n,2)}};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=f.x3-f.x1,i=f.y3-f.y1,e=f.x2-f.x1,s=f.y2-f.y1,r=x-f.x1,n=t-f.y1,o=a*a+i*i,l=a*e+i*s,h=a*r+i*n,u=e*e+s*s,c=e*r+s*n,d=o*u-l*l,v=d===0?0:1/d,g=(u*h-l*c)*v,m=(o*c-l*h)*v;return g>=0&&m>=0&&g+m<1};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(10),t=p(3);function a(e,s,r,n){var o=e-r,l=s-n,h=o*o+l*l;return Math.sqrt(h)}var i=new f({initialize:function(s,r,n){this.vertex1=s,this.vertex2=r,this.vertex3=n,this.bounds=new x,this._inCenter=new t},getInCenter:function(e){e===void 0&&(e=!0);var s=this.vertex1,r=this.vertex2,n=this.vertex3,o,l,h,u,c,d;e?(o=s.x,l=s.y,h=r.x,u=r.y,c=n.x,d=n.y):(o=s.vx,l=s.vy,h=r.vx,u=r.vy,c=n.vx,d=n.vy);var v=a(c,d,h,u),g=a(o,l,c,d),m=a(h,u,o,l),y=v+g+m;return this._inCenter.set((o*v+h*g+c*m)/y,(l*v+u*g+d*m)/y)},contains:function(e,s,r){var n=this.vertex1,o=this.vertex2,l=this.vertex3,h=n.vx,u=n.vy,c=o.vx,d=o.vy,v=l.vx,g=l.vy;if(r){var m=r.a,y=r.b,T=r.c,E=r.d,S=r.e,C=r.f;h=n.vx*m+n.vy*T+S,u=n.vx*y+n.vy*E+C,c=o.vx*m+o.vy*T+S,d=o.vx*y+o.vy*E+C,v=l.vx*m+l.vy*T+S,g=l.vx*y+l.vy*E+C}var M=v-h,P=g-u,R=c-h,L=d-u,w=e-h,B=s-u,G=M*M+P*P,Y=M*R+P*L,D=M*w+P*B,F=R*R+L*L,N=R*w+L*B,I=G*F-Y*Y,b=I===0?0:1/I,U=(F*D-Y*N)*b,X=(G*N-Y*D)*b;return U>=0&&X>=0&&U+X<1},isCounterClockwise:function(e){var s=this.vertex1,r=this.vertex2,n=this.vertex3,o=(r.vx-s.vx)*(n.vy-s.vy)-(r.vy-s.vy)*(n.vx-s.vx);return e<=0?o>=0:o<0},load:function(e,s,r,n,o){return r=this.vertex1.load(e,s,r,n,o),r=this.vertex2.load(e,s,r,n,o),r=this.vertex3.load(e,s,r,n,o),r},transformCoordinatesLocal:function(e,s,r,n){return this.vertex1.transformCoordinatesLocal(e,s,r,n),this.vertex2.transformCoordinatesLocal(e,s,r,n),this.vertex3.transformCoordinatesLocal(e,s,r,n),this},updateBounds:function(){var e=this.vertex1,s=this.vertex2,r=this.vertex3,n=this.bounds;return n.x=Math.min(e.vx,s.vx,r.vx),n.y=Math.min(e.vy,s.vy,r.vy),n.width=Math.max(e.vx,s.vx,r.vx)-n.x,n.height=Math.max(e.vy,s.vy,r.vy)-n.y,this},isInView:function(e,s,r,n,o,l,h,u,c,d,v){var g=this.vertex1.update(o,l,h,u,c,d,v,n),m=this.vertex2.update(o,l,h,u,c,d,v,n),y=this.vertex3.update(o,l,h,u,c,d,v,n);if(g.ta<=0&&m.ta<=0&&y.ta<=0||s&&!this.isCounterClockwise(r))return!1;var T=this.bounds;T.x=Math.min(g.tx,m.tx,y.tx),T.y=Math.min(g.ty,m.ty,y.ty),T.width=Math.max(g.tx,m.tx,y.tx)-T.x,T.height=Math.max(g.ty,m.ty,y.ty)-T.y;var E=e.x+e.width,S=e.y+e.height;return T.width<=0||T.height<=0||e.width<=0||e.height<=0?!1:!(T.right<e.x||T.bottom<e.y||T.x>E||T.y>S)},translate:function(e,s){s===void 0&&(s=0);var r=this.vertex1,n=this.vertex2,o=this.vertex3;return r.x+=e,r.y+=s,n.x+=e,n.y+=s,o.x+=e,o.y+=s,this},x:{get:function(){return this.getInCenter().x},set:function(e){var s=this.getInCenter();this.translate(e-s.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var s=this.getInCenter();this.translate(0,e-s.y)}},alpha:{get:function(){var e=this.vertex1,s=this.vertex2,r=this.vertex3;return(e.alpha+s.alpha+r.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,s=this.vertex2,r=this.vertex3;return(e.vz+s.vz+r.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(12),t=p(39),a=new f({Extends:t,initialize:function(e,s,r,n,o,l,h,u,c,d){l===void 0&&(l=16777215),h===void 0&&(h=1),u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=0),t.call(this,e,s,r),this.vx=0,this.vy=0,this.vz=0,this.nx=u,this.ny=c,this.nz=d,this.u=n,this.v=o,this.color=l,this.alpha=h,this.tx=0,this.ty=0,this.ta=0},setUVs:function(i,e){return this.u=i,this.v=e,this},transformCoordinatesLocal:function(i,e,s,r){var n=this.x,o=this.y,l=this.z,h=i.val,u=n*h[0]+o*h[4]+l*h[8]+h[12],c=n*h[1]+o*h[5]+l*h[9]+h[13],d=n*h[2]+o*h[6]+l*h[10]+h[14],v=n*h[3]+o*h[7]+l*h[11]+h[15];this.vx=u/v*e,this.vy=-(c/v)*s,r<=0?this.vz=d/v:this.vz=-(d/v)},update:function(i,e,s,r,n,o,l,h){var u=this.vx*i+this.vy*s+n,c=this.vx*e+this.vy*r+o;return l&&(u=Math.round(u),c=Math.round(c)),this.tx=u,this.ty=c,this.ta=this.alpha*h,this},load:function(i,e,s,r,n){return i[++s]=this.tx,i[++s]=this.ty,i[++s]=this.u,i[++s]=this.v,i[++s]=r,i[++s]=n,e[++s]=x.getTintAppendFloatAlpha(this.color,this.ta),s}});A.exports=a},function(A,O,p){var f={};A.exports=f;var x=p(166),t=p(32),a=p(84),i=p(41);(function(){f.create=function(e){return t.extend({id:t.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},f.setModified=function(e,s,r,n){if(x.trigger(e,"compositeModified",e),e.isModified=s,r&&e.parent&&f.setModified(e.parent,s,r,n),n)for(var o=0;o<e.composites.length;o++){var l=e.composites[o];f.setModified(l,s,r,n)}},f.add=function(e,s){var r=[].concat(s);x.trigger(e,"beforeAdd",{object:s});for(var n=0;n<r.length;n++){var o=r[n];switch(o.type){case"body":if(o.parent!==o){t.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}f.addBody(e,o);break;case"constraint":f.addConstraint(e,o);break;case"composite":f.addComposite(e,o);break;case"mouseConstraint":f.addConstraint(e,o.constraint);break}}return x.trigger(e,"afterAdd",{object:s}),e},f.remove=function(e,s,r){var n=[].concat(s);x.trigger(e,"beforeRemove",{object:s});for(var o=0;o<n.length;o++){var l=n[o];switch(l.type){case"body":f.removeBody(e,l,r);break;case"constraint":f.removeConstraint(e,l,r);break;case"composite":f.removeComposite(e,l,r);break;case"mouseConstraint":f.removeConstraint(e,l.constraint);break}}return x.trigger(e,"afterRemove",{object:s}),e},f.addComposite=function(e,s){return e.composites.push(s),s.parent=e,f.setModified(e,!0,!0,!1),e},f.removeComposite=function(e,s,r){var n=e.composites.indexOf(s);if(n!==-1&&(f.removeCompositeAt(e,n),f.setModified(e,!0,!0,!1)),r)for(var o=0;o<e.composites.length;o++)f.removeComposite(e.composites[o],s,!0);return e},f.removeCompositeAt=function(e,s){return e.composites.splice(s,1),f.setModified(e,!0,!0,!1),e},f.addBody=function(e,s){return e.bodies.push(s),f.setModified(e,!0,!0,!1),e},f.removeBody=function(e,s,r){var n=e.bodies.indexOf(s);if(n!==-1&&(f.removeBodyAt(e,n),f.setModified(e,!0,!0,!1)),r)for(var o=0;o<e.composites.length;o++)f.removeBody(e.composites[o],s,!0);return e},f.removeBodyAt=function(e,s){return e.bodies.splice(s,1),f.setModified(e,!0,!0,!1),e},f.addConstraint=function(e,s){return e.constraints.push(s),f.setModified(e,!0,!0,!1),e},f.removeConstraint=function(e,s,r){var n=e.constraints.indexOf(s);if(n!==-1&&f.removeConstraintAt(e,n),r)for(var o=0;o<e.composites.length;o++)f.removeConstraint(e.composites[o],s,!0);return e},f.removeConstraintAt=function(e,s){return e.constraints.splice(s,1),f.setModified(e,!0,!0,!1),e},f.clear=function(e,s,r){if(r)for(var n=0;n<e.composites.length;n++)f.clear(e.composites[n],s,!0);return s?e.bodies=e.bodies.filter(function(o){return o.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,f.setModified(e,!0,!0,!1),e},f.allBodies=function(e){for(var s=[].concat(e.bodies),r=0;r<e.composites.length;r++)s=s.concat(f.allBodies(e.composites[r]));return s},f.allConstraints=function(e){for(var s=[].concat(e.constraints),r=0;r<e.composites.length;r++)s=s.concat(f.allConstraints(e.composites[r]));return s},f.allComposites=function(e){for(var s=[].concat(e.composites),r=0;r<e.composites.length;r++)s=s.concat(f.allComposites(e.composites[r]));return s},f.get=function(e,s,r){var n,o;switch(r){case"body":n=f.allBodies(e);break;case"constraint":n=f.allConstraints(e);break;case"composite":n=f.allComposites(e).concat(e);break}return n?(o=n.filter(function(l){return l.id.toString()===s.toString()}),o.length===0?null:o[0]):null},f.move=function(e,s,r){return f.remove(e,s),f.add(r,s),e},f.rebase=function(e){for(var s=f.allBodies(e).concat(f.allConstraints(e)).concat(f.allComposites(e)),r=0;r<s.length;r++)s[r].id=t.nextId();return f.setModified(e,!0,!0,!1),e},f.translate=function(e,s,r){for(var n=r?f.allBodies(e):e.bodies,o=0;o<n.length;o++)i.translate(n[o],s);return f.setModified(e,!0,!0,!1),e},f.rotate=function(e,s,r,n){for(var o=Math.cos(s),l=Math.sin(s),h=n?f.allBodies(e):e.bodies,u=0;u<h.length;u++){var c=h[u],d=c.position.x-r.x,v=c.position.y-r.y;i.setPosition(c,{x:r.x+(d*o-v*l),y:r.y+(d*l+v*o)}),i.rotate(c,s)}return f.setModified(e,!0,!0,!1),e},f.scale=function(e,s,r,n,o){for(var l=o?f.allBodies(e):e.bodies,h=0;h<l.length;h++){var u=l[h],c=u.position.x-n.x,d=u.position.y-n.y;i.setPosition(u,{x:n.x+c*s,y:n.y+d*r}),i.scale(u,s,r)}return f.setModified(e,!0,!0,!1),e},f.bounds=function(e){for(var s=f.allBodies(e),r=[],n=0;n<s.length;n+=1){var o=s[n];r.push(o.bounds.min,o.bounds.max)}return a.create(r)}})()},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return f>=0&&f<t.width&&x>=0&&x<t.height};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(29),t=p(2),a=new f({initialize:function(e){e===void 0&&(e={}),this.name=t(e,"name","layer"),this.x=t(e,"x",0),this.y=t(e,"y",0),this.width=t(e,"width",0),this.height=t(e,"height",0),this.tileWidth=t(e,"tileWidth",0),this.tileHeight=t(e,"tileHeight",0),this.baseTileWidth=t(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=t(e,"baseTileHeight",this.tileHeight),this.orientation=t(e,"orientation",x.ORTHOGONAL),this.widthInPixels=t(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=t(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=t(e,"alpha",1),this.visible=t(e,"visible",!0),this.properties=t(e,"properties",[]),this.indexes=t(e,"indexes",[]),this.collideIndexes=t(e,"collideIndexes",[]),this.callbacks=t(e,"callbacks",[]),this.bodies=t(e,"bodies",[]),this.data=t(e,"data",[]),this.tilemapLayer=t(e,"tilemapLayer",null),this.hexSideLength=t(e,"hexSideLength",0)}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(29),t=p(2),a=new f({initialize:function(e){e===void 0&&(e={}),this.name=t(e,"name","map"),this.width=t(e,"width",0),this.height=t(e,"height",0),this.infinite=t(e,"infinite",!1),this.tileWidth=t(e,"tileWidth",0),this.tileHeight=t(e,"tileHeight",0),this.widthInPixels=t(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=t(e,"heightInPixels",this.height*this.tileHeight),this.format=t(e,"format",null),this.orientation=t(e,"orientation",x.ORTHOGONAL),this.renderOrder=t(e,"renderOrder","right-down"),this.version=t(e,"version","1"),this.properties=t(e,"properties",{}),this.layers=t(e,"layers",[]),this.images=t(e,"images",[]),this.objects=t(e,"objects",{}),this.collision=t(e,"collision",{}),this.tilesets=t(e,"tilesets",[]),this.imageCollections=t(e,"imageCollections",[]),this.tiles=t(e,"tiles",[]),this.hexSideLength=t(e,"hexSideLength",0)}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a,i,e,s,r,n,o,l){(e===void 0||e<=0)&&(e=32),(s===void 0||s<=0)&&(s=32),r===void 0&&(r=0),n===void 0&&(n=0),o===void 0&&(o={}),l===void 0&&(l={}),this.name=a,this.firstgid=i,this.tileWidth=e,this.tileHeight=s,this.tileMargin=r,this.tileSpacing=n,this.tileProperties=o,this.tileData=l,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(t){return this.containsTileIndex(t)?this.tileProperties[t-this.firstgid]:null},getTileData:function(t){return this.containsTileIndex(t)?this.tileData[t-this.firstgid]:null},getTileCollisionGroup:function(t){var a=this.getTileData(t);return a&&a.objectgroup?a.objectgroup:null},containsTileIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},getTileTextureCoordinates:function(t){return this.containsTileIndex(t)?this.texCoordinates[t-this.firstgid]:null},setImage:function(t){return this.image=t,this.glTexture=t.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(t,a){return t!==void 0&&(this.tileWidth=t),a!==void 0&&(this.tileHeight=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(t,a){return t!==void 0&&(this.tileMargin=t),a!==void 0&&(this.tileSpacing=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(t,a){var i=(a-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),e=(t-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(i%1!==0||e%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),i=Math.floor(i),e=Math.floor(e),this.rows=i,this.columns=e,this.total=i*e,this.texCoordinates.length=0;for(var s=this.tileMargin,r=this.tileMargin,n=0;n<this.rows;n++){for(var o=0;o<this.columns;o++)this.texCoordinates.push({x:s,y:r}),s+=this.tileWidth+this.tileSpacing;s=this.tileMargin,r+=this.tileHeight+this.tileSpacing}return this}});A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return t===void 0&&(t=1e-4),Math.abs(f-x)<t};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(11),t=p(15),a=p(1068),i=new f({Extends:t,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.ScrollFactor,x.Size,x.TextureCrop,x.Tint,x.Transform,x.Visible,a],initialize:function(s,r,n,o,l){t.call(this,s,"Image"),this._crop=this.resetCropObject(),this.setTexture(o,l),this.setPosition(r,n),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});A.exports=i},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.hasOwnProperty(x)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(77),x=function(t,a){var i=f(t);for(var e in a)i.hasOwnProperty(e)||(i[e]=a[e]);return i};A.exports=x},function(A,O,p){var f={};A.exports=f;var x=p(64),t=p(83),a=p(165),i=p(84),e=p(271),s=p(32);(function(){f._warming=.4,f._torqueDampen=1,f._minLength=1e-6,f.create=function(r){var n=r;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var o=n.bodyA?t.add(n.bodyA.position,n.pointA):n.pointA,l=n.bodyB?t.add(n.bodyB.position,n.pointB):n.pointB,h=t.magnitude(t.sub(o,l));n.length=typeof n.length<"u"?n.length:h,n.id=n.id||s.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||(n.length>0?1:.7),n.damping=n.damping||0,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n.plugin={};var u={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return n.length===0&&n.stiffness>.1?(u.type="pin",u.anchors=!1):n.stiffness<.9&&(u.type="spring"),n.render=s.extend(u,n.render),n},f.preSolveAll=function(r){for(var n=0;n<r.length;n+=1){var o=r[n],l=o.constraintImpulse;o.isStatic||l.x===0&&l.y===0&&l.angle===0||(o.position.x+=l.x,o.position.y+=l.y,o.angle+=l.angle)}},f.solveAll=function(r,n){for(var o=0;o<r.length;o+=1){var l=r[o],h=!l.bodyA||l.bodyA&&l.bodyA.isStatic,u=!l.bodyB||l.bodyB&&l.bodyB.isStatic;(h||u)&&f.solve(r[o],n)}for(o=0;o<r.length;o+=1)l=r[o],h=!l.bodyA||l.bodyA&&l.bodyA.isStatic,u=!l.bodyB||l.bodyB&&l.bodyB.isStatic,!h&&!u&&f.solve(r[o],n)},f.solve=function(r,n){var o=r.bodyA,l=r.bodyB,h=r.pointA,u=r.pointB;if(!(!o&&!l)){o&&!o.isStatic&&(t.rotate(h,o.angle-r.angleA,h),r.angleA=o.angle),l&&!l.isStatic&&(t.rotate(u,l.angle-r.angleB,u),r.angleB=l.angle);var c=h,d=u;if(o&&(c=t.add(o.position,h)),l&&(d=t.add(l.position,u)),!(!c||!d)){var v=t.sub(c,d),g=t.magnitude(v);g<f._minLength&&(g=f._minLength);var m=(g-r.length)/g,y=r.stiffness<1?r.stiffness*n:r.stiffness,T=t.mult(v,m*y),E=(o?o.inverseMass:0)+(l?l.inverseMass:0),S=(o?o.inverseInertia:0)+(l?l.inverseInertia:0),C=E+S,M,P,R,L,w;if(r.damping){var B=t.create();R=t.div(v,g),w=t.sub(l&&t.sub(l.position,l.positionPrev)||B,o&&t.sub(o.position,o.positionPrev)||B),L=t.dot(R,w)}o&&!o.isStatic&&(P=o.inverseMass/E,o.constraintImpulse.x-=T.x*P,o.constraintImpulse.y-=T.y*P,o.position.x-=T.x*P,o.position.y-=T.y*P,r.damping&&(o.positionPrev.x-=r.damping*R.x*L*P,o.positionPrev.y-=r.damping*R.y*L*P),M=t.cross(h,T)/C*f._torqueDampen*o.inverseInertia*(1-r.angularStiffness),o.constraintImpulse.angle-=M,o.angle-=M),l&&!l.isStatic&&(P=l.inverseMass/E,l.constraintImpulse.x+=T.x*P,l.constraintImpulse.y+=T.y*P,l.position.x+=T.x*P,l.position.y+=T.y*P,r.damping&&(l.positionPrev.x+=r.damping*R.x*L*P,l.positionPrev.y+=r.damping*R.y*L*P),M=t.cross(u,T)/C*f._torqueDampen*l.inverseInertia*(1-r.angularStiffness),l.constraintImpulse.angle+=M,l.angle+=M)}}},f.postSolveAll=function(r){for(var n=0;n<r.length;n++){var o=r[n],l=o.constraintImpulse;if(!(o.isStatic||l.x===0&&l.y===0&&l.angle===0)){a.set(o,!1);for(var h=0;h<o.parts.length;h++){var u=o.parts[h];x.translate(u.vertices,l),h>0&&(u.position.x+=l.x,u.position.y+=l.y),l.angle!==0&&(x.rotate(u.vertices,l.angle,o.position),e.rotate(u.axes,l.angle),h>0&&t.rotateAbout(u.position,l.angle,o.position,u.position)),i.update(u.bounds,u.vertices,o.velocity)}l.angle*=f._warming,l.x*=f._warming,l.y*=f._warming}}},f.pointAWorld=function(r){return{x:(r.bodyA?r.bodyA.position.x:0)+r.pointA.x,y:(r.bodyA?r.bodyA.position.y:0)+r.pointA.y}},f.pointBWorld=function(r){return{x:(r.bodyB?r.bodyB.position.x:0)+r.pointB.x,y:(r.bodyB?r.bodyB.position.y:0)+r.pointB.y}}})()},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(35),x=p(65),t=p(66),a=p(0),i=p(11),e=p(15),s=p(10),r=p(57),n=new a({Extends:e,Mixins:[i.Depth,i.GetBounds,i.Origin,i.Transform,i.ScrollFactor,i.Visible],initialize:function(l,h,u,c,d){c===void 0&&(c=1),d===void 0&&(d=c),e.call(this,l,"Zone"),this.setPosition(h,u),this.width=c,this.height=d,this.blendMode=f.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}},setSize:function(o,l,h){h===void 0&&(h=!0),this.width=o,this.height=l,this.updateDisplayOrigin();var u=this.input;return h&&u&&!u.customHitArea&&(u.hitArea.width=o,u.hitArea.height=l),this},setDisplaySize:function(o,l){return this.displayWidth=o,this.displayHeight=l,this},setCircleDropZone:function(o){return this.setDropZone(new x(0,0,o),t)},setRectangleDropZone:function(o,l){return this.setDropZone(new s(0,0,o,l),r)},setDropZone:function(o,l){return o===void 0?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(o,l,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(o,l,h){h.addToRenderList(l)},renderWebGL:function(o,l,h){h.addToRenderList(l)}});A.exports=n},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return 2*(f.width+f.height)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){for(var x=f.length-1;x>0;x--){var t=Math.floor(Math.random()*(x+1)),a=f[x];f[x]=f[t],f[t]=a}return f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={ADD_ANIMATION:p(724),ANIMATION_COMPLETE:p(725),ANIMATION_COMPLETE_KEY:p(726),ANIMATION_REPEAT:p(727),ANIMATION_RESTART:p(728),ANIMATION_START:p(729),ANIMATION_STOP:p(730),ANIMATION_UPDATE:p(731),PAUSE_ALL:p(732),REMOVE_ANIMATION:p(733),RESUME_ALL:p(734)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(11),t=p(36),a=p(9),i=p(37),e=p(10),s=p(25),r=p(187),n=p(3),o=new f({Extends:a,Mixins:[x.Alpha,x.Visible],initialize:function(h,u,c,d){h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=h,this._y=u,this._width=c,this._height=d,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new s,this.transparent=!0,this.backgroundColor=r("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new n(c/2,d/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[]},addToRenderList:function(l){this.renderList.push(l)},setOrigin:function(l,h){return l===void 0&&(l=.5),h===void 0&&(h=l),this.originX=l,this.originY=h,this},getScroll:function(l,h,u){u===void 0&&(u=new n);var c=this.width*.5,d=this.height*.5;return u.x=l-c,u.y=h-d,this.useBounds&&(u.x=this.clampX(u.x),u.y=this.clampY(u.y)),u},centerOnX:function(l){var h=this.width*.5;return this.midPoint.x=l,this.scrollX=l-h,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(l){var h=this.height*.5;return this.midPoint.y=l,this.scrollY=l-h,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(l,h){return this.centerOnX(l),this.centerOnY(h),this},centerToBounds:function(){if(this.useBounds){var l=this._bounds,h=this.width*.5,u=this.height*.5;this.midPoint.set(l.centerX,l.centerY),this.scrollX=l.centerX-h,this.scrollY=l.centerY-u}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(l){if(this.disableCull)return l;var h=this.matrix.matrix,u=h[0],c=h[1],d=h[2],v=h[3],g=u*v-c*d;if(!g)return l;var m=h[4],y=h[5],T=this.scrollX,E=this.scrollY,S=this.width,C=this.height,M=this.y,P=M+C,R=this.x,L=R+S,w=this.culledObjects,B=l.length;g=1/g,w.length=0;for(var G=0;G<B;++G){var Y=l[G];if(!Y.hasOwnProperty("width")||Y.parentContainer){w.push(Y);continue}var D=Y.width,F=Y.height,N=Y.x-T*Y.scrollFactorX-D*Y.originX,I=Y.y-E*Y.scrollFactorY-F*Y.originY,b=N*u+I*d+m,U=N*c+I*v+y,X=(N+D)*u+(I+F)*d+m,z=(N+D)*c+(I+F)*v+y;X>R&&b<L&&z>M&&U<P&&w.push(Y)}return w},getWorldPoint:function(l,h,u){u===void 0&&(u=new n);var c=this.matrix.matrix,d=c[0],v=c[1],g=c[2],m=c[3],y=c[4],T=c[5],E=d*m-v*g;if(!E)return u.x=l,u.y=h,u;E=1/E;var S=m*E,C=-v*E,M=-g*E,P=d*E,R=(g*T-m*y)*E,L=(v*y-d*T)*E,w=Math.cos(this.rotation),B=Math.sin(this.rotation),G=this.zoomX,Y=this.zoomY,D=this.scrollX,F=this.scrollY,N=l+(D*w-F*B)*G,I=h+(D*B+F*w)*Y;return u.x=N*S+I*M+R,u.y=N*C+I*P+L,u},ignore:function(l){var h=this.id;Array.isArray(l)||(l=[l]);for(var u=0;u<l.length;u++){var c=l[u];Array.isArray(c)?this.ignore(c):c.isParent?this.ignore(c.getChildren()):c.cameraFilter|=h}return this},preRender:function(){this.renderList.length=0;var l=this.width,h=this.height,u=l*.5,c=h*.5,d=this.zoomX,v=this.zoomY,g=this.matrix,m=l*this.originX,y=h*this.originY,T=this.scrollX,E=this.scrollY;this.useBounds&&(T=this.clampX(T),E=this.clampY(E)),this.roundPixels&&(m=Math.round(m),y=Math.round(y)),this.scrollX=T,this.scrollY=E;var S=T+u,C=E+c;this.midPoint.set(S,C);var M=l/d,P=h/v;this.worldView.setTo(S-M/2,C-P/2,M,P),g.applyITRS(this.x+m,this.y+y,this.rotation,d,v),g.translate(-m,-y)},clampX:function(l){var h=this._bounds,u=this.displayWidth,c=h.x+(u-this.width)/2,d=Math.max(c,c+h.width-u);return l<c?l=c:l>d&&(l=d),l},clampY:function(l){var h=this._bounds,u=this.displayHeight,c=h.y+(u-this.height)/2,d=Math.max(c,c+h.height-u);return l<c?l=c:l>d&&(l=d),l},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(l){return l===void 0&&(l=0),this.rotation=t(l),this},setBackgroundColor:function(l){return l===void 0&&(l="rgba(0,0,0,0)"),this.backgroundColor=r(l),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(l,h,u,c,d){return d===void 0&&(d=!1),this._bounds.setTo(l,h,u,c),this.dirty=!0,this.useBounds=!0,d?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(l){l===void 0&&(l=new e);var h=this._bounds;return l.setTo(h.x,h.y,h.width,h.height),l},setName:function(l){return l===void 0&&(l=""),this.name=l,this},setPosition:function(l,h){return h===void 0&&(h=l),this.x=l,this.y=h,this},setRotation:function(l){return l===void 0&&(l=0),this.rotation=l,this},setRoundPixels:function(l){return this.roundPixels=l,this},setScene:function(l){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=l;var h=l.sys;return this.sceneManager=h.game.scene,this.scaleManager=h.scale,this.cameraManager=h.cameras,this.updateSystem(),this},setScroll:function(l,h){return h===void 0&&(h=l),this.scrollX=l,this.scrollY=h,this},setSize:function(l,h){return h===void 0&&(h=l),this.width=l,this.height=h,this},setViewport:function(l,h,u,c){return this.x=l,this.y=h,this.width=u,this.height=c,this},setZoom:function(l,h){return l===void 0&&(l=1),h===void 0&&(h=l),l===0&&(l=.001),h===0&&(h=.001),this.zoomX=l,this.zoomY=h,this},setMask:function(l,h){return h===void 0&&(h=!0),this.mask=l,this._maskCamera=h?this.cameraManager.default:this,this},clearMask:function(l){return l===void 0&&(l=!1),l&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var l={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(l.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),l},update:function(){},updateSystem:function(){if(!!this.scaleManager){var l=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,h=this.sceneManager;l&&!this._customViewport?h.customViewports++:!l&&this._customViewport&&h.customViewports--,this.dirty=!0,this._customViewport=l}},destroy:function(){this.emit(i.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(l){this._x=l,this.updateSystem()}},y:{get:function(){return this._y},set:function(l){this._y=l,this.updateSystem()}},width:{get:function(){return this._width},set:function(l){this._width=l,this.updateSystem()}},height:{get:function(){return this._height},set:function(l){this._height=l,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(l){this._scrollX=l,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(l){this._scrollY=l,this.dirty=!0}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(l){this._zoomX=l,this._zoomY=l,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(l){this._zoomX=l,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(l){this._zoomY=l,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});A.exports=o},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(334),x=p(335),t=p(336),a=p(337),i=p(338),e=p(339),s=p(340),r=p(341),n=p(342),o=p(343),l=p(344),h=p(345);A.exports={Power0:s,Power1:r.Out,Power2:a.Out,Power3:n.Out,Power4:o.Out,Linear:s,Quad:r.Out,Cubic:a.Out,Quart:n.Out,Quint:o.Out,Sine:l.Out,Expo:e.Out,Circ:t.Out,Elastic:i.Out,Back:f.Out,Bounce:x.Out,Stepped:h,"Quad.easeIn":r.In,"Cubic.easeIn":a.In,"Quart.easeIn":n.In,"Quint.easeIn":o.In,"Sine.easeIn":l.In,"Expo.easeIn":e.In,"Circ.easeIn":t.In,"Elastic.easeIn":i.In,"Back.easeIn":f.In,"Bounce.easeIn":x.In,"Quad.easeOut":r.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":n.Out,"Quint.easeOut":o.Out,"Sine.easeOut":l.Out,"Expo.easeOut":e.Out,"Circ.easeOut":t.Out,"Elastic.easeOut":i.Out,"Back.easeOut":f.Out,"Bounce.easeOut":x.Out,"Quad.easeInOut":r.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":n.InOut,"Quint.easeInOut":o.InOut,"Sine.easeInOut":l.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":t.InOut,"Elastic.easeInOut":i.InOut,"Back.easeInOut":f.InOut,"Bounce.easeInOut":x.InOut}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return(x-f)*t+f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(105),x={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function t(){var a=navigator.userAgent;return/Edge\/\d+/.test(a)?x.edge=!0:/Chrome\/(\d+)/.test(a)&&!f.windowsPhone?(x.chrome=!0,x.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(a)?(x.firefox=!0,x.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(a)&&f.iOS?x.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(a)?(x.ie=!0,x.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(a)?x.opera=!0:/Safari/.test(a)&&!f.windowsPhone?x.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(x.ie=!0,x.trident=!0,x.tridentVersion=parseInt(RegExp.$1,10),x.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(x.silk=!0),x}A.exports=t()},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return Math.random()*(x-f)+f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f>0&&(f&f-1)===0&&x>0&&(x&x-1)===0};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){return t===void 0&&(t=0),x===0?f:(f-=t,f=x*Math.ceil(f/x),a?(t+f)/x:t+f)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a,i,e,s){this.x=0,this.y=0,this.z=0,this.w=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=i||0,this.z=e||0,this.w=s||0)},clone:function(){return new x(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this.w=t.w||0,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},set:function(t,a,i,e){return typeof t=="object"?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=a||0,this.z=i||0,this.w=e||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this.w+=t.w||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this.w-=t.w||0,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,a=this.y,i=this.z,e=this.w;return Math.sqrt(t*t+a*a+i*i+e*e)},lengthSq:function(){var t=this.x,a=this.y,i=this.z,e=this.w;return t*t+a*a+i*i+e*e},normalize:function(){var t=this.x,a=this.y,i=this.z,e=this.w,s=t*t+a*a+i*i+e*e;return s>0&&(s=1/Math.sqrt(s),this.x=t*s,this.y=a*s,this.z=i*s,this.w=e*s),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,a){a===void 0&&(a=0);var i=this.x,e=this.y,s=this.z,r=this.w;return this.x=i+a*(t.x-i),this.y=e+a*(t.y-e),this.z=s+a*(t.z-s),this.w=r+a*(t.w-r),this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this.w*=t.w||1,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this.w/=t.w||1,this},distance:function(t){var a=t.x-this.x,i=t.y-this.y,e=t.z-this.z||0,s=t.w-this.w||0;return Math.sqrt(a*a+i*i+e*e+s*s)},distanceSq:function(t){var a=t.x-this.x,i=t.y-this.y,e=t.z-this.z||0,s=t.w-this.w||0;return a*a+i*i+e*e+s*s},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(t){var a=this.x,i=this.y,e=this.z,s=this.w,r=t.val;return this.x=r[0]*a+r[4]*i+r[8]*e+r[12]*s,this.y=r[1]*a+r[5]*i+r[9]*e+r[13]*s,this.z=r[2]*a+r[6]*i+r[10]*e+r[14]*s,this.w=r[3]*a+r[7]*i+r[11]*e+r[15]*s,this},transformQuat:function(t){var a=this.x,i=this.y,e=this.z,s=t.x,r=t.y,n=t.z,o=t.w,l=o*a+r*e-n*i,h=o*i+n*a-s*e,u=o*e+s*i-r*a,c=-s*a-r*i-n*e;return this.x=l*o+c*-s+h*-n-u*-r,this.y=h*o+c*-r+u*-s-l*-n,this.z=u*o+c*-n+l*-r-h*-s,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});x.prototype.sub=x.prototype.subtract,x.prototype.mul=x.prototype.multiply,x.prototype.div=x.prototype.divide,x.prototype.dist=x.prototype.distance,x.prototype.distSq=x.prototype.distanceSq,x.prototype.len=x.prototype.length,x.prototype.lenSq=x.prototype.lengthSq,A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(91),t=new f({initialize:function(i,e,s,r,n,o,l){r===void 0&&(r=1),n===void 0&&(n=0),o===void 0&&(o=!0),l===void 0&&(l=!1),this.renderer=i,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=r,this.minFilter=n,this.autoClear=o,this.autoResize=!1,this.resize(e,s),l&&this.setAutoResize(!0)},setAutoResize:function(a){return a&&!this.autoResize?(this.renderer.on(x.RESIZE,this.resize,this),this.autoResize=!0):!a&&this.autoResize&&(this.renderer.off(x.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(a,i){var e=a*this.scale,s=i*this.scale;if(e!==this.width||s!==this.height){var r=this.renderer;r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),a*=this.scale,i*=this.scale,a=Math.round(a),i=Math.round(i),a<=0&&(a=1),i<=0&&(i=1),this.texture=r.createTextureFromSource(null,a,i,this.minFilter),this.framebuffer=r.createFramebuffer(a,i,this.texture,!1),this.width=a,this.height=i}return this},bind:function(a,i,e){if(a===void 0&&(a=!1),a&&this.renderer.flush(),i&&e&&this.resize(i,e),this.renderer.pushFramebuffer(this.framebuffer,!1,!1,!1),a&&this.adjustViewport(),this.autoClear){var s=this.renderer.gl;s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT)}},adjustViewport:function(){var a=this.renderer.gl;a.viewport(0,0,this.width,this.height),a.disable(a.SCISSOR_TEST)},clear:function(){var a=this.renderer,i=a.gl;a.pushFramebuffer(this.framebuffer),i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),a.popFramebuffer(),a.resetScissor()},unbind:function(a){a===void 0&&(a=!1);var i=this.renderer;return a&&i.flush(),i.popFramebuffer()},destroy:function(){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),a.off(x.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t;if(x)typeof x=="string"?t=document.getElementById(x):typeof x=="object"&&x.nodeType===1&&(t=x);else if(f.parentElement||x===null)return f;return t||(t=document.body),t.appendChild(f),f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(77),t=p(9),a=p(70),i=p(22),e=p(1),s=p(207),r=p(428),n=new f({Extends:t,initialize:function(l){t.call(this),this.game=l,this.jsonCache=l.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,l.events.on(i.BLUR,this.onGameBlur,this),l.events.on(i.FOCUS,this.onGameFocus,this),l.events.on(i.PRE_STEP,this.update,this),l.events.once(i.DESTROY,this.destroy,this)},add:e,addAudioSprite:function(o,l){l===void 0&&(l={});var h=this.add(o,l);h.spritemap=this.jsonCache.get(o).spritemap;for(var u in h.spritemap)if(!!h.spritemap.hasOwnProperty(u)){var c=x(l),d=h.spritemap[u];c.loop=d.hasOwnProperty("loop")?d.loop:!1,h.addMarker({name:u,start:d.start,duration:d.end-d.start,config:c})}return h},get:function(o){return r(this.sounds,"key",o)},getAll:function(o){return s(this.sounds,"key",o)},play:function(o,l){var h=this.add(o);return h.once(a.COMPLETE,h.destroy,h),l?l.name?(h.addMarker(l),h.play(l.name)):h.play(l):h.play()},playAudioSprite:function(o,l,h){var u=this.addAudioSprite(o);return u.once(a.COMPLETE,u.destroy,u),u.play(l,h)},remove:function(o){var l=this.sounds.indexOf(o);return l!==-1?(o.destroy(),this.sounds.splice(l,1),!0):!1},removeAll:function(){this.sounds.forEach(function(o){o.destroy()}),this.sounds.length=0},removeByKey:function(o){for(var l=0,h=this.sounds.length-1;h>=0;h--){var u=this.sounds[h];u.key===o&&(u.destroy(),this.sounds.splice(h,1),l++)}return l},pauseAll:function(){this.forEachActiveSound(function(o){o.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(o){o.resume()}),this.emit(a.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(o){o.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(o){var l=0;return this.getAll(o).forEach(function(h){h.stop()&&l++}),l},unlock:e,onBlur:e,onFocus:e,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(o,l){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var h=this.sounds.length-1;h>=0;h--)this.sounds[h].pendingRemove&&this.sounds.splice(h,1);this.sounds.forEach(function(u){u.update(o,l)})},destroy:function(){this.game.events.off(i.BLUR,this.onGameBlur,this),this.game.events.off(i.FOCUS,this.onGameFocus,this),this.game.events.off(i.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(o,l){var h=this;this.sounds.forEach(function(u,c){u&&!u.pendingRemove&&o.call(l||h,u,c,h.sounds)})},setRate:function(o){return this.rate=o,this},rate:{get:function(){return this._rate},set:function(o){this._rate=o,this.forEachActiveSound(function(l){l.calculateRate()}),this.emit(a.GLOBAL_RATE,this,o)}},setDetune:function(o){return this.detune=o,this},detune:{get:function(){return this._detune},set:function(o){this._detune=o,this.forEachActiveSound(function(l){l.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,o)}}});A.exports=n},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(9),t=p(70),a=p(17),i=p(1),e=new f({Extends:x,initialize:function(r,n,o){x.call(this),this.manager=r,this.key=n,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,o),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(console.error("addMarker "+s.name+" already exists in Sound"),!1):(s=a(!0,{name:"",start:0,duration:this.totalDuration-(s.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},s),this.markers[s.name]=s,!0)},updateMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(this.markers[s.name]=a(!0,this.markers[s.name],s),!0):(console.warn("Audio Marker: "+s.name+" missing in Sound: "+this.key),!1)},removeMarker:function(s){var r=this.markers[s];return r?(this.markers[s]=null,r):null},play:function(s,r){if(s===void 0&&(s=""),typeof s=="object"&&(r=s,s=""),typeof s!="string")return!1;if(!s)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[s])return console.warn("Marker: "+s+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[s],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=a(this.currentConfig,r),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:i,calculateRate:function(){var s=1.0005777895065548,r=this.currentConfig.detune+this.manager.detune,n=Math.pow(s,r);this.totalRate=this.currentConfig.rate*this.manager.rate*n},destroy:function(){this.pendingRemove||(this.emit(t.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(209),x=p(435),t=function(a,i){if(i===void 0&&(i=90),!f(a))return null;if(typeof i!="string"&&(i=(i%360+360)%360),i===90||i===-270||i==="rotateLeft")a=x(a),a.reverse();else if(i===-90||i===270||i==="rotateRight")a.reverse(),a=x(a);else if(Math.abs(i)===180||i==="rotate180"){for(var e=0;e<a.length;e++)a[e].reverse();a.reverse()}return a};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(18),t=p(11),a=p(15),i=p(1043),e=p(1044),s=p(212),r=p(10),n=p(1045),o=new f({Extends:a,Mixins:[t.Alpha,t.BlendMode,t.Depth,t.Mask,t.Origin,t.Pipeline,t.ScrollFactor,t.Texture,t.Tint,t.Transform,t.Visible,n],initialize:function(h,u,c,d,v,g,m){v===void 0&&(v=""),m===void 0&&(m=0),a.call(this,h,"BitmapText"),this.font=d;var y=this.scene.sys.cache.bitmapFont.get(d);y||console.warn("Invalid BitmapText key: "+d),this.fontData=y.data,this._text="",this._fontSize=g||this.fontData.size,this._letterSpacing=0,this._align=m,this._bounds=i(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=y.fromAtlas,this.setTexture(y.texture,y.frame),this.setPosition(u,c),this.setOrigin(0,0),this.initPipeline(),this.setText(v)},setLeftAlign:function(){return this._align=o.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=o.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=o.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(l){return this._fontSize=l,this._dirty=!0,this},setLetterSpacing:function(l){return l===void 0&&(l=0),this._letterSpacing=l,this._dirty=!0,this},setText:function(l){return!l&&l!==0&&(l=""),Array.isArray(l)&&(l=l.join(`
`)),l!==this.text&&(this._text=l.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(l,h,u,c){return l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=.5),this.dropShadowX=l,this.dropShadowY=h,this.dropShadowColor=u,this.dropShadowAlpha=c,this},setCharacterTint:function(l,h,u,c,d,v,g){l===void 0&&(l=0),h===void 0&&(h=1),u===void 0&&(u=!1),c===void 0&&(c=-1),d===void 0&&(d=c,v=c,g=c);var m=this.text.length;h===-1&&(h=m),l<0&&(l=m+l),l=x(l,0,m-1);for(var y=x(l+h,l,m),T=this.charColors,E=l;E<y;E++){var S=T[E];if(c===-1)T[E]=null;else{var C=u?1:0;S?(S.tintEffect=C,S.tintTL=c,S.tintTR=d,S.tintBL=v,S.tintBR=g):T[E]={tintEffect:C,tintTL:c,tintTR:d,tintBL:v,tintBR:g}}}return this},setWordTint:function(l,h,u,c,d,v,g){h===void 0&&(h=1);for(var m=this.getTextBounds(),y=m.words,T=typeof l=="number",E=0,S=0;S<y.length;S++){var C=y[S];if((T&&S===l||!T&&C.word===l)&&(this.setCharacterTint(C.i,C.word.length,u,c,d,v,g),E++,E===h))return this}return this},getTextBounds:function(l){var h=this._bounds;return(this._dirty||l||this.scaleX!==h.scaleX||this.scaleY!==h.scaleY)&&(i(this,l,!0,h),this._dirty=!1),h},getCharacterAt:function(l,h,u){for(var c=this.getLocalPoint(l,h,null,u),d=this.getTextBounds(),v=d.characters,g=new r,m=0;m<v.length;m++){var y=v[m];if(g.setTo(y.x,y.t,y.r-y.x,y.b),g.contains(c.x,c.y))return y}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(l,h,u){if(h===void 0&&(h=this._fontSize),u===void 0&&(u=this._align),l!==this.font){var c=this.scene.sys.cache.bitmapFont.get(l);c&&(this.font=l,this.fontData=c.data,this._fontSize=h,this._align=u,this.fromAtlas=c.fromAtlas===!0,this.setTexture(c.texture,c.frame),i(this,!1,!0,this._bounds))}return this},setMaxWidth:function(l,h){return this._maxWidth=l,this._dirty=!0,h!==void 0&&(this.wordWrapCharCode=h),this},align:{set:function(l){this._align=l,this._dirty=!0},get:function(){return this._align}},text:{set:function(l){this.setText(l)},get:function(){return this._text}},fontSize:{set:function(l){this._fontSize=l,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(l){this._letterSpacing=l,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(l){this._maxWidth=l,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var l=t.ToJSON(this),h={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return l.data=h,l},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});o.ALIGN_LEFT=0,o.ALIGN_CENTER=1,o.ALIGN_RIGHT=2,o.ParseFromAtlas=e,o.ParseXMLBitmapFont=s,A.exports=o},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a){if(this.entries=[],Array.isArray(a))for(var i=0;i<a.length;i++)this.set(a[i])},set:function(t){return this.entries.indexOf(t)===-1&&this.entries.push(t),this},get:function(t,a){for(var i=0;i<this.entries.length;i++){var e=this.entries[i];if(e[t]===a)return e}},getArray:function(){return this.entries.slice(0)},delete:function(t){var a=this.entries.indexOf(t);return a>-1&&this.entries.splice(a,1),this},dump:function(){console.group("Set");for(var t=0;t<this.entries.length;t++){var a=this.entries[t];console.log(a)}console.groupEnd()},each:function(t,a){var i,e=this.entries.slice(),s=e.length;if(a)for(i=0;i<s&&t.call(a,e[i],i)!==!1;i++);else for(i=0;i<s&&t(e[i],i)!==!1;i++);return this},iterate:function(t,a){var i,e=this.entries.length;if(a)for(i=0;i<e&&t.call(a,this.entries[i],i)!==!1;i++);else for(i=0;i<e&&t(this.entries[i],i)!==!1;i++);return this},iterateLocal:function(t){var a,i=[];for(a=1;a<arguments.length;a++)i.push(arguments[a]);var e=this.entries.length;for(a=0;a<e;a++){var s=this.entries[a];s[t].apply(s,i)}return this},clear:function(){return this.entries.length=0,this},contains:function(t){return this.entries.indexOf(t)>-1},union:function(t){var a=new x;return t.entries.forEach(function(i){a.set(i)}),this.entries.forEach(function(i){a.set(i)}),a},intersect:function(t){var a=new x;return this.entries.forEach(function(i){t.contains(i)&&a.set(i)}),a},difference:function(t){var a=new x;return this.entries.forEach(function(i){t.contains(i)||a.set(i)}),a},size:{get:function(){return this.entries.length},set:function(t){return t<this.entries.length?this.entries.length=t:this.entries.length}}});A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(11),t=p(15),a=p(189),i=p(92),e=p(1182),s=new f({Extends:t,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Pipeline,x.ScrollFactor,x.Transform,x.Visible,e],initialize:function(n,o,l,h,u,c,d){h===void 0&&(h=16777215),u===void 0&&(u=128),c===void 0&&(c=1),d===void 0&&(d=.1),t.call(this,n,"PointLight"),this.initPipeline(i.POINTLIGHT_PIPELINE),this.setPosition(o,l),this.color=a(h),this.intensity=c,this.attenuation=d,this.width=u*2,this.height=u*2,this._radius=u},radius:{get:function(){return this._radius},set:function(r){this._radius=r,this.width=r*2,this.height=r*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});A.exports=s},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=x.width/2,a=x.height/2,i=Math.abs(f.x-x.x-t),e=Math.abs(f.y-x.y-a),s=t+f.radius,r=a+f.radius;if(i>s||e>r)return!1;if(i<=t||e<=a)return!0;var n=i-t,o=e-a,l=n*n,h=o*o,u=f.radius*f.radius;return l+h<=u};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.width<=0||f.height<=0||x.width<=0||x.height<=0?!1:!(f.right<x.x||f.bottom<x.y||f.x>x.right||f.y>x.bottom)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(6),x={},t={};t.register=function(a,i,e,s,r){x[a]={plugin:i,mapping:e,settingsKey:s,configKey:r}},t.getPlugin=function(a){return x[a]},t.install=function(a){var i=a.scene.sys,e=i.settings.input,s=i.game.config;for(var r in x){var n=x[r].plugin,o=x[r].mapping,l=x[r].settingsKey,h=x[r].configKey;f(e,l,s[h])&&(a[o]=new n(a))}},t.remove=function(a){x.hasOwnProperty(a)&&delete x[a]},A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={ANY_KEY_DOWN:p(1323),ANY_KEY_UP:p(1324),COMBO_MATCH:p(1325),DOWN:p(1326),KEY_DOWN:p(1327),KEY_UP:p(1328),UP:p(1329)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.url?f.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?f.url:x+f.url:!1};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i,e){return f===void 0&&(f=""),x===void 0&&(x=!0),t===void 0&&(t=""),a===void 0&&(a=""),i===void 0&&(i=0),e===void 0&&(e=!1),{responseType:f,async:x,user:t,password:a,timeout:i,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:e}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(243),t=p(73),a=new f({Extends:t,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(e,s,r,n,o){t.call(this,e,s,r,n,o),this.body=null}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(119),x=function(t,a,i,e){if(i===void 0&&(i=!1),f(t,a,e)){var s=e.data[a][t]||null;return s?s.index===-1?i?s:null:s:null}else return null};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){var i=f.data,e=f.width,s=f.height,r=f.tilemapLayer,n=Math.max(0,x.left),o=Math.min(e,x.right),l=Math.max(0,x.top),h=Math.min(s,x.bottom),u,c,d;if(t===0)for(c=l;c<h;c++)for(u=n;i[c]&&u<o;u++)d=i[c][u],!(!d||d.index===-1||!d.visible||d.alpha===0)&&a.push(d);else if(t===1)for(c=l;c<h;c++)for(u=o;i[c]&&u>=n;u--)d=i[c][u],!(!d||d.index===-1||!d.visible||d.alpha===0)&&a.push(d);else if(t===2)for(c=h;c>=l;c--)for(u=n;i[c]&&u<o;u++)d=i[c][u],!(!d||d.index===-1||!d.visible||d.alpha===0)&&a.push(d);else if(t===3)for(c=h;c>=l;c--)for(u=o;i[c]&&u>=n;u--)d=i[c][u],!(!d||d.index===-1||!d.visible||d.alpha===0)&&a.push(d);return r.tilesDrawn=a.length,r.tilesTotal=e*s,a};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=t.collideIndexes.indexOf(f);x&&a===-1?t.collideIndexes.push(f):!x&&a!==-1&&t.collideIndexes.splice(a,1)};A.exports=p},function(A,O,p){/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(2),x=function(t,a,i){if(!a)return{i:0,layers:t.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=a.x+f(a,"startx",0)*t.tilewidth+f(a,"offsetx",0),s=a.y+f(a,"starty",0)*t.tileheight+f(a,"offsety",0);return{i:0,layers:a.layers,name:i.name+a.name+"/",opacity:i.opacity*a.opacity,visible:i.visible&&a.visible,x:i.x+e,y:i.y+s}};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a;if(f.hasOwnProperty(x)){var i=typeof f[x];i==="function"?a=function(e,s,r,n,o,l){return f[x](e,s,r,n,o,l)}:a=function(){return f[x]}}else typeof t=="function"?a=t:a=function(){return t};return a};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(265),x=p(13),t=p(99),a=p(80),i=p(162),e=p(583),s=p(263),r=p(6),n=p(264),o=p(266),l=p(268),h=function(u,c,d){d===void 0&&(d=f);for(var v=d.targets?d.targets:s(c),g=e(c),m=i(c,"delay",d.delay),y=i(c,"duration",d.duration),T=r(c,"easeParams",d.easeParams),E=a(r(c,"ease",d.ease),T),S=i(c,"hold",d.hold),C=i(c,"repeat",d.repeat),M=i(c,"repeatDelay",d.repeatDelay),P=t(c,"yoyo",d.yoyo),R=t(c,"flipX",d.flipX),L=t(c,"flipY",d.flipY),w=[],B=0;B<g.length;B++)for(var G=g[B].key,Y=g[B].value,D=0;D<v.length;D++){var F=n(G,Y),N=l(v[D],D,G,F.getEnd,F.getStart,F.getActive,a(r(Y,"ease",E),r(Y,"easeParams",T)),i(Y,"delay",m),i(Y,"duration",y),t(Y,"yoyo",P),i(Y,"hold",S),i(Y,"repeat",C),i(Y,"repeatDelay",M),t(Y,"flipX",R),t(Y,"flipY",L));w.push(N)}var I=new o(u,w,v);I.offset=x(c,"offset",null),I.completeDelay=x(c,"completeDelay",0),I.loop=Math.round(x(c,"loop",0)),I.loopDelay=Math.round(x(c,"loopDelay",0)),I.paused=t(c,"paused",!1),I.useFrames=t(c,"useFrames",!1);for(var b=r(c,"callbackScope",I),U=[I,null],X=o.TYPES,z=0;z<X.length;z++){var V=X[z],W=r(c,V,!1);if(W){var H=r(c,V+"Scope",b),K=r(c,V+"Params",[]);I.setCallback(V,W,U.concat(K),H)}}return I};A.exports=h},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(102),t=p(2),a=p(132),i=p(185),e=new f({initialize:function(r){this.parent=r,this.animationManager=r.scene.sys.anims,this.animationManager.on(a.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(s){var r=this.parent;if(s===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,r;Array.isArray(s)||(s=[s]);for(var n=0;n<s.length;n++){var o=s[n];this.nextAnim===null?this.nextAnim=o:this.nextAnimsQueue.push(o)}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(s){this.isPlaying&&this.stop();var r=this.animationManager,n=typeof s=="string"?s:t(s,"key",null),o=this.exists(n)?this.get(n):r.get(n);if(!o)console.warn("Missing animation: "+n);else{this.currentAnim=o;var l=o.getTotalFrames(),h=t(s,"frameRate",o.frameRate),u=t(s,"duration",o.duration);o.calculateDuration(this,l,u,h),this.delay=t(s,"delay",o.delay),this.repeat=t(s,"repeat",o.repeat),this.repeatDelay=t(s,"repeatDelay",o.repeatDelay),this.yoyo=t(s,"yoyo",o.yoyo),this.showOnStart=t(s,"showOnStart",o.showOnStart),this.hideOnComplete=t(s,"hideOnComplete",o.hideOnComplete),this.skipMissedFrames=t(s,"skipMissedFrames",o.skipMissedFrames),this.timeScale=t(s,"timeScale",this.timeScale);var c=t(s,"startFrame",0);c>o.getTotalFrames()&&(c=0);var d=o.frames[c];c===0&&!this.forward&&(d=o.getLastFrame()),this.currentFrame=d}return this.parent},pause:function(s){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),s!==void 0&&this.setCurrentFrame(s),this.parent},resume:function(s){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),s!==void 0&&this.setCurrentFrame(s),this.parent},playAfterDelay:function(s,r){if(!this.isPlaying)this.delayCounter=r,this.play(s,!0);else{var n=this.nextAnim,o=this.nextAnimsQueue;n&&o.unshift(n),this.nextAnim=s,this._pendingStop=1,this._pendingStopValue=r}return this.parent},playAfterRepeat:function(s,r){if(r===void 0&&(r=1),!this.isPlaying)this.play(s);else{var n=this.nextAnim,o=this.nextAnimsQueue;n&&o.unshift(n),this.repeatCounter!==-1&&r>this.repeatCounter&&(r=this.repeatCounter),this.nextAnim=s,this._pendingStop=2,this._pendingStopValue=r}return this.parent},play:function(s,r){r===void 0&&(r=!1);var n=this.currentAnim,o=this.parent,l=typeof s=="string"?s:s.key;if(r&&this.isPlaying&&n.key===l)return o;if(n&&this.isPlaying){var h=this.animationManager.getMix(n.key,s);if(h>0)return this.playAfterDelay(s,h)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(s)},playReverse:function(s,r){r===void 0&&(r=!1);var n=typeof s=="string"?s:s.key;return r&&this.isPlaying&&this.currentAnim.key===n?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(s))},startAnimation:function(s){this.load(s);var r=this.currentAnim,n=this.parent;return r&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,r.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0&&this.handleStart()),n},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(a.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(a.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(a.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(a.ANIMATION_COMPLETE,a.ANIMATION_COMPLETE_KEY)},emitEvents:function(s,r){var n=this.currentAnim,o=this.currentFrame,l=this.parent,h=o.textureFrame;l.emit(s,n,o,l,h),r&&l.emit(r+n.key,n,o,l,h)},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var s=this.currentFrame;if(!s)return 0;var r=s.progress;return this.inReverse&&(r*=-1),r},setProgress:function(s){return this.forward||(s=1-s),this.setCurrentFrame(this.currentAnim.getFrameByProgress(s)),this.parent},setRepeat:function(s){return this.repeatCounter=s===-1?Number.MAX_VALUE:s,this.parent},globalRemove:function(s,r){r===void 0&&(r=this.currentAnim),this.isPlaying&&r.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(s,r){s===void 0&&(s=!1),r===void 0&&(r=!1);var n=this.currentAnim,o=this.parent;return n?(r&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),n.getFirstTick(this),this.emitEvents(a.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!s,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(n.frames[0]),this.parent):o},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var s=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(s)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleStop(),this.nextAnim){var s=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(s)}return this.parent},stopAfterDelay:function(s){return this._pendingStop=1,this._pendingStopValue=s,this.parent},stopAfterRepeat:function(s){return s===void 0&&(s=1),this.repeatCounter!==-1&&s>this.repeatCounter&&(s=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=s,this.parent},stopOnFrame:function(s){return this._pendingStop=3,this._pendingStopValue=s,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(s,r){var n=this.currentAnim;if(!(!this.isPlaying||!n||n.paused)){if(this.accumulator+=r*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=r,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?n.nextFrame(this):n.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var o=0;do this.forward?n.nextFrame(this):n.previousFrame(this),o++;while(this.isPlaying&&this.accumulator>this.nextTick&&o<60)}}},setCurrentFrame:function(s){var r=this.parent;return this.currentFrame=s,r.texture=s.frame.texture,r.frame=s.frame,r.isCropped&&r.frame.updateCropUVs(r._crop,r.flipX,r.flipY),s.setAlpha&&(r.alpha=s.alpha),r.setSizeToFrame(),r._originComponent&&(s.frame.customPivot?r.setOrigin(s.frame.pivotX,s.frame.pivotY):r.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(a.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===s&&this.stop()),r},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(s){return this.anims?this.anims.get(s):null},exists:function(s){return this.anims?this.anims.has(s):!1},create:function(s){var r=s.key,n=!1;return r&&(n=this.get(r),n||(n=new i(this,r,s),this.anims||(this.anims=new x),this.anims.set(r,n))),n},generateFrameNames:function(s,r){return this.animationManager.generateFrameNames(s,r)},generateFrameNumbers:function(s,r){return this.animationManager.generateFrameNumbers(s,r)},remove:function(s){var r=this.get(s);return r&&(this.currentAnim===r&&this.stop(),this.anims.delete(s)),r},destroy:function(){this.animationManager.off(a.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});A.exports=e},function(A,O,p){var f={};A.exports=f;var x=p(166);(function(){f._motionWakeThreshold=.18,f._motionSleepThreshold=.08,f._minBias=.9,f.update=function(t,a){for(var i=a*a*a,e=0;e<t.length;e++){var s=t[e],r=s.speed*s.speed+s.angularSpeed*s.angularSpeed;if(s.force.x!==0||s.force.y!==0){f.set(s,!1);continue}var n=Math.min(s.motion,r),o=Math.max(s.motion,r);s.motion=f._minBias*n+(1-f._minBias)*o,s.sleepThreshold>0&&s.motion<f._motionSleepThreshold*i?(s.sleepCounter+=1,s.sleepCounter>=s.sleepThreshold&&f.set(s,!0)):s.sleepCounter>0&&(s.sleepCounter-=1)}},f.afterCollisions=function(t,a){for(var i=a*a*a,e=0;e<t.length;e++){var s=t[e];if(!!s.isActive){var r=s.collision,n=r.bodyA.parent,o=r.bodyB.parent;if(!(n.isSleeping&&o.isSleeping||n.isStatic||o.isStatic)&&(n.isSleeping||o.isSleeping)){var l=n.isSleeping&&!n.isStatic?n:o,h=l===n?o:n;!l.isStatic&&h.motion>f._motionWakeThreshold*i&&f.set(l,!1)}}}},f.set=function(t,a){var i=t.isSleeping;a?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,i||x.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,i&&x.trigger(t,"sleepEnd"))}})()},function(A,O,p){var f={};A.exports=f;var x=p(32);(function(){f.on=function(t,a,i){for(var e=a.split(" "),s,r=0;r<e.length;r++)s=e[r],t.events=t.events||{},t.events[s]=t.events[s]||[],t.events[s].push(i);return i},f.off=function(t,a,i){if(!a){t.events={};return}typeof a=="function"&&(i=a,a=x.keys(t.events).join(" "));for(var e=a.split(" "),s=0;s<e.length;s++){var r=t.events[e[s]],n=[];if(i&&r)for(var o=0;o<r.length;o++)r[o]!==i&&n.push(r[o]);t.events[e[s]]=n}},f.trigger=function(t,a,i){var e,s,r,n,o=t.events;if(o&&x.keys(o).length>0){i||(i={}),e=a.split(" ");for(var l=0;l<e.length;l++)if(s=e[l],r=o[s],r){n=x.clone(i,!1),n.name=s,n.source=t;for(var h=0;h<r.length;h++)r[h].apply(t,[n])}}}})()},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(175),x=p(92),t=p(74),a={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(i){i===void 0&&(i=x.MULTI_PIPELINE);var e=this.scene.sys.renderer;if(!e)return!1;var s=e.pipelines;if(this.postPipelines=[],this.pipelineData={},s){var r=s.get(i);if(r)return this.defaultPipeline=r,this.pipeline=r,!0}return!1},setPipeline:function(i,e,s){var r=this.scene.sys.renderer;if(!r)return this;var n=r.pipelines;if(n){var o=n.get(i);o&&(this.pipeline=o),e&&(this.pipelineData=s?f(e):e)}return this},setPostPipeline:function(i,e,s){var r=this.scene.sys.renderer;if(!r)return this;var n=r.pipelines;if(n){Array.isArray(i)||(i=[i]);for(var o=0;o<i.length;o++){var l=n.getPostPipeline(i[o],this);l&&this.postPipelines.push(l)}e&&(this.pipelineData=s?f(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPipelineData:function(i,e){var s=this.pipelineData;return e===void 0?delete s[i]:s[i]=e,this},getPostPipeline:function(i){for(var e=this.postPipelines,s=[],r=0;r<e.length;r++){var n=e[r];(typeof i=="string"&&n.name===i||n instanceof i)&&s.push(n)}return s.length===1?s[0]:s},resetPipeline:function(i,e){return i===void 0&&(i=!1),e===void 0&&(e=!1),this.pipeline=this.defaultPipeline,i&&(this.postPipelines=[],this.hasPostPipeline=!1),e&&(this.pipelineData={}),this.pipeline!==null},resetPostPipeline:function(i){i===void 0&&(i=!1);for(var e=this.postPipelines,s=0;s<e.length;s++)e[s].destroy();this.postPipelines=[],this.hasPostPipeline=!1,i&&(this.pipelineData={})},removePostPipeline:function(i){for(var e=this.postPipelines,s=e.length-1;s>=0;s--){var r=e[s];(typeof i=="string"&&r.name===i||typeof i!="string"&&r instanceof i)&&(r.destroy(),t(e,s))}return this.hasPostPipeline=this.postPipelines.length>0,this},getPipelineName:function(){return this.pipeline.name}};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={DEFAULT:0,LINEAR:0,NEAREST:1};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a,i){return i===void 0&&(i=new f),i.x=t.x+t.radius*Math.cos(a),i.y=t.y+t.radius*Math.sin(a),i};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a){a===void 0&&(a=new f);var i=2*Math.PI*Math.random(),e=Math.random()+Math.random(),s=e>1?2-e:e,r=s*Math.cos(i),n=s*Math.sin(i);return a.x=t.x+r*t.radius,a.y=t.y+n*t.radius,a};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(130),x=p(4),t=function(a,i,e){if(e===void 0&&(e=new x),i<=0||i>=1)return e.x=a.x,e.y=a.y,e;var s=f(a)*i;return i>.5?(s-=a.width+a.height,s<=a.width?(e.x=a.right-s,e.y=a.bottom):(e.x=a.x,e.y=a.bottom-(s-a.width))):s<=a.width?(e.x=a.x+s,e.y=a.y):(e.x=a.right,e.y=a.y+(s-a.width)),e};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(67),x=p(4),t=function(a,i,e,s){s===void 0&&(s=[]),!i&&e>0&&(i=f(a)/e);for(var r=a.x1,n=a.y1,o=a.x2,l=a.y2,h=0;h<i;h++){var u=h/i,c=r+(o-r)*u,d=n+(l-n)*u;s.push(new x(c,d))}return s};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a){a===void 0&&(a=new f);var i=Math.random();return a.x=t.x1+i*(t.x2-t.x1),a.y=t.y1+i*(t.y2-t.y1),a};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a){return a===void 0&&(a=new f),a.x=t.x+Math.random()*t.width,a.y=t.y+Math.random()*t.height,a};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){var x,t,a;if(typeof f!="object"||f===null)return f;x=Array.isArray(f)?[]:{};for(a in f)t=f[a],x[a]=p(t);return x};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){var x={name:f.name,type:f.type,x:f.x,y:f.y,depth:f.depth,scale:{x:f.scaleX,y:f.scaleY},origin:{x:f.originX,y:f.originY},flipX:f.flipX,flipY:f.flipY,rotation:f.rotation,alpha:f.alpha,visible:f.visible,blendMode:f.blendMode,textureKey:"",frameKey:"",data:{}};return f.texture&&(x.textureKey=f.texture.key,x.frameKey=f.frame.name),x};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(3),x=function(t,a,i,e,s,r,n,o){o===void 0&&(o=new f);var l=Math.sin(s),h=Math.cos(s),u=h*r,c=l*r,d=-l*n,v=h*n,g=1/(u*v+d*-c);return o.x=v*g*t+-d*g*a+(e*d-i*v)*g,o.y=u*g*a+-c*g*t+(-e*u+i*c)*g,o};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){x===void 0&&(x=1);for(var t=null,a=0;a<x;a++)t=f.shift(),f.push(t);return t};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){x===void 0&&(x=1);for(var t=null,a=0;a<x;a++)t=f.pop(),f.unshift(t);return t};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a){a===void 0&&(a=new f);var i=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return a.x=t.x+e*Math.cos(i)*t.width/2,a.y=t.y+e*Math.sin(i)*t.height/2,a};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a){a===void 0&&(a=new f);var i=t.x2-t.x1,e=t.y2-t.y1,s=t.x3-t.x1,r=t.y3-t.y1,n=Math.random(),o=Math.random();return n+o>=1&&(n=1-n,o=1-o),a.x=t.x1+(i*n+s*o),a.y=t.y1+(e*n+r*o),a};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i){var e=a+Math.atan2(f.y-t,f.x-x);return f.x=x+i*Math.cos(e),f.y=t+i*Math.sin(e),f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return f=Math.max(0,Math.min(1,(f-x)/(t-x))),f*f*f*(f*(f*6-15)+10)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return f<=x?0:f>=t?1:(f=(f-x)/(t-x),f*f*(3-2*f))};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(18),x=p(0),t=p(132),a=p(318),i=p(319),e=p(6),s=p(320),r=new x({initialize:function(o,l,h){this.manager=o,this.key=l,this.type="frame",this.frames=this.getFrames(o.textureManager,e(h,"frames",[]),e(h,"defaultTextureKey",null),e(h,"sortFrames",!0)),this.frameRate=e(h,"frameRate",null),this.duration=e(h,"duration",null),this.msPerFrame,this.skipMissedFrames=e(h,"skipMissedFrames",!0),this.delay=e(h,"delay",0),this.repeat=e(h,"repeat",0),this.repeatDelay=e(h,"repeatDelay",0),this.yoyo=e(h,"yoyo",!1),this.showOnStart=e(h,"showOnStart",!1),this.hideOnComplete=e(h,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(t.PAUSE_ALL,this.pause,this),this.manager.on(t.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(n,o,l,h){l===null&&h===null?(n.frameRate=24,n.duration=24/o*1e3):l&&h===null?(n.duration=l,n.frameRate=o/(l/1e3)):(n.frameRate=h,n.duration=o/h*1e3),n.msPerFrame=1e3/n.frameRate},addFrame:function(n){return this.addFrameAt(this.frames.length,n)},addFrameAt:function(n,o){var l=this.getFrames(this.manager.textureManager,o);if(l.length>0){if(n===0)this.frames=l.concat(this.frames);else if(n===this.frames.length)this.frames=this.frames.concat(l);else{var h=this.frames.slice(0,n),u=this.frames.slice(n);this.frames=h.concat(l,u)}this.updateFrameSequence()}return this},checkFrame:function(n){return n>=0&&n<this.frames.length},getFirstTick:function(n){n.accumulator=0,n.nextTick=n.msPerFrame+n.currentFrame.duration},getFrameAt:function(n){return this.frames[n]},getFrames:function(n,o,l,h){h===void 0&&(h=!0);var u=[],c,d,v=1,g,m;if(typeof o=="string"){m=o;var y=n.get(m),T=y.getFrameNames();h&&s(T),o=[],T.forEach(function(R){o.push({key:m,frame:R})})}if(!Array.isArray(o)||o.length===0)return u;for(g=0;g<o.length;g++){var E=o[g],S=e(E,"key",l);if(!!S){var C=e(E,"frame",0),M=n.getFrame(S,C);d=new i(S,C,v,M),d.duration=e(E,"duration",0),d.isFirst=!c,c&&(c.nextFrame=d,d.prevFrame=c),u.push(d),c=d,v++}}if(u.length>0){d.isLast=!0,d.nextFrame=u[0],u[0].prevFrame=d;var P=1/(u.length-1);for(g=0;g<u.length;g++)u[g].progress=g*P}return u},getNextTick:function(n){n.accumulator-=n.nextTick,n.nextTick=n.msPerFrame+n.currentFrame.duration},getFrameByProgress:function(n){return n=f(n,0,1),a(n,this.frames,"progress")},nextFrame:function(n){var o=n.currentFrame;o.isLast?n.yoyo?this.handleYoyoFrame(n,!1):n.repeatCounter>0?n.inReverse&&n.forward?n.forward=!1:this.repeatAnimation(n):n.complete():this.updateAndGetNextTick(n,o.nextFrame)},handleYoyoFrame:function(n,o){if(o||(o=!1),n.inReverse===!o&&n.repeatCounter>0){(n.repeatDelay===0||n.pendingRepeat)&&(n.forward=o),this.repeatAnimation(n);return}if(n.inReverse!==o&&n.repeatCounter===0){n.complete();return}n.forward=o;var l=o?n.currentFrame.nextFrame:n.currentFrame.prevFrame;this.updateAndGetNextTick(n,l)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(n){var o=n.currentFrame;o.isFirst?n.yoyo?this.handleYoyoFrame(n,!0):n.repeatCounter>0?n.inReverse&&!n.forward?this.repeatAnimation(n):(n.forward=!0,this.repeatAnimation(n)):n.complete():this.updateAndGetNextTick(n,o.prevFrame)},updateAndGetNextTick:function(n,o){n.setCurrentFrame(o),this.getNextTick(n)},removeFrame:function(n){var o=this.frames.indexOf(n);return o!==-1&&this.removeFrameAt(o),this},removeFrameAt:function(n){return this.frames.splice(n,1),this.updateFrameSequence(),this},repeatAnimation:function(n){if(n._pendingStop===2){if(n._pendingStopValue===0)return n.stop();n._pendingStopValue--}n.repeatDelay>0&&!n.pendingRepeat?(n.pendingRepeat=!0,n.accumulator-=n.nextTick,n.nextTick+=n.repeatDelay):(n.repeatCounter--,n.forward?n.setCurrentFrame(n.currentFrame.nextFrame):n.setCurrentFrame(n.currentFrame.prevFrame),n.isPlaying&&(this.getNextTick(n),n.handleRepeat()))},toJSON:function(){var n={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(o){n.frames.push(o.toJSON())}),n},updateFrameSequence:function(){for(var n=this.frames.length,o=1/(n-1),l,h=0;h<n;h++)l=this.frames[h],l.index=h+1,l.isFirst=!1,l.isLast=!1,l.progress=h*o,h===0?(l.isFirst=!0,n===1?(l.isLast=!0,l.nextFrame=l,l.prevFrame=l):(l.isLast=!1,l.prevFrame=this.frames[n-1],l.nextFrame=this.frames[h+1])):h===n-1&&n>1?(l.isLast=!0,l.prevFrame=this.frames[n-2],l.nextFrame=this.frames[0]):n>1&&(l.prevFrame=this.frames[h-1],l.nextFrame=this.frames[h+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(t.PAUSE_ALL,this.pause,this),this.manager.off(t.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var n=0;n<this.frames.length;n++)this.frames[n].destroy();this.frames=[],this.manager=null}});A.exports=r},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){x===void 0&&(x=0),t===void 0&&(t=" "),a===void 0&&(a=3),f=f.toString();var i=0;if(x+1>=f.length)switch(a){case 1:f=new Array(x+1-f.length).join(t)+f;break;case 3:var e=Math.ceil((i=x-f.length)/2),s=i-e;f=new Array(s+1).join(t)+f+new Array(e+1).join(t);break;default:f=f+new Array(x+1-f.length).join(t);break}return f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(327),x=p(189),t=p(331),a=p(332),i=function(e){var s=typeof e;switch(s){case"string":return e.substr(0,3).toLowerCase()==="rgb"?a(e):f(e);case"number":return x(e);case"object":return t(e)}};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(103);function x(a,i,e,s){var r=(a+i*6)%6,n=Math.min(r,4-r,1);return Math.round(255*(s-s*e*Math.max(0,n)))}var t=function(a,i,e,s){i===void 0&&(i=1),e===void 0&&(e=1);var r=x(5,a,i,e),n=x(3,a,i,e),o=x(1,a,i,e);return s?s.setTo?s.setTo(r,n,o,s.alpha,!1):(s.r=r,s.g=n,s.b=o,s.color=f(r,n,o),s):{r,g:n,b:o,color:f(r,n,o)}};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(38),x=p(330),t=function(a){var i=x(a);return new f(i.r,i.g,i.b,i.a)};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return f.x=x-f.width/2,f.y=t-f.height/2,f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(105),x=p(136),t=p(31),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function i(){var s=new ArrayBuffer(4),r=new Uint8Array(s),n=new Uint32Array(s);return r[0]=161,r[1]=178,r[2]=195,r[3]=212,n[0]===3569595041?!0:n[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch{a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var s=!1,r=function(){if(window.WebGLRenderingContext)try{var n=t.createWebGL(this),o=n.getContext("webgl")||n.getContext("experimental-webgl"),l=t.create2D(this),h=l.getContext("2d"),u=h.createImageData(1,1);return s=u.data instanceof Uint8ClampedArray,t.remove(n),t.remove(l),!!o}catch{return!1}return!1};return a.webGL=r(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,x.firefox&&x.firefoxVersion<21&&(a.getUserMedia=!1),!f.iOS&&(x.ie||x.firefox||x.chrome)&&(a.canvasBitBltShift=!0),(x.safari||x.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(a.littleEndian=i()),a.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&a.littleEndian!==null&&s,a}A.exports=e()},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p="",f=function(){var x=function(e){for(var s=["i","webkitI","msI","mozI","oI"],r=0;r<s.length;r++){var n=s[r]+"mageSmoothingEnabled";if(n in e)return n}return null},t=function(e){return p===""&&(p=x(e)),p&&(e[p]=!0),e},a=function(e){return p===""&&(p=x(e)),p&&(e[p]=!1),e},i=function(e){return p!==null?e[p]:null};return{disable:a,enable:t,getPrefix:x,isEnabled:i}};A.exports=f()},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(14),x=p(17),t={Angle:p(812),Distance:p(821),Easing:p(826),Fuzzy:p(827),Interpolation:p(830),Pow2:p(835),Snap:p(837),RandomDataGenerator:p(839),Average:p(840),Bernstein:p(356),Between:p(195),CatmullRom:p(194),CeilTo:p(841),Clamp:p(18),DegToRad:p(36),Difference:p(842),Euler:p(843),Factorial:p(357),FloatBetween:p(137),FloorTo:p(844),FromPercent:p(98),GetSpeed:p(845),IsEven:p(846),IsEvenStrict:p(847),Linear:p(135),MaxAdd:p(848),Median:p(849),MinSub:p(850),Percent:p(851),RadToDeg:p(196),RandomXY:p(852),RandomXYZ:p(853),RandomXYZW:p(854),Rotate:p(362),RotateAround:p(308),RotateAroundDistance:p(182),RotateTo:p(855),RoundAwayFromZero:p(363),RoundTo:p(856),SinCosTableGenerator:p(857),SmootherStep:p(183),SmoothStep:p(184),ToXY:p(858),TransformXY:p(177),Within:p(859),Wrap:p(68),Vector2:p(3),Vector3:p(39),Vector4:p(140),Matrix3:p(364),Matrix4:p(69),Quaternion:p(365),RotateVec3:p(860)};t=x(!1,t,f),A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i){var e=(a-x)*.5,s=(i-t)*.5,r=f*f,n=f*r;return(2*t-2*a+e+s)*n+(-3*t+3*a-2*e-s)*r+e*f+t};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return Math.floor(Math.random()*(x-f+1)+f)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(14),x=function(t){return t*f.RAD_TO_DEG};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};A.exports=f},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(){this._matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1,this._dirty=!0,this._data},set:function(t){return this._matrix=t,this._dirty=!0,this},reset:function(){var t=this._matrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=1,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=1,t[13]=0,t[14]=0,t[15]=0,t[16]=0,t[17]=0,t[18]=1,t[19]=0,this._dirty=!0,this},getData:function(){if(this._dirty){var t=new Float32Array(this._matrix);t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,this._data=t,this._dirty=!1}return this._data},brightness:function(t,a){t===void 0&&(t=0),a===void 0&&(a=!1);var i=t;return this.multiply([i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0],a)},saturate:function(t,a){t===void 0&&(t=0),a===void 0&&(a=!1);var i=t*2/3+1,e=(i-1)*-.5;return this.multiply([i,e,e,0,0,e,i,e,0,0,e,e,i,0,0,0,0,0,1,0],a)},desaturate:function(t){return t===void 0&&(t=!1),this.saturate(-1,t)},hue:function(t,a){t===void 0&&(t=0),a===void 0&&(a=!1),t=t/180*Math.PI;var i=Math.cos(t),e=Math.sin(t),s=.213,r=.715,n=.072;return this.multiply([s+i*(1-s)+e*-s,r+i*-r+e*-r,n+i*-n+e*(1-n),0,0,s+i*-s+e*.143,r+i*(1-r)+e*.14,n+i*-n+e*-.283,0,0,s+i*-s+e*-(1-s),r+i*-r+e*r,n+i*(1-n)+e*n,0,0,0,0,0,1,0],a)},grayscale:function(t,a){return t===void 0&&(t=1),a===void 0&&(a=!1),this.saturate(-t,a)},blackWhite:function(t){return t===void 0&&(t=!1),this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},contrast:function(t,a){t===void 0&&(t=0),a===void 0&&(a=!1);var i=t+1,e=-.5*(i-1);return this.multiply([i,0,0,0,e,0,i,0,0,e,0,0,i,0,e,0,0,0,1,0],a)},negative:function(t){return t===void 0&&(t=!1),this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},desaturateLuminance:function(t){return t===void 0&&(t=!1),this.multiply([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],t)},sepia:function(t){return t===void 0&&(t=!1),this.multiply([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},night:function(t,a){return t===void 0&&(t=.1),a===void 0&&(a=!1),this.multiply([t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0],a)},lsd:function(t){return t===void 0&&(t=!1),this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},brown:function(t){return t===void 0&&(t=!1),this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},vintagePinhole:function(t){return t===void 0&&(t=!1),this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},kodachrome:function(t){return t===void 0&&(t=!1),this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},technicolor:function(t){return t===void 0&&(t=!1),this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},polaroid:function(t){return t===void 0&&(t=!1),this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},shiftToBGR:function(t){return t===void 0&&(t=!1),this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},multiply:function(t,a){a||this.reset();for(var i=this._matrix,e=[],s=0;s<20;s++)e[s]=i[s];return i[0]=e[0]*t[0]+e[1]*t[5]+e[2]*t[10]+e[3]*t[15],i[1]=e[0]*t[1]+e[1]*t[6]+e[2]*t[11]+e[3]*t[16],i[2]=e[0]*t[2]+e[1]*t[7]+e[2]*t[12]+e[3]*t[17],i[3]=e[0]*t[3]+e[1]*t[8]+e[2]*t[13]+e[3]*t[18],i[4]=e[0]*t[4]+e[1]*t[9]+e[2]*t[14]+e[3]*t[19]+e[4],i[5]=e[5]*t[0]+e[6]*t[5]+e[7]*t[10]+e[8]*t[15],i[6]=e[5]*t[1]+e[6]*t[6]+e[7]*t[11]+e[8]*t[16],i[7]=e[5]*t[2]+e[6]*t[7]+e[7]*t[12]+e[8]*t[17],i[8]=e[5]*t[3]+e[6]*t[8]+e[7]*t[13]+e[8]*t[18],i[9]=e[5]*t[4]+e[6]*t[9]+e[7]*t[14]+e[8]*t[19]+e[9],i[10]=e[10]*t[0]+e[11]*t[5]+e[12]*t[10]+e[13]*t[15],i[11]=e[10]*t[1]+e[11]*t[6]+e[12]*t[11]+e[13]*t[16],i[12]=e[10]*t[2]+e[11]*t[7]+e[12]*t[12]+e[13]*t[17],i[13]=e[10]*t[3]+e[11]*t[8]+e[12]*t[13]+e[13]*t[18],i[14]=e[10]*t[4]+e[11]*t[9]+e[12]*t[14]+e[13]*t[19]+e[14],i[15]=e[15]*t[0]+e[16]*t[5]+e[17]*t[10]+e[18]*t[15],i[16]=e[15]*t[1]+e[16]*t[6]+e[17]*t[11]+e[18]*t[16],i[17]=e[15]*t[2]+e[16]*t[7]+e[17]*t[12]+e[18]*t[17],i[18]=e[15]*t[3]+e[16]*t[8]+e[17]*t[13]+e[18]*t[18],i[19]=e[15]*t[4]+e[16]*t[9]+e[17]*t[14]+e[18]*t[19]+e[19],this._dirty=!0,this}});A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(10),x=p(14),t=function(a,i){if(i===void 0&&(i=new f),a.length===0)return i;for(var e=Number.MAX_VALUE,s=Number.MAX_VALUE,r=x.MIN_SAFE_INTEGER,n=x.MIN_SAFE_INTEGER,o,l,h,u=0;u<a.length;u++)o=a[u],Array.isArray(o)?(l=o[0],h=o[1]):(l=o.x,h=o.y),e=Math.min(e,l),s=Math.min(s,h),r=Math.max(r,l),n=Math.max(n,h);return i.x=e,i.y=s,i.width=r-e,i.height=n-s,i};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(1),t=new f({initialize:function(i,e,s){this._rgb=[0,0,0],this.onChangeCallback=x,this.dirty=!1,this.set(i,e,s)},set:function(a,i,e){return a===void 0&&(a=0),i===void 0&&(i=0),e===void 0&&(e=0),this._rgb=[a,i,e],this.onChange(),this},equals:function(a,i,e){var s=this._rgb;return s.r===a&&s.g===i&&s.b===e},onChange:function(){this.dirty=!0;var a=this._rgb;this.onChangeCallback.call(this,a[0],a[1],a[2])},r:{get:function(){return this._rgb[0]},set:function(a){this._rgb[0]=a,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(a){this._rgb[1]=a,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(a){this._rgb[2]=a,this.onChange()}},destroy:function(){this.onChangeCallback=null}});A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={CENTER:p(403),ORIENTATION:p(404),SCALE_MODE:p(405),ZOOM:p(406)};A.exports=f},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){f.parentNode&&f.parentNode.removeChild(f)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(144),t=p(197),a=p(20),i=p(419),e=p(420),s=p(33),r=p(1),n=p(421),o=new f({initialize:function(h,u){this.scene=h,this.game,this.renderer,this.config=u,this.settings=n.create(u),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=r},init:function(l){this.settings.status=x.INIT,this.sceneUpdate=r,this.game=l,this.renderer=l.renderer,this.canvas=l.canvas,this.context=l.context;var h=l.plugins;this.plugins=h,h.addToScene(this,t.Global,[t.CoreScene,e(this),i(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(l,h){var u=this.events;u.emit(a.PRE_UPDATE,l,h),u.emit(a.UPDATE,l,h),this.sceneUpdate.call(this.scene,l,h),u.emit(a.POST_UPDATE,l,h)},render:function(l){var h=this.displayList;h.depthSort(),this.events.emit(a.PRE_RENDER,l),this.cameras.render(l,h),this.events.emit(a.RENDER,l)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(l){var h=this.events,u=this.settings;return this.settings.active&&(u.status=x.PAUSED,u.active=!1,h.emit(a.PAUSE,this,l)),this},resume:function(l){var h=this.events,u=this.settings;return this.settings.active||(u.status=x.RUNNING,u.active=!0,h.emit(a.RESUME,this,l)),this},sleep:function(l){var h=this.events,u=this.settings;return u.status=x.SLEEPING,u.active=!1,u.visible=!1,h.emit(a.SLEEP,this,l),this},wake:function(l){var h=this.events,u=this.settings;return u.status=x.RUNNING,u.active=!0,u.visible=!0,h.emit(a.WAKE,this,l),u.isTransition&&h.emit(a.TRANSITION_WAKE,u.transitionFrom,u.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===x.SLEEPING},isActive:function(){return this.settings.status===x.RUNNING},isPaused:function(){return this.settings.status===x.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(l){return this.settings.visible=l,this},setActive:function(l,h){return l?this.resume(h):this.pause(h)},start:function(l){var h=this.events,u=this.settings;l&&(u.data=l),u.status=x.START,u.active=!0,u.visible=!0,h.emit(a.START,this),h.emit(a.READY,this,l)},shutdown:function(l){var h=this.events,u=this.settings;h.off(a.TRANSITION_INIT),h.off(a.TRANSITION_START),h.off(a.TRANSITION_COMPLETE),h.off(a.TRANSITION_OUT),u.status=x.SHUTDOWN,u.active=!1,u.visible=!1,this.renderer===s.WEBGL&&this.renderer.resetTextures(!0),h.emit(a.SHUTDOWN,this,l)},destroy:function(){var l=this.events,h=this.settings;h.status=x.DESTROYED,h.active=!1,h.visible=!1,l.emit(a.DESTROY,this),l.removeAllListeners();for(var u=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],c=0;c<u.length;c++)this[u[c]]=null}});A.exports=o},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f&&f[0].toUpperCase()+f.slice(1)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(33),x=p(0),t=p(109),a=p(424),i="Texture.frame missing: ",e=new x({initialize:function(r,n,o,l,h){Array.isArray(o)||(o=[o]),this.manager=r,this.key=n,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var u=0;u<o.length;u++)this.source.push(new a(this,o[u],l,h))},add:function(s,r,n,o,l,h){if(this.has(s))return null;var u=new t(this,s,r,n,o,l,h);return this.frames[s]=u,this.firstFrame==="__BASE"&&(this.firstFrame=s),this.frameTotal++,u},remove:function(s){if(this.has(s)){var r=this.get(s);return r.destroy(),delete this.frames[s],!0}return!1},has:function(s){return this.frames[s]},get:function(s){s||(s=this.firstFrame);var r=this.frames[s];return r||(console.warn(i+s),r=this.frames[this.firstFrame]),r},getTextureSourceIndex:function(s){for(var r=0;r<this.source.length;r++)if(this.source[r]===s)return r;return-1},getFramesFromTextureSource:function(s,r){r===void 0&&(r=!1);var n=[];for(var o in this.frames)if(!(o==="__BASE"&&!r)){var l=this.frames[o];l.sourceIndex===s&&n.push(l)}return n},getFrameNames:function(s){s===void 0&&(s=!1);var r=Object.keys(this.frames);if(!s){var n=r.indexOf("__BASE");n!==-1&&r.splice(n,1)}return r},getSourceImage:function(s){(s==null||this.frameTotal===1)&&(s="__BASE");var r=this.frames[s];return r?r.source.image:(console.warn(i+s),this.frames.__BASE.source.image)},getDataSourceImage:function(s){(s==null||this.frameTotal===1)&&(s="__BASE");var r=this.frames[s],n;return r?n=r.sourceIndex:(console.warn(i+s),n=this.frames.__BASE.sourceIndex),this.dataSource[n].image},setDataSource:function(s){Array.isArray(s)||(s=[s]);for(var r=0;r<s.length;r++){var n=this.source[r];this.dataSource.push(new a(this,s[r],n.width,n.height))}},setFilter:function(s){var r;for(r=0;r<this.source.length;r++)this.source[r].setFilter(s);for(r=0;r<this.dataSource.length;r++)this.dataSource[r].setFilter(s)},destroy:function(){var s;for(s=0;s<this.source.length;s++)this.source[s].destroy();for(s=0;s<this.dataSource.length;s++)this.dataSource[s].destroy();for(var r in this.frames){var n=this.frames[r];n.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key);var o=this.manager.game.renderer;o&&o.type===f.WEBGL&&o.resetTextures(!0),this.manager=null}});A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(78),x=function(t,a,i,e,s){e===void 0&&(e=0),s===void 0&&(s=t.length);var r=[];if(f(t,e,s))for(var n=e;n<s;n++){var o=t[n];(!a||a&&i===void 0&&o.hasOwnProperty(a)||a&&i!==void 0&&o[a]===i)&&r.push(o)}return r};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Matrix:p(1013),Add:p(1021),AddAt:p(1022),BringToTop:p(1023),CountAllMatching:p(1024),Each:p(1025),EachInRange:p(1026),FindClosestInSorted:p(318),GetAll:p(207),GetFirst:p(428),GetRandom:p(210),MoveDown:p(1027),MoveTo:p(1028),MoveUp:p(1029),MoveAbove:p(1030),MoveBelow:p(1031),NumberArray:p(322),NumberArrayStep:p(1032),QuickSelect:p(436),Range:p(437),Remove:p(93),RemoveAt:p(1033),RemoveBetween:p(1034),RemoveRandomElement:p(1035),Replace:p(1036),RotateLeft:p(178),RotateRight:p(179),SafeRange:p(78),SendToBack:p(1037),SetAll:p(1038),Shuffle:p(131),SortByDigits:p(320),SpliceOne:p(74),StableSort:p(79),Swap:p(1039)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){if(!Array.isArray(f)||f.length<2||!Array.isArray(f[0]))return!1;for(var x=f[0].length,t=1;t<f.length;t++)if(f[t].length!==x)return!1;return!0};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){x===void 0&&(x=0),t===void 0&&(t=f.length);var a=x+Math.floor(Math.random()*t);return f[a]===void 0?null:f[a]};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(9),t=p(438),a=new f({Extends:x,initialize:function(){x.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},add:function(i){return this._pending.push(i),this._toProcess++,i},remove:function(i){return this._destroy.push(i),this._toProcess++,i},removeAll:function(){for(var i=this._active,e=this._destroy,s=i.length;s--;)e.push(i[s]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var i=this._destroy,e=this._active,s,r;for(s=0;s<i.length;s++){r=i[s];var n=e.indexOf(r);n!==-1&&(e.splice(n,1),this.emit(t.PROCESS_QUEUE_REMOVE,r))}for(i.length=0,i=this._pending,s=0;s<i.length;s++)r=i[s],(!this.checkQueue||this.checkQueue&&e.indexOf(r)===-1)&&(e.push(r),this.emit(t.PROCESS_QUEUE_ADD,r));return i.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function p(x,t){return parseInt(x.getAttribute(t),10)}var f=function(x,t,a,i,e){a===void 0&&(a=0),i===void 0&&(i=0);var s=t.cutX,r=t.cutY,n=t.source.width,o=t.source.height,l=t.sourceIndex,h={},u=x.getElementsByTagName("info")[0],c=x.getElementsByTagName("common")[0];h.font=u.getAttribute("face"),h.size=p(u,"size"),h.lineHeight=p(c,"lineHeight")+i,h.chars={};var d=x.getElementsByTagName("char"),v=t!==void 0&&t.trimmed;if(v)var g=t.height,m=t.width;for(var y=0;y<d.length;y++){var T=d[y],E=p(T,"id"),S=String.fromCharCode(E),C=p(T,"x"),M=p(T,"y"),P=p(T,"width"),R=p(T,"height");v&&(C<m&&(m=C),M<g&&(g=M)),v&&g!==0&&m!==0&&(C-=t.x,M-=t.y);var L=(s+C)/n,w=(r+M)/o,B=(s+C+P)/n,G=(r+M+R)/o;if(h.chars[E]={x:C,y:M,width:P,height:R,centerX:Math.floor(P/2),centerY:Math.floor(R/2),xOffset:p(T,"xoffset"),yOffset:p(T,"yoffset"),xAdvance:p(T,"xadvance")+a,data:{},kerning:{},u0:L,v0:w,u1:B,v1:G},e&&P!==0&&R!==0){var Y=e.add(S,l,C,M,P,R);Y&&Y.setUVs(P,R,L,w,B,G)}}var D=x.getElementsByTagName("kerning");for(y=0;y<D.length;y++){var F=D[y],N=p(F,"first"),I=p(F,"second"),b=p(F,"amount");h.chars[I].kerning[N]=b}return h};A.exports=f},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1049),x=p(440),t=p(0),a=p(11),i=p(109),e=p(15),s=p(110),r=new t({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,f],initialize:function(o,l,h,u,c){e.call(this,o,"Blitter"),this.setTexture(u,c),this.setPosition(l,h),this.initPipeline(),this.children=new s,this.renderList=[],this.dirty=!1},create:function(n,o,l,h,u){h===void 0&&(h=!0),u===void 0&&(u=this.children.length),l===void 0?l=this.frame:l instanceof i||(l=this.texture.get(l));var c=new x(this,n,o,l,h);return this.children.addAt(c,u,!1),this.dirty=!0,c},createFromCallback:function(n,o,l,h){for(var u=this.createMultiple(o,l,h),c=0;c<u.length;c++){var d=u[c];n.call(this,d,c)}return u},createMultiple:function(n,o,l){o===void 0&&(o=this.frame.name),l===void 0&&(l=!0),Array.isArray(o)||(o=[o]);var h=[],u=this;return o.forEach(function(c){for(var d=0;d<n;d++)h.push(u.create(0,0,c,l))}),h},childCanRender:function(n){return n.visible&&n.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(208),x=p(35),t=p(0),a=p(11),i=p(75),e=p(15),s=p(10),r=p(1052),n=p(441),o=p(3),l=new t({Extends:e,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.Pipeline,a.Transform,a.Visible,r],initialize:function(u,c,d,v){e.call(this,u,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this.tempTransformMatrix=new a.TransformMatrix,this._sortKey="",this._sysEvents=u.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPipeline(),this.setPosition(c,d),this.clearAlpha(),this.setBlendMode(x.SKIP_CHECK),v&&this.add(v)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(h){return h===void 0&&(h=!0),this.exclusive=h,this},getBounds:function(h){if(h===void 0&&(h=new s),h.setTo(this.x,this.y,0,0),this.parentContainer){var u=this.parentContainer.getBoundsTransformMatrix(),c=u.transformPoint(this.x,this.y);h.setTo(c.x,c.y,0,0)}if(this.list.length>0){var d=this.list,v=new s,g=!1;h.setEmpty();for(var m=0;m<d.length;m++){var y=d[m];y.getBounds&&(y.getBounds(v),g?n(v,h,h):(h.setTo(v.x,v.y,v.width,v.height),g=!0))}}return h},addHandler:function(h){h.once(i.DESTROY,this.remove,this),this.exclusive&&(h.parentContainer&&h.parentContainer.remove(h),h.removeFromDisplayList(),h.parentContainer=this)},removeHandler:function(h){h.off(i.DESTROY,this.remove),this.exclusive&&(h.parentContainer=null,h.addToDisplayList())},pointToContainer:function(h,u){u===void 0&&(u=new o),this.parentContainer?this.parentContainer.pointToContainer(h,u):u=new o(h.x,h.y);var c=this.tempTransformMatrix;return c.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),c.invert(),c.transformPoint(h.x,h.y,u),u},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(h){return f.Add(this.list,h,this.maxSize,this.addHandler,this),this},addAt:function(h,u){return f.AddAt(this.list,h,u,this.maxSize,this.addHandler,this),this},getAt:function(h){return this.list[h]},getIndex:function(h){return this.list.indexOf(h)},sort:function(h,u){return h?(u===void 0&&(u=function(c,d){return c[h]-d[h]}),f.StableSort(this.list,u),this):this},getByName:function(h){return f.GetFirst(this.list,"name",h)},getRandom:function(h,u){return f.GetRandom(this.list,h,u)},getFirst:function(h,u,c,d){return f.GetFirst(this.list,h,u,c,d)},getAll:function(h,u,c,d){return f.GetAll(this.list,h,u,c,d)},count:function(h,u,c,d){return f.CountAllMatching(this.list,h,u,c,d)},swap:function(h,u){return f.Swap(this.list,h,u),this},moveTo:function(h,u){return f.MoveTo(this.list,h,u),this},moveAbove:function(h,u){return f.MoveAbove(this.list,h,u),this},moveBelow:function(h,u){return f.MoveBelow(this.list,h,u),this},remove:function(h,u){var c=f.Remove(this.list,h,this.removeHandler,this);if(u&&c){Array.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++)c[d].destroy()}return this},removeAt:function(h,u){var c=f.RemoveAt(this.list,h,this.removeHandler,this);return u&&c&&c.destroy(),this},removeBetween:function(h,u,c){var d=f.RemoveBetween(this.list,h,u,this.removeHandler,this);if(c)for(var v=0;v<d.length;v++)d[v].destroy();return this},removeAll:function(h){var u=f.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(h)for(var c=0;c<u.length;c++)u[c].destroy();return this},bringToTop:function(h){return f.BringToTop(this.list,h),this},sendToBack:function(h){return f.SendToBack(this.list,h),this},moveUp:function(h){return f.MoveUp(this.list,h),this},moveDown:function(h){return f.MoveDown(this.list,h),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return f.Shuffle(this.list),this},replace:function(h,u,c){var d=f.Replace(this.list,h,u);return d&&(this.addHandler(u),this.removeHandler(h),c&&h.destroy()),this},exists:function(h){return this.list.indexOf(h)>-1},setAll:function(h,u,c,d){return f.SetAll(this.list,h,u,c,d),this},each:function(h,u){var c=[null],d,v=this.list.slice(),g=v.length;for(d=2;d<arguments.length;d++)c.push(arguments[d]);for(d=0;d<g;d++)c[0]=v[d],h.apply(u,c);return this},iterate:function(h,u){var c=[null],d;for(d=2;d<arguments.length;d++)c.push(arguments[d]);for(d=0;d<this.list.length;d++)c[0]=this.list[d],h.apply(u,c);return this},setScrollFactor:function(h,u,c){return u===void 0&&(u=h),c===void 0&&(c=!1),this.scrollFactorX=h,this.scrollFactorY=u,c&&(f.SetAll(this.list,"scrollFactorX",h),f.SetAll(this.list,"scrollFactorY",u)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});A.exports=l},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(148),x=p(0),t=p(1057),a=new x({Extends:f,Mixins:[t],initialize:function(e,s,r,n,o,l,h){f.call(this,e,s,r,n,o,l,h),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(i,e){return this.cropWidth=i,this.cropHeight=e,this},setDisplayCallback:function(i){return this.displayCallback=i,this},setScrollX:function(i){return this.scrollX=i,this},setScrollY:function(i){return this.scrollY=i,this}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(133),x=p(0),t=p(217),a=p(303),i=p(304),e=p(305),s=p(309),r=p(167),n=p(312),o=p(313),l=p(314),h=p(111),u=p(15),c=p(2),d=p(6),v=p(14),g=p(1063),m=new x({Extends:u,Mixins:[a,i,e,s,r,o,l,n,g],initialize:function(T,E){var S=d(E,"x",0),C=d(E,"y",0);u.call(this,T,"Graphics"),this.setPosition(S,C),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(E)},setDefaultStyles:function(y){return d(y,"lineStyle",null)&&(this.defaultStrokeWidth=d(y,"lineStyle.width",1),this.defaultStrokeColor=d(y,"lineStyle.color",16777215),this.defaultStrokeAlpha=d(y,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),d(y,"fillStyle",null)&&(this.defaultFillColor=d(y,"fillStyle.color",16777215),this.defaultFillAlpha=d(y,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(y,T,E){return E===void 0&&(E=1),this.commandBuffer.push(t.LINE_STYLE,y,T,E),this._lineWidth=y,this},fillStyle:function(y,T){return T===void 0&&(T=1),this.commandBuffer.push(t.FILL_STYLE,y,T),this},fillGradientStyle:function(y,T,E,S,C,M,P,R){return C===void 0&&(C=1),M===void 0&&(M=C),P===void 0&&(P=C),R===void 0&&(R=C),this.commandBuffer.push(t.GRADIENT_FILL_STYLE,C,M,P,R,y,T,E,S),this},lineGradientStyle:function(y,T,E,S,C,M){return M===void 0&&(M=1),this.commandBuffer.push(t.GRADIENT_LINE_STYLE,y,M,T,E,S,C),this},beginPath:function(){return this.commandBuffer.push(t.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(t.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(t.FILL_PATH),this},fill:function(){return this.commandBuffer.push(t.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(t.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(t.STROKE_PATH),this},fillCircleShape:function(y){return this.fillCircle(y.x,y.y,y.radius)},strokeCircleShape:function(y){return this.strokeCircle(y.x,y.y,y.radius)},fillCircle:function(y,T,E){return this.beginPath(),this.arc(y,T,E,0,v.PI2),this.fillPath(),this},strokeCircle:function(y,T,E){return this.beginPath(),this.arc(y,T,E,0,v.PI2),this.strokePath(),this},fillRectShape:function(y){return this.fillRect(y.x,y.y,y.width,y.height)},strokeRectShape:function(y){return this.strokeRect(y.x,y.y,y.width,y.height)},fillRect:function(y,T,E,S){return this.commandBuffer.push(t.FILL_RECT,y,T,E,S),this},strokeRect:function(y,T,E,S){var C=this._lineWidth/2,M=y-C,P=y+C;return this.beginPath(),this.moveTo(y,T),this.lineTo(y,T+S),this.strokePath(),this.beginPath(),this.moveTo(y+E,T),this.lineTo(y+E,T+S),this.strokePath(),this.beginPath(),this.moveTo(M,T),this.lineTo(P+E,T),this.strokePath(),this.beginPath(),this.moveTo(M,T+S),this.lineTo(P+E,T+S),this.strokePath(),this},fillRoundedRect:function(y,T,E,S,C){C===void 0&&(C=20);var M=C,P=C,R=C,L=C;return typeof C!="number"&&(M=c(C,"tl",20),P=c(C,"tr",20),R=c(C,"bl",20),L=c(C,"br",20)),this.beginPath(),this.moveTo(y+M,T),this.lineTo(y+E-P,T),this.arc(y+E-P,T+P,P,-v.TAU,0),this.lineTo(y+E,T+S-L),this.arc(y+E-L,T+S-L,L,0,v.TAU),this.lineTo(y+R,T+S),this.arc(y+R,T+S-R,R,v.TAU,Math.PI),this.lineTo(y,T+M),this.arc(y+M,T+M,M,-Math.PI,-v.TAU),this.fillPath(),this},strokeRoundedRect:function(y,T,E,S,C){C===void 0&&(C=20);var M=C,P=C,R=C,L=C;return typeof C!="number"&&(M=c(C,"tl",20),P=c(C,"tr",20),R=c(C,"bl",20),L=c(C,"br",20)),this.beginPath(),this.moveTo(y+M,T),this.lineTo(y+E-P,T),this.moveTo(y+E-P,T),this.arc(y+E-P,T+P,P,-v.TAU,0),this.lineTo(y+E,T+S-L),this.moveTo(y+E,T+S-L),this.arc(y+E-L,T+S-L,L,0,v.TAU),this.lineTo(y+R,T+S),this.moveTo(y+R,T+S),this.arc(y+R,T+S-R,R,v.TAU,Math.PI),this.lineTo(y,T+M),this.moveTo(y,T+M),this.arc(y+M,T+M,M,-Math.PI,-v.TAU),this.strokePath(),this},fillPointShape:function(y,T){return this.fillPoint(y.x,y.y,T)},fillPoint:function(y,T,E){return!E||E<1?E=1:(y-=E/2,T-=E/2),this.commandBuffer.push(t.FILL_RECT,y,T,E,E),this},fillTriangleShape:function(y){return this.fillTriangle(y.x1,y.y1,y.x2,y.y2,y.x3,y.y3)},strokeTriangleShape:function(y){return this.strokeTriangle(y.x1,y.y1,y.x2,y.y2,y.x3,y.y3)},fillTriangle:function(y,T,E,S,C,M){return this.commandBuffer.push(t.FILL_TRIANGLE,y,T,E,S,C,M),this},strokeTriangle:function(y,T,E,S,C,M){return this.commandBuffer.push(t.STROKE_TRIANGLE,y,T,E,S,C,M),this},strokeLineShape:function(y){return this.lineBetween(y.x1,y.y1,y.x2,y.y2)},lineBetween:function(y,T,E,S){return this.beginPath(),this.moveTo(y,T),this.lineTo(E,S),this.strokePath(),this},lineTo:function(y,T){return this.commandBuffer.push(t.LINE_TO,y,T),this},moveTo:function(y,T){return this.commandBuffer.push(t.MOVE_TO,y,T),this},strokePoints:function(y,T,E,S){T===void 0&&(T=!1),E===void 0&&(E=!1),S===void 0&&(S=y.length),this.beginPath(),this.moveTo(y[0].x,y[0].y);for(var C=1;C<S;C++)this.lineTo(y[C].x,y[C].y);return T&&this.lineTo(y[0].x,y[0].y),E&&this.closePath(),this.strokePath(),this},fillPoints:function(y,T,E,S){T===void 0&&(T=!1),E===void 0&&(E=!1),S===void 0&&(S=y.length),this.beginPath(),this.moveTo(y[0].x,y[0].y);for(var C=1;C<S;C++)this.lineTo(y[C].x,y[C].y);return T&&this.lineTo(y[0].x,y[0].y),E&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(y,T){T===void 0&&(T=32);var E=y.getPoints(T);return this.strokePoints(E,!0)},strokeEllipse:function(y,T,E,S,C){C===void 0&&(C=32);var M=new h(y,T,E,S),P=M.getPoints(C);return this.strokePoints(P,!0)},fillEllipseShape:function(y,T){T===void 0&&(T=32);var E=y.getPoints(T);return this.fillPoints(E,!0)},fillEllipse:function(y,T,E,S,C){C===void 0&&(C=32);var M=new h(y,T,E,S),P=M.getPoints(C);return this.fillPoints(P,!0)},arc:function(y,T,E,S,C,M,P){return M===void 0&&(M=!1),P===void 0&&(P=0),this.commandBuffer.push(t.ARC,y,T,E,S,C,M,P),this},slice:function(y,T,E,S,C,M,P){return M===void 0&&(M=!1),P===void 0&&(P=0),this.commandBuffer.push(t.BEGIN_PATH),this.commandBuffer.push(t.MOVE_TO,y,T),this.commandBuffer.push(t.ARC,y,T,E,S,C,M,P),this.commandBuffer.push(t.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(t.SAVE),this},restore:function(){return this.commandBuffer.push(t.RESTORE),this},translateCanvas:function(y,T){return this.commandBuffer.push(t.TRANSLATE,y,T),this},scaleCanvas:function(y,T){return this.commandBuffer.push(t.SCALE,y,T),this},rotateCanvas:function(y){return this.commandBuffer.push(t.ROTATE,y),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(y,T,E){var S=this.scene.sys,C=S.game.renderer;T===void 0&&(T=S.scale.width),E===void 0&&(E=S.scale.height),m.TargetCamera.setScene(this.scene),m.TargetCamera.setViewport(0,0,T,E),m.TargetCamera.scrollX=this.x,m.TargetCamera.scrollY=this.y;var M,P;if(typeof y=="string")if(S.textures.exists(y)){M=S.textures.get(y);var R=M.getSourceImage();R instanceof HTMLCanvasElement&&(P=R.getContext("2d"))}else M=S.textures.createCanvas(y,T,E),P=M.getSourceImage().getContext("2d");else y instanceof HTMLCanvasElement&&(P=y.getContext("2d"));return P&&(this.renderCanvas(C,this,m.TargetCamera,null,P,!1),M&&M.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});m.TargetCamera=new f,A.exports=m},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a,i){i===void 0&&(i=new f);var e=t.width/2,s=t.height/2;return i.x=t.x+e*Math.cos(a),i.y=t.y+s*Math.sin(a),i};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(35),x=p(0),t=p(11),a=p(176),i=p(101),e=p(9),s=p(75),r=p(110),n=p(1071),o=p(20),l=p(79),h=new x({Extends:r,Mixins:[t.AlphaSingle,t.BlendMode,t.Depth,t.Mask,t.Pipeline,t.Visible,e,n],initialize:function(c,d){r.call(this,c),e.call(this),this.scene=c,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=c.sys,this.events=c.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPipeline(),this.clearAlpha(),this.setBlendMode(f.SKIP_CHECK),d&&this.add(d),c.sys.queueDepthSort()},setActive:function(u){return this.active=u,this},setName:function(u){return this.name=u,this},setState:function(u){return this.state=u,this},setDataEnabled:function(){return this.data||(this.data=new i(this)),this},setData:function(u,c){return this.data||(this.data=new i(this)),this.data.set(u,c),this},incData:function(u,c){return this.data||(this.data=new i(this)),this.data.inc(u,c),this},toggleData:function(u){return this.data||(this.data=new i(this)),this.data.toggle(u),this},getData:function(u){return this.data||(this.data=new i(this)),this.data.get(u)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(u){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&u.id)},getIndexList:function(){for(var u=this,c=this.parentContainer,d=[];c&&(d.unshift(c.getIndex(u)),u=c,c.parentContainer);)c=c.parentContainer;return d.unshift(this.displayList.getIndex(u)),d},addChildCallback:function(u){u.displayList&&u.displayList!==this&&u.removeFromDisplayList(),u.displayList||(this.queueDepthSort(),u.displayList=this,u.emit(s.ADDED_TO_SCENE,u,this.scene),this.events.emit(o.ADDED_TO_SCENE,u,this.scene))},removeChildCallback:function(u){this.queueDepthSort(),u.displayList=null,u.emit(s.REMOVED_FROM_SCENE,u,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,u,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(l(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(u,c){return u._depth-c._depth},getChildren:function(){return this.list},destroy:function(){if(!(!this.scene||this.ignoreDestroy)){this.emit(s.DESTROY,this);for(var u=this.list.length;u--;)this.list[u].destroy();this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});A.exports=h},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(11),t=p(15),a=p(450),i=p(110),e=p(452),s=p(1075),r=new f({Extends:t,Mixins:[x.Depth,x.Mask,x.Pipeline,x.Transform,x.Visible,s],initialize:function(o,l,h,u){if(t.call(this,o,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],h!==null&&(typeof h=="object"||Array.isArray(h))&&(u=h,h=null),this.setTexture(l,h),this.initPipeline(),this.emitters=new i(this),this.wells=new i(this),u){Array.isArray(u)||(u=[u]);for(var c=0;c<u.length;c++)this.createEmitter(u[c])}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setTexture:function(n,o){return this.texture=this.scene.sys.textures.get(n),this.setFrame(o)},setFrame:function(n){this.frame=this.texture.get(n);var o=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),l=[];return o.forEach(function(h){l.push(h.name)}),this.frameNames=l,this.defaultFrame=this.frame,this},setEmitterFrames:function(n,o){Array.isArray(n)||(n=[n]);var l=o.frames;l.length=0;for(var h=0;h<n.length;h++){var u=n[h];this.frameNames.indexOf(u)!==-1&&l.push(this.texture.get(u))}return l.length>0?o.defaultFrame=l[0]:o.defaultFrame=this.defaultFrame,this},addEmitter:function(n){return this.emitters.add(n)},createEmitter:function(n){return this.addEmitter(new e(this,n))},removeEmitter:function(n){return this.emitters.remove(n,!0)},addGravityWell:function(n){return this.wells.add(n)},createGravityWell:function(n){return this.addGravityWell(new a(n))},emitParticle:function(n,o,l){for(var h=this.emitters.list,u=0;u<h.length;u++){var c=h[u];c.active&&c.emitParticle(n,o,l)}return this},emitParticleAt:function(n,o,l){return this.emitParticle(l,n,o)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(n,o){o*=this.timeScale;for(var l=this.emitters.list,h=0;h<l.length;h++){var u=l[h];u.active&&u.preUpdate(n,o)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(35),x=p(133),t=p(31),a=p(0),i=p(11),e=p(33),s=p(109),r=p(15),n=p(1),o=p(92),l=p(1079),h=p(141),u=p(12),c=p(222),d=new a({Extends:r,Mixins:[i.Alpha,i.BlendMode,i.ComputedSize,i.Crop,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Tint,i.Transform,i.Visible,l],initialize:function(g,m,y,T,E,S,C){m===void 0&&(m=0),y===void 0&&(y=0),T===void 0&&(T=32),E===void 0&&(E=32),r.call(this,g,"RenderTexture"),this.renderer=g.sys.renderer,this.textureManager=g.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,S===void 0?(this.canvas=t.create2D(this,T,E),this.texture=g.sys.textures.addCanvas(c(),this.canvas),this.frame=this.texture.get()):(this.texture=g.sys.textures.get(S),this.frame=this.texture.get(C),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new x(0,0,T,E),this.renderTarget=null;var M=this.renderer;M?M.type===e.WEBGL?(this.drawGameObject=this.batchGameObjectWebGL,this.renderTarget=new h(M,T,E,1,0,!1)):M.type===e.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas):this.drawGameObject=n,this.camera.setScene(g),this.setPosition(m,y),S===void 0&&this.setSize(T,E),this.setOrigin(0,0),this.initPipeline(o.SINGLE_PIPELINE)},setSize:function(v,g){return this.resize(v,g)},resize:function(v,g){g===void 0&&(g=v);var m=this.frame;if(v!==this.width||g!==this.height){if(m.name==="__BASE"){this.canvas.width=v,this.canvas.height=g,this.texture.width=v,this.texture.height=g;var y=this.renderTarget;y&&(y.resize(v,g),m.glTexture=y.texture,m.source.isRenderTexture=!0,m.source.isGLTexture=!0,m.source.glTexture=y.texture),this.camera.setSize(v,g),m.source.width=v,m.source.height=g,m.setSize(v,g),this.width=v,this.height=g}}else{var T=this.texture.getSourceImage();m.cutX+v>T.width&&(v=T.width-m.cutX),m.cutY+g>T.height&&(g=T.height-m.cutY),m.setSize(v,g,m.cutX,m.cutY)}this.updateDisplayOrigin();var E=this.input;return E&&!E.customHitArea&&(E.hitArea.width=v,E.hitArea.height=g),this},setGlobalTint:function(v){return this.globalTint=v,this},setGlobalAlpha:function(v){return this.globalAlpha=v,this},saveTexture:function(v){return this.textureManager.renameTexture(this.texture.key,v),this._saved=!0,this.texture},fill:function(v,g,m,y,T,E){var S=this.frame,C=this.camera,M=this.renderer;g===void 0&&(g=1),m===void 0&&(m=0),y===void 0&&(y=0),T===void 0&&(T=S.cutWidth),E===void 0&&(E=S.cutHeight);var P=(v>>16&255)/255,R=(v>>8&255)/255,L=(v&255)/255,w=this.renderTarget;if(C.preRender(),w){w.bind(!0);var B=this.pipeline;B.manager.set(B);var G=w.width,Y=w.height,D=M.width,F=M.height,N=D/G,I=F/Y;B.drawFillRect(m*N,y*I,T*N,E*I,u.getTintFromFloats(L,R,P,1),g),w.unbind(!0)}else{var b=this.context;M.setContext(b),b.fillStyle="rgba("+P+","+R+","+L+","+g+")",b.fillRect(m+S.cutX,y+S.cutY,T,E),M.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var v=this.renderTarget;if(v)v.clear();else{var g=this.context;g.save(),g.setTransform(1,0,0,1,0,0),g.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),g.restore()}this.dirty=!1}return this},erase:function(v,g,m){return this._eraseMode=!0,this.draw(v,g,m,1,16777215),this._eraseMode=!1,this},draw:function(v,g,m,y,T){return this.beginDraw(),this.batchDraw(v,g,m,y,T),this.endDraw(),this},drawFrame:function(v,g,m,y,T,E){return this.beginDraw(),this.batchDrawFrame(v,g,m,y,T,E),this.endDraw(),this},beginDraw:function(){var v=this.camera,g=this.renderer,m=this.renderTarget;return v.preRender(),m?g.beginCapture(m.width,m.height):g.setContext(this.context),this},batchDraw:function(v,g,m,y,T){return y===void 0&&(y=this.globalAlpha),T===void 0?T=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):T=(T>>16)+(T&65280)+((T&255)<<16),Array.isArray(v)||(v=[v]),this.batchList(v,g,m,y,T),this},batchDrawFrame:function(v,g,m,y,T,E){m===void 0&&(m=0),y===void 0&&(y=0),T===void 0&&(T=this.globalAlpha),E===void 0?E=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):E=(E>>16)+(E&65280)+((E&255)<<16);var S=this.textureManager.getFrame(v,g);return S&&(this.renderTarget?this.pipeline.batchTextureFrame(S,m,y,E,T,this.camera.matrix,null):this.batchTextureFrame(S,m+this.frame.cutX,y+this.frame.cutY,T,E)),this},endDraw:function(v){v===void 0&&(v=this._eraseMode);var g=this.renderer,m=this.renderTarget;if(m){var y=g.endCapture(),T=g.pipelines.setUtility();T.blitFrame(y,m,1,!1,!1,v),g.resetScissor(),g.resetViewport()}else g.setContext();return this.dirty=!0,this},batchList:function(v,g,m,y,T){for(var E=0;E<v.length;E++){var S=v[E];!S||S===this||(S.renderWebGL||S.renderCanvas?this.drawGameObject(S,g,m):S.isParent||S.list?this.batchGroup(S.getChildren(),g,m):typeof S=="string"?this.batchTextureFrameKey(S,null,g,m,y,T):S instanceof s?this.batchTextureFrame(S,g,m,y,T):Array.isArray(S)&&this.batchList(S,g,m,y,T))}},batchGroup:function(v,g,m){g===void 0&&(g=0),m===void 0&&(m=0),g+=this.frame.cutX,m+=this.frame.cutY;for(var y=0;y<v.length;y++){var T=v[y];if(T.willRender(this.camera)){var E=T.x+g,S=T.y+m;this.drawGameObject(T,E,S)}}},batchGameObjectWebGL:function(v,g,m){g===void 0&&(g=v.x),m===void 0&&(m=v.y);var y=v.x,T=v.y;v.setPosition(g+this.frame.cutX,m+this.frame.cutY),v.renderDirect?v.renderDirect(this.renderer,v,this.camera):v.renderWebGL(this.renderer,v,this.camera),v.setPosition(y,T)},batchGameObjectCanvas:function(v,g,m){g===void 0&&(g=v.x),m===void 0&&(m=v.y);var y=v.x,T=v.y;if(this._eraseMode){var E=v.blendMode;v.blendMode=f.ERASE}v.setPosition(g+this.frame.cutX,m+this.frame.cutY),v.renderCanvas(this.renderer,v,this.camera,null),v.setPosition(y,T),this._eraseMode&&(v.blendMode=E)},batchTextureFrameKey:function(v,g,m,y,T,E){var S=this.textureManager.getFrame(v,g);S&&this.batchTextureFrame(S,m,y,T,E)},batchTextureFrame:function(v,g,m,y,T){g===void 0&&(g=0),m===void 0&&(m=0),g+=this.frame.cutX,m+=this.frame.cutY;var E=this.renderTarget;if(E)this.pipeline.batchTextureFrame(v,g,m,T,y,this.camera.matrix,null);else{var S=this.context,C=v.canvasData,M=v.source.image,P=this.camera.matrix;S.save(),S.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",S.globalAlpha=y,P.setToContext(S),S.drawImage(M,C.x,C.y,C.width,C.height,g,m,C.width,C.height),S.restore()}},snapshotArea:function(v,g,m,y,T,E,S){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,T,!1,v,g,m,y,E,S):this.renderer.snapshotCanvas(this.canvas,T,!1,v,g,m,y,E,S),this},snapshot:function(v,g,m){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,v,!1,0,0,this.width,this.height,g,m):this.renderer.snapshotCanvas(this.canvas,v,!1,0,0,this.width,this.height,g,m),this},snapshotPixel:function(v,g,m){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,m,!0,v,g):this.renderer.snapshotCanvas(this.canvas,m,!0,v,g),this},preDestroy:function(){this._saved||(t.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.texture=null)}});A.exports=d},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){var x=Math.random()*16|0,t=f==="x"?x:x&3|8;return t.toString(16)})};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(164),x=p(0),t=p(11),a=p(15),i=p(92),e=p(1085),s=p(3),r=new x({Extends:a,Mixins:[t.AlphaSingle,t.BlendMode,t.Depth,t.Flip,t.Mask,t.Pipeline,t.Size,t.Texture,t.Transform,t.Visible,t.ScrollFactor,e],initialize:function(o,l,h,u,c,d,v,g,m){u===void 0&&(u="__DEFAULT"),d===void 0&&(d=2),v===void 0&&(v=!0),a.call(this,o,"Rope"),this.anims=new f(this),this.points=d,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=u==="__DEFAULT",this.dirty=!1,this.horizontal=v,this._flipX=!1,this._flipY=!1,this._perp=new s,this.debugCallback=null,this.debugGraphic=null,this.setTexture(u,c),this.setPosition(l,h),this.setSizeToFrame(),this.initPipeline(i.ROPE_PIPELINE),Array.isArray(d)&&this.resizeArrays(d.length),this.setPoints(d,g,m),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,o){var l=this.anims.currentFrame;this.anims.update(n,o),this.anims.currentFrame!==l&&(this.updateUVs(),this.updateVertices())},play:function(n,o,l){return this.anims.play(n,o,l),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(n,o,l){return n===void 0&&(n=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(n,o,l))},setVertical:function(n,o,l){return n===void 0&&(n=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(n,o,l)):this},setTintFill:function(n){return n===void 0&&(n=!1),this.tintFill=n,this},setAlphas:function(n,o){var l=this.points.length;if(l<1)return this;var h=this.alphas;n===void 0?n=[1]:!Array.isArray(n)&&o===void 0&&(n=[n]);var u,c=0;if(o!==void 0)for(u=0;u<l;u++)c=u*2,h[c]=n,h[c+1]=o;else if(n.length===l)for(u=0;u<l;u++)c=u*2,h[c]=n[u],h[c+1]=n[u];else{var d=n[0];for(u=0;u<l;u++)c=u*2,n.length>c&&(d=n[c]),h[c]=d,n.length>c+1&&(d=n[c+1]),h[c+1]=d}return this},setColors:function(n){var o=this.points.length;if(o<1)return this;var l=this.colors;n===void 0?n=[16777215]:Array.isArray(n)||(n=[n]);var h,u=0;if(n.length===o)for(h=0;h<o;h++)u=h*2,l[u]=n[h],l[u+1]=n[h];else{var c=n[0];for(h=0;h<o;h++)u=h*2,n.length>u&&(c=n[u]),l[u]=c,n.length>u+1&&(c=n[u+1]),l[u+1]=c}return this},setPoints:function(n,o,l){if(n===void 0&&(n=2),typeof n=="number"){var h=n;h<2&&(h=2),n=[];var u,c,d;if(this.horizontal)for(d=-this.frame.halfWidth,c=this.frame.width/(h-1),u=0;u<h;u++)n.push({x:d+u*c,y:0});else for(d=-this.frame.halfHeight,c=this.frame.height/(h-1),u=0;u<h;u++)n.push({x:0,y:d+u*c})}var v=n.length,g=this.points.length;return v<1?(console.warn("Rope: Not enough points given"),this):(v===1&&(n.unshift({x:0,y:0}),v++),g!==v&&this.resizeArrays(v),this.points=n,this.updateUVs(),o!=null&&this.setColors(o),l!=null&&this.setAlphas(l),this)},updateUVs:function(){for(var n=this.uv,o=this.points.length,l=this.frame.u0,h=this.frame.v0,u=this.frame.u1,c=this.frame.v1,d=(u-l)/(o-1),v=(c-h)/(o-1),g=0;g<o;g++){var m=g*4,y,T,E,S;this.horizontal?(this._flipX?(y=u-g*d,E=u-g*d):(y=l+g*d,E=l+g*d),this._flipY?(T=c,S=h):(T=h,S=c)):(this._flipX?(y=l,E=u):(y=u,E=l),this._flipY?(T=c-g*v,S=c-g*v):(T=h+g*v,S=h+g*v)),n[m+0]=y,n[m+1]=T,n[m+2]=E,n[m+3]=S}return this},resizeArrays:function(n){var o=this.colors,l=this.alphas;this.vertices=new Float32Array(n*4),this.uv=new Float32Array(n*4),o=new Uint32Array(n*2),l=new Float32Array(n*2);for(var h=0;h<n*2;h++)o[h]=16777215,l[h]=1;return this.colors=o,this.alphas=l,this.dirty=!0,this},updateVertices:function(){var n=this._perp,o=this.points,l=this.vertices,h=o.length;if(this.dirty=!1,!(h<1)){for(var u,c=o[0],d=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,v=0;v<h;v++){var g=o[v],m=v*4;v<h-1?u=o[v+1]:u=g,n.x=u.y-c.y,n.y=-(u.x-c.x);var y=n.length();n.x/=y,n.y/=y,n.x*=d,n.y*=d,l[m]=g.x+n.x,l[m+1]=g.y+n.y,l[m+2]=g.x-n.x,l[m+3]=g.y-n.y,c=g}return this}},setDebug:function(n,o){return this.debugGraphic=n,!n&&!o?this.debugCallback=null:o?this.debugCallback=o:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(n,o,l){var h=n.debugGraphic,u=l[0],c=l[1],d=l[2],v=l[3];h.lineBetween(u,c,d,v);for(var g=4;g<o;g+=4){var m=l[g+0],y=l[g+1],T=l[g+2],E=l[g+3];h.lineBetween(u,c,m,y),h.lineBetween(d,v,T,E),h.lineBetween(d,v,m,y),h.lineBetween(m,y,T,E),u=m,c=y,d=T,v=E}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(n){return this._flipX=n,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(n){return this._flipY=n,this.updateUVs()}}});A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(142),x=p(31),t=p(0),a=p(11),i=p(22),e=p(15),s=p(458),r=p(6),n=p(202),o=p(1088),l=p(459),h=new t({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,o],initialize:function(c,d,v,g,m){d===void 0&&(d=0),v===void 0&&(v=0),e.call(this,c,"Text"),this.renderer=c.sys.renderer,this.setPosition(d,v),this.setOrigin(0,0),this.initPipeline(),this.canvas=x.create(this),this.context=this.canvas.getContext("2d"),this.style=new l(this,m),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=c.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(g),m&&m.padding&&this.setPadding(m.padding),m&&m.lineSpacing&&this.setLineSpacing(m.lineSpacing),c.sys.game.events.on(i.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){!this.style.rtl||(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",f(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(u){var c=this.style;if(c.wordWrapCallback){var d=c.wordWrapCallback.call(c.wordWrapCallbackScope,u,this);return Array.isArray(d)&&(d=d.join(`
`)),d}else return c.wordWrapWidth?c.wordWrapUseAdvanced?this.advancedWordWrap(u,this.context,this.style.wordWrapWidth):this.basicWordWrap(u,this.context,this.style.wordWrapWidth):u},advancedWordWrap:function(u,c,d){for(var v="",g=u.replace(/ +/gi," ").split(this.splitRegExp),m=g.length,y=0;y<m;y++){var T=g[y],E="";T=T.replace(/^ *|\s*$/gi,"");var S=c.measureText(T).width;if(S<d){v+=T+`
`;continue}for(var C=d,M=T.split(" "),P=0;P<M.length;P++){var R=M[P],L=R+" ",w=c.measureText(L).width;if(w>C){if(P===0){for(var B=L;B.length&&(B=B.slice(0,-1),w=c.measureText(B).width,!(w<=C)););if(!B.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var G=R.substr(B.length);M[P]=G,E+=B}var Y=M[P].length?P:P+1,D=M.slice(Y).join(" ").replace(/[ \n]*$/gi,"");g[y+1]=D+" "+(g[y+1]||""),m=g.length;break}else E+=L,C-=w}v+=E.replace(/[ \n]*$/gi,"")+`
`}return v=v.replace(/[\s|\n]*$/gi,""),v},basicWordWrap:function(u,c,d){for(var v="",g=u.split(this.splitRegExp),m=g.length-1,y=c.measureText(" ").width,T=0;T<=m;T++){for(var E=d,S=g[T].split(" "),C=S.length-1,M=0;M<=C;M++){var P=S[M],R=c.measureText(P).width,L=R;M<C&&(L+=y),L>E&&M>0&&(v+=`
`,E=d),v+=P,M<C?(v+=" ",E-=L):E-=R}T<m&&(v+=`
`)}return v},getWrappedText:function(u){u===void 0&&(u=this._text),this.style.syncFont(this.canvas,this.context);var c=this.runWordWrap(u);return c.split(this.splitRegExp)},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this._text&&(this._text=u.toString(),this.updateText()),this},setStyle:function(u){return this.style.setStyle(u)},setFont:function(u){return this.style.setFont(u)},setFontFamily:function(u){return this.style.setFontFamily(u)},setFontSize:function(u){return this.style.setFontSize(u)},setFontStyle:function(u){return this.style.setFontStyle(u)},setFixedSize:function(u,c){return this.style.setFixedSize(u,c)},setBackgroundColor:function(u){return this.style.setBackgroundColor(u)},setFill:function(u){return this.style.setFill(u)},setColor:function(u){return this.style.setColor(u)},setStroke:function(u,c){return this.style.setStroke(u,c)},setShadow:function(u,c,d,v,g,m){return this.style.setShadow(u,c,d,v,g,m)},setShadowOffset:function(u,c){return this.style.setShadowOffset(u,c)},setShadowColor:function(u){return this.style.setShadowColor(u)},setShadowBlur:function(u){return this.style.setShadowBlur(u)},setShadowStroke:function(u){return this.style.setShadowStroke(u)},setShadowFill:function(u){return this.style.setShadowFill(u)},setWordWrapWidth:function(u,c){return this.style.setWordWrapWidth(u,c)},setWordWrapCallback:function(u,c){return this.style.setWordWrapCallback(u,c)},setAlign:function(u){return this.style.setAlign(u)},setResolution:function(u){return this.style.setResolution(u)},setLineSpacing:function(u){return this.lineSpacing=u,this.updateText()},setPadding:function(u,c,d,v){if(typeof u=="object"){var g=u,m=r(g,"x",null);m!==null?(u=m,d=m):(u=r(g,"left",0),d=r(g,"right",u));var y=r(g,"y",null);y!==null?(c=y,v=y):(c=r(g,"top",0),v=r(g,"bottom",c))}else u===void 0&&(u=0),c===void 0&&(c=u),d===void 0&&(d=u),v===void 0&&(v=c);return this.padding.left=u,this.padding.top=c,this.padding.right=d,this.padding.bottom=v,this.updateText()},setMaxLines:function(u){return this.style.setMaxLines(u)},updateText:function(){var u=this.canvas,c=this.context,d=this.style,v=d.resolution,g=d.metrics;d.syncFont(u,c);var m=this._text;(d.wordWrapWidth||d.wordWrapCallback)&&(m=this.runWordWrap(this._text));var y=m.split(this.splitRegExp),T=s(this,g,y),E=this.padding,S;d.fixedWidth===0?(this.width=T.width+E.left+E.right,S=T.width):(this.width=d.fixedWidth,S=this.width-E.left-E.right,S<T.width&&(S=T.width)),d.fixedHeight===0?this.height=T.height+E.top+E.bottom:this.height=d.fixedHeight;var C=this.width,M=this.height;this.updateDisplayOrigin(),C*=v,M*=v,C=Math.max(C,1),M=Math.max(M,1),u.width!==C||u.height!==M?(u.width=C,u.height=M,this.frame.setSize(C,M),d.syncFont(u,c)):c.clearRect(0,0,C,M),c.save(),c.scale(v,v),d.backgroundColor&&(c.fillStyle=d.backgroundColor,c.fillRect(0,0,C,M)),d.syncStyle(u,c),c.textBaseline="alphabetic",c.translate(E.left,E.top);for(var P,R,L=0;L<T.lines;L++){if(P=d.strokeThickness/2,R=d.strokeThickness/2+L*T.lineHeight+g.ascent,L>0&&(R+=T.lineSpacing*L),d.rtl)P=C-P;else if(d.align==="right")P+=S-T.lineWidths[L];else if(d.align==="center")P+=(S-T.lineWidths[L])/2;else if(d.align==="justify"){var w=.85;if(T.lineWidths[L]/T.width>=w){var B=T.width-T.lineWidths[L],G=c.measureText(" ").width,Y=y[L].trim(),D=Y.split(" ");B+=(y[L].length-Y.length)*G;for(var F=Math.floor(B/G),N=0;F>0;)D[N]+=" ",N=(N+1)%(D.length-1||1),--F;y[L]=D.join(" ")}}this.autoRound&&(P=Math.round(P),R=Math.round(R)),d.strokeThickness&&(this.style.syncShadow(c,d.shadowStroke),c.strokeText(y[L],P,R)),d.color&&(this.style.syncShadow(c,d.shadowFill),c.fillText(y[L],P,R))}c.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(u,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var I=this.input;return I&&!I.customHitArea&&(I.hitArea.width=this.width,I.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(u){this.setText(u)}},toJSON:function(){var u=a.ToJSON(this),c={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return u.data=c,u},preDestroy:function(){this.style.rtl&&n(this.canvas),x.remove(this.canvas),this.texture.destroy()}});A.exports=h},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(31),x=p(0),t=p(11),a=p(22),i=p(15),e=p(361),s=p(192),r=p(1091),n=p(3),o=8,l=new x({Extends:i,Mixins:[t.Alpha,t.BlendMode,t.ComputedSize,t.Crop,t.Depth,t.Flip,t.GetBounds,t.Mask,t.Origin,t.Pipeline,t.ScrollFactor,t.Tint,t.Transform,t.Visible,r],initialize:function(u,c,d,v,g,m,y){var T=u.sys.renderer;i.call(this,u,"TileSprite");var E=u.sys.textures.get(m),S=E.get(y);!v||!g?(v=S.width,g=S.height):(v=Math.floor(v),g=Math.floor(g)),this._tilePosition=new n,this._tileScale=new n(1,1),this.dirty=!1,this.renderer=T,this.canvas=f.create(this,v,g),this.context=this.canvas.getContext("2d"),this.displayTexture=E,this.displayFrame=S,this._crop=this.resetCropObject(),this.texture=u.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=e(S.width),this.potHeight=e(S.height),this.fillCanvas=f.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(c,d),this.setSize(v,g),this.setFrame(y),this.setOriginFromFrame(),this.initPipeline(),u.sys.game.events.on(a.CONTEXT_RESTORED,function(C){if(!!C){var M=C.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=C.createTexture2D(0,M.LINEAR,M.LINEAR,M.REPEAT,M.REPEAT,M.RGBA,this.fillCanvas,this.potWidth,this.potHeight)}},this)},setTexture:function(h,u){return this.displayTexture=this.scene.sys.textures.get(h),this.setFrame(u)},setFrame:function(h){var u=this.displayTexture.get(h);return this.potWidth=e(u.width),this.potHeight=e(u.height),this.canvas.width=0,!u.cutWidth||!u.cutHeight?this.renderFlags&=~o:this.renderFlags|=o,this.displayFrame=u,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(h,u){return h!==void 0&&(this.tilePositionX=h),u!==void 0&&(this.tilePositionY=u),this},setTileScale:function(h,u){return h===void 0&&(h=this.tileScaleX),u===void 0&&(u=h),this.tileScaleX=h,this.tileScaleY=u,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var h=this.displayFrame;if(h.source.isRenderTexture||h.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var u=this.fillContext,c=this.fillCanvas,d=this.potWidth,v=this.potHeight;(!this.renderer||!this.renderer.gl)&&(d=h.cutWidth,v=h.cutHeight),u.clearRect(0,0,d,v),c.width=d,c.height=v,u.drawImage(h.source.image,h.cutX,h.cutY,h.cutWidth,h.cutHeight,0,0,d,v),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(c,this.fillPattern):this.fillPattern=u.createPattern(c,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var h=this.canvas;if((h.width!==this.width||h.height!==this.height)&&(h.width=this.width,h.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var u=this.context;this.scene.sys.game.config.antialias||s.disable(u);var c=this._tileScale.x,d=this._tileScale.y,v=this._tilePosition.x,g=this._tilePosition.y;u.clearRect(0,0,this.width,this.height),u.save(),u.scale(c,d),u.translate(-v,-g),u.fillStyle=this.fillPattern,u.fillRect(v,g,this.width/c,this.height/d),u.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),f.remove(this.canvas),f.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(h){this._tilePosition.x=h,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(h){this._tilePosition.y=h,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(h){this._tileScale.x=h,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(h){this._tileScale.y=h,this.dirty=!0}}});A.exports=l},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(18),t=p(11),a=p(75),i=p(22),e=p(51),s=p(15),r=p(70),n=p(222),o=p(1094),l=p(14),h=new f({Extends:s,Mixins:[t.Alpha,t.BlendMode,t.Depth,t.Flip,t.GetBounds,t.Mask,t.Origin,t.Pipeline,t.ScrollFactor,t.Size,t.TextureCrop,t.Tint,t.Transform,t.Visible,o],initialize:function(c,d,v,g){s.call(this,c,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=n(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=l.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(d,v),this.initPipeline(),g&&this.changeSource(g,!1);var m=c.sys.game.events;m.on(i.PAUSE,this.globalPause,this),m.on(i.RESUME,this.globalResume,this);var y=c.sys.sound;y&&y.on(r.GLOBAL_MUTE,this.globalMute,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},play:function(u,c,d){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var v=this.video;if(!v)return console.warn("Video not loaded"),this;u===void 0&&(u=v.loop);var g=this.scene.sys.sound;g&&g.mute&&this.setMute(!0),isNaN(c)||(this._markerIn=c),!isNaN(d)&&d>c&&(this._markerOut=d),v.loop=u;var m=this._callbacks,y=v.play();return y!==void 0?y.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(v.addEventListener("playing",m.play,!0),v.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),v.addEventListener("ended",m.end,!0),v.addEventListener("timeupdate",m.time,!0),v.addEventListener("seeking",m.seeking,!0),v.addEventListener("seeked",m.seeked,!0),this},changeSource:function(u,c,d,v,g){c===void 0&&(c=!0);var m=this.video;m&&this.stop();var y=this.scene.sys.cache.video.get(u);return y?(this.video=y,this._cacheKey=u,this._codePaused=y.paused,this._codeMuted=y.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,y,y.videoWidth,y.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,y.videoWidth,y.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(a.VIDEO_CREATED,this,y.videoWidth,y.videoHeight)):this.updateTexture(),y.currentTime=0,this._lastUpdate=0,c&&this.play(d,v,g)):this.video=null,this},addMarker:function(u,c,d){return!isNaN(c)&&c>=0&&!isNaN(d)&&(this.markers[u]=[c,d]),this},playMarker:function(u,c){var d=this.markers[u];return d&&this.play(c,d[0],d[1]),this},removeMarker:function(u){return delete this.markers[u],this},snapshot:function(u,c){return u===void 0&&(u=this.width),c===void 0&&(c=this.height),this.snapshotArea(0,0,this.width,this.height,u,c)},snapshotArea:function(u,c,d,v,g,m){u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=this.width),v===void 0&&(v=this.height),g===void 0&&(g=d),m===void 0&&(m=v);var y=this.video,T=this.snapshotTexture;return T?(T.setSize(g,m),y&&T.context.drawImage(y,u,c,d,v,0,0,g,m)):(T=this.scene.sys.textures.createCanvas(n(),g,m),this.snapshotTexture=T,y&&T.context.drawImage(y,u,c,d,v,0,0,g,m)),T.update()},saveSnapshotTexture:function(u){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,u):this.snapshotTexture=this.scene.sys.textures.createCanvas(u,this.width,this.height),this.snapshotTexture},loadURL:function(u,c,d){d===void 0&&(d=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var v=document.createElement("video");return v.controls=!1,d&&(v.muted=!0,v.defaultMuted=!0,v.setAttribute("autoplay","autoplay")),v.setAttribute("playsinline","playsinline"),v.setAttribute("preload","auto"),v.addEventListener("error",this._callbacks.error,!0),v.src=u,v.load(),this.video=v,this},loadMediaStream:function(u,c,d){d===void 0&&(d=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var v=document.createElement("video");v.controls=!1,d&&(v.muted=!0,v.defaultMuted=!0,v.setAttribute("autoplay","autoplay")),v.setAttribute("playsinline","playsinline"),v.setAttribute("preload","auto"),v.addEventListener("error",this._callbacks.error,!0);try{v.srcObject=u}catch{v.src=window.URL.createObjectURL(u)}return v.load(),this.video=v,this},playPromiseSuccessHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(a.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(u){this.scene.sys.input.once(e.POINTER_DOWN,this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(a.VIDEO_ERROR,this,u)},playHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(a.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(u){this.stop(),this.emit(a.VIDEO_ERROR,this,u)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(a.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(a.VIDEO_PLAY,this)},completeHandler:function(){this.emit(a.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(a.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var u=this.video;if(u){var c=u.currentTime;c!==this._lastUpdate&&(this._lastUpdate=c,this.updateTexture(),c>=this._markerOut&&(u.loop?(u.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=c,this.emit(a.VIDEO_LOOP,this)):(this.emit(a.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(a.VIDEO_TIMEOUT,this))},updateTexture:function(){var u=this.video,c=u.videoWidth,d=u.videoHeight;if(!this.videoTexture)this.videoTexture=this.scene.sys.textures.create(this._key,u,c,d),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,c,d),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(a.VIDEO_CREATED,this,c,d);else{var v=this.videoTextureSource;v.source!==u&&(v.source=u,v.width=c,v.height=d),v.update()}},getVideoKey:function(){return this._cacheKey},seekTo:function(u){var c=this.video;if(c){var d=c.duration;if(d!==1/0&&!isNaN(d)){var v=d*u;this.setCurrentTime(v)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(u){var c=this.video;if(c){if(typeof u=="string"){var d=u[0],v=parseFloat(u.substr(1));d==="+"?u=c.currentTime+v:d==="-"&&(u=c.currentTime-v)}c.currentTime=u,this._lastUpdate=u}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(a.VIDEO_SEEKED,this);var u=this.video;u&&this.updateTexture()},getProgress:function(){var u=this.video;if(u){var c=u.currentTime,d=u.duration;if(d!==1/0&&!isNaN(d))return c/d}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(u){u===void 0&&(u=!0),this._codeMuted=u;var c=this.video;return c&&(c.muted=this._systemMuted?!0:u),this},isMuted:function(){return this._codeMuted},globalMute:function(u,c){this._systemMuted=c;var d=this.video;d&&(d.muted=this._codeMuted?!0:c)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(u){u===void 0&&(u=!0);var c=this.video;return this._codePaused=u,c&&(u?c.paused||c.pause():u||c.paused&&!this._systemPaused&&c.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(u){return u===void 0&&(u=1),this.video&&(this.video.volume=x(u,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(u){return this.video&&(this.video.playbackRate=u),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(u){return u===void 0&&(u=!0),this.video&&(this.video.loop=u),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(u,c){return c===void 0&&(c=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,u),this._key=u,this.flipY=c,this.videoTextureSource&&this.videoTextureSource.setFlipY(c),this.videoTexture},stop:function(){var u=this.video;if(u){var c=this._callbacks;for(var d in c)u.removeEventListener(d,c[d],!0);u.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var u=this.video;if(!!u){for(u.parentNode&&u.parentNode.removeChild(u);u.hasChildNodes();)u.removeChild(u.firstChild);u.removeAttribute("autoplay"),u.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var u=this.scene.sys.game.events;u.off(i.PAUSE,this.globalPause,this),u.off(i.RESUME,this.globalResume,this);var c=this.scene.sys.sound;c&&c.off(r.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});A.exports=h},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(228),t=p(470),a=p(56),i=new f({initialize:function(s){this.type=a.POLYGON,this.area=0,this.points=[],s&&this.setTo(s)},contains:function(e,s){return x(this,e,s)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var s,r=Number.MAX_VALUE,n=0;n<e.length;n++)s={x:0,y:0},typeof e[n]=="number"||typeof e[n]=="string"?(s.x=parseFloat(e[n]),s.y=parseFloat(e[n+1]),n++):Array.isArray(e[n])?(s.x=e[n][0],s.y=e[n][1]):(s.x=e[n].x,s.y=e[n].y),this.points.push(s),s.y<r&&(r=s.y);return this.calculateArea(r),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,s,r,n=0;n<this.points.length-1;n++)s=this.points[n],r=this.points[n+1],e+=(r.x-s.x)*(s.y+r.y);return s=this.points[0],r=this.points[this.points.length-1],e+=(s.x-r.x)*(r.y+s.y),this.area=-e*.5,this.area},getPoints:function(e,s,r){return t(this,e,s,r)}});A.exports=i},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){for(var a=!1,i=-1,e=f.points.length-1;++i<f.points.length;e=i){var s=f.points[i].x,r=f.points[i].y,n=f.points[e].x,o=f.points[e].y;(r<=t&&t<o||o<=t&&t<r)&&x<(n-s)*(t-r)/(o-r)+s&&(a=!a)}return a};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(11),t=p(15),a=p(2),i=p(17),e=p(478),s=p(1176),r=p(25),n=new f({Extends:t,Mixins:[x.ComputedSize,x.Depth,x.GetBounds,x.Mask,x.Origin,x.ScrollFactor,x.Transform,x.Visible,s],initialize:function(l,h,u,c,d,v,g,m){u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=128),v===void 0&&(v=128),t.call(this,l,"Shader"),this.blendMode=-1,this.shader;var y=l.sys.renderer;this.renderer=y,this.gl=y.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=y.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new r,this._tempMatrix2=new r,this._tempMatrix3=new r,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=y.width,this._rendererHeight=y.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(u,c),this.setSize(d,v),this.setOrigin(.5,.5),this.setShader(h,g,m)},willRender:function(o){return this.renderToTexture?!0:!(t.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},setRenderToTexture:function(o,l){if(l===void 0&&(l=!1),!this.renderToTexture){var h=this.width,u=this.height,c=this.renderer;this.glTexture=c.createTextureFromSource(null,h,u,0),this.glTexture.flipY=l,this.framebuffer=c.createFramebuffer(h,u,this.glTexture,!1),this._rendererWidth=h,this._rendererHeight=u,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),o&&(this.texture=this.scene.sys.textures.addGLTexture(o,this.glTexture,h,u))}return this.shader&&(c.pipelines.clear(),this.load(),this.flush(),c.pipelines.rebind()),this},setShader:function(o,l,h){if(l===void 0&&(l=[]),typeof o=="string"){var u=this.scene.sys.cache.shader;if(!u.has(o))return console.warn("Shader missing: "+o),this;this.shader=u.get(o)}else this.shader=o;var c=this.gl,d=this.renderer;this.program&&c.deleteProgram(this.program);var v=d.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);c.uniformMatrix4fv(c.getUniformLocation(v,"uViewMatrix"),!1,this.viewMatrix),c.uniformMatrix4fv(c.getUniformLocation(v,"uProjectionMatrix"),!1,this.projectionMatrix),c.uniform2f(c.getUniformLocation(v,"uResolution"),this.width,this.height),this.program=v;var g=new Date,m={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[g.getFullYear(),g.getMonth(),g.getDate(),g.getHours()*60*60+g.getMinutes()*60+g.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=i(!0,{},this.shader.uniforms,m):this.uniforms=m;for(var y=0;y<4;y++)l[y]&&this.setSampler2D("iChannel"+y,l[y],y,h);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(o){return this.pointer=o,this},projOrtho:function(o,l,h,u){var c=-1e3,d=1e3,v=1/(o-l),g=1/(h-u),m=1/(c-d),y=this.projectionMatrix;y[0]=-2*v,y[5]=-2*g,y[10]=2*m,y[12]=(o+l)*v,y[13]=(u+h)*g,y[14]=(d+c)*m;var T=this.program,E=this.gl,S=this.renderer;S.setProgram(T),E.uniformMatrix4fv(E.getUniformLocation(T,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=l,this._rendererHeight=h},initUniforms:function(){var o=this.gl,l=this.renderer.glFuncMap,h=this.program;this._textureCount=0;for(var u in this.uniforms){var c=this.uniforms[u],d=c.type,v=l[d];c.uniformLocation=o.getUniformLocation(h,u),d!=="sampler2D"&&(c.glMatrix=v.matrix,c.glValueLength=v.length,c.glFunc=v.func)}},setSampler2DBuffer:function(o,l,h,u,c,d){c===void 0&&(c=0),d===void 0&&(d={});var v=this.uniforms[o];return v.value=l,d.width=h,d.height=u,v.textureData=d,this._textureCount=c,this.initSampler2D(v),this},setSampler2D:function(o,l,h,u){h===void 0&&(h=0);var c=this.scene.sys.textures;if(c.exists(l)){var d=c.getFrame(l);if(d.glTexture&&d.glTexture.isRenderTexture)return this.setSampler2DBuffer(o,d.glTexture,d.width,d.height,h,u);var v=this.uniforms[o],g=d.source;v.textureKey=l,v.source=g.image,v.value=d.glTexture,g.isGLTexture&&(u||(u={}),u.width=g.width,u.height=g.height),u&&(v.textureData=u),this._textureCount=h,this.initSampler2D(v)}return this},setUniform:function(o,l){return e(this.uniforms,o,l),this},getUniform:function(o){return a(this.uniforms,o,null)},setChannel0:function(o,l){return this.setSampler2D("iChannel0",o,0,l)},setChannel1:function(o,l){return this.setSampler2D("iChannel1",o,1,l)},setChannel2:function(o,l){return this.setSampler2D("iChannel2",o,2,l)},setChannel3:function(o,l){return this.setSampler2D("iChannel3",o,3,l)},initSampler2D:function(o){if(!!o.value){var l=this.gl;l.activeTexture(l.TEXTURE0+this._textureCount),l.bindTexture(l.TEXTURE_2D,o.value);var h=o.textureData;if(h&&!o.value.isRenderTexture){var u=l[a(h,"magFilter","linear").toUpperCase()],c=l[a(h,"minFilter","linear").toUpperCase()],d=l[a(h,"wrapS","repeat").toUpperCase()],v=l[a(h,"wrapT","repeat").toUpperCase()],g=l[a(h,"format","rgba").toUpperCase()];if(h.repeat&&(d=l.REPEAT,v=l.REPEAT),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!!h.flipY),h.width){var m=a(h,"width",512),y=a(h,"height",2),T=a(h,"border",0);l.texImage2D(l.TEXTURE_2D,0,g,m,y,T,g,l.UNSIGNED_BYTE,null)}else l.texImage2D(l.TEXTURE_2D,0,g,l.RGBA,l.UNSIGNED_BYTE,o.source);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,u),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,c),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,d),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,v)}this.renderer.setProgram(this.program),l.uniform1i(o.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var o=this.gl,l=this.uniforms,h,u,c,d,v,g=0;for(var m in l)h=l[m],c=h.glFunc,u=h.glValueLength,d=h.uniformLocation,v=h.value,v!==null&&(u===1?h.glMatrix?c.call(o,d,h.transpose,v):c.call(o,d,v):u===2?c.call(o,d,v.x,v.y):u===3?c.call(o,d,v.x,v.y,v.z):u===4?c.call(o,d,v.x,v.y,v.z,v.w):h.type==="sampler2D"&&(o.activeTexture(o.TEXTURE0+g),o.bindTexture(o.TEXTURE_2D,v),o.uniform1i(d,g),g++))},load:function(o){var l=this.gl,h=this.width,u=this.height,c=this.renderer,d=this.program,v=this.viewMatrix;if(!this.renderToTexture){var g=-this._displayOriginX,m=-this._displayOriginY;v[0]=o[0],v[1]=o[1],v[4]=o[2],v[5]=o[3],v[8]=o[4],v[9]=o[5],v[12]=v[0]*g+v[4]*m,v[13]=v[1]*g+v[5]*m}l.useProgram(d),l.uniformMatrix4fv(l.getUniformLocation(d,"uViewMatrix"),!1,v),l.uniform2f(l.getUniformLocation(d,"uResolution"),this.width,this.height);var y=this.uniforms,T=y.resolution;T.value.x=h,T.value.y=u,y.time.value=c.game.loop.getDuration();var E=this.pointer;if(E){var S=y.mouse,C=E.x/h,M=1-E.y/u;S.value.x=C.toFixed(2),S.value.y=M.toFixed(2)}this.syncUniforms()},flush:function(){var o=this.width,l=this.height,h=this.program,u=this.gl,c=this.vertexBuffer,d=this.renderer,v=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(d.setFramebuffer(this.framebuffer),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT)),u.bindBuffer(u.ARRAY_BUFFER,c);var g=u.getAttribLocation(h,"inPosition");g!==-1&&(u.enableVertexAttribArray(g),u.vertexAttribPointer(g,2,u.FLOAT,!1,v,0));var m=this.vertexViewF32;m[3]=l,m[4]=o,m[5]=l,m[8]=o,m[9]=l,m[10]=o;var y=6;u.bufferSubData(u.ARRAY_BUFFER,0,this.bytes.subarray(0,y*v)),u.drawArrays(u.TRIANGLES,0,y),this.renderToTexture&&d.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var o=this.gl;o.deleteProgram(this.program),o.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});A.exports=n},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(11),t=p(36),a=p(116),i=p(15),e=p(479),s=p(480),r=p(19),n=p(69),o=p(1179),l=p(79),h=p(39),u=p(117),c=new f({Extends:i,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.Size,x.Texture,x.Transform,x.Visible,x.ScrollFactor,o],initialize:function(v,g,m,y,T,E,S,C,M,P,R,L){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y="__WHITE"),i.call(this,v,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new h,this.modelScale=new h(1,1,1),this.modelRotation=new h,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new n,this.viewPosition=new h,this.viewMatrix=new n,this.projectionMatrix=new n,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1;var w=v.sys.renderer;this.setPosition(g,m),this.setTexture(y,T),this.setSize(w.width,w.height),this.initPipeline(),this.setPerspective(w.width,w.height),E&&this.addVertices(E,S,C,M,P,R,L)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(d){return this.viewPosition.addScale(h.LEFT,d),this.dirtyCache[10]=1,this},panY:function(d){return this.viewPosition.y+=h.DOWN.y*d,this.dirtyCache[10]=1,this},panZ:function(d){return this.viewPosition.z+=d,this.dirtyCache[10]=1,this},setPerspective:function(d,v,g,m,y){return g===void 0&&(g=45),m===void 0&&(m=.01),y===void 0&&(y=1e3),this.projectionMatrix.perspective(t(g),d/v,m,y),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(d,v,g,m){return d===void 0&&(d=this.scene.sys.renderer.getAspectRatio()),v===void 0&&(v=1),g===void 0&&(g=-1e3),m===void 0&&(m=1e3),this.projectionMatrix.ortho(-d,d,-v,v,g,m),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(d){d.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(d,v,g,m,y,T,E,S,C){var M=this.scene.sys.cache.obj.get(d);return M&&s(M,this,v,g,m,y,T,E,S,C),this},sortByDepth:function(d,v){return d.depth-v.depth},depthSort:function(){return l(this.faces,this.sortByDepth),this},addVertex:function(d,v,g,m,y,T,E){var S=new u(d,v,g,m,y,T,E);return this.vertices.push(S),S},addFace:function(d,v,g){var m=new a(d,v,g);return this.faces.push(m),this.dirtyCache[9]=-1,m},addVertices:function(d,v,g,m,y,T,E){var S=e(d,v,g,m,y,T,E);return S&&(this.faces=this.faces.concat(S.faces),this.vertices=this.vertices.concat(S.vertices)),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(d){return this.faces[d]},getFaceAt:function(d,v,g){g===void 0&&(g=this.scene.sys.cameras.main);for(var m=r(this,g).calc,y=this.faces,T=[],E=0;E<y.length;E++){var S=y[E];S.contains(d,v,m)&&T.push(S)}return l(T,this.sortByDepth)},setDebug:function(d,v){return this.debugGraphic=d,!d&&!v?this.debugCallback=null:v?this.debugCallback=v:this.debugCallback=this.renderDebug,this},isDirty:function(){var d=this.modelPosition,v=this.modelRotation,g=this.modelScale,m=this.dirtyCache,y=d.x,T=d.y,E=d.z,S=v.x,C=v.y,M=v.z,P=g.x,R=g.y,L=g.z,w=this.getFaceCount(),B=m[0],G=m[1],Y=m[2],D=m[3],F=m[4],N=m[5],I=m[6],b=m[7],U=m[8],X=m[9];return m[0]=y,m[1]=T,m[2]=E,m[3]=S,m[4]=C,m[5]=M,m[6]=P,m[7]=R,m[8]=L,m[9]=w,B!==y||G!==T||Y!==E||D!==S||F!==C||N!==M||I!==P||b!==R||U!==L||X!==w},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var d=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!d[10]&&!this.isDirty())){var v=this.width,g=this.height,m=this.viewMatrix,y=this.viewPosition;d[10]&&(m.identity(),m.translate(y),m.invert(),d[10]=0);var T=this.transformMatrix;T.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var E=y.z,S=this.faces,C=0;C<S.length;C++)S[C].transformCoordinatesLocal(T,v,g,E);this.depthSort()}},renderDebug:function(d,v){for(var g=d.debugGraphic,m=0;m<v.length;m++){var y=v[m],T=y.vertex1.tx,E=y.vertex1.ty,S=y.vertex2.tx,C=y.vertex2.ty,M=y.vertex3.tx,P=y.vertex3.ty;g.strokeTriangle(T,E,S,C,M,P)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null}});A.exports=c},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(50),x=function(t,a){return f(t.x,t.y,a.x,a.y)<=t.radius+a.radius};A.exports=x},function(A,O,p){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=p(233),t=function(a,i,e){if(e===void 0&&(e=[]),x(a,i)){var s=a.x1,r=a.y1,n=a.x2,o=a.y2,l=i.x,h=i.y,u=i.radius,c=n-s,d=o-r,v=s-l,g=r-h,m=c*c+d*d,y=2*(c*v+d*g),T=v*v+g*g-u*u,E=y*y-4*m*T,S,C;if(E===0){var M=-y/(2*m);S=s+M*c,C=r+M*d,M>=0&&M<=1&&e.push(new f(S,C))}else if(E>0){var P=(-y-Math.sqrt(E))/(2*m);S=s+P*c,C=r+P*d,P>=0&&P<=1&&e.push(new f(S,C));var R=(-y+Math.sqrt(E))/(2*m);S=s+R*c,C=r+R*d,R>=0&&R<=1&&e.push(new f(S,C))}}return e};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(66),x=p(4),t=new x,a=function(i,e,s){if(s===void 0&&(s=t),f(e,i.x1,i.y1))return s.x=i.x1,s.y=i.y1,!0;if(f(e,i.x2,i.y2))return s.x=i.x2,s.y=i.y2,!0;var r=i.x2-i.x1,n=i.y2-i.y1,o=e.x-i.x1,l=e.y-i.y1,h=r*r+n*n,u=r,c=n;if(h>0){var d=(o*r+l*n)/h;u*=d,c*=d}s.x=i.x1+u,s.y=i.y1+c;var v=u*u+c*c;return v<=h&&u*r+c*n>=0&&f(e,s.x,s.y)};A.exports=a},function(A,O,p){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=p(96),t=p(488),a=function(i,e,s){if(s===void 0&&(s=[]),t(i,e))for(var r=e.getLineA(),n=e.getLineB(),o=e.getLineC(),l=e.getLineD(),h=[new f,new f,new f,new f],u=[x(r,i,h[0]),x(n,i,h[1]),x(o,i,h[2]),x(l,i,h[3])],c=0;c<4;c++)u[c]&&s.push(h[c]);return s};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){t===void 0&&(t=!1),a===void 0&&(a=[]);for(var i=f.x3-f.x1,e=f.y3-f.y1,s=f.x2-f.x1,r=f.y2-f.y1,n=i*i+e*e,o=i*s+e*r,l=s*s+r*r,h=n*l-o*o,u=h===0?0:1/h,c,d,v,g,m,y,T=f.x1,E=f.y1,S=0;S<x.length&&(v=x[S].x-T,g=x[S].y-E,m=i*v+e*g,y=s*v+r*g,c=(l*m-o*y)*u,d=(n*y-o*m)*u,!(c>=0&&d>=0&&c+d<1&&(a.push({x:x[S].x,y:x[S].y}),t)));S++);return a};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){var i=Math.cos(a),e=Math.sin(a),s=f.x1-x,r=f.y1-t;return f.x1=s*i-r*e+x,f.y1=s*e+r*i+t,s=f.x2-x,r=f.y2-t,f.x2=s*i-r*e+x,f.y2=s*e+r*i+t,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.height===0?NaN:f.width/f.height};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){var i=Math.cos(a),e=Math.sin(a),s=f.x1-x,r=f.y1-t;return f.x1=s*i-r*e+x,f.y1=s*e+r*i+t,s=f.x2-x,r=f.y2-t,f.x2=s*i-r*e+x,f.y2=s*e+r*i+t,s=f.x3-x,r=f.y3-t,f.x3=s*i-r*e+x,f.y3=s*e+r*i+t,f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={BUTTON_DOWN:p(1310),BUTTON_UP:p(1311),CONNECTED:p(1312),DISCONNECTED:p(1313),GAMEPAD_BUTTON_DOWN:p(1314),GAMEPAD_BUTTON_UP:p(1315)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(17),x=p(156),t=function(a,i){var e=a===void 0?x():f({},a);if(i)for(var s in i)i[s]!==void 0&&(e[s]=i[s]);return e};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(7),s=p(408),r=new f({Extends:t,initialize:function(o,l,h,u){var c="xml";if(e(l)){var d=l;l=i(d,"key"),h=i(d,"url"),u=i(d,"xhrSettings"),c=i(d,"extension",c)}var v={type:"xml",cache:o.cacheManager.xml,extension:c,responseType:"text",key:l,url:h,xhrSettings:u};t.call(this,o,v)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=s(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});a.register("xml",function(n,o,l){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new r(this,n[h]));else this.addFile(new r(this,n,o,l));return this}),A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(7),s=new f({Extends:t,initialize:function(n,o,l,h){var u="text",c="txt",d=n.cacheManager.text;if(e(o)){var v=o;o=i(v,"key"),l=i(v,"url"),h=i(v,"xhrSettings"),c=i(v,"extension",c),u=i(v,"type",u),d=i(v,"cache",d)}var g={type:u,cache:d,extension:c,responseType:"text",key:o,url:l,xhrSettings:h};t.call(this,n,g)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(r,n,o){if(Array.isArray(r))for(var l=0;l<r.length;l++)this.addFile(new s(this,r[l]));else this.addFile(new s(this,r,n,o));return this}),A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Acceleration:p(1368),Angular:p(1369),Bounce:p(1370),Debug:p(1371),Drag:p(1372),Enable:p(1373),Friction:p(1374),Gravity:p(1375),Immovable:p(1376),Mass:p(1377),OverlapCirc:p(523),OverlapRect:p(244),Pushable:p(1378),Size:p(1379),Velocity:p(1380)}},function(A,O){var p=function(f,x,t,a,i,e,s){e===void 0&&(e=!0),s===void 0&&(s=!1);var r=[],n=[],o=f.treeMinMax;if(o.minX=x,o.minY=t,o.maxX=x+a,o.maxY=t+i,s&&(n=f.staticTree.search(o)),e&&f.useTree)r=f.tree.search(o);else if(e){var l=f.bodies,h={position:{x,y:t},left:x,top:t,right:x+a,bottom:t+i,isCircle:!1},u=f.intersects;l.iterate(function(c){u(c,h)&&r.push(c)})}return n.concat(r)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={COLLIDE:p(1381),OVERLAP:p(1382),PAUSE:p(1383),RESUME:p(1384),TILE_COLLIDE:p(1385),TILE_OVERLAP:p(1386),WORLD_BOUNDS:p(1387),WORLD_STEP:p(1388)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(62),x=function(t,a,i,e){var s=0,r=t.deltaAbsX()+a.deltaAbsX()+e;return t._dx===0&&a._dx===0?(t.embedded=!0,a.embedded=!0):t._dx>a._dx?(s=t.right-a.x,s>r&&!i||t.checkCollision.right===!1||a.checkCollision.left===!1?s=0:(t.touching.none=!1,t.touching.right=!0,a.touching.none=!1,a.touching.left=!0,a.physicsType===f.STATIC_BODY&&!i&&(t.blocked.none=!1,t.blocked.right=!0),t.physicsType===f.STATIC_BODY&&!i&&(a.blocked.none=!1,a.blocked.left=!0))):t._dx<a._dx&&(s=t.x-a.width-a.x,-s>r&&!i||t.checkCollision.left===!1||a.checkCollision.right===!1?s=0:(t.touching.none=!1,t.touching.left=!0,a.touching.none=!1,a.touching.right=!0,a.physicsType===f.STATIC_BODY&&!i&&(t.blocked.none=!1,t.blocked.left=!0),t.physicsType===f.STATIC_BODY&&!i&&(a.blocked.none=!1,a.blocked.right=!0))),t.overlapX=s,a.overlapX=s,s};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(62),x=function(t,a,i,e){var s=0,r=t.deltaAbsY()+a.deltaAbsY()+e;return t._dy===0&&a._dy===0?(t.embedded=!0,a.embedded=!0):t._dy>a._dy?(s=t.bottom-a.y,s>r&&!i||t.checkCollision.down===!1||a.checkCollision.up===!1?s=0:(t.touching.none=!1,t.touching.down=!0,a.touching.none=!1,a.touching.up=!0,a.physicsType===f.STATIC_BODY&&!i&&(t.blocked.none=!1,t.blocked.down=!0),t.physicsType===f.STATIC_BODY&&!i&&(a.blocked.none=!1,a.blocked.up=!0))):t._dy<a._dy&&(s=t.y-a.bottom,-s>r&&!i||t.checkCollision.up===!1||a.checkCollision.down===!1?s=0:(t.touching.none=!1,t.touching.up=!0,a.touching.none=!1,a.touching.down=!0,a.physicsType===f.STATIC_BODY&&!i&&(t.blocked.none=!1,t.blocked.up=!0),t.physicsType===f.STATIC_BODY&&!i&&(a.blocked.none=!1,a.blocked.down=!0))),t.overlapY=s,a.overlapY=s,s};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return!(x.right<=f.left||x.bottom<=f.top||x.position.x>=f.right||x.position.y>=f.bottom)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Bounce:p(1495),Collision:p(1496),Force:p(1497),Friction:p(1498),Gravity:p(1499),Mass:p(1500),Sensor:p(1501),SetBody:p(1502),Sleep:p(1503),Static:p(1520),Transform:p(1521),Velocity:p(1522)}},function(A,O){var p={};A.exports=p,function(){p.create=function(f,x){var t=f.bodyA,a=f.bodyB,i={id:p.id(t,a),bodyA:t,bodyB:a,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:t.isSensor||a.isSensor,timeCreated:x,timeUpdated:x,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return p.update(i,f,x),i},p.update=function(f,x,t){if(f.collision=x,x.collided){var a=x.supports,i=f.activeContacts,e=x.parentA,s=x.parentB;f.inverseMass=e.inverseMass+s.inverseMass,f.friction=Math.min(e.friction,s.friction),f.frictionStatic=Math.max(e.frictionStatic,s.frictionStatic),f.restitution=Math.max(e.restitution,s.restitution),f.slop=Math.max(e.slop,s.slop);for(var r=0;r<a.length;r++)i[r]=a[r].contact;var n=a.length;n<i.length&&(i.length=n),f.separation=x.depth,p.setActive(f,!0,t)}else f.isActive===!0&&p.setActive(f,!1,t)},p.setActive=function(f,x,t){x?(f.isActive=!0,f.timeUpdated=t):(f.isActive=!1,f.activeContacts.length=0)},p.id=function(f,x){return f.id<x.id?"A"+f.id+"B"+x.id:"A"+x.id+"B"+f.id}}()},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={CalculateFacesAt:p(252),CalculateFacesWithin:p(63),CheckIsoBounds:p(541),Copy:p(1420),CreateFromTiles:p(1421),CullBounds:p(543),CullTiles:p(544),Fill:p(1422),FilterTiles:p(1423),FindByIndex:p(1424),FindTile:p(1425),ForEachTile:p(1426),GetCullTilesFunction:p(1427),GetTileAt:p(158),GetTileAtWorldXY:p(1428),GetTilesWithin:p(26),GetTilesWithinShape:p(1429),GetTilesWithinWorldXY:p(529),GetTileToWorldXFunction:p(1430),GetTileToWorldXYFunction:p(1431),GetTileToWorldYFunction:p(1432),GetWorldToTileXFunction:p(1433),GetWorldToTileXYFunction:p(1434),GetWorldToTileYFunction:p(1435),HasTileAt:p(562),HasTileAtWorldXY:p(1436),HexagonalCullBounds:p(546),HexagonalCullTiles:p(545),HexagonalTileToWorldXY:p(550),HexagonalTileToWorldY:p(554),HexagonalWorldToTileXY:p(556),HexagonalWorldToTileY:p(560),IsInLayerBounds:p(119),IsometricCullTiles:p(547),IsometricTileToWorldXY:p(551),IsometricWorldToTileXY:p(557),PutTileAt:p(257),PutTileAtWorldXY:p(1437),PutTilesAt:p(1438),Randomize:p(1439),RemoveTileAt:p(563),RemoveTileAtWorldXY:p(1440),RenderDebug:p(1441),ReplaceByIndex:p(542),RunCull:p(159),SetCollision:p(1442),SetCollisionBetween:p(1443),SetCollisionByExclusion:p(1444),SetCollisionByProperty:p(1445),SetCollisionFromCollisionGroup:p(1446),SetLayerCollisionIndex:p(160),SetTileCollision:p(72),SetTileIndexCallback:p(1447),SetTileLocationCallback:p(1448),Shuffle:p(1449),StaggeredCullBounds:p(549),StaggeredCullTiles:p(548),StaggeredTileToWorldXY:p(552),StaggeredTileToWorldY:p(555),StaggeredWorldToTileXY:p(558),StaggeredWorldToTileY:p(561),SwapByIndex:p(1450),TileToWorldX:p(253),TileToWorldXY:p(553),TileToWorldY:p(254),WeightedRandomize:p(1451),WorldToTileX:p(255),WorldToTileXY:p(559),WorldToTileY:p(256)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(158),x=function(t,a,i){var e=f(t,a,!0,i),s=f(t,a-1,!0,i),r=f(t,a+1,!0,i),n=f(t-1,a,!0,i),o=f(t+1,a,!0,i),l=e&&e.collides;return l&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),s&&s.collides&&(l&&(e.faceTop=!1),s.faceBottom=!l),r&&r.collides&&(l&&(e.faceBottom=!1),r.faceTop=!l),n&&n.collides&&(l&&(e.faceLeft=!1),n.faceRight=!l),o&&o.collides&&(l&&(e.faceRight=!1),o.faceLeft=!l),e&&!e.collides&&e.resetFaces(),e};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=t.baseTileWidth,i=t.tilemapLayer,e=0;return i&&(x||(x=i.scene.cameras.main),e=i.x+x.scrollX*(1-i.scrollFactorX),a*=i.scaleX),e+f*a};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=t.baseTileHeight,i=t.tilemapLayer,e=0;return i&&(x||(x=i.scene.cameras.main),e=i.y+x.scrollY*(1-i.scrollFactorY),a*=i.scaleY),e+f*a};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){x===void 0&&(x=!0);var i=a.baseTileWidth,e=a.tilemapLayer;return e&&(t||(t=e.scene.cameras.main),f=f-(e.x+t.scrollX*(1-e.scrollFactorX)),i*=e.scaleX),x?Math.floor(f/i):f/i};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){x===void 0&&(x=!0);var i=a.baseTileHeight,e=a.tilemapLayer;return e&&(t||(t=e.scene.cameras.main),f=f-(e.y+t.scrollY*(1-e.scrollFactorY)),i*=e.scaleY),x?Math.floor(f/i):f/i};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(85),x=p(119),t=p(252),a=p(72),i=function(e,s,r,n,o){if(n===void 0&&(n=!0),!x(s,r,o))return null;var l=o.data[r][s],h=l&&l.collides;if(e instanceof f)o.data[r][s]===null&&(o.data[r][s]=new f(o,e.index,s,r,o.tileWidth,o.tileHeight)),o.data[r][s].copy(e);else{var u=e;o.data[r][s]===null?o.data[r][s]=new f(o,u,s,r,o.tileWidth,o.tileHeight):o.data[r][s].index=u}var c=o.data[r][s],d=o.collideIndexes.indexOf(c.index)!==-1;return a(c,d),n&&h!==c.collides&&t(s,r,o),c};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(29),x=function(t){return t=t.toLowerCase(),t==="isometric"?f.ISOMETRIC:t==="staggered"?f.STAGGERED:t==="hexagonal"?f.HEXAGONAL:f.ORTHOGONAL};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(40),x=p(120),t=p(121),a=p(85),i=function(e,s,r,n,o){for(var l=new x({tileWidth:r,tileHeight:n}),h=new t({name:e,tileWidth:r,tileHeight:n,format:f.ARRAY_2D,layers:[l]}),u=[],c=s.length,d=0,v=0;v<s.length;v++){u[v]=[];for(var g=s[v],m=0;m<g.length;m++){var y=parseInt(g[m],10);isNaN(y)||y===-1?u[v][m]=o?null:new a(l,-1,m,v,r,n):u[v][m]=new a(l,y,m,v,r,n)}d===0&&(d=g.length)}return h.width=l.width=d,h.height=l.height=c,h.widthInPixels=l.widthInPixels=d*r,h.heightInPixels=l.heightInPixels=c*n,l.data=u,h};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(571),x=p(261),t=function(e){return{x:e.x,y:e.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"],i=function(e,s,r){s===void 0&&(s=0),r===void 0&&(r=0);var n=f(e,a);if(n.x+=s,n.y+=r,e.gid){var o=x(e.gid);n.gid=o.gid,n.flippedHorizontal=o.flippedHorizontal,n.flippedVertical=o.flippedVertical,n.flippedAntiDiagonal=o.flippedAntiDiagonal}else e.polyline?n.polyline=e.polyline.map(t):e.polygon?n.polygon=e.polygon.map(t):e.ellipse?n.ellipse=e.ellipse:e.text?n.text=e.text:e.point?n.point=!0:n.rectangle=!0;return n};A.exports=i},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=2147483648,f=1073741824,x=536870912,t=function(a){var i=Boolean(a&p),e=Boolean(a&f),s=Boolean(a&x);a=a&~(p|f|x);var r=0,n=!1;return i&&e&&s?(r=Math.PI/2,n=!0):i&&e&&!s?(r=Math.PI,n=!1):i&&!e&&s?(r=Math.PI/2,n=!1):i&&!e&&!s?(r=0,n=!0):!i&&e&&s?(r=3*Math.PI/2,n=!1):!i&&e&&!s?(r=Math.PI,n=!0):!i&&!e&&s?(r=3*Math.PI/2,n=!0):!i&&!e&&!s&&(r=0,n=!1),{gid:a,flippedHorizontal:i,flippedVertical:e,flippedAntiDiagonal:s,rotation:r,flipped:n}};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(40),x=p(121),t=p(564),a=p(580),i=function(e,s,r,n,o,l,h,u){r===void 0&&(r=32),n===void 0&&(n=32),o===void 0&&(o=10),l===void 0&&(l=10),u===void 0&&(u=!1);var c=null;if(Array.isArray(h)){var d=s!==void 0?s:"map";c=t(d,f.ARRAY_2D,h,r,n,u)}else if(s!==void 0){var v=e.cache.tilemap.get(s);v?c=t(s,v.format,v.data,r,n,u):console.warn("No map data found for key "+s)}return c===null&&(c=new x({tileWidth:r,tileHeight:n,width:o,height:l})),new a(e,c)};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(6),x=function(t){var a=f(t,"targets",null);return a===null||(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a])),a};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function p(i){return!!i.getActive&&typeof i.getActive=="function"}function f(i){return!!i.getStart&&typeof i.getStart=="function"}function x(i){return!!i.getEnd&&typeof i.getEnd=="function"}function t(i){return f(i)||x(i)||p(i)}var a=function(i,e){var s,r=function(y,T,E){return E},n=function(y,T,E){return E},o=null,l=typeof e;if(l==="number")r=function(){return e};else if(l==="string"){var h=e[0],u=parseFloat(e.substr(2));switch(h){case"+":r=function(y,T,E){return E+u};break;case"-":r=function(y,T,E){return E-u};break;case"*":r=function(y,T,E){return E*u};break;case"/":r=function(y,T,E){return E/u};break;default:r=function(){return parseFloat(e)}}}else if(l==="function")r=e;else if(l==="object")if(t(e))p(e)&&(o=e.getActive),x(e)&&(r=e.getEnd),f(e)&&(n=e.getStart);else if(e.hasOwnProperty("value"))s=a(i,e.value);else{var c=e.hasOwnProperty("to"),d=e.hasOwnProperty("from"),v=e.hasOwnProperty("start");if(c&&(d||v)){if(s=a(i,e.to),v){var g=a(i,e.start);s.getActive=g.getEnd}if(d){var m=a(i,e.from);s.getStart=m.getEnd}}}return s||(s={getActive:o,getEnd:r,getStart:n}),s};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(9),t=p(267),a=p(16),i=p(5),e=p(100),s=p(14),r=new f({Extends:x,initialize:function(o,l,h){x.call(this),this.parent=o,this.parentIsTimeline=o.hasOwnProperty("isTimeline"),this.data=l,this.totalData=l.length,this.targets=h,this.totalTargets=h.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=e.PENDING_ADD,this._pausedState=e.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(n){return n===void 0&&(n=0),this.data[n].current},setTimeScale:function(n){return this.timeScale=n,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===e.ACTIVE},isPaused:function(){return this.state===e.PAUSED},hasTarget:function(n){return this.targets.indexOf(n)!==-1},updateTo:function(n,o,l){l===void 0&&(l=!1);for(var h=0;h<this.totalData;h++){var u=this.data[h];u.key===n&&(u.end=o,l&&(u.start=u.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===e.ACTIVE?this.seek(0):this.state===e.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===e.PENDING_ADD?this:this.play()},calcDuration:function(){for(var n=0,o=s.MAX_SAFE_INTEGER,l=this.data,h=0;h<this.totalData;h++){var u=l[h];u.t1=u.duration+u.hold,u.yoyo&&(u.t1+=u.duration),u.t2=u.t1+u.repeatDelay,u.totalDuration=u.delay+u.t1,u.repeat===-1?u.totalDuration+=u.t2*999999999999:u.repeat>0&&(u.totalDuration+=u.t2*u.repeat),u.totalDuration>n&&(n=u.totalDuration),u.delay<o&&(o=u.delay)}this.duration=Math.max(n,.001),this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=o},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=e.PENDING_ADD,this._pausedState=e.INIT,!1;for(var n=this.data,o=this.totalTargets,l=0;l<this.totalData;l++){var h=n[l],u=h.target,c=h.gen,d=h.key,v=h.index;h.delay=c.delay(u,d,0,v,o,this),h.duration=Math.max(c.duration(u,d,0,v,o,this),.001),h.hold=c.hold(u,d,0,v,o,this),h.repeat=c.repeat(u,d,0,v,o,this),h.repeatDelay=c.repeatDelay(u,d,0,v,o,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=e.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(t.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=e.LOOP_DELAY):(this.state=e.ACTIVE,this.dispatchTweenEvent(t.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=e.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=e.PENDING_REMOVE,this.dispatchTweenEvent(t.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===e.PAUSED?this:(this.paused=!0,this._pausedState=this.state,this.state=e.PAUSED,this)},play:function(n){n===void 0&&(n=!1);var o=this.state;return o===e.INIT&&!this.parentIsTimeline?(this.resetTweenData(!1),this.state=e.ACTIVE,this):o===e.ACTIVE||o===e.PENDING_ADD&&this._pausedState===e.PENDING_ADD?this:!this.parentIsTimeline&&(o===e.PENDING_REMOVE||o===e.REMOVED)?(this.seek(0),this.parent.makeActive(this),this):(this.parentIsTimeline?(this.resetTweenData(n),this.calculatedOffset===0?this.state=e.ACTIVE:(this.countdown=this.calculatedOffset,this.state=e.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(n),this.state=e.ACTIVE,this.makeActive()),this)},resetTweenData:function(n){for(var o=this.data,l=this.totalData,h=this.totalTargets,u=0;u<l;u++){var c=o[u],d=c.target,v=c.key,g=c.index;c.progress=0,c.elapsed=0,c.repeatCounter=c.repeat===-1?999999999999:c.repeat,n?(c.start=c.getStartValue(d,v,c.start,g,h,this),c.end=c.getEndValue(d,v,c.end,g,h,this),c.current=c.start,c.state=e.PLAYING_FORWARD):c.state=e.PENDING_RENDER,c.delay>0&&(c.elapsed=c.delay,c.state=e.DELAY),c.getActiveValue&&(d[v]=c.getActiveValue(c.target,c.key,c.start))}},resume:function(){return this.state===e.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(n,o){o===void 0&&(o=16.6),this.state===e.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var l=this.data,h=this.totalTargets,u=0;u<this.totalData;u++){var c=l[u],d=c.target,v=c.gen,g=c.key,m=c.index;c.progress=0,c.elapsed=0,c.repeatCounter=c.repeat===-1?999999999999:c.repeat,c.delay=v.delay(d,g,0,m,h,this),c.duration=Math.max(v.duration(d,g,0,m,h,this),.001),c.hold=v.hold(d,g,0,m,h,this),c.repeat=v.repeat(d,g,0,m,h,this),c.repeatDelay=v.repeatDelay(d,g,0,m,h,this),c.current=c.start,c.state=e.PLAYING_FORWARD,this.updateTweenData(this,c,0,m,h),c.delay>0&&(c.elapsed=c.delay,c.state=e.DELAY)}this.calcDuration();var y=!1;this.state===e.PAUSED&&(y=!0,this.state=e.ACTIVE),this.isSeeking=!0;do this.update(0,o);while(this.totalProgress<n);return this.isSeeking=!1,y&&(this.state=e.PAUSED),this},setCallback:function(n,o,l,h){return this.callbacks[n]={func:o,scope:h,params:l},this},complete:function(n){return n===void 0&&(n=0),n?(this.state=e.COMPLETE_DELAY,this.countdown=n):(this.state=e.PENDING_REMOVE,this.dispatchTweenEvent(t.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(n){return this.state===e.ACTIVE&&n!==void 0&&this.seek(n),this.state!==e.REMOVED&&((this.state===e.PAUSED||this.state===e.PENDING_ADD)&&(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(t.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=e.PENDING_REMOVE),this},update:function(n,o){if(this.state===e.PAUSED)return!1;switch(this.useFrames&&(o=1*this.parent.timeScale),o*=this.timeScale,this.elapsed+=o,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=o,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case e.ACTIVE:!this.hasStarted&&!this.isSeeking&&(this.startDelay-=o,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(t.TWEEN_START,this.callbacks.onStart)));for(var l=!1,h=0;h<this.totalData;h++){var u=this.data[h];this.updateTweenData(this,u,o)&&(l=!0)}l||this.nextState();break;case e.LOOP_DELAY:this.countdown-=o,this.countdown<=0&&(this.state=e.ACTIVE,this.dispatchTweenEvent(t.TWEEN_LOOP,this.callbacks.onLoop));break;case e.OFFSET_DELAY:this.countdown-=o,this.countdown<=0&&(this.state=e.ACTIVE);break;case e.COMPLETE_DELAY:this.countdown-=o,this.countdown<=0&&(this.state=e.PENDING_REMOVE,this.dispatchTweenEvent(t.TWEEN_COMPLETE,this.callbacks.onComplete));break}return this.state===e.PENDING_REMOVE},dispatchTweenDataEvent:function(n,o,l){this.isSeeking||(this.emit(n,this,l.key,l.target,l.current,l.previous),o&&(o.params[1]=l.target,o.func.apply(o.scope,o.params)))},dispatchTweenEvent:function(n,o){this.isSeeking||(this.emit(n,this,this.targets),o&&(o.params[1]=this.targets,o.func.apply(o.scope,o.params)))},setStateFromEnd:function(n,o,l){return o.yoyo?(o.elapsed=l,o.progress=l/o.duration,o.flipX&&o.target.toggleFlipX(),o.flipY&&o.target.toggleFlipY(),this.dispatchTweenDataEvent(t.TWEEN_YOYO,n.callbacks.onYoyo,o),o.start=o.getStartValue(o.target,o.key,o.start,o.index,n.totalTargets,n),e.PLAYING_BACKWARD):o.repeatCounter>0?(o.repeatCounter--,o.elapsed=l,o.progress=l/o.duration,o.flipX&&o.target.toggleFlipX(),o.flipY&&o.target.toggleFlipY(),o.start=o.getStartValue(o.target,o.key,o.start,o.index,n.totalTargets,n),o.end=o.getEndValue(o.target,o.key,o.start,o.index,n.totalTargets,n),o.repeatDelay>0?(o.elapsed=o.repeatDelay-l,o.current=o.start,o.target[o.key]=o.current,e.REPEAT_DELAY):(this.dispatchTweenDataEvent(t.TWEEN_REPEAT,n.callbacks.onRepeat,o),e.PLAYING_FORWARD)):e.COMPLETE},setStateFromStart:function(n,o,l){return o.repeatCounter>0?(o.repeatCounter--,o.elapsed=l,o.progress=l/o.duration,o.flipX&&o.target.toggleFlipX(),o.flipY&&o.target.toggleFlipY(),o.end=o.getEndValue(o.target,o.key,o.start,o.index,n.totalTargets,n),o.repeatDelay>0?(o.elapsed=o.repeatDelay-l,o.current=o.start,o.target[o.key]=o.current,e.REPEAT_DELAY):(this.dispatchTweenDataEvent(t.TWEEN_REPEAT,n.callbacks.onRepeat,o),e.PLAYING_FORWARD)):e.COMPLETE},updateTweenData:function(n,o,l){var h=o.target;switch(o.state){case e.PLAYING_FORWARD:case e.PLAYING_BACKWARD:if(!h){o.state=e.COMPLETE;break}var u=o.elapsed,c=o.duration,d=0;u+=l,u>c&&(d=u-c,u=c);var v=o.state===e.PLAYING_FORWARD,g=u/c;if(o.elapsed=u,o.progress=g,o.previous=o.current,g===1)v?(o.current=o.end,h[o.key]=o.end,o.hold>0?(o.elapsed=o.hold-d,o.state=e.HOLD_DELAY):o.state=this.setStateFromEnd(n,o,d)):(o.current=o.start,h[o.key]=o.start,o.state=this.setStateFromStart(n,o,d));else{var m=v?o.ease(g):o.ease(1-g);o.current=o.start+(o.end-o.start)*m,h[o.key]=o.current}this.dispatchTweenDataEvent(t.TWEEN_UPDATE,n.callbacks.onUpdate,o);break;case e.DELAY:o.elapsed-=l,o.elapsed<=0&&(o.elapsed=Math.abs(o.elapsed),o.state=e.PENDING_RENDER);break;case e.REPEAT_DELAY:o.elapsed-=l,o.elapsed<=0&&(o.elapsed=Math.abs(o.elapsed),o.state=e.PLAYING_FORWARD,this.dispatchTweenDataEvent(t.TWEEN_REPEAT,n.callbacks.onRepeat,o));break;case e.HOLD_DELAY:o.elapsed-=l,o.elapsed<=0&&(o.state=this.setStateFromEnd(n,o,Math.abs(o.elapsed)));break;case e.PENDING_RENDER:h?(o.start=o.getStartValue(h,o.key,h[o.key],o.index,n.totalTargets,n),o.end=o.getEndValue(h,o.key,o.start,o.index,n.totalTargets,n),o.current=o.start,h[o.key]=o.start,o.state=e.PLAYING_FORWARD):o.state=e.COMPLETE;break}return o.state!==e.COMPLETE}});r.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],i.register("tween",function(n){return this.scene.sys.tweens.add(n)}),a.register("tween",function(n){return this.scene.sys.tweens.create(n)}),A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={TIMELINE_COMPLETE:p(1466),TIMELINE_LOOP:p(1467),TIMELINE_PAUSE:p(1468),TIMELINE_RESUME:p(1469),TIMELINE_START:p(1470),TIMELINE_UPDATE:p(1471),TWEEN_ACTIVE:p(1472),TWEEN_COMPLETE:p(1473),TWEEN_LOOP:p(1474),TWEEN_REPEAT:p(1475),TWEEN_START:p(1476),TWEEN_STOP:p(1477),TWEEN_UPDATE:p(1478),TWEEN_YOYO:p(1479)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i,e,s,r,n,o,l,h,u,c,d){return{target:f,index:x,key:t,getActiveValue:e,getEndValue:a,getStartValue:i,ease:s,duration:0,totalDuration:0,delay:0,yoyo:o,hold:0,repeat:0,repeatDelay:0,flipX:c,flipY:d,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:r,duration:n,hold:l,repeat:h,repeatDelay:u},state:0}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(68),x=function(t){return f(t,-Math.PI,Math.PI)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(68),x=function(t){return f(t,-180,180)};A.exports=x},function(A,O,p){var f={};A.exports=f;var x=p(83),t=p(32);(function(){f.fromVertices=function(a){for(var i={},e=0;e<a.length;e++){var s=(e+1)%a.length,r=x.normalise({x:a[s].y-a[e].y,y:a[e].x-a[s].x}),n=r.y===0?1/0:r.x/r.y;n=n.toFixed(3).toString(),i[n]=r}return t.values(i)},f.rotate=function(a,i){if(i!==0)for(var e=Math.cos(i),s=Math.sin(i),r=0;r<a.length;r++){var n=a[r],o;o=n.x*e-n.y*s,n.y=n.x*s+n.y*e,n.x=o}}})()},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={AFTER_ADD:p(1504),AFTER_REMOVE:p(1505),AFTER_UPDATE:p(1506),BEFORE_ADD:p(1507),BEFORE_REMOVE:p(1508),BEFORE_UPDATE:p(1509),COLLISION_ACTIVE:p(1510),COLLISION_END:p(1511),COLLISION_START:p(1512),DRAG_END:p(1513),DRAG:p(1514),DRAG_START:p(1515),PAUSE:p(1516),RESUME:p(1517),SLEEP_END:p(1518),SLEEP_START:p(1519)}},function(A,O,p){var f={};A.exports=f;var x=p(274),t=p(250),a=p(84);(function(){f.collisions=function(i,e){for(var s=[],r=e.pairs.table,n=e.metrics,o=0;o<i.length;o++){var l=i[o][0],h=i[o][1];if(!((l.isStatic||l.isSleeping)&&(h.isStatic||h.isSleeping))&&!!f.canCollide(l.collisionFilter,h.collisionFilter)&&(n.midphaseTests+=1,a.overlaps(l.bounds,h.bounds)))for(var u=l.parts.length>1?1:0;u<l.parts.length;u++)for(var c=l.parts[u],d=h.parts.length>1?1:0;d<h.parts.length;d++){var v=h.parts[d];if(c===l&&v===h||a.overlaps(c.bounds,v.bounds)){var g=t.id(c,v),m=r[g],y;m&&m.isActive?y=m.collision:y=null;var T=x.collides(c,v,y);n.narrowphaseTests+=1,T.reused&&(n.narrowReuseCount+=1),T.collided&&(s.push(T),n.narrowDetections+=1)}}}return s},f.canCollide=function(i,e){return i.group===e.group&&i.group!==0?i.group>0:(i.mask&e.category)!==0&&(e.mask&i.category)!==0}})()},function(A,O,p){var f={};A.exports=f;var x=p(64),t=p(83);(function(){f.collides=function(a,i,e){var s,r,n,o,l=!1;if(e){var h=a.parent,u=i.parent,c=h.speed*h.speed+h.angularSpeed*h.angularSpeed+u.speed*u.speed+u.angularSpeed*u.angularSpeed;l=e&&e.collided&&c<.2,o=e}else o={collided:!1,bodyA:a,bodyB:i};if(e&&l){var d=o.axisBody,v=d===a?i:a,g=[d.axes[e.axisNumber]];if(n=f._overlapAxes(d.vertices,v.vertices,g),o.reused=!0,n.overlap<=0)return o.collided=!1,o}else{if(s=f._overlapAxes(a.vertices,i.vertices,a.axes),s.overlap<=0||(r=f._overlapAxes(i.vertices,a.vertices,i.axes),r.overlap<=0))return o.collided=!1,o;s.overlap<r.overlap?(n=s,o.axisBody=a):(n=r,o.axisBody=i),o.axisNumber=n.axisNumber}o.bodyA=a.id<i.id?a:i,o.bodyB=a.id<i.id?i:a,o.collided=!0,o.depth=n.overlap,o.parentA=o.bodyA.parent,o.parentB=o.bodyB.parent,a=o.bodyA,i=o.bodyB,t.dot(n.axis,t.sub(i.position,a.position))<0?o.normal={x:n.axis.x,y:n.axis.y}:o.normal={x:-n.axis.x,y:-n.axis.y},o.tangent=t.perp(o.normal),o.penetration=o.penetration||{},o.penetration.x=o.normal.x*o.depth,o.penetration.y=o.normal.y*o.depth;var m=f._findSupports(a,i,o.normal),y=[];if(x.contains(a.vertices,m[0])&&y.push(m[0]),x.contains(a.vertices,m[1])&&y.push(m[1]),y.length<2){var T=f._findSupports(i,a,t.neg(o.normal));x.contains(i.vertices,T[0])&&y.push(T[0]),y.length<2&&x.contains(i.vertices,T[1])&&y.push(T[1])}return y.length<1&&(y=[m[0]]),o.supports=y,o},f._overlapAxes=function(a,i,e){for(var s=t._temp[0],r=t._temp[1],n={overlap:Number.MAX_VALUE},o,l,h=0;h<e.length;h++){if(l=e[h],f._projectToAxis(s,a,l),f._projectToAxis(r,i,l),o=Math.min(s.max-r.min,r.max-s.min),o<=0)return n.overlap=o,n;o<n.overlap&&(n.overlap=o,n.axis=l,n.axisNumber=h)}return n},f._projectToAxis=function(a,i,e){for(var s=t.dot(i[0],e),r=s,n=1;n<i.length;n+=1){var o=t.dot(i[n],e);o>r?r=o:o<s&&(s=o)}a.min=s,a.max=r},f._findSupports=function(a,i,e){for(var s=Number.MAX_VALUE,r=t._temp[0],n=i.vertices,o=a.position,l,h,u,c,d=0;d<n.length;d++)h=n[d],r.x=h.x-o.x,r.y=h.y-o.y,l=-t.dot(e,r),l<s&&(s=l,u=h);var v=u.index-1>=0?u.index-1:n.length-1;h=n[v],r.x=h.x-o.x,r.y=h.y-o.y,s=-t.dot(e,r),c=h;var g=(u.index+1)%n.length;return h=n[g],r.x=h.x-o.x,r.y=h.y-o.y,l=-t.dot(e,r),l<s&&(c=h),[u,c]}})()},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={AlignTo:p(601),Angle:p(602),Call:p(603),GetFirst:p(604),GetLast:p(605),GridAlign:p(606),IncAlpha:p(678),IncX:p(679),IncXY:p(680),IncY:p(681),PlaceOnCircle:p(682),PlaceOnEllipse:p(683),PlaceOnLine:p(684),PlaceOnRectangle:p(685),PlaceOnTriangle:p(686),PlayAnimation:p(687),PropertyValueInc:p(46),PropertyValueSet:p(27),RandomCircle:p(688),RandomEllipse:p(689),RandomLine:p(690),RandomRectangle:p(691),RandomTriangle:p(692),Rotate:p(693),RotateAround:p(694),RotateAroundDistance:p(695),ScaleX:p(696),ScaleXY:p(697),ScaleY:p(698),SetAlpha:p(699),SetBlendMode:p(700),SetDepth:p(701),SetHitArea:p(702),SetOrigin:p(703),SetRotation:p(704),SetScale:p(705),SetScaleX:p(706),SetScaleY:p(707),SetScrollFactor:p(708),SetScrollFactorX:p(709),SetScrollFactorY:p(710),SetTint:p(711),SetVisible:p(712),SetX:p(713),SetXY:p(714),SetY:p(715),ShiftPosition:p(716),Shuffle:p(717),SmootherStep:p(718),SmoothStep:p(719),Spread:p(720),ToggleVisible:p(721),WrapInRectangle:p(722)}},function(A,O,p){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(123),x=[];x[f.BOTTOM_CENTER]=p(277),x[f.BOTTOM_LEFT]=p(278),x[f.BOTTOM_RIGHT]=p(279),x[f.LEFT_BOTTOM]=p(280),x[f.LEFT_CENTER]=p(281),x[f.LEFT_TOP]=p(282),x[f.RIGHT_BOTTOM]=p(283),x[f.RIGHT_CENTER]=p(284),x[f.RIGHT_TOP]=p(285),x[f.TOP_CENTER]=p(286),x[f.TOP_LEFT]=p(287),x[f.TOP_RIGHT]=p(288);var t=function(a,i,e,s,r){return x[e](a,i,s,r)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(42),x=p(87),t=p(88),a=p(52),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),t(e,x(s)+r),a(e,f(s)+n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(42),x=p(43),t=p(53),a=p(52),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),t(e,x(s)-r),a(e,f(s)+n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(42),x=p(44),t=p(54),a=p(52),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),t(e,x(s)+r),a(e,f(s)+n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(42),x=p(43),t=p(55),a=p(54),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),a(e,x(s)-r),t(e,f(s)+n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(89),x=p(43),t=p(90),a=p(54),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),a(e,x(s)-r),t(e,f(s)+n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(43),x=p(45),t=p(54),a=p(52),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),t(e,f(s)-r),a(e,x(s)-n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(42),x=p(44),t=p(55),a=p(53),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),a(e,x(s)+r),t(e,f(s)+n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(89),x=p(44),t=p(90),a=p(53),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),a(e,x(s)+r),t(e,f(s)+n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(44),x=p(45),t=p(53),a=p(52),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),t(e,f(s)+r),a(e,x(s)-n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(87),x=p(45),t=p(55),a=p(88),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),a(e,f(s)+r),t(e,x(s)-n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(43),x=p(45),t=p(55),a=p(53),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),a(e,f(s)-r),t(e,x(s)-n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(44),x=p(45),t=p(55),a=p(54),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),a(e,f(s)+r),t(e,x(s)-n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(123),x=[];x[f.BOTTOM_CENTER]=p(290),x[f.BOTTOM_LEFT]=p(291),x[f.BOTTOM_RIGHT]=p(292),x[f.CENTER]=p(293),x[f.LEFT_CENTER]=p(295),x[f.RIGHT_CENTER]=p(296),x[f.TOP_CENTER]=p(297),x[f.TOP_LEFT]=p(298),x[f.TOP_RIGHT]=p(299),x[f.LEFT_BOTTOM]=x[f.BOTTOM_LEFT],x[f.LEFT_TOP]=x[f.TOP_LEFT],x[f.RIGHT_BOTTOM]=x[f.BOTTOM_RIGHT],x[f.RIGHT_TOP]=x[f.TOP_RIGHT];var t=function(a,i,e,s,r){return x[e](a,i,s,r)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(42),x=p(87),t=p(55),a=p(88),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),a(e,x(s)+r),t(e,f(s)+n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(42),x=p(43),t=p(55),a=p(53),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),a(e,x(s)-r),t(e,f(s)+n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(42),x=p(44),t=p(55),a=p(54),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),a(e,x(s)+r),t(e,f(s)+n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(294),x=p(87),t=p(89),a=function(i,e,s,r){return s===void 0&&(s=0),r===void 0&&(r=0),f(i,x(e)+s,t(e)+r),i};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(88),x=p(90),t=function(a,i,e){return f(a,i),x(a,e)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(89),x=p(43),t=p(90),a=p(53),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),a(e,x(s)-r),t(e,f(s)+n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(89),x=p(44),t=p(90),a=p(54),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),a(e,x(s)+r),t(e,f(s)+n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(87),x=p(45),t=p(88),a=p(52),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),t(e,f(s)+r),a(e,x(s)-n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(43),x=p(45),t=p(53),a=p(52),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),t(e,f(s)-r),a(e,x(s)-n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(44),x=p(45),t=p(54),a=p(52),i=function(e,s,r,n){return r===void 0&&(r=0),n===void 0&&(n=0),t(e,f(s)+r),a(e,x(s)-n),e};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(169),x=p(98),t=p(14),a=p(4),i=function(e,s,r){r===void 0&&(r=new a);var n=x(s,0,t.PI2);return f(e,n,r)};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(302),x=p(169),t=p(98),a=p(14),i=function(e,s,r,n){n===void 0&&(n=[]),!s&&r>0&&(s=f(e)/r);for(var o=0;o<s;o++){var l=t(o/s,0,a.PI2);n.push(x(e,l))}return n};A.exports=i},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return 2*(Math.PI*f.radius)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(18),x=2,t={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a){return a===void 0&&(a=1),this.alpha=a,this},alpha:{get:function(){return this._alpha},set:function(a){var i=f(a,0,1);this._alpha=i,i===0?this.renderFlags&=~x:this.renderFlags|=x}}};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(35),x={_blendMode:f.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(t){typeof t=="string"&&(t=f[t]),t|=0,t>=-1&&(this._blendMode=t)}},setBlendMode:function(t){return this.blendMode=t,this}};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={_depth:0,depth:{get:function(){return this._depth},set:function(f){this.displayList&&this.displayList.queueDepthSort(),this._depth=f}},setDepth:function(f){return f===void 0&&(f=0),this.depth=f,this}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(171),x=p(130),t=function(a,i,e,s){s===void 0&&(s=[]),!i&&e>0&&(i=x(a)/e);for(var r=0;r<i;r++){var n=r/i;s.push(f(a,n))}return s};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a,i){return i===void 0&&(i=new f),i.x=t.x1+(t.x2-t.x1)*a,i.y=t.y1+(t.y2-t.y1)*a,i};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){var i=Math.cos(a),e=Math.sin(a),s=f.x-x,r=f.y-t;return f.x=s*i-r*e+x,f.y=s*e+r*i+t,f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(310),x=p(311),t={mask:null,setMask:function(a){return this.mask=a,this},clearMask:function(a){return a===void 0&&(a=!1),a&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(a){return a===void 0&&(this.texture||this.shader)&&(a=this),new f(this.scene,a)},createGeometryMask:function(a){return a===void 0&&this.type==="Graphics"&&(a=this),new x(this.scene,a)}};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(22),t=p(91),a=new f({initialize:function(e,s){var r=e.sys.renderer;this.renderer=r,this.bitmapMask=s,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,this.createMask(),e.sys.game.events.on(x.CONTEXT_RESTORED,this.createMask,this),r&&r.on(t.RESIZE,this.createMask,this)},createMask:function(){var i=this.renderer;if(!(!i||!i.gl)){this.mainTexture&&this.clearMask();var e=i.width,s=i.height,r=(e&e-1)===0&&(s&s-1)===0,n=i.gl,o=r?n.REPEAT:n.CLAMP_TO_EDGE,l=n.LINEAR;this.mainTexture=i.createTexture2D(0,l,l,o,o,n.RGBA,null,e,s),this.maskTexture=i.createTexture2D(0,l,l,o,o,n.RGBA,null,e,s),this.mainFramebuffer=i.createFramebuffer(e,s,this.mainTexture,!0),this.maskFramebuffer=i.createFramebuffer(e,s,this.maskTexture,!0)}},clearMask:function(){var i=this.renderer;!i||!i.gl||!this.mainTexture||(i.deleteTexture(this.mainTexture),i.deleteTexture(this.maskTexture),i.deleteFramebuffer(this.mainFramebuffer),i.deleteFramebuffer(this.maskFramebuffer),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null)},setBitmap:function(i){this.bitmapMask=i},preRenderWebGL:function(i,e,s){i.pipelines.BITMAPMASK_PIPELINE.beginMask(this,e,s)},postRenderWebGL:function(i,e){i.pipelines.BITMAPMASK_PIPELINE.endMask(this,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask(),this.renderer&&this.renderer.off(t.RESIZE,this.createMask,this),this.bitmapMask=null,this.prevFramebuffer=null,this.renderer=null}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a,i){this.geometryMask=i,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(t){return this.geometryMask=t,this},setInvertAlpha:function(t){return t===void 0&&(t=!0),this.invertAlpha=t,this},preRenderWebGL:function(t,a,i){var e=t.gl;t.flush(),t.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),t.maskCount=0),t.currentCameraMask.mask!==this&&(t.currentMask.mask=this),t.maskStack.push({mask:this,camera:i}),this.applyStencil(t,i,!0),t.maskCount++},applyStencil:function(t,a,i){var e=t.gl,s=this.geometryMask,r=t.maskCount;e.colorMask(!1,!1,!1,!1),i?(e.stencilFunc(e.EQUAL,r,255),e.stencilOp(e.KEEP,e.KEEP,e.INCR)):(e.stencilFunc(e.EQUAL,r+1,255),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),s.renderWebGL(t,s,a),t.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),i?this.invertAlpha?e.stencilFunc(e.NOTEQUAL,r+1,255):e.stencilFunc(e.EQUAL,r+1,255):this.invertAlpha?e.stencilFunc(e.NOTEQUAL,r,255):e.stencilFunc(e.EQUAL,r,255)},postRenderWebGL:function(t){var a=t.gl;t.maskStack.pop(),t.maskCount--,t.flush();var i=t.currentMask;if(t.maskStack.length===0)i.mask=null,a.disable(a.STENCIL_TEST);else{var e=t.maskStack[t.maskStack.length-1];e.mask.applyStencil(t,e.camera,!1),t.currentCameraMask.mask!==e.mask?(i.mask=e.mask,i.camera=e.camera):i.mask=null}},preRenderCanvas:function(t,a,i){var e=this.geometryMask;t.currentContext.save(),e.renderCanvas(t,e,i,null,null,!0),t.currentContext.clip()},postRenderCanvas:function(t){t.currentContext.restore()},destroy:function(){this.geometryMask=null}});A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(f,x){return x===void 0&&(x=f),this.scrollFactorX=f,this.scrollFactorY=x,this}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(14),x=p(25),t=p(177),a=p(269),i=p(270),e=p(3),s=4,r={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this._scaleX=n,this._scaleY=n,n===0?this.renderFlags&=~s:this.renderFlags|=s}},scaleX:{get:function(){return this._scaleX},set:function(n){this._scaleX=n,n===0?this.renderFlags&=~s:this.renderFlags|=s}},scaleY:{get:function(){return this._scaleY},set:function(n){this._scaleY=n,n===0?this.renderFlags&=~s:this.renderFlags|=s}},angle:{get:function(){return i(this._rotation*f.RAD_TO_DEG)},set:function(n){this.rotation=i(n)*f.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(n){this._rotation=a(n)}},setPosition:function(n,o,l,h){return n===void 0&&(n=0),o===void 0&&(o=n),l===void 0&&(l=0),h===void 0&&(h=0),this.x=n,this.y=o,this.z=l,this.w=h,this},copyPosition:function(n){return n.x!==void 0&&(this.x=n.x),n.y!==void 0&&(this.y=n.y),n.z!==void 0&&(this.z=n.z),n.w!==void 0&&(this.w=n.w),this},setRandomPosition:function(n,o,l,h){return n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=this.scene.sys.scale.width),h===void 0&&(h=this.scene.sys.scale.height),this.x=n+Math.random()*l,this.y=o+Math.random()*h,this},setRotation:function(n){return n===void 0&&(n=0),this.rotation=n,this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,this},setScale:function(n,o){return n===void 0&&(n=1),o===void 0&&(o=n),this.scaleX=n,this.scaleY=o,this},setX:function(n){return n===void 0&&(n=0),this.x=n,this},setY:function(n){return n===void 0&&(n=0),this.y=n,this},setZ:function(n){return n===void 0&&(n=0),this.z=n,this},setW:function(n){return n===void 0&&(n=0),this.w=n,this},getLocalTransformMatrix:function(n){return n===void 0&&(n=new x),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(n,o){n===void 0&&(n=new x),o===void 0&&(o=new x);var l=this.parentContainer;if(!l)return this.getLocalTransformMatrix(n);for(n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);l;)o.applyITRS(l.x,l.y,l._rotation,l._scaleX,l._scaleY),o.multiply(n,n),l=l.parentContainer;return n},getLocalPoint:function(n,o,l,h){l||(l=new e),h||(h=this.scene.sys.cameras.main);var u=h.scrollX,c=h.scrollY,d=n+u*this.scrollFactorX-u,v=o+c*this.scrollFactorY-c;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(d,v,l):t(d,v,this.x,this.y,this.rotation,this.scaleX,this.scaleY,l),this._originComponent&&(l.x+=this._displayOriginX,l.y+=this._displayOriginY),l},getParentRotation:function(){for(var n=0,o=this.parentContainer;o;)n+=o.rotation,o=o.parentContainer;return n}};A.exports=r},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=1,f={_visible:!0,visible:{get:function(){return this._visible},set:function(x){x?(this._visible=!0,this.renderFlags|=p):(this._visible=!1,this.renderFlags&=~p)}},setVisible:function(x){return this.visible=x,this}};A.exports=f},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={CHANGE_DATA:p(638),CHANGE_DATA_KEY:p(639),DESTROY:p(640),REMOVE_DATA:p(641),SET_DATA:p(642)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(130),x=p(4),t=function(a,i,e,s){if(s===void 0&&(s=[]),!i&&!e)return s;i?e=Math.round(f(a)/i):i=f(a)/e;for(var r=a.x,n=a.y,o=0,l=0;l<e;l++)switch(s.push(new x(r,n)),o){case 0:r+=i,r>=a.right&&(o=1,n+=r-a.right,r=a.right);break;case 1:n+=i,n>=a.bottom&&(o=2,r-=n-a.bottom,n=a.bottom);break;case 2:r-=i,r<=a.left&&(o=3,n-=a.left-r,r=a.left);break;case 3:n-=i,n<=a.top&&(o=0,n=a.top);break}return s};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){x===void 0&&(x=1),t===void 0&&(t=[]);var a=Math.round(f.x1),i=Math.round(f.y1),e=Math.round(f.x2),s=Math.round(f.y2),r=Math.abs(e-a),n=Math.abs(s-i),o=a<e?1:-1,l=i<s?1:-1,h=r-n;t.push({x:a,y:i});for(var u=1;!(a===e&&i===s);){var c=h<<1;c>-n&&(h-=n,a+=o),c<r&&(h+=r,i+=l),u%x===0&&t.push({x:a,y:i}),u++}return t};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){if(x.length){if(x.length===1)return x[0]}else return NaN;var a=1,i,e;if(t){if(f<x[0][t])return x[0];for(;x[a][t]<f;)a++}else for(;x[a]<f;)a++;return a>x.length&&(a=x.length),t?(i=x[a-1][t],e=x[a][t],e-f<=f-i?x[a]:x[a-1]):(i=x[a-1],e=x[a],e-f<=f-i?e:i)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a,i,e,s,r){r===void 0&&(r=!1),this.textureKey=a,this.textureFrame=i,this.index=e,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=r},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){var x=/\D/g;return f.sort(function(t,a){return parseInt(t.replace(x,""),10)-parseInt(a.replace(x,""),10)}),f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(185),x=p(0),t=p(102),a=p(9),i=p(132),e=p(22),s=p(2),r=p(6),n=p(186),o=p(322),l=new x({Extends:a,initialize:function(u){a.call(this),this.game=u,this.textureManager=null,this.globalTimeScale=1,this.anims=new t,this.mixes=new t,this.paused=!1,this.name="AnimationManager",u.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(h,u,c){var d=this.anims,v=this.mixes,g=typeof h=="string"?h:h.key,m=typeof u=="string"?u:u.key;if(d.has(g)&&d.has(m)){var y=v.get(g);y||(y={}),y[m]=c,v.set(g,y)}return this},removeMix:function(h,u){var c=this.mixes,d=typeof h=="string"?h:h.key,v=c.get(d);if(v)if(u){var g=typeof u=="string"?u:u.key;v.hasOwnProperty(g)&&delete v[g]}else u||c.delete(d);return this},getMix:function(h,u){var c=this.mixes,d=typeof h=="string"?h:h.key,v=typeof u=="string"?u:u.key,g=c.get(d);return g&&g.hasOwnProperty(v)?g[v]:0},add:function(h,u){return this.anims.has(h)?(console.warn("Animation key exists: "+h),this):(u.key=h,this.anims.set(h,u),this.emit(i.ADD_ANIMATION,h,u),this)},exists:function(h){return this.anims.has(h)},createFromAseprite:function(h,u){var c=[],d=this.game.cache.json.get(h);if(!d)return c;var v=this,g=r(d,"meta",null),m=r(d,"frames",null);if(g&&m){var y=r(g,"frameTags",[]);y.forEach(function(T){var E=[],S=s(T,"name",null),C=s(T,"from",0),M=s(T,"to",0),P=s(T,"direction","forward");if(!!S&&(!u||u&&u.indexOf(S)>-1)){for(var R=[],L=Number.MAX_SAFE_INTEGER,w=C;w<=M;w++){var B=w.toString(),G=m[B];if(G){var Y=s(G,"duration",Number.MAX_SAFE_INTEGER);Y<L&&(L=Y),R.push({frame:B,duration:Y})}}R.forEach(function(I){E.push({key:h,frame:I.frame,duration:L-I.duration})});var D=L*E.length;P==="reverse"&&(E=E.reverse());var F={key:S,frames:E,duration:D,yoyo:P==="pingpong"},N=v.create(F);N&&c.push(N)}})}return c},create:function(h){var u=h.key,c=!1;return u&&(c=this.get(u),c||(c=new f(this,u,h),this.anims.set(u,c),this.emit(i.ADD_ANIMATION,u,c))),c},fromJSON:function(h,u){u===void 0&&(u=!1),u&&this.anims.clear(),typeof h=="string"&&(h=JSON.parse(h));var c=[];if(h.hasOwnProperty("anims")&&Array.isArray(h.anims)){for(var d=0;d<h.anims.length;d++)c.push(this.create(h.anims[d]));h.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=h.globalTimeScale)}else h.hasOwnProperty("key")&&h.type==="frame"&&c.push(this.create(h));return c},generateFrameNames:function(h,u){var c=r(u,"prefix",""),d=r(u,"start",0),v=r(u,"end",0),g=r(u,"suffix",""),m=r(u,"zeroPad",0),y=r(u,"outputArray",[]),T=r(u,"frames",!1),E=this.textureManager.get(h);if(!E)return y;var S;if(u)for(T||(T=o(d,v)),S=0;S<T.length;S++){var C=c+n(T[S],m,"0",1)+g;E.has(C)?y.push({key:h,frame:C}):console.warn("generateFrameNames: Frame missing: "+C+" from texture: "+h)}else for(T=E.getFrameNames(),S=0;S<T.length;S++)y.push({key:h,frame:T[S]});return y},generateFrameNumbers:function(h,u){var c=r(u,"start",0),d=r(u,"end",-1),v=r(u,"first",!1),g=r(u,"outputArray",[]),m=r(u,"frames",!1),y=this.textureManager.get(h);if(!y)return g;v&&y.has(v)&&g.push({key:h,frame:v}),m||(d===-1&&(d=y.frameTotal-2),m=o(c,d));for(var T=0;T<m.length;T++)y.has(m[T])?g.push({key:h,frame:m[T]}):console.warn("generateFrameNumbers: Frame "+T+" missing from texture: "+h);return g},get:function(h){return this.anims.get(h)},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(i.PAUSE_ALL)),this},play:function(h,u){Array.isArray(u)||(u=[u]);for(var c=0;c<u.length;c++)u[c].anims.play(h);return this},staggerPlay:function(h,u,c,d){c===void 0&&(c=0),d===void 0&&(d=!0),Array.isArray(u)||(u=[u]);var v=u.length;d||v--;for(var g=0;g<u.length;g++){var m=c<0?Math.abs(c)*(v-g):c*g;u[g].anims.playAfterDelay(h,m)}return this},remove:function(h){var u=this.get(h);return u&&(this.emit(i.REMOVE_ANIMATION,h,u),this.anims.delete(h),this.removeMix(h)),u},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(i.RESUME_ALL)),this},toJSON:function(h){var u={anims:[],globalTimeScale:this.globalTimeScale};return h!==void 0&&h!==""?u.anims.push(this.anims.get(h).toJSON()):this.anims.each(function(c,d){u.anims.push(d.toJSON())}),u},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});A.exports=l},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){var i=[],e,s=!1;if((t||a)&&(s=!0,t||(t=""),a||(a="")),x<f)for(e=f;e>=x;e--)s?i.push(t+e.toString()+a):i.push(e);else for(e=f;e<=x;e++)s?i.push(t+e.toString()+a):i.push(e);return i};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(102),t=p(9),a=p(324),i=new f({initialize:function(){this.entries=new x,this.events=new t},add:function(e,s){return this.entries.set(e,s),this.events.emit(a.ADD,this,e,s),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var s=this.get(e);return s&&(this.entries.delete(e),this.events.emit(a.REMOVE,this,e,s.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={ADD:p(736),REMOVE:p(737)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(323),x=p(0),t=p(22),a=new x({initialize:function(e){this.game=e,this.binary=new f,this.bitmapFont=new f,this.json=new f,this.physics=new f,this.shader=new f,this.audio=new f,this.video=new f,this.text=new f,this.html=new f,this.obj=new f,this.tilemap=new f,this.xml=new f,this.custom={},this.game.events.once(t.DESTROY,this.destroy,this)},addCustom:function(i){return this.custom.hasOwnProperty(i)||(this.custom[i]=new f),this.custom[i]},destroy:function(){for(var i=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<i.length;e++)this[i[e]].destroy(),this[i[e]]=null;for(var s in this.custom)this.custom[s].destroy();this.custom=null,this.game=null}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(133),x=p(190),t=p(18),a=p(0),i=p(11),e=p(333),s=p(37),r=p(135),n=p(10),o=p(3),l=new a({Extends:f,Mixins:[i.Flip,i.Tint,i.Pipeline],initialize:function(u,c,d,v){f.call(this,u,c,d,v),this.postPipelines=[],this.pipelineData={},this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new o(1,1),this.followOffset=new o,this.deadzone=null,this._follow=null},setDeadzone:function(h,u){if(h===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=h,this.deadzone.height=u):this.deadzone=new n(0,0,h,u),this._follow){var c=this.width/2,d=this.height/2,v=this._follow.x-this.followOffset.x,g=this._follow.y-this.followOffset.y;this.midPoint.set(v,g),this.scrollX=v-c,this.scrollY=g-d}x(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(h,u,c,d,v,g){return this.fadeEffect.start(!1,h,u,c,d,!0,v,g)},fadeOut:function(h,u,c,d,v,g){return this.fadeEffect.start(!0,h,u,c,d,!0,v,g)},fadeFrom:function(h,u,c,d,v,g,m){return this.fadeEffect.start(!1,h,u,c,d,v,g,m)},fade:function(h,u,c,d,v,g,m){return this.fadeEffect.start(!0,h,u,c,d,v,g,m)},flash:function(h,u,c,d,v,g,m){return this.flashEffect.start(h,u,c,d,v,g,m)},shake:function(h,u,c,d,v){return this.shakeEffect.start(h,u,c,d,v)},pan:function(h,u,c,d,v,g,m){return this.panEffect.start(h,u,c,d,v,g,m)},rotateTo:function(h,u,c,d,v,g,m){return this.rotateToEffect.start(h,u,c,d,v,g,m)},zoomTo:function(h,u,c,d,v,g){return this.zoomEffect.start(h,u,c,d,v,g)},preRender:function(){this.renderList.length=0;var h=this.width,u=this.height,c=h*.5,d=u*.5,v=this.zoom,g=this.matrix,m=h*this.originX,y=u*this.originY,T=this._follow,E=this.deadzone,S=this.scrollX,C=this.scrollY;E&&x(E,this.midPoint.x,this.midPoint.y);var M=!1;if(T&&!this.panEffect.isRunning){var P=T.x-this.followOffset.x,R=T.y-this.followOffset.y;E?(P<E.x?S=r(S,S-(E.x-P),this.lerp.x):P>E.right&&(S=r(S,S+(P-E.right),this.lerp.x)),R<E.y?C=r(C,C-(E.y-R),this.lerp.y):R>E.bottom&&(C=r(C,C+(R-E.bottom),this.lerp.y))):(S=r(S,P-m,this.lerp.x),C=r(C,R-y,this.lerp.y)),M=!0}this.useBounds&&(S=this.clampX(S),C=this.clampY(C)),this.roundPixels&&(m=Math.round(m),y=Math.round(y),S=Math.round(S),C=Math.round(C)),this.scrollX=S,this.scrollY=C;var L=S+c,w=C+d;this.midPoint.set(L,w);var B=h/v,G=u/v,Y=L-B/2,D=w-G/2;this.roundPixels&&(Y=Math.round(Y),D=Math.round(D)),this.worldView.setTo(Y,D,B,G),g.applyITRS(this.x+m,this.y+y,this.rotation,v,v),g.translate(-m,-y),this.shakeEffect.preRender(),M&&this.emit(s.FOLLOW_UPDATE,this,T)},setLerp:function(h,u){return h===void 0&&(h=1),u===void 0&&(u=h),this.lerp.set(h,u),this},setFollowOffset:function(h,u){return h===void 0&&(h=0),u===void 0&&(u=0),this.followOffset.set(h,u),this},startFollow:function(h,u,c,d,v,g){u===void 0&&(u=!1),c===void 0&&(c=1),d===void 0&&(d=c),v===void 0&&(v=0),g===void 0&&(g=v),this._follow=h,this.roundPixels=u,c=t(c,0,1),d=t(d,0,1),this.lerp.set(c,d),this.followOffset.set(v,g);var m=this.width/2,y=this.height/2,T=h.x-v,E=h.y-g;return this.midPoint.set(T,E),this.scrollX=T-m,this.scrollY=E-y,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(h,u){this.visible&&(this.rotateToEffect.update(h,u),this.panEffect.update(h,u),this.zoomEffect.update(h,u),this.shakeEffect.update(h,u),this.flashEffect.update(h,u),this.fadeEffect.update(h,u))},destroy:function(){this.resetFX(),f.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});A.exports=l},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(38),x=function(t){var a=new f;t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,o,l,h){return o+o+l+l+h+h});var i=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(i){var e=parseInt(i[1],16),s=parseInt(i[2],16),r=parseInt(i[3],16);a.setTo(e,s,r)}return a};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){return a<<24|f<<16|x<<8|t};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){a===void 0&&(a={h:0,s:0,v:0}),f/=255,x/=255,t/=255;var i=Math.min(f,x,t),e=Math.max(f,x,t),s=e-i,r=0,n=e===0?0:s/e,o=e;return e!==i&&(e===f?r=(x-t)/s+(x<t?6:0):e===x?r=(t-f)/s+2:e===t&&(r=(f-x)/s+4),r/=6),a.hasOwnProperty("_h")?(a._h=r,a._s=n,a._v=o):(a.h=r,a.s=n,a.v=o),a};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f>16777215?{a:f>>>24,r:f>>16&255,g:f>>8&255,b:f&255}:{a:255,r:f>>16&255,g:f>>8&255,b:f&255}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(38),x=function(t){return new f(t.r,t.g,t.b,t.a)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(38),x=function(t){var a=new f,i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t.toLowerCase());if(i){var e=parseInt(i[1],10),s=parseInt(i[2],10),r=parseInt(i[3],10),n=i[4]!==void 0?parseFloat(i[4]):1;a.setTo(e,s,r,n*255)}return a};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Fade:p(761),Flash:p(762),Pan:p(763),Shake:p(796),RotateTo:p(797),Zoom:p(798)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={In:p(764),Out:p(765),InOut:p(766)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={In:p(767),Out:p(768),InOut:p(769)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={In:p(770),Out:p(771),InOut:p(772)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={In:p(773),Out:p(774),InOut:p(775)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={In:p(776),Out:p(777),InOut:p(778)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={In:p(779),Out:p(780),InOut:p(781)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports=p(782)},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={In:p(783),Out:p(784),InOut:p(785)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={In:p(786),Out:p(787),InOut:p(788)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={In:p(789),Out:p(790),InOut:p(791)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={In:p(792),Out:p(793),InOut:p(794)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports=p(795)},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(33),t=p(347),a=p(2),i=p(6),e=p(7),s=p(193),r=p(1),n=p(197),o=p(187),l=new f({initialize:function(u){u===void 0&&(u={});var c=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],d="#ffffff";this.width=i(u,"width",1024),this.height=i(u,"height",768),this.zoom=i(u,"zoom",1),this.parent=i(u,"parent",void 0),this.scaleMode=i(u,"scaleMode",0),this.expandParent=i(u,"expandParent",!0),this.autoRound=i(u,"autoRound",!1),this.autoCenter=i(u,"autoCenter",0),this.resizeInterval=i(u,"resizeInterval",500),this.fullscreenTarget=i(u,"fullscreenTarget",null),this.minWidth=i(u,"minWidth",0),this.maxWidth=i(u,"maxWidth",0),this.minHeight=i(u,"minHeight",0),this.maxHeight=i(u,"maxHeight",0);var v=i(u,"scale",null);v&&(this.width=i(v,"width",this.width),this.height=i(v,"height",this.height),this.zoom=i(v,"zoom",this.zoom),this.parent=i(v,"parent",this.parent),this.scaleMode=i(v,"mode",this.scaleMode),this.expandParent=i(v,"expandParent",this.expandParent),this.autoRound=i(v,"autoRound",this.autoRound),this.autoCenter=i(v,"autoCenter",this.autoCenter),this.resizeInterval=i(v,"resizeInterval",this.resizeInterval),this.fullscreenTarget=i(v,"fullscreenTarget",this.fullscreenTarget),this.minWidth=i(v,"min.width",this.minWidth),this.maxWidth=i(v,"max.width",this.maxWidth),this.minHeight=i(v,"min.height",this.minHeight),this.maxHeight=i(v,"max.height",this.maxHeight)),this.renderType=i(u,"type",x.AUTO),this.canvas=i(u,"canvas",null),this.context=i(u,"context",null),this.canvasStyle=i(u,"canvasStyle",null),this.customEnvironment=i(u,"customEnvironment",!1),this.sceneConfig=i(u,"scene",null),this.seed=i(u,"seed",[(Date.now()*Math.random()).toString()]),s.RND=new s.RandomDataGenerator(this.seed),this.gameTitle=i(u,"title",""),this.gameURL=i(u,"url","https://phaser.io"),this.gameVersion=i(u,"version",""),this.autoFocus=i(u,"autoFocus",!0),this.domCreateContainer=i(u,"dom.createContainer",!1),this.domBehindCanvas=i(u,"dom.behindCanvas",!1),this.domPointerEvents=i(u,"dom.pointerEvents","none"),this.inputKeyboard=i(u,"input.keyboard",!0),this.inputKeyboardEventTarget=i(u,"input.keyboard.target",window),this.inputKeyboardCapture=i(u,"input.keyboard.capture",[]),this.inputMouse=i(u,"input.mouse",!0),this.inputMouseEventTarget=i(u,"input.mouse.target",null),this.inputMousePreventDefaultDown=i(u,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=i(u,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=i(u,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=i(u,"input.mouse.preventDefaultWheel",!0),this.inputTouch=i(u,"input.touch",t.input.touch),this.inputTouchEventTarget=i(u,"input.touch.target",null),this.inputTouchCapture=i(u,"input.touch.capture",!0),this.inputActivePointers=i(u,"input.activePointers",1),this.inputSmoothFactor=i(u,"input.smoothFactor",0),this.inputWindowEvents=i(u,"input.windowEvents",!0),this.inputGamepad=i(u,"input.gamepad",!1),this.inputGamepadEventTarget=i(u,"input.gamepad.target",window),this.disableContextMenu=i(u,"disableContextMenu",!1),this.audio=i(u,"audio",{}),this.hideBanner=i(u,"banner",null)===!1,this.hidePhaser=i(u,"banner.hidePhaser",!1),this.bannerTextColor=i(u,"banner.text",d),this.bannerBackgroundColor=i(u,"banner.background",c),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=i(u,"fps",null);var g=i(u,"render",u);this.pipeline=i(g,"pipeline",null),this.antialias=i(g,"antialias",!0),this.antialiasGL=i(g,"antialiasGL",!0),this.mipmapFilter=i(g,"mipmapFilter","LINEAR"),this.desynchronized=i(g,"desynchronized",!1),this.roundPixels=i(g,"roundPixels",!1),this.pixelArt=i(g,"pixelArt",this.zoom!==1),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=i(g,"transparent",!1),this.clearBeforeRender=i(g,"clearBeforeRender",!0),this.preserveDrawingBuffer=i(g,"preserveDrawingBuffer",!1),this.premultipliedAlpha=i(g,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=i(g,"failIfMajorPerformanceCaveat",!1),this.powerPreference=i(g,"powerPreference","default"),this.batchSize=i(g,"batchSize",4096),this.maxTextures=i(g,"maxTextures",-1),this.maxLights=i(g,"maxLights",10);var m=i(u,"backgroundColor",0);this.backgroundColor=o(m),this.transparent&&(this.backgroundColor=o(0),this.backgroundColor.alpha=0),this.preBoot=i(u,"callbacks.preBoot",r),this.postBoot=i(u,"callbacks.postBoot",r),this.physics=i(u,"physics",{}),this.defaultPhysicsSystem=i(this.physics,"default",!1),this.loaderBaseURL=i(u,"loader.baseURL",""),this.loaderPath=i(u,"loader.path","");var y=t.os.android?6:32;this.loaderMaxParallelDownloads=i(u,"loader.maxParallelDownloads",y),this.loaderCrossOrigin=i(u,"loader.crossOrigin",void 0),this.loaderResponseType=i(u,"loader.responseType",""),this.loaderAsync=i(u,"loader.async",!0),this.loaderUser=i(u,"loader.user",""),this.loaderPassword=i(u,"loader.password",""),this.loaderTimeout=i(u,"loader.timeout",0),this.loaderWithCredentials=i(u,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var T=i(u,"plugins",null),E=n.DefaultScene;T&&(Array.isArray(T)?this.defaultPlugins=T:e(T)&&(this.installGlobalPlugins=a(T,"global",[]),this.installScenePlugins=a(T,"scene",[]),Array.isArray(T.default)?E=T.default:Array.isArray(T.defaultMerge)&&(E=E.concat(T.defaultMerge)))),this.defaultPlugins=E;var S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=i(u,"images.default",S+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=i(u,"images.missing",S+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=i(u,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=x.WEBGL:window.FORCE_CANVAS&&(this.renderType=x.CANVAS))}});A.exports=l},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={os:p(105),browser:p(136),features:p(191),input:p(808),audio:p(809),video:p(810),fullscreen:p(811),canvasFeatures:p(348)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(31),x={supportInverseAlpha:!1,supportNewBlendModes:!1};function t(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",s="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",r=new Image;return r.onload=function(){var n=new Image;n.onload=function(){var o=f.create(n,6,1),l=o.getContext("2d");if(l.globalCompositeOperation="multiply",l.drawImage(r,0,0),l.drawImage(n,2,0),!l.getImageData(2,0,1,1))return!1;var h=l.getImageData(2,0,1,1).data;f.remove(n),x.supportNewBlendModes=h[0]===255&&h[1]===0&&h[2]===0},n.src=e+"/wCKxvRF"+s},r.src=e+"AP804Oa6"+s,!1}function a(){var e=f.create(this,2,1),s=e.getContext("2d");s.fillStyle="rgba(10, 20, 30, 0.5)",s.fillRect(0,0,1,1);var r=s.getImageData(0,0,1,1);if(r===null)return!1;s.putImageData(r,1,0);var n=s.getImageData(1,0,1,1);return n.data[0]===r.data[0]&&n.data[1]===r.data[1]&&n.data[2]===r.data[2]&&n.data[3]===r.data[3]}function i(){return typeof importScripts!="function"&&document!==void 0&&(x.supportNewBlendModes=t(),x.supportInverseAlpha=a()),x}A.exports=i()},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){return Math.atan2(a-x,t-f)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return Math.atan2(x.y-f.y,x.x-f.x)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f=f%(2*Math.PI),f>=0?f:f+2*Math.PI};A.exports=p},function(A,O){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=f.x-x.x,a=f.y-x.y;return Math.sqrt(t*t+a*a)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){var i=f-t,e=x-a;return i*i+e*e};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return t===void 0&&(t=1e-4),f>x-t};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return t===void 0&&(t=1e-4),f<x+t};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(357),x=function(t,a){return f(t)/f(a)/f(t-a)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){if(f===0)return 1;for(var x=f;--f;)x*=f;return x};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function p(i,e){var s=1-i;return s*s*s*e}function f(i,e){var s=1-i;return 3*s*s*i*e}function x(i,e){return 3*(1-i)*i*i*e}function t(i,e){return i*i*i*e}var a=function(i,e,s,r,n){return p(i,e)+f(i,s)+x(i,r)+t(i,n)};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function p(a,i){var e=1-a;return e*e*i}function f(a,i){return 2*(1-a)*a*i}function x(a,i){return a*a*i}var t=function(a,i,e,s){return p(a,i)+f(a,e)+x(a,s)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(184),x=function(t,a,i){return a+(i-a)*f(t,0,1)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){var x=Math.log(f)/.6931471805599453;return 1<<Math.ceil(x)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=f.x,a=f.y;return f.x=t*Math.cos(x)-a*Math.sin(x),f.y=t*Math.sin(x)+a*Math.cos(x),f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f>0?Math.ceil(f):Math.floor(f)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a){this.val=new Float32Array(9),a?this.copy(a):this.identity()},clone:function(){return new x(this)},set:function(t){return this.copy(t)},copy:function(t){var a=this.val,i=t.val;return a[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[3],a[4]=i[4],a[5]=i[5],a[6]=i[6],a[7]=i[7],a[8]=i[8],this},fromMat4:function(t){var a=t.val,i=this.val;return i[0]=a[0],i[1]=a[1],i[2]=a[2],i[3]=a[4],i[4]=a[5],i[5]=a[6],i[6]=a[8],i[7]=a[9],i[8]=a[10],this},fromArray:function(t){var a=this.val;return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,this},transpose:function(){var t=this.val,a=t[1],i=t[2],e=t[5];return t[1]=t[3],t[2]=t[6],t[3]=a,t[5]=t[7],t[6]=i,t[7]=e,this},invert:function(){var t=this.val,a=t[0],i=t[1],e=t[2],s=t[3],r=t[4],n=t[5],o=t[6],l=t[7],h=t[8],u=h*r-n*l,c=-h*s+n*o,d=l*s-r*o,v=a*u+i*c+e*d;return v?(v=1/v,t[0]=u*v,t[1]=(-h*i+e*l)*v,t[2]=(n*i-e*r)*v,t[3]=c*v,t[4]=(h*a-e*o)*v,t[5]=(-n*a+e*s)*v,t[6]=d*v,t[7]=(-l*a+i*o)*v,t[8]=(r*a-i*s)*v,this):null},adjoint:function(){var t=this.val,a=t[0],i=t[1],e=t[2],s=t[3],r=t[4],n=t[5],o=t[6],l=t[7],h=t[8];return t[0]=r*h-n*l,t[1]=e*l-i*h,t[2]=i*n-e*r,t[3]=n*o-s*h,t[4]=a*h-e*o,t[5]=e*s-a*n,t[6]=s*l-r*o,t[7]=i*o-a*l,t[8]=a*r-i*s,this},determinant:function(){var t=this.val,a=t[0],i=t[1],e=t[2],s=t[3],r=t[4],n=t[5],o=t[6],l=t[7],h=t[8];return a*(h*r-n*l)+i*(-h*s+n*o)+e*(l*s-r*o)},multiply:function(t){var a=this.val,i=a[0],e=a[1],s=a[2],r=a[3],n=a[4],o=a[5],l=a[6],h=a[7],u=a[8],c=t.val,d=c[0],v=c[1],g=c[2],m=c[3],y=c[4],T=c[5],E=c[6],S=c[7],C=c[8];return a[0]=d*i+v*r+g*l,a[1]=d*e+v*n+g*h,a[2]=d*s+v*o+g*u,a[3]=m*i+y*r+T*l,a[4]=m*e+y*n+T*h,a[5]=m*s+y*o+T*u,a[6]=E*i+S*r+C*l,a[7]=E*e+S*n+C*h,a[8]=E*s+S*o+C*u,this},translate:function(t){var a=this.val,i=t.x,e=t.y;return a[6]=i*a[0]+e*a[3]+a[6],a[7]=i*a[1]+e*a[4]+a[7],a[8]=i*a[2]+e*a[5]+a[8],this},rotate:function(t){var a=this.val,i=a[0],e=a[1],s=a[2],r=a[3],n=a[4],o=a[5],l=Math.sin(t),h=Math.cos(t);return a[0]=h*i+l*r,a[1]=h*e+l*n,a[2]=h*s+l*o,a[3]=h*r-l*i,a[4]=h*n-l*e,a[5]=h*o-l*s,this},scale:function(t){var a=this.val,i=t.x,e=t.y;return a[0]=i*a[0],a[1]=i*a[1],a[2]=i*a[2],a[3]=e*a[3],a[4]=e*a[4],a[5]=e*a[5],this},fromQuat:function(t){var a=t.x,i=t.y,e=t.z,s=t.w,r=a+a,n=i+i,o=e+e,l=a*r,h=a*n,u=a*o,c=i*n,d=i*o,v=e*o,g=s*r,m=s*n,y=s*o,T=this.val;return T[0]=1-(c+v),T[3]=h+y,T[6]=u-m,T[1]=h-y,T[4]=1-(l+v),T[7]=d+g,T[2]=u+m,T[5]=d-g,T[8]=1-(l+c),this},normalFromMat4:function(t){var a=t.val,i=this.val,e=a[0],s=a[1],r=a[2],n=a[3],o=a[4],l=a[5],h=a[6],u=a[7],c=a[8],d=a[9],v=a[10],g=a[11],m=a[12],y=a[13],T=a[14],E=a[15],S=e*l-s*o,C=e*h-r*o,M=e*u-n*o,P=s*h-r*l,R=s*u-n*l,L=r*u-n*h,w=c*y-d*m,B=c*T-v*m,G=c*E-g*m,Y=d*T-v*y,D=d*E-g*y,F=v*E-g*T,N=S*F-C*D+M*Y+P*G-R*B+L*w;return N?(N=1/N,i[0]=(l*F-h*D+u*Y)*N,i[1]=(h*G-o*F-u*B)*N,i[2]=(o*D-l*G+u*w)*N,i[3]=(r*D-s*F-n*Y)*N,i[4]=(e*F-r*G+n*B)*N,i[5]=(s*G-e*D-n*w)*N,i[6]=(y*L-T*R+E*P)*N,i[7]=(T*M-m*L-E*C)*N,i[8]=(m*R-y*M+E*S)*N,this):null}});A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(364),t=p(1),a=p(39),i=1e-6,e=new Int8Array([1,2,0]),s=new Float32Array([0,0,0]),r=new a(1,0,0),n=new a(0,1,0),o=new a,l=new x,h=new f({initialize:function(c,d,v,g){this.onChangeCallback=t,this.set(c,d,v,g)},x:{get:function(){return this._x},set:function(u){this._x=u,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(u){this._y=u,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(u){this._z=u,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(u){this._w=u,this.onChangeCallback(this)}},copy:function(u){return this.set(u)},set:function(u,c,d,v,g){return g===void 0&&(g=!0),typeof u=="object"?(this._x=u.x||0,this._y=u.y||0,this._z=u.z||0,this._w=u.w||0):(this._x=u||0,this._y=c||0,this._z=d||0,this._w=v||0),g&&this.onChangeCallback(this),this},add:function(u){return this._x+=u.x,this._y+=u.y,this._z+=u.z,this._w+=u.w,this.onChangeCallback(this),this},subtract:function(u){return this._x-=u.x,this._y-=u.y,this._z-=u.z,this._w-=u.w,this.onChangeCallback(this),this},scale:function(u){return this._x*=u,this._y*=u,this._z*=u,this._w*=u,this.onChangeCallback(this),this},length:function(){var u=this.x,c=this.y,d=this.z,v=this.w;return Math.sqrt(u*u+c*c+d*d+v*v)},lengthSq:function(){var u=this.x,c=this.y,d=this.z,v=this.w;return u*u+c*c+d*d+v*v},normalize:function(){var u=this.x,c=this.y,d=this.z,v=this.w,g=u*u+c*c+d*d+v*v;return g>0&&(g=1/Math.sqrt(g),this._x=u*g,this._y=c*g,this._z=d*g,this._w=v*g),this.onChangeCallback(this),this},dot:function(u){return this.x*u.x+this.y*u.y+this.z*u.z+this.w*u.w},lerp:function(u,c){c===void 0&&(c=0);var d=this.x,v=this.y,g=this.z,m=this.w;return this.set(d+c*(u.x-d),v+c*(u.y-v),g+c*(u.z-g),m+c*(u.w-m))},rotationTo:function(u,c){var d=u.x*c.x+u.y*c.y+u.z*c.z;return d<-.999999?(o.copy(r).cross(u).length()<i&&o.copy(n).cross(u),o.normalize(),this.setAxisAngle(o,Math.PI)):d>.999999?this.set(0,0,0,1):(o.copy(u).cross(c),this._x=o.x,this._y=o.y,this._z=o.z,this._w=1+d,this.normalize())},setAxes:function(u,c,d){var v=l.val;return v[0]=c.x,v[3]=c.y,v[6]=c.z,v[1]=d.x,v[4]=d.y,v[7]=d.z,v[2]=-u.x,v[5]=-u.y,v[8]=-u.z,this.fromMat3(l).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(u,c){c=c*.5;var d=Math.sin(c);return this.set(d*u.x,d*u.y,d*u.z,Math.cos(c))},multiply:function(u){var c=this.x,d=this.y,v=this.z,g=this.w,m=u.x,y=u.y,T=u.z,E=u.w;return this.set(c*E+g*m+d*T-v*y,d*E+g*y+v*m-c*T,v*E+g*T+c*y-d*m,g*E-c*m-d*y-v*T)},slerp:function(u,c){var d=this.x,v=this.y,g=this.z,m=this.w,y=u.x,T=u.y,E=u.z,S=u.w,C=d*y+v*T+g*E+m*S;C<0&&(C=-C,y=-y,T=-T,E=-E,S=-S);var M=1-c,P=c;if(1-C>i){var R=Math.acos(C),L=Math.sin(R);M=Math.sin((1-c)*R)/L,P=Math.sin(c*R)/L}return this.set(M*d+P*y,M*v+P*T,M*g+P*E,M*m+P*S)},invert:function(){var u=this.x,c=this.y,d=this.z,v=this.w,g=u*u+c*c+d*d+v*v,m=g?1/g:0;return this.set(-u*m,-c*m,-d*m,v*m)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(u){u*=.5;var c=this.x,d=this.y,v=this.z,g=this.w,m=Math.sin(u),y=Math.cos(u);return this.set(c*y+g*m,d*y+v*m,v*y-d*m,g*y-c*m)},rotateY:function(u){u*=.5;var c=this.x,d=this.y,v=this.z,g=this.w,m=Math.sin(u),y=Math.cos(u);return this.set(c*y-v*m,d*y+g*m,v*y+c*m,g*y-d*m)},rotateZ:function(u){u*=.5;var c=this.x,d=this.y,v=this.z,g=this.w,m=Math.sin(u),y=Math.cos(u);return this.set(c*y+d*m,d*y-c*m,v*y+g*m,g*y-v*m)},calculateW:function(){var u=this.x,c=this.y,d=this.z;return this.w=-Math.sqrt(1-u*u-c*c-d*d),this},setFromEuler:function(u,c){var d=u.x/2,v=u.y/2,g=u.z/2,m=Math.cos(d),y=Math.cos(v),T=Math.cos(g),E=Math.sin(d),S=Math.sin(v),C=Math.sin(g);switch(u.order){case"XYZ":{this.set(E*y*T+m*S*C,m*S*T-E*y*C,m*y*C+E*S*T,m*y*T-E*S*C,c);break}case"YXZ":{this.set(E*y*T+m*S*C,m*S*T-E*y*C,m*y*C-E*S*T,m*y*T+E*S*C,c);break}case"ZXY":{this.set(E*y*T-m*S*C,m*S*T+E*y*C,m*y*C+E*S*T,m*y*T-E*S*C,c);break}case"ZYX":{this.set(E*y*T-m*S*C,m*S*T+E*y*C,m*y*C-E*S*T,m*y*T+E*S*C,c);break}case"YZX":{this.set(E*y*T+m*S*C,m*S*T+E*y*C,m*y*C-E*S*T,m*y*T-E*S*C,c);break}case"XZY":{this.set(E*y*T-m*S*C,m*S*T-E*y*C,m*y*C+E*S*T,m*y*T+E*S*C,c);break}}return this},setFromRotationMatrix:function(u){var c=u.val,d=c[0],v=c[4],g=c[8],m=c[1],y=c[5],T=c[9],E=c[2],S=c[6],C=c[10],M=d+y+C,P;return M>0?(P=.5/Math.sqrt(M+1),this.set((S-T)*P,(g-E)*P,(m-v)*P,.25/P)):d>y&&d>C?(P=2*Math.sqrt(1+d-y-C),this.set(.25*P,(v+m)/P,(g+E)/P,(S-T)/P)):y>C?(P=2*Math.sqrt(1+y-d-C),this.set((v+m)/P,.25*P,(T+S)/P,(g-E)/P)):(P=2*Math.sqrt(1+C-d-y),this.set((g+E)/P,(T+S)/P,.25*P,(m-v)/P)),this},fromMat3:function(u){var c=u.val,d=c[0]+c[4]+c[8],v;if(d>0)v=Math.sqrt(d+1),this.w=.5*v,v=.5/v,this._x=(c[7]-c[5])*v,this._y=(c[2]-c[6])*v,this._z=(c[3]-c[1])*v;else{var g=0;c[4]>c[0]&&(g=1),c[8]>c[g*3+g]&&(g=2);var m=e[g],y=e[m];v=Math.sqrt(c[g*3+g]-c[m*3+m]-c[y*3+y]+1),s[g]=.5*v,v=.5/v,s[m]=(c[m*3+g]+c[g*3+m])*v,s[y]=(c[y*3+g]+c[g*3+y])*v,this._x=s[0],this._y=s[1],this._z=s[2],this._w=(c[y*3+m]-c[m*3+y])*v}return this.onChangeCallback(this),this}});A.exports=h},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(367),x=p(31),t=p(33),a=p(191),i=function(e){var s=e.config;if((s.customEnvironment||s.canvas)&&s.renderType===t.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!s.customEnvironment&&!s.canvas&&s.renderType!==t.HEADLESS)if(s.renderType===t.CANVAS||s.renderType!==t.CANVAS&&!a.webGL)if(a.canvas)s.renderType=t.CANVAS;else throw new Error("Cannot create Canvas or WebGL context, aborting.");else s.renderType=t.WEBGL;s.antialias||x.disableSmoothing();var r=e.scale.baseSize,n=r.width,o=r.height;if(s.canvas?(e.canvas=s.canvas,e.canvas.width=n,e.canvas.height=o):e.canvas=x.create(e,n,o,s.renderType),s.canvasStyle&&(e.canvas.style=s.canvasStyle),s.antialias||f.setCrisp(e.canvas),s.renderType!==t.HEADLESS){var l,h;l=p(368),h=p(371),s.renderType===t.WEBGL?e.renderer=new h(e):(e.renderer=new l(e),e.context=e.renderer.gameContext)}};A.exports=i},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setCrisp:function(f){var x=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return x.forEach(function(t){f.style["image-rendering"]=t}),f.style.msInterpolationMode="nearest-neighbor",f},setBicubic:function(f){return f.style["image-rendering"]="auto",f.style.msInterpolationMode="bicubic",f}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(37),x=p(369),t=p(0),a=p(33),i=p(9),e=p(91),s=p(370),r=p(104),n=p(106),o=p(25),l=new t({Extends:i,initialize:function(u){i.call(this);var c=u.config;this.config={clearBeforeRender:c.clearBeforeRender,backgroundColor:c.backgroundColor,antialias:c.antialias,roundPixels:c.roundPixels},this.game=u,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=u.canvas;var d={alpha:u.config.transparent,desynchronized:u.config.desynchronized};this.gameContext=c.context?c.context:this.gameCanvas.getContext("2d",d),this.currentContext=this.gameContext,this.antialias=u.config.antialias,this.blendModes=s(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(n.READY,this.boot,this)},boot:function(){var h=this.game,u=h.scale.baseSize;this.width=u.width,this.height=u.height,this.isBooted=!0,h.scale.on(r.RESIZE,this.onResize,this),this.resize(u.width,u.height)},onResize:function(h,u){(u.width!==this.width||u.height!==this.height)&&this.resize(u.width,u.height)},resize:function(h,u){this.width=h,this.height=u,this.emit(e.RESIZE,h,u)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(h){return this.currentContext.globalCompositeOperation=h,this},setContext:function(h){return this.currentContext=h||this.gameContext,this},setAlpha:function(h){return this.currentContext.globalAlpha=h,this},preRender:function(){var h=this.gameContext,u=this.config,c=this.width,d=this.height;h.globalAlpha=1,h.globalCompositeOperation="source-over",h.setTransform(1,0,0,1,0,0),u.clearBeforeRender&&(h.clearRect(0,0,c,d),u.transparent||(h.fillStyle=u.backgroundColor.rgba,h.fillRect(0,0,c,d))),h.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(h,u,c){var d=u.length;this.emit(e.RENDER,h,c);var v=c.x,g=c.y,m=c.width,y=c.height,T=c.renderToTexture?c.context:h.sys.context;T.save(),this.game.scene.customViewports&&(T.beginPath(),T.rect(v,g,m,y),T.clip()),this.currentContext=T;var E=c.mask;E&&E.preRenderCanvas(this,null,c._maskCamera),c.transparent||(T.fillStyle=c.backgroundColor.rgba,T.fillRect(v,g,m,y)),T.globalAlpha=c.alpha,T.globalCompositeOperation="source-over",this.drawCount+=d,c.renderToTexture&&c.emit(f.PRE_RENDER,c),c.matrix.copyToContext(T);for(var S=0;S<d;S++){var C=u[S];C.mask&&C.mask.preRenderCanvas(this,C,c),C.renderCanvas(this,C,c),C.mask&&C.mask.postRenderCanvas(this,C,c)}T.setTransform(1,0,0,1,0,0),T.globalCompositeOperation="source-over",T.globalAlpha=1,c.flashEffect.postRenderCanvas(T),c.fadeEffect.postRenderCanvas(T),c.dirty=!1,E&&E.postRenderCanvas(this),T.restore(),c.renderToTexture&&(c.emit(f.POST_RENDER,c),c.renderToGame&&h.sys.context.drawImage(c.canvas,v,g))},postRender:function(){var h=this.gameContext;h.restore(),this.emit(e.POST_RENDER);var u=this.snapshotState;u.callback&&(x(this.gameCanvas,u),u.callback=null)},snapshotCanvas:function(h,u,c,d,v,g,m,y,T){c===void 0&&(c=!1),this.snapshotArea(d,v,g,m,u,y,T);var E=this.snapshotState;return E.getPixel=c,x(this.canvas,E),E.callback=null,this},snapshot:function(h,u,c){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,h,u,c)},snapshotArea:function(h,u,c,d,v,g,m){var y=this.snapshotState;return y.callback=v,y.type=g,y.encoder=m,y.getPixel=!1,y.x=h,y.y=u,y.width=Math.min(c,this.gameCanvas.width),y.height=Math.min(d,this.gameCanvas.height),this},snapshotPixel:function(h,u,c){return this.snapshotArea(h,u,1,1,c),this.snapshotState.getPixel=!0,this},batchSprite:function(h,u,c,d){var v=c.alpha*h.alpha;if(v!==0){var g=this.currentContext,m=this._tempMatrix1,y=this._tempMatrix2,T=u.canvasData,E=T.x,S=T.y,C=u.cutWidth,M=u.cutHeight,P=u.customPivot,R=u.source.resolution,L=h.displayOriginX,w=h.displayOriginY,B=-L+u.x,G=-w+u.y;if(h.isCropped){var Y=h._crop;(Y.flipX!==h.flipX||Y.flipY!==h.flipY)&&u.updateCropUVs(Y,h.flipX,h.flipY),C=Y.cw,M=Y.ch,E=Y.cx,S=Y.cy,B=-L+Y.x,G=-w+Y.y,h.flipX&&(B>=0?B=-(B+C):B<0&&(B=Math.abs(B)-C)),h.flipY&&(G>=0?G=-(G+M):G<0&&(G=Math.abs(G)-M))}var D=1,F=1;h.flipX&&(P||(B+=-u.realWidth+L*2),D=-1),h.flipY&&(P||(G+=-u.realHeight+w*2),F=-1),y.applyITRS(h.x,h.y,h.rotation,h.scaleX*D,h.scaleY*F),m.copyFrom(c.matrix),d?(m.multiplyWithOffset(d,-c.scrollX*h.scrollFactorX,-c.scrollY*h.scrollFactorY),y.e=h.x,y.f=h.y):(y.e-=c.scrollX*h.scrollFactorX,y.f-=c.scrollY*h.scrollFactorY),m.multiply(y),g.save(),m.setToContext(g),g.globalCompositeOperation=this.blendModes[h.blendMode],g.globalAlpha=v,g.imageSmoothingEnabled=!(!this.antialias||u.source.scaleMode),h.mask&&h.mask.preRenderCanvas(this,h,c),g.drawImage(u.source.image,E,S,C,M,B,G,C/R,M/R),h.mask&&h.mask.postRenderCanvas(this,h,c),g.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});A.exports=l},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(31),x=p(38),t=p(2),a=function(i,e){var s=t(e,"callback"),r=t(e,"type","image/png"),n=t(e,"encoder",.92),o=Math.abs(Math.round(t(e,"x",0))),l=Math.abs(Math.round(t(e,"y",0))),h=t(e,"width",i.width),u=t(e,"height",i.height),c=t(e,"getPixel",!1);if(c){var d=i.getContext("2d"),v=d.getImageData(o,l,1,1),g=v.data;s.call(null,new x(g[0],g[1],g[2],g[3]/255))}else if(o!==0||l!==0||h!==i.width||u!==i.height){var m=f.createWebGL(this,h,u),y=m.getContext("2d");y.drawImage(i,o,l,h,u,0,0,h,u);var T=new Image;T.onerror=function(){s.call(null),f.remove(m)},T.onload=function(){s.call(null,T),f.remove(m)},T.src=m.toDataURL(r,n)}else{var E=new Image;E.onerror=function(){s.call(null)},E.onload=function(){s.call(null,E)},E.src=i.toDataURL(r,n)}};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(35),x=p(348),t=function(){var a=[],i=x.supportNewBlendModes,e="source-over";return a[f.NORMAL]=e,a[f.ADD]="lighter",a[f.MULTIPLY]=i?"multiply":e,a[f.SCREEN]=i?"screen":e,a[f.OVERLAY]=i?"overlay":e,a[f.DARKEN]=i?"darken":e,a[f.LIGHTEN]=i?"lighten":e,a[f.COLOR_DODGE]=i?"color-dodge":e,a[f.COLOR_BURN]=i?"color-burn":e,a[f.HARD_LIGHT]=i?"hard-light":e,a[f.SOFT_LIGHT]=i?"soft-light":e,a[f.DIFFERENCE]=i?"difference":e,a[f.EXCLUSION]=i?"exclusion":e,a[f.HUE]=i?"hue":e,a[f.SATURATION]=i?"saturation":e,a[f.COLOR]=i?"color":e,a[f.LUMINOSITY]=i?"luminosity":e,a[f.ERASE]="destination-out",a[f.SOURCE_IN]="source-in",a[f.SOURCE_OUT]="source-out",a[f.SOURCE_ATOP]="source-atop",a[f.DESTINATION_OVER]="destination-over",a[f.DESTINATION_IN]="destination-in",a[f.DESTINATION_OUT]="destination-out",a[f.DESTINATION_ATOP]="destination-atop",a[f.LIGHTER]="lighter",a[f.COPY]="copy",a[f.XOR]="xor",a};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(93),x=p(37),t=p(0),a=p(33),i=p(9),e=p(91),s=p(22),r=p(138),n=p(69),o=p(1),l=p(372),h=p(141),u=p(104),c=p(106),d=p(12),v=p(383),g=new t({Extends:i,initialize:function(y){i.call(this);var T=y.config,E={alpha:T.transparent,desynchronized:T.desynchronized,depth:!1,antialias:T.antialiasGL,premultipliedAlpha:T.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:T.failIfMajorPerformanceCaveat,powerPreference:T.powerPreference,preserveDrawingBuffer:T.preserveDrawingBuffer};this.config={clearBeforeRender:T.clearBeforeRender,antialias:T.antialias,backgroundColor:T.backgroundColor,contextCreation:E,roundPixels:T.roundPixels,maxTextures:T.maxTextures,maxTextureSize:T.maxTextureSize,batchSize:T.batchSize,maxLights:T.maxLights,mipmapFilter:T.mipmapFilter},this.game=y,this.type=a.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=y.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTexture=0,this.startActiveTexture=0,this.maxTextures=0,this.textureIndexes,this.tempTextures,this.textureZero,this.normalTexture,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=o,this.contextRestoredHandler=o,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.textureFlush=0,this.isTextureClean=!1,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.init(this.config)},init:function(m){var y,T=this.game,E=this.canvas,S=m.backgroundColor;if(T.config.context?y=T.config.context:y=E.getContext("webgl",m.contextCreation)||E.getContext("experimental-webgl",m.contextCreation),!y||y.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=y;var C=this;this.contextLostHandler=function(N){C.contextLost=!0,C.game.events.emit(s.CONTEXT_LOST,C),N.preventDefault()},this.contextRestoredHandler=function(){C.contextLost=!1,C.init(C.config),C.game.events.emit(s.CONTEXT_RESTORED,C)},E.addEventListener("webglcontextlost",this.contextLostHandler,!1),E.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),T.context=y;for(var M=0;M<=27;M++)this.blendModes.push({func:[y.ONE,y.ONE_MINUS_SRC_ALPHA],equation:y.FUNC_ADD});this.blendModes[1].func=[y.ONE,y.DST_ALPHA],this.blendModes[2].func=[y.DST_COLOR,y.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[y.ONE,y.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[y.ZERO,y.ONE_MINUS_SRC_ALPHA],equation:y.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=y.BYTE,this.glFormats[1]=y.SHORT,this.glFormats[2]=y.UNSIGNED_BYTE,this.glFormats[3]=y.UNSIGNED_SHORT,this.glFormats[4]=y.FLOAT,this.glFuncMap={mat2:{func:y.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:y.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:y.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:y.uniform1f,length:1},"1fv":{func:y.uniform1fv,length:1},"1i":{func:y.uniform1i,length:1},"1iv":{func:y.uniform1iv,length:1},"2f":{func:y.uniform2f,length:2},"2fv":{func:y.uniform2fv,length:1},"2i":{func:y.uniform2i,length:2},"2iv":{func:y.uniform2iv,length:1},"3f":{func:y.uniform3f,length:3},"3fv":{func:y.uniform3fv,length:1},"3i":{func:y.uniform3i,length:3},"3iv":{func:y.uniform3iv,length:1},"4f":{func:y.uniform4f,length:4},"4fv":{func:y.uniform4fv,length:1},"4i":{func:y.uniform4i,length:4},"4iv":{func:y.uniform4iv,length:1}};var P=y.getSupportedExtensions();(!m.maxTextures||m.maxTextures===-1)&&(m.maxTextures=y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS)),m.maxTextureSize||(m.maxTextureSize=y.getParameter(y.MAX_TEXTURE_SIZE));var R="WEBGL_compressed_texture_",L="WEBKIT_"+R;this.compression.ETC1=y.getExtension(R+"etc1")||y.getExtension(L+"etc1"),this.compression.PVRTC=y.getExtension(R+"pvrtc")||y.getExtension(L+"pvrtc"),this.compression.S3TC=y.getExtension(R+"s3tc")||y.getExtension(L+"s3tc"),this.supportedExtensions=P;var w="ANGLE_instanced_arrays";this.instancedArraysExtension=P.indexOf(w)>-1?y.getExtension(w):null;var B="OES_vertex_array_object";this.vaoExtension=P.indexOf(B)>-1?y.getExtension(B):null,y.disable(y.DEPTH_TEST),y.disable(y.CULL_FACE),y.enable(y.BLEND),y.clearColor(S.redGL,S.greenGL,S.blueGL,S.alphaGL),this.mipmapFilter=y[m.mipmapFilter],this.maxTextures=d.checkShaderMax(y,m.maxTextures),this.textureIndexes=[];var G=this.tempTextures;if(Array.isArray(G))for(var Y=0;M<this.maxTextures;Y++)y.deleteTexture(G[Y]);else G=new Array(this.maxTextures);for(var D=0;D<this.maxTextures;D++){var F=y.createTexture();y.activeTexture(y.TEXTURE0+D),y.bindTexture(y.TEXTURE_2D,F),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,1,1,0,y.RGBA,y.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),G[D]=F,this.textureIndexes.push(D)}return this.tempTextures=G,this.currentActiveTexture=1,this.startActiveTexture++,y.activeTexture(y.TEXTURE1),this.pipelines=new l(this),this.setBlendMode(a.BlendModes.NORMAL),this.projectionMatrix=new n().identity(),T.textures.once(c.READY,this.boot,this),this},boot:function(){var m=this.game,y=this.pipelines,T=m.scale.baseSize;this.width=T.width,this.height=T.height,this.isBooted=!0,this.renderTarget=new h(this,this.width,this.height,1,0,!0,!0),y.boot(m.config.pipeline),this.blankTexture=m.textures.getFrame("__DEFAULT"),this.whiteTexture=m.textures.getFrame("__WHITE");var E=this.gl;E.bindFramebuffer(E.FRAMEBUFFER,null),E.enable(E.SCISSOR_TEST),m.scale.on(u.RESIZE,this.onResize,this),this.resize(T.width,T.height)},onResize:function(m,y){(y.width!==this.width||y.height!==this.height)&&this.resize(y.width,y.height)},beginCapture:function(m,y){m===void 0&&(m=this.width),y===void 0&&(y=this.height),this.renderTarget.bind(!0,m,y),this.setProjectionMatrix(m,y),this.resetTextures()},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(m,y){var T=this.gl;return this.width=m,this.height=y,this.setProjectionMatrix(m,y),T.viewport(0,0,m,y),this.drawingBufferHeight=T.drawingBufferHeight,T.scissor(0,T.drawingBufferHeight-y,m,y),this.defaultScissor[2]=m,this.defaultScissor[3]=y,this.emit(e.RESIZE,m,y),this},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(m,y){return(m!==this.projectionWidth||y!==this.projectionHeight)&&(this.projectionWidth=m,this.projectionHeight=y,this.projectionMatrix.ortho(0,m,y,0,-1e3,1e3)),this},resetProjectionMatrix:function(){this.projectionWidth=this.width,this.projectionHeight=this.height,this.projectionMatrix.ortho(0,this.width,this.height,0,-1e3,1e3)},hasExtension:function(m){return this.supportedExtensions?this.supportedExtensions.indexOf(m):!1},getExtension:function(m){return this.hasExtension(m)?(m in this.extensions||(this.extensions[m]=this.gl.getExtension(m)),this.extensions[m]):null},flush:function(){this.pipelines.flush()},pushScissor:function(m,y,T,E,S){S===void 0&&(S=this.drawingBufferHeight);var C=this.scissorStack,M=[m,y,T,E];return C.push(M),this.setScissor(m,y,T,E,S),this.currentScissor=M,M},setScissor:function(m,y,T,E,S){S===void 0&&(S=this.drawingBufferHeight);var C=this.gl,M=this.currentScissor,P=T>0&&E>0;if(M&&P){var R=M[0],L=M[1],w=M[2],B=M[3];P=R!==m||L!==y||w!==T||B!==E}P&&(this.flush(),C.scissor(m,S-y-E,T,E))},resetScissor:function(){var m=this.gl;m.enable(m.SCISSOR_TEST);var y=this.currentScissor;if(y){var T=y[0],E=y[1],S=y[2],C=y[3];S>0&&C>0&&m.scissor(T,this.drawingBufferHeight-E-C,S,C)}},popScissor:function(){var m=this.scissorStack;m.pop();var y=m[m.length-1];y&&this.setScissor(y[0],y[1],y[2],y[3]),this.currentScissor=y},hasActiveStencilMask:function(){var m=this.currentMask.mask,y=this.currentCameraMask.mask;return m&&m.isStencil||y&&y.isStencil},resetViewport:function(){var m=this.gl;m.viewport(0,0,this.width,this.height),this.drawingBufferHeight=m.drawingBufferHeight},setBlendMode:function(m,y){y===void 0&&(y=!1);var T=this.gl,E=this.blendModes[m];return y||m!==a.BlendModes.SKIP_CHECK&&this.currentBlendMode!==m?(this.flush(),T.enable(T.BLEND),T.blendEquation(E.equation),E.func.length>2?T.blendFuncSeparate(E.func[0],E.func[1],E.func[2],E.func[3]):T.blendFunc(E.func[0],E.func[1]),this.currentBlendMode=m,!0):!1},addBlendMode:function(m,y){var T=this.blendModes.push({func:m,equation:y});return T-1},updateBlendMode:function(m,y,T){return this.blendModes[m]&&(this.blendModes[m].func=y,T&&(this.blendModes[m].equation=T)),this},removeBlendMode:function(m){return m>17&&this.blendModes[m]&&this.blendModes.splice(m,1),this},setBlankTexture:function(){this.setTexture2D(this.blankTexture.glTexture)},setTextureSource:function(m){if(this.pipelines.forceZero())return this.setTextureZero(m.glTexture,!0),0;var y=this.gl,T=this.currentActiveTexture;return m.glIndexCounter<this.startActiveTexture&&(m.glIndexCounter=this.startActiveTexture,T<this.maxTextures?(m.glIndex=T,y.activeTexture(y.TEXTURE0+T),y.bindTexture(y.TEXTURE_2D,m.glTexture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,m.glIndexCounter=this.startActiveTexture,m.glIndex=1,y.activeTexture(y.TEXTURE1),y.bindTexture(y.TEXTURE_2D,m.glTexture),this.currentActiveTexture=2)),this.isTextureClean=!1,m.glIndex},isNewNormalMap:function(m,y){return this.textureZero!==m||this.normalTexture!==y},setTextureZero:function(m,y){if(this.textureZero!==m){y&&this.flush();var T=this.gl;T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,m),this.textureZero=m}},clearTextureZero:function(){this.textureZero=null},setNormalMap:function(m){if(this.normalTexture!==m){var y=this.gl;y.activeTexture(y.TEXTURE1),y.bindTexture(y.TEXTURE_2D,m),this.normalTexture=m,this.currentActiveTexture===1&&(this.currentActiveTexture=2)}},clearNormalMap:function(){this.normalTexture=null,this.startActiveTexture++,this.currentActiveTexture=1,this.textureFlush++},unbindTextures:function(){for(var m=this.gl,y=this.tempTextures,T=0;T<y.length;T++)m.activeTexture(m.TEXTURE0+T),m.bindTexture(m.TEXTURE_2D,null);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++},resetTextures:function(m){if(m===void 0&&(m=!1),!this.isTextureClean){this.flush();var y=this.gl,T=this.tempTextures;if(m){for(var E=0;E<T.length;E++)y.activeTexture(y.TEXTURE0+E),y.bindTexture(y.TEXTURE_2D,T[E]);y.activeTexture(y.TEXTURE1),y.bindTexture(y.TEXTURE_2D,T[1]),this.isTextureClean=!0}else y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,T[0]),y.activeTexture(y.TEXTURE1),y.bindTexture(y.TEXTURE_2D,T[1]);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++}},setTexture2D:function(m){if(this.pipelines.forceZero())return this.setTextureZero(m,!0),0;var y=this.gl,T=this.currentActiveTexture;return m.glIndexCounter<this.startActiveTexture&&(m.glIndexCounter=this.startActiveTexture,T<this.maxTextures?(m.glIndex=T,y.activeTexture(y.TEXTURE0+T),y.bindTexture(y.TEXTURE_2D,m),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,m.glIndexCounter=this.startActiveTexture,m.glIndex=1,y.activeTexture(y.TEXTURE1),y.bindTexture(y.TEXTURE_2D,m),this.currentActiveTexture=2)),this.isTextureClean=!1,m.glIndex},pushFramebuffer:function(m,y,T,E){return m===this.currentFramebuffer?this:(this.fboStack.push(m),this.setFramebuffer(m,y,T,E))},setFramebuffer:function(m,y,T,E){if(y===void 0&&(y=!1),T===void 0&&(T=!1),E===void 0&&(E=!0),m===this.currentFramebuffer)return this;var S=this.gl,C=this.width,M=this.height;return m&&m.renderTexture&&E?(C=m.renderTexture.width,M=m.renderTexture.height):this.flush(),S.bindFramebuffer(S.FRAMEBUFFER,m),E&&S.viewport(0,0,C,M),y&&(m?(this.drawingBufferHeight=M,this.pushScissor(0,0,C,M)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=m,T&&this.resetTextures(),this},popFramebuffer:function(m,y,T){m===void 0&&(m=!1),y===void 0&&(y=!1),T===void 0&&(T=!0);var E=this.fboStack;E.pop();var S=E[E.length-1];return S||(S=null),this.setFramebuffer(S,m,y,T),S},setProgram:function(m){return m!==this.currentProgram?(this.flush(),this.gl.useProgram(m),this.currentProgram=m,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(m,y,T,E){var S=this.gl,C=S.NEAREST,M=S.NEAREST,P=S.CLAMP_TO_EDGE,R=null;y=m?m.width:y,T=m?m.height:T;var L=r(y,T);return L&&(P=S.REPEAT),E===a.ScaleModes.LINEAR&&this.config.antialias&&(C=L?this.mipmapFilter:S.LINEAR,M=S.LINEAR),!m&&typeof y=="number"&&typeof T=="number"?R=this.createTexture2D(0,C,M,P,P,S.RGBA,null,y,T):R=this.createTexture2D(0,C,M,P,P,S.RGBA,m),R},createTexture2D:function(m,y,T,E,S,C,M,P,R,L,w,B){L=L==null?!0:L,w===void 0&&(w=!1),B===void 0&&(B=!1);var G=this.gl,Y=G.createTexture();G.activeTexture(G.TEXTURE0);var D=G.getParameter(G.TEXTURE_BINDING_2D);return G.bindTexture(G.TEXTURE_2D,Y),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,y),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,T),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_S,S),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_T,E),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,L),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,B),M==null?G.texImage2D(G.TEXTURE_2D,m,C,P,R,0,C,G.UNSIGNED_BYTE,null):(w||(P=M.width,R=M.height),G.texImage2D(G.TEXTURE_2D,m,C,C,G.UNSIGNED_BYTE,M)),r(P,R)&&G.generateMipmap(G.TEXTURE_2D),D&&G.bindTexture(G.TEXTURE_2D,D),Y.isAlphaPremultiplied=L,Y.isRenderTexture=!1,Y.width=P,Y.height=R,Y.glIndex=0,Y.glIndexCounter=-1,Y},createFramebuffer:function(m,y,T,E){var S=this.gl,C=S.createFramebuffer(),M=0;if(this.setFramebuffer(C),E){var P=S.createRenderbuffer();S.bindRenderbuffer(S.RENDERBUFFER,P),S.renderbufferStorage(S.RENDERBUFFER,S.DEPTH_STENCIL,m,y),S.framebufferRenderbuffer(S.FRAMEBUFFER,S.DEPTH_STENCIL_ATTACHMENT,S.RENDERBUFFER,P)}if(T.isRenderTexture=!0,T.isAlphaPremultiplied=!1,S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,T,0),M=S.checkFramebufferStatus(S.FRAMEBUFFER),M!==S.FRAMEBUFFER_COMPLETE){var R={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+R[M])}return C.renderTexture=T,this.setFramebuffer(null),this.resetTextures(),C},createProgram:function(m,y){var T=this.gl,E=T.createProgram(),S=T.createShader(T.VERTEX_SHADER),C=T.createShader(T.FRAGMENT_SHADER);if(T.shaderSource(S,m),T.shaderSource(C,y),T.compileShader(S),T.compileShader(C),!T.getShaderParameter(S,T.COMPILE_STATUS))throw new Error(`Vertex Shader failed:
`+T.getShaderInfoLog(S));if(!T.getShaderParameter(C,T.COMPILE_STATUS))throw new Error(`Fragment Shader failed:
`+T.getShaderInfoLog(C));if(T.attachShader(E,S),T.attachShader(E,C),T.linkProgram(E),!T.getProgramParameter(E,T.LINK_STATUS))throw new Error(`Link Program failed:
`+T.getProgramInfoLog(E));return T.useProgram(E),E},createVertexBuffer:function(m,y){var T=this.gl,E=T.createBuffer();return T.bindBuffer(T.ARRAY_BUFFER,E),T.bufferData(T.ARRAY_BUFFER,m,y),T.bindBuffer(T.ARRAY_BUFFER,null),E},createIndexBuffer:function(m,y){var T=this.gl,E=T.createBuffer();return T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,E),T.bufferData(T.ELEMENT_ARRAY_BUFFER,m,y),T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,null),E},deleteTexture:function(m,y){return y&&this.resetTextures(!0),m&&this.gl.deleteTexture(m),this},deleteFramebuffer:function(m){return m&&(this.gl.deleteFramebuffer(m),f(this.fboStack,m),this.currentFramebuffer===m&&(this.currentFramebuffer=null)),this},deleteProgram:function(m){return m&&this.gl.deleteProgram(m),this},deleteBuffer:function(m){return this.gl.deleteBuffer(m),this},preRenderCamera:function(m){var y=m.x,T=m.y,E=m.width,S=m.height,C=m.backgroundColor;if(m.emit(x.PRE_RENDER,m),this.pipelines.preBatchCamera(m),this.pushScissor(y,T,E,S),m.mask&&(this.currentCameraMask.mask=m.mask,this.currentCameraMask.camera=m._maskCamera,m.mask.preRenderWebGL(this,m,m._maskCamera)),C.alphaGL>0){var M=this.pipelines.setMulti();M.drawFillRect(y,T,E,S,d.getTintFromFloats(C.blueGL,C.greenGL,C.redGL,1),C.alphaGL)}},getCurrentStencilMask:function(){var m=null,y=this.maskStack,T=this.currentCameraMask;return y.length>0?m=y[y.length-1]:T.mask&&T.mask.isStencil&&(m=T),m},postRenderCamera:function(m){var y=m.flashEffect,T=m.fadeEffect;if(y.isRunning||T.isRunning||T.isComplete){var E=this.pipelines.setMulti();y.postRenderWebGL(E,d.getTintFromFloats),T.postRenderWebGL(E,d.getTintFromFloats)}m.dirty=!1,this.popScissor(),m.mask&&(this.currentCameraMask.mask=null,m.mask.postRenderWebGL(this,m._maskCamera)),this.pipelines.postBatchCamera(m),m.emit(x.POST_RENDER,m)},preRender:function(){if(!this.contextLost){var m=this.gl;if(m.bindFramebuffer(m.FRAMEBUFFER,null),this.config.clearBeforeRender){var y=this.config.backgroundColor;m.clearColor(y.redGL,y.greenGL,y.blueGL,y.alphaGL),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT|m.STENCIL_BUFFER_BIT)}m.enable(m.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&m.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.textureFlush=0,this.emit(e.PRE_RENDER)}},render:function(m,y,T){if(!this.contextLost){var E=y.length;if(this.emit(e.RENDER,m,T),this.preRenderCamera(T),E===0){this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(T);return}this.currentType="";for(var S=this.currentMask,C=0;C<E;C++){this.finalType=C===E-1;var M=y[C],P=M.mask;S=this.currentMask,S.mask&&S.mask!==P&&S.mask.postRenderWebGL(this,S.camera),P&&S.mask!==P&&P.preRenderWebGL(this,M,T),M.blendMode!==this.currentBlendMode&&this.setBlendMode(M.blendMode);var R=M.type;R!==this.currentType&&(this.newType=!0,this.currentType=R),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=y[C+1].type===this.currentType,M.renderWebGL(this,M,T),this.newType=!1}S=this.currentMask,S.mask&&S.mask.postRenderWebGL(this,S.camera),this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(T)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(e.POST_RENDER);var m=this.snapshotState;m.callback&&(v(this.canvas,m),m.callback=null),this.textureFlush>0&&(this.startActiveTexture++,this.currentActiveTexture=1)}},snapshot:function(m,y,T){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,m,y,T)},snapshotArea:function(m,y,T,E,S,C,M){var P=this.snapshotState;return P.callback=S,P.type=C,P.encoder=M,P.getPixel=!1,P.x=m,P.y=y,P.width=Math.min(T,this.gl.drawingBufferWidth),P.height=Math.min(E,this.gl.drawingBufferHeight),this},snapshotPixel:function(m,y,T){return this.snapshotArea(m,y,1,1,T),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(m,y,T,E,S,C,M,P,R,L,w){S===void 0&&(S=!1),C===void 0&&(C=0),M===void 0&&(M=0),P===void 0&&(P=y),R===void 0&&(R=T);var B=this.currentFramebuffer;this.snapshotArea(C,M,P,R,E,L,w);var G=this.snapshotState;return G.getPixel=S,G.isFramebuffer=!0,G.bufferWidth=y,G.bufferHeight=T,this.setFramebuffer(m),v(this.canvas,G),this.setFramebuffer(B),G.callback=null,G.isFramebuffer=!1,this},canvasToTexture:function(m,y,T,E){return T===void 0&&(T=!1),E===void 0&&(E=!1),y?this.updateCanvasTexture(m,y,E):this.createCanvasTexture(m,T,E)},createCanvasTexture:function(m,y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);var E=this.gl,S=E.NEAREST,C=E.NEAREST,M=m.width,P=m.height,R=E.CLAMP_TO_EDGE,L=r(M,P);return!y&&L&&(R=E.REPEAT),this.config.antialias&&(S=L?this.mipmapFilter:E.LINEAR,C=E.LINEAR),this.createTexture2D(0,S,C,R,R,E.RGBA,m,M,P,!0,!1,T)},updateCanvasTexture:function(m,y,T){T===void 0&&(T=!1);var E=this.gl,S=m.width,C=m.height;if(S>0&&C>0){E.activeTexture(E.TEXTURE0);var M=E.getParameter(E.TEXTURE_BINDING_2D);E.bindTexture(E.TEXTURE_2D,y),E.pixelStorei(E.UNPACK_FLIP_Y_WEBGL,T),E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,m),y.width=S,y.height=C,M&&E.bindTexture(E.TEXTURE_2D,M)}return y},createVideoTexture:function(m,y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);var E=this.gl,S=E.NEAREST,C=E.NEAREST,M=m.videoWidth,P=m.videoHeight,R=E.CLAMP_TO_EDGE,L=r(M,P);return!y&&L&&(R=E.REPEAT),this.config.antialias&&(S=L?this.mipmapFilter:E.LINEAR,C=E.LINEAR),this.createTexture2D(0,S,C,R,R,E.RGBA,m,M,P,!0,!0,T)},updateVideoTexture:function(m,y,T){T===void 0&&(T=!1);var E=this.gl,S=m.videoWidth,C=m.videoHeight;if(S>0&&C>0){E.activeTexture(E.TEXTURE0);var M=E.getParameter(E.TEXTURE_BINDING_2D);E.bindTexture(E.TEXTURE_2D,y),E.pixelStorei(E.UNPACK_FLIP_Y_WEBGL,T),E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,m),y.width=S,y.height=C,M&&E.bindTexture(E.TEXTURE_2D,M)}return y},setTextureFilter:function(m,y){var T=this.gl,E=[T.LINEAR,T.NEAREST][y];T.activeTexture(T.TEXTURE0);var S=T.getParameter(T.TEXTURE_BINDING_2D);return T.bindTexture(T.TEXTURE_2D,m),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,E),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,E),S&&T.bindTexture(T.TEXTURE_2D,S),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);for(var m=this.gl,y=this.tempTextures,T=0;T<y.length;T++)m.deleteTexture(y[T]);this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});A.exports=g},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(92),t=p(102),a=p(373),i=p(376),e=p(377),s=p(108),r=p(378),n=p(379),o=p(380),l=p(381),h=new f({initialize:function(c){this.game=c.game,this.renderer=c,this.classes=new t([[x.UTILITY_PIPELINE,l],[x.MULTI_PIPELINE,s],[x.BITMAPMASK_PIPELINE,a],[x.SINGLE_PIPELINE,o],[x.ROPE_PIPELINE,n],[x.LIGHT_PIPELINE,e],[x.POINTLIGHT_PIPELINE,r],[x.GRAPHICS_PIPELINE,i]]),this.postPipelineClasses=new t,this.pipelines=new t,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(u){var c,d,v=this,g=this.game;if(this.classes.each(function(y,T){c=v.add(y,new T({game:g})),y===x.UTILITY_PIPELINE&&(v.UTILITY_PIPELINE=c,v.fullFrame1=c.fullFrame1,v.fullFrame2=c.fullFrame2,v.halfFrame1=c.halfFrame1,v.halfFrame2=c.halfFrame2)}),this.MULTI_PIPELINE=this.get(x.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(x.BITMAPMASK_PIPELINE),u)for(d in u){var m=u[d];c=new m(g),c.isPostFX?this.postPipelineClasses.set(d,m):this.has(d)||(this.classes.set(d,m),this.add(d,c))}},add:function(u,c){if(c.isPostFX){console.warn(u+" is a Post Pipeline. Use `addPostPipeline` instead");return}var d=this.pipelines,v=this.renderer;return d.has(u)?console.warn("Pipeline exists: "+u):(c.name=u,c.manager=this,d.set(u,c)),c.hasBooted||c.boot(),v.width!==0&&v.height!==0&&c.resize(v.width,v.height),c},addPostPipeline:function(u,c){this.postPipelineClasses.has(u)||this.postPipelineClasses.set(u,c)},flush:function(){this.current&&this.current.flush()},has:function(u){var c=this.pipelines;return typeof u=="string"?c.has(u):!!c.contains(u)},get:function(u){var c=this.pipelines;if(typeof u=="string")return c.get(u);if(c.contains(u))return u},getPostPipeline:function(u,c){var d=this.postPipelineClasses,v;if(typeof u=="string"?v=d.get(u):typeof u=="function"?d.contains(u)&&(v=u):typeof u=="object"&&(v=d.get(u.name)),v){var g=new v(this.game);return c&&(g.gameObject=c),g}},remove:function(u,c,d){c===void 0&&(c=!0),d===void 0&&(d=!0),this.pipelines.delete(u),c&&this.classes.delete(u),d&&this.postPipelineClasses.delete(u)},set:function(u,c,d){if(!u.isPostFX)return this.isCurrent(u,d)||(this.flush(),this.current&&this.current.unbind(),this.current=u,u.bind(d)),u.updateProjectionMatrix(),u.onBind(c),u},preBatch:function(u){if(u.hasPostPipeline){this.flush();for(var c=u.postPipelines,d=c.length-1;d>=0;d--){var v=c[d];v.active&&v.preBatch(u)}}},postBatch:function(u){if(u.hasPostPipeline){this.flush();for(var c=u.postPipelines,d=0;d<c.length;d++){var v=c[d];v.active&&v.postBatch(u)}}},preBatchCamera:function(u){if(u.hasPostPipeline){this.flush();for(var c=u.postPipelines,d=c.length-1;d>=0;d--){var v=c[d];v.active&&v.preBatch(u)}}},postBatchCamera:function(u){if(u.hasPostPipeline){this.flush();for(var c=u.postPipelines,d=0;d<c.length;d++){var v=c[d];v.active&&v.postBatch(u)}}},isCurrent:function(u,c){var d=this.renderer,v=this.current;return v&&!c&&(c=v.currentShader),!(v!==u||c.program!==d.currentProgram)},copyFrame:function(u,c,d,v,g){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(u,c,d,v,g),this},copyToGame:function(u){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(u),this},drawFrame:function(u,c,d,v){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(u,c,d,v),this},blendFrames:function(u,c,d,v,g){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(u,c,d,v,g),this},blendFramesAdditive:function(u,c,d,v,g){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(u,c,d,v,g),this},clearFrame:function(u,c){return this.UTILITY_PIPELINE.clearFrame(u,c),this},blitFrame:function(u,c,d,v,g,m){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(u,c,d,v,g,m),this},copyFrameRect:function(u,c,d,v,g,m,y,T){return this.UTILITY_PIPELINE.copyFrameRect(u,c,d,v,g,m,y,T),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(u){return this.UTILITY_PIPELINE.bind(u)},rebind:function(u){u===void 0&&this.previous&&(u=this.previous);var c=this.renderer,d=c.gl;d.disable(d.DEPTH_TEST),d.disable(d.CULL_FACE),c.hasActiveStencilMask()?d.clear(d.DEPTH_BUFFER_BIT):(d.disable(d.STENCIL_TEST),d.clear(d.DEPTH_BUFFER_BIT|d.STENCIL_BUFFER_BIT)),d.viewport(0,0,c.width,c.height),c.currentProgram=null,c.setBlendMode(0,!0);var v=this.pipelines.entries;for(var g in v)v[g].glReset=!0;u&&(this.current=u,u.rebind()),c.resetTextures()},clear:function(){var u=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,u.currentProgram=null,u.setBlendMode(0,!0)},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.current=null,this.previous=null}});A.exports=h},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(2),t=p(866),a=p(867),i=p(107),e=p(58),s=new f({Extends:e,initialize:function(n){n.fragShader=x(n,"fragShader",t),n.vertShader=x(n,"vertShader",a),n.batchSize=x(n,"batchSize",1),n.vertices=x(n,"vertices",[-1,1,-1,-7,7,1]),n.attributes=x(n,"attributes",[{name:"inPosition",size:2,type:i.FLOAT}]),e.call(this,n)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(r,n){e.prototype.resize.call(this,r,n),this.set2f("uResolution",r,n)},beginMask:function(r,n,o){var l=this.gl;if(r.bitmapMask&&l){var h=this.renderer;h.flush(),h.pushFramebuffer(r.mainFramebuffer),l.disable(l.STENCIL_TEST),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT),h.currentCameraMask.mask!==r&&(h.currentMask.mask=r,h.currentMask.camera=o)}},endMask:function(r,n){var o=this.gl,l=this.renderer,h=r.bitmapMask;if(h&&o){l.flush(),l.pushFramebuffer(r.maskFramebuffer),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),l.setBlendMode(0,!0),h.renderWebGL(l,h,n),l.flush(),l.popFramebuffer(),l.popFramebuffer();var u=l.getCurrentStencilMask();u?(o.enable(o.STENCIL_TEST),u.mask.applyStencil(l,u.camera,!0)):l.currentMask.mask=null,l.pipelines.set(this),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,r.maskTexture),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.mainTexture),this.set1i("uInvertMaskAlpha",r.invertAlpha),o.drawArrays(this.topology,0,3),l.resetTextures()}}});A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={AFTER_FLUSH:p(868),BEFORE_FLUSH:p(869),BIND:p(870),BOOT:p(871),DESTROY:p(872),REBIND:p(873),RESIZE:p(874)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(2),t=p(107),a=new f({initialize:function(e,s,r,n,o){this.pipeline=e,this.name=s,this.renderer=e.renderer,this.gl=this.renderer.gl,this.program=this.renderer.createProgram(r,n),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(o),this.createUniforms()},createAttributes:function(i){var e=0,s=0,r=[];this.vertexComponentCount=0;for(var n=0;n<i.length;n++){var o=i[n],l=o.name,h=x(o,"size",1),u=x(o,"type",t.FLOAT),c=u.enum,d=u.size,v=!!o.normalized;r.push({name:l,size:h,type:c,normalized:v,offset:s,enabled:!1,location:-1}),d===4?e+=h:e++,s+=h*d}this.vertexSize=s,this.vertexComponentCount=e,this.attributes=r},bind:function(i,e){return i===void 0&&(i=!1),e===void 0&&(e=!1),e&&this.pipeline.flush(),this.renderer.setProgram(this.program),i&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(i){i===void 0&&(i=!1);for(var e=this.gl,s=this.vertexSize,r=this.attributes,n=this.program,o=0;o<r.length;o++){var l=r[o],h=l.size,u=l.type,c=l.offset,d=l.enabled,v=l.location,g=!!l.normalized;if(i){var m=e.getAttribLocation(n,l.name);m>=0?(e.enableVertexAttribArray(m),e.vertexAttribPointer(m,h,u,g,s,c),l.enabled=!0,l.location=m):m!==-1&&e.disableVertexAttribArray(m)}else d?e.vertexAttribPointer(v,h,u,g,s,c):!d&&v>-1&&(e.disableVertexAttribArray(v),l.location=-1)}return this},createUniforms:function(){var i=this.gl,e=this.program,s=this.uniforms,r,n,o,l=i.getProgramParameter(e,i.ACTIVE_UNIFORMS);for(r=0;r<l;r++){var h=i.getActiveUniform(e,r);if(h){n=h.name,o=i.getUniformLocation(e,n),o!==null&&(s[n]={name:n,location:o,value1:null,value2:null,value3:null,value4:null});var u=n.indexOf("[");u>0&&(n=n.substr(0,u),s.hasOwnProperty(n)||(o=i.getUniformLocation(e,n),o!==null&&(s[n]={name:n,location:o,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(i){return this.uniforms.hasOwnProperty(i)},resetUniform:function(i){var e=this.uniforms[i];return e&&(e.value1=null,e.value2=null,e.value3=null,e.value4=null),this},setUniform1:function(i,e,s,r){var n=this.uniforms[e];return n?((r||n.value1!==s)&&(n.value1=s,this.renderer.setProgram(this.program),i.call(this.gl,n.location,s),this.pipeline.currentShader=this),this):this},setUniform2:function(i,e,s,r,n){var o=this.uniforms[e];return o?((n||o.value1!==s||o.value2!==r)&&(o.value1=s,o.value2=r,this.renderer.setProgram(this.program),i.call(this.gl,o.location,s,r),this.pipeline.currentShader=this),this):this},setUniform3:function(i,e,s,r,n,o){var l=this.uniforms[e];return l?((o||l.value1!==s||l.value2!==r||l.value3!==n)&&(l.value1=s,l.value2=r,l.value3=n,this.renderer.setProgram(this.program),i.call(this.gl,l.location,s,r,n),this.pipeline.currentShader=this),this):this},setUniform4:function(i,e,s,r,n,o,l){var h=this.uniforms[e];return h?((l||h.value1!==s||h.value2!==r||h.value3!==n||h.value4!==o)&&(h.value1=s,h.value2=r,h.value3=n,h.value4=o,this.renderer.setProgram(this.program),i.call(this.gl,h.location,s,r,n,o),this.pipeline.currentShader=this),this):this},set1f:function(i,e){return this.setUniform1(this.gl.uniform1f,i,e)},set2f:function(i,e,s){return this.setUniform2(this.gl.uniform2f,i,e,s)},set3f:function(i,e,s,r){return this.setUniform3(this.gl.uniform3f,i,e,s,r)},set4f:function(i,e,s,r,n){return this.setUniform4(this.gl.uniform4f,i,e,s,r,n)},set1fv:function(i,e){return this.setUniform1(this.gl.uniform1fv,i,e,!0)},set2fv:function(i,e){return this.setUniform1(this.gl.uniform2fv,i,e,!0)},set3fv:function(i,e){return this.setUniform1(this.gl.uniform3fv,i,e,!0)},set4fv:function(i,e){return this.setUniform1(this.gl.uniform4fv,i,e,!0)},set1iv:function(i,e){return this.setUniform1(this.gl.uniform1iv,i,e,!0)},set2iv:function(i,e){return this.setUniform1(this.gl.uniform2iv,i,e,!0)},set3iv:function(i,e){return this.setUniform1(this.gl.uniform3iv,i,e,!0)},set4iv:function(i,e){return this.setUniform1(this.gl.uniform4iv,i,e,!0)},set1i:function(i,e){return this.setUniform1(this.gl.uniform1i,i,e)},set2i:function(i,e,s){return this.setUniform2(this.gl.uniform2i,i,e,s)},set3i:function(i,e,s,r){return this.setUniform3(this.gl.uniform3i,i,e,s,r)},set4i:function(i,e,s,r,n){return this.setUniform4(this.gl.uniform4i,i,e,s,r,n)},setMatrix2fv:function(i,e,s){return this.setUniform2(this.gl.uniformMatrix2fv,i,e,s,!0)},setMatrix3fv:function(i,e,s){return this.setUniform2(this.gl.uniformMatrix3fv,i,e,s,!0)},setMatrix4fv:function(i,e,s){return this.setUniform2(this.gl.uniformMatrix4fv,i,e,s,!0)},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(59),t=p(2),a=p(875),i=p(876),e=p(25),s=p(107),r=p(58),n=new f({Extends:r,initialize:function(l){l.fragShader=t(l,"fragShader",a),l.vertShader=t(l,"vertShader",i),l.attributes=t(l,"attributes",[{name:"inPosition",size:2},{name:"inColor",size:4,type:s.UNSIGNED_BYTE,normalized:!0}]),r.call(this,l),this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},batchFillRect:function(o,l,h,u,c,d){this.renderer.pipelines.set(this);var v=this.calcMatrix;d&&d.multiply(c,v);var g=o+h,m=l+u,y=v.getX(o,l),T=v.getY(o,l),E=v.getX(o,m),S=v.getY(o,m),C=v.getX(g,m),M=v.getY(g,m),P=v.getX(g,l),R=v.getY(g,l),L=this.fillTint;this.batchQuad(y,T,E,S,C,M,P,R,L.TL,L.TR,L.BL,L.BR)},batchFillTriangle:function(o,l,h,u,c,d,v,g){this.renderer.pipelines.set(this);var m=this.calcMatrix;g&&g.multiply(v,m);var y=m.getX(o,l),T=m.getY(o,l),E=m.getX(h,u),S=m.getY(h,u),C=m.getX(c,d),M=m.getY(c,d),P=this.fillTint;this.batchTri(y,T,E,S,C,M,P.TL,P.TR,P.BL)},batchStrokeTriangle:function(o,l,h,u,c,d,v,g,m){var y=this.tempTriangle;y[0].x=o,y[0].y=l,y[0].width=v,y[1].x=h,y[1].y=u,y[1].width=v,y[2].x=c,y[2].y=d,y[2].width=v,y[3].x=o,y[3].y=l,y[3].width=v,this.batchStrokePath(y,v,!1,g,m)},batchFillPath:function(o,l,h){this.renderer.pipelines.set(this);var u=this.calcMatrix;h&&h.multiply(l,u);for(var c=o.length,d=this.polygonCache,v,g,m=this.fillTint.TL,y=this.fillTint.TR,T=this.fillTint.BL,E=0;E<c;++E)g=o[E],d.push(g.x,g.y);v=x(d),c=v.length;for(var S=0;S<c;S+=3){var C=v[S+0]*2,M=v[S+1]*2,P=v[S+2]*2,R=d[C+0],L=d[C+1],w=d[M+0],B=d[M+1],G=d[P+0],Y=d[P+1],D=u.getX(R,L),F=u.getY(R,L),N=u.getX(w,B),I=u.getY(w,B),b=u.getX(G,Y),U=u.getY(G,Y);this.batchTri(D,F,N,I,b,U,m,y,T)}d.length=0},batchStrokePath:function(o,l,h,u,c){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var d=o.length-1,v=0;v<d;v++){var g=o[v],m=o[v+1];this.batchLine(g.x,g.y,m.x,m.y,g.width/2,m.width/2,l,v,!h&&v===d-1,u,c)}},batchLine:function(o,l,h,u,c,d,v,g,m,y,T){this.renderer.pipelines.set(this);var E=this.calcMatrix;T&&T.multiply(y,E);var S=h-o,C=u-l,M=Math.sqrt(S*S+C*C),P=c*(u-l)/M,R=c*(o-h)/M,L=d*(u-l)/M,w=d*(o-h)/M,B=h-L,G=u-w,Y=o-P,D=l-R,F=h+L,N=u+w,I=o+P,b=l+R,U=E.getX(B,G),X=E.getY(B,G),z=E.getX(Y,D),V=E.getY(Y,D),W=E.getX(F,N),H=E.getY(F,N),K=E.getX(I,b),Z=E.getY(I,b),j=this.strokeTint,k=j.TL,J=j.TR,q=j.BL,_=j.BR;if(this.batchQuad(K,Z,z,V,U,X,W,H,k,J,q,_),!(v<=2)){var tt=this.prevQuad,Q=this.firstQuad;g>0&&tt[4]?this.batchQuad(K,Z,z,V,tt[0],tt[1],tt[2],tt[3],k,J,q,_):(Q[0]=K,Q[1]=Z,Q[2]=z,Q[3]=V,Q[4]=1),m&&Q[4]?this.batchQuad(U,X,W,H,Q[0],Q[1],Q[2],Q[3],k,J,q,_):(tt[0]=U,tt[1]=X,tt[2]=W,tt[3]=H,tt[4]=1)}},batchVert:function(o,l,h){var u=this.vertexViewF32,c=this.vertexViewU32,d=this.vertexCount*this.currentShader.vertexComponentCount-1;u[++d]=o,u[++d]=l,c[++d]=h,this.vertexCount++},batchQuad:function(o,l,h,u,c,d,v,g,m,y,T,E){var S=!1;return this.shouldFlush(6)&&(this.flush(),S=!0),this.batchVert(o,l,m),this.batchVert(h,u,T),this.batchVert(c,d,E),this.batchVert(o,l,m),this.batchVert(c,d,E),this.batchVert(v,g,y),S},batchTri:function(o,l,h,u,c,d,v,g,m){var y=!1;return this.shouldFlush(3)&&(this.flush(),y=!0),this.batchVert(o,l,v),this.batchVert(h,u,g),this.batchVert(c,d,m),y},destroy:function(){return r.prototype.destroy.call(this),this.polygonCache=null,this}});A.exports=n},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(2),t=p(877),a=p(108),i=p(3),e=p(58),s=10,r=new i,n=new f({Extends:a,initialize:function(l){s=l.game.renderer.config.maxLights;for(var h=x(l,"fragShader",t),u=[],c=1;c<=s;c++)u.push({name:"lights"+c,fragShader:h.replace("%LIGHT_COUNT%",c.toString())});l.shaders=u,a.call(this,l),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.lightsActive=!0},boot:function(){e.prototype.boot.call(this);var o=this.gl,l=o.createTexture();o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,l),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,1,1,0,o.RGBA,o.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:l};for(var h=0;h<this.shaders.length;h++)this["lightShader"+(h+1)]=this.shaders[h]},onRender:function(o,l){var h=o.sys.lights;if(this.lightsActive=!1,!(!h||!h.active)){var u=h.getLights(l),c=u.length;if(c!==0){this.lightsActive=!0,this.setShader(this["lightShader"+c],!0);var d,v=this.renderer,g=v.height,m=l.matrix;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",l.x,l.y,l.rotation,l.zoom),this.set3f("uAmbientLightColor",h.ambientColor.r,h.ambientColor.g,h.ambientColor.b),d=0;d<c;d++){var y=u[d].light,T=y.color,E="uLights["+d+"].";m.transformPoint(y.x,y.y,r),this.set2f(E+"position",r.x-l.scrollX*y.scrollFactorX*l.zoom,g-(r.y-l.scrollY*y.scrollFactorY*l.zoom)),this.set3f(E+"color",T.r,T.g,T.b),this.set1f(E+"intensity",y.intensity),this.set1f(E+"radius",y.radius)}this.currentNormalMapRotation=null}}},setNormalMapRotation:function(o){if(o!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var l=this.inverseRotationMatrix;if(o){var h=-o,u=Math.cos(h),c=Math.sin(h);l[1]=c,l[3]=-c,l[0]=l[4]=u}else l[0]=l[4]=1,l[1]=l[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,l),this.currentNormalMapRotation=o}},setTexture2D:function(o,l){var h=this.renderer;o===void 0&&(o=h.tempTextures[0]);var u=this.getNormalMap(l);h.isNewNormalMap(o,u)&&(this.flush(),h.setTextureZero(o),h.setNormalMap(u));var c=l?l.rotation:0;return this.setNormalMapRotation(c),this.currentUnit=0,0},setGameObject:function(o,l){l===void 0&&(l=o.frame);var h=this.renderer,u=l.glTexture,c=this.getNormalMap(o);return h.isNewNormalMap()&&(this.flush(),h.setTextureZero(u),h.setNormalMap(c)),this.setNormalMapRotation(o.rotation),this.currentUnit=0,0},getNormalMap:function(o){var l;return o?o.displayTexture?l=o.displayTexture.dataSource[o.displayFrame.sourceIndex]:o.texture?l=o.texture.dataSource[o.frame.sourceIndex]:o.tileset&&(Array.isArray(o.tileset)?l=o.tileset[0].image.dataSource[0]:l=o.tileset.image.dataSource[0]):l=this.defaultNormalMap,l||(l=this.defaultNormalMap),l.glTexture},batchSprite:function(o,l,h){this.lightsActive&&a.prototype.batchSprite.call(this,o,l,h)},batchTexture:function(o,l,h,u,c,d,v,g,m,y,T,E,S,C,M,P,R,L,w,B,G,Y,D,F,N,I,b,U,X,z,V,W){this.lightsActive&&a.prototype.batchTexture.call(this,o,l,h,u,c,d,v,g,m,y,T,E,S,C,M,P,R,L,w,B,G,Y,D,F,N,I,b,U,X,z,V,W)},batchTextureFrame:function(o,l,h,u,c,d,v){this.lightsActive&&a.prototype.batchTextureFrame.call(this,o,l,h,u,c,d,v)}});n.LIGHT_COUNT=s,A.exports=n},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(2),t=p(880),a=p(881),i=p(58),e=new f({Extends:i,initialize:function(r){r.vertShader=x(r,"vertShader",a),r.fragShader=x(r,"fragShader",t),r.attributes=x(r,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),i.call(this,r)},onRender:function(s,r){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",r.zoom)},batchPointLight:function(s,r,n,o,l,h,u,c,d,v,g,m){var y=s.color,T=s.intensity,E=s.radius,S=s.attenuation,C=y.r*T,M=y.g*T,P=y.b*T,R=r.alpha*s.alpha;this.shouldFlush(6)&&this.flush(),this.batchLightVert(n,o,g,m,E,S,C,M,P,R),this.batchLightVert(l,h,g,m,E,S,C,M,P,R),this.batchLightVert(u,c,g,m,E,S,C,M,P,R),this.batchLightVert(n,o,g,m,E,S,C,M,P,R),this.batchLightVert(u,c,g,m,E,S,C,M,P,R),this.batchLightVert(d,v,g,m,E,S,C,M,P,R)},batchLightVert:function(s,r,n,o,l,h,u,c,d,v){var g=this.vertexViewF32,m=this.vertexCount*this.currentShader.vertexComponentCount-1;g[++m]=s,g[++m]=r,g[++m]=n,g[++m]=o,g[++m]=l,g[++m]=h,g[++m]=u,g[++m]=c,g[++m]=d,g[++m]=v,this.vertexCount++}});A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(2),t=p(108),a=new f({Extends:t,initialize:function(e){e.topology=5,e.batchSize=x(e,"batchSize",256),t.call(this,e)}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(2),t=p(108),a=p(882),i=p(883),e=p(58),s=new f({Extends:t,initialize:function(n){n.fragShader=x(n,"fragShader",a),n.vertShader=x(n,"vertShader",i),n.forceZero=!0,t.call(this,n)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0)}});A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(884),x=p(35),t=p(0),a=p(198),i=p(885),e=p(886),s=p(2),r=p(887),n=p(382),o=p(58),l=new t({Extends:o,initialize:function(u){u.renderTarget=s(u,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),u.vertShader=s(u,"vertShader",n),u.shaders=s(u,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:f},{name:"LinearBlend",fragShader:r},{name:"ColorMatrix",fragShader:i}]),u.attributes=s(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),u.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],u.batchSize=1,o.call(this,u),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){o.prototype.boot.call(this);var h=this.shaders,u=this.renderTargets;this.copyShader=h[0],this.addShader=h[1],this.linearShader=h[2],this.colorMatrixShader=h[3],this.fullFrame1=u[0],this.fullFrame2=u[1],this.halfFrame1=u[2],this.halfFrame2=u[3]},copyFrame:function(h,u,c,d,v){c===void 0&&(c=1),d===void 0&&(d=!0),v===void 0&&(v=!0);var g=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,h.texture),u?(g.viewport(0,0,u.width,u.height),g.bindFramebuffer(g.FRAMEBUFFER,u.framebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,u.texture,0)):g.viewport(0,0,h.width,h.height),d&&(v?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT)),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),g.bindFramebuffer(g.FRAMEBUFFER,null),g.bindTexture(g.TEXTURE_2D,null)},blitFrame:function(h,u,c,d,v,g){c===void 0&&(c=1),d===void 0&&(d=!0),v===void 0&&(v=!0),g===void 0&&(g=!1);var m=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,h.texture),h.height>u.height)m.viewport(0,0,h.width,h.height),this.setTargetUVs(h,u);else{var y=u.height-h.height;m.viewport(0,y,h.width,h.height)}if(m.bindFramebuffer(m.FRAMEBUFFER,u.framebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,u.texture,0),d&&(v?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT)),g){var T=this.renderer.currentBlendMode;this.renderer.setBlendMode(x.ERASE)}m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),g&&this.renderer.setBlendMode(T),m.bindFramebuffer(m.FRAMEBUFFER,null),m.bindTexture(m.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(h,u,c,d,v,g,m,y){m===void 0&&(m=!0),y===void 0&&(y=!0);var T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,h.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,h.texture,0),m&&(y?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,u.texture),T.copyTexSubImage2D(T.TEXTURE_2D,0,0,0,c,d,v,g),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},copyToGame:function(h){var u=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,h.texture),u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.STATIC_DRAW),u.drawArrays(u.TRIANGLES,0,6),this.renderer.resetTextures()},drawFrame:function(h,u,c,d){c===void 0&&(c=!0),d===void 0&&(d=this.colorMatrix);var v=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",d.getData()),this.set1f("uAlpha",d.alpha),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,h.texture),u?(v.viewport(0,0,u.width,u.height),v.bindFramebuffer(v.FRAMEBUFFER,u.framebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,u.texture,0)):v.viewport(0,0,h.width,h.height),c?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),v.bindFramebuffer(v.FRAMEBUFFER,null),v.bindTexture(v.TEXTURE_2D,null)},blendFrames:function(h,u,c,d,v,g){d===void 0&&(d=1),v===void 0&&(v=!0),g===void 0&&(g=this.linearShader);var m=this.gl;this.setShader(g),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",d),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,h.texture),m.activeTexture(m.TEXTURE1),m.bindTexture(m.TEXTURE_2D,u.texture),c?(m.bindFramebuffer(m.FRAMEBUFFER,c.framebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,c.texture,0),m.viewport(0,0,c.width,c.height)):m.viewport(0,0,h.width,h.height),v?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),m.bindFramebuffer(m.FRAMEBUFFER,null),m.bindTexture(m.TEXTURE_2D,null)},blendFramesAdditive:function(h,u,c,d,v){this.blendFrames(h,u,c,d,v,this.addShader)},clearFrame:function(h,u){u===void 0&&(u=!0);var c=this.gl;c.viewport(0,0,h.width,h.height),c.bindFramebuffer(c.FRAMEBUFFER,h.framebuffer),u?c.clearColor(0,0,0,0):c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT);var d=this.renderer.currentFramebuffer;c.bindFramebuffer(c.FRAMEBUFFER,d)},setUVs:function(h,u,c,d,v,g,m,y){var T=this.vertexViewF32;T[2]=h,T[3]=u,T[6]=c,T[7]=d,T[10]=v,T[11]=g,T[14]=h,T[15]=u,T[18]=v,T[19]=g,T[22]=m,T[23]=y},setTargetUVs:function(h,u){var c=u.height/h.height;c>.5?c=.5-(c-.5):c=.5+(.5-c),this.setUVs(0,c,0,1+c,1,1+c,1,c)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});A.exports=l},function(A,O){A.exports=["#define SHADER_NAME PHASER_QUAD_VS","","precision mediump float;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","","varying vec2 outFragCoord;","varying vec2 outTexCoord;","","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","","    gl_Position = vec4(inPosition, 0, 1);","}",""].join(`
`)},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(31),x=p(38),t=p(2),a=function(i,e){var s=i.getContext("experimental-webgl"),r=t(e,"callback"),n=t(e,"type","image/png"),o=t(e,"encoder",.92),l=t(e,"x",0),h=t(e,"y",0),u=t(e,"getPixel",!1),c=t(e,"isFramebuffer",!1),d=c?t(e,"bufferWidth",1):s.drawingBufferWidth,v=c?t(e,"bufferHeight",1):s.drawingBufferHeight;if(u){var g=new Uint8Array(4),m=c?h:v-h;s.readPixels(l,m,1,1,s.RGBA,s.UNSIGNED_BYTE,g),r.call(null,new x(g[0],g[1],g[2],g[3]/255))}else{var y=t(e,"width",d),T=t(e,"height",v),E=y*T*4,S=new Uint8Array(E);s.readPixels(l,v-h-T,y,T,s.RGBA,s.UNSIGNED_BYTE,S);for(var C=f.createWebGL(this,y,T),M=C.getContext("2d"),P=M.getImageData(0,0,y,T),R=P.data,L=0;L<T;L++)for(var w=0;w<y;w++){var B=((T-L-1)*y+w)*4,G=(L*y+w)*4;R[G+0]=S[B+0],R[G+1]=S[B+1],R[G+2]=S[B+2],R[G+3]=S[B+3]}M.putImageData(P,0,0);var Y=new Image;Y.onerror=function(){r.call(null),f.remove(C)},Y.onload=function(){r.call(null,Y),f.remove(C)},Y.src=C.toDataURL(n,o)}};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(33),x=function(t){var a=t.config;if(!a.hideBanner){var i="WebGL";a.renderType===f.CANVAS?i="Canvas":a.renderType===f.HEADLESS&&(i="Headless");var e=a.audio,s=t.device.audio,r;if(s.webAudio&&!e.disableWebAudio?r="Web Audio":e.noAudio||!s.webAudio&&!s.audioData?r="No Audio":r="HTML5 Audio",t.device.browser.ie)window.console&&console.log("Phaser v"+f.VERSION+" / https://phaser.io");else{var n="",o=[n];if(Array.isArray(a.bannerBackgroundColor)){var l;a.bannerBackgroundColor.forEach(function(u){n=n.concat("%c "),o.push("background: "+u),l=u}),o[o.length-1]="color: "+a.bannerTextColor+"; background: "+l}else n=n.concat("%c "),o.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);o.push("background: transparent"),a.gameTitle&&(n=n.concat(a.gameTitle),a.gameVersion&&(n=n.concat(" v"+a.gameVersion)),a.hidePhaser||(n=n.concat(" / ")));var h="";a.hidePhaser||(n=n.concat("Phaser v"+f.VERSION+h+" ("+i+" | "+r+")")),n=n.concat(" %c "+a.gameURL),o[0]=n,console.log.apply(console,o)}}};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(6),t=p(1),a=p(386),i=new f({initialize:function(s,r){this.game=s,this.raf=new a,this.started=!1,this.running=!1,this.minFps=x(r,"min",5),this.targetFps=x(r,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=t,this.forceSetTimeOut=x(r,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=x(r,"deltaHistory",10),this.panicMax=x(r,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=x(r,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=Math.min(this._target,this.deltaHistory[s]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var e=window.performance.now();this.now=e;var s=e-this.lastTime;s<0&&(s=0),this.rawDelta=s;var r=this.deltaIndex,n=this.deltaHistory,o=this.deltaSmoothingMax,l=s,h=s;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,l=Math.min(l,this._target)),l>this._min&&(l=n[r],l=Math.min(l,this._min)),n[r]=l,this.deltaIndex++,this.deltaIndex>o&&(this.deltaIndex=0),h=0;for(var u=0;u<o;u++)h+=n[u];h/=o}this.delta=h,this.time+=this.rawDelta,e>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0),this.framesThisSecond++;var c=h/this._target;this.callback(e,h,c),this.lastTime=e,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){this.running||(e&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=t,this.raf=null,this.game=null}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(1),t=new f({initialize:function(){this.isRunning=!1,this.callback=x,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var i=this;this.step=function e(){var s=window.performance.now();i.lastTime=i.tick,i.tick=s,i.callback(s),i.timeOutID=window.requestAnimationFrame(e)},this.stepTimeout=function e(){var s=Date.now(),r=Math.min(Math.max(i.target*2+i.tick-s,0),i.target);i.lastTime=i.tick,i.tick=s,i.callback(s),i.timeOutID=window.setTimeout(e,r)}},start:function(a,i,e){this.isRunning||(this.callback=a,this.isSetTimeOut=i,this.target=e,this.isRunning=!0,this.timeOutID=i?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=x}});A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(22),x=function(t){var a,i=t.events;if(document.hidden!==void 0)a="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(r){document[r+"Hidden"]!==void 0&&(document.hidden=function(){return document[r+"Hidden"]},a=r+"visibilitychange")})}var s=function(r){document.hidden||r.type==="pause"?i.emit(f.HIDDEN):i.emit(f.VISIBLE)};a&&document.addEventListener(a,s,!1),window.onblur=function(){i.emit(f.BLUR)},window.onfocus=function(){i.emit(f.FOCUS)},window.focus&&t.config.autoFocus&&window.focus()};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(389),x=p(31),t=p(6),a=function(i){var e=t(i,"data",[]),s=t(i,"canvas",null),r=t(i,"palette",f),n=t(i,"pixelWidth",1),o=t(i,"pixelHeight",n),l=t(i,"resizeCanvas",!0),h=t(i,"clearCanvas",!0),u=t(i,"preRender",null),c=t(i,"postRender",null),d=Math.floor(Math.abs(e[0].length*n)),v=Math.floor(Math.abs(e.length*o));s||(s=x.create2D(this,d,v),l=!1,h=!1),l&&(s.width=d,s.height=v);var g=s.getContext("2d");h&&g.clearRect(0,0,d,v),u&&u(s,g);for(var m=0;m<e.length;m++)for(var y=e[m],T=0;T<y.length;T++){var E=y[T];E!=="."&&E!==" "&&(g.fillStyle=r[E],g.fillRect(T*n,m*o,n,o))}return c&&c(s,g),s};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(358),t=p(94),a=p(3),i=new f({Extends:t,initialize:function(s,r,n,o){t.call(this,"CubicBezierCurve"),Array.isArray(s)&&(o=new a(s[6],s[7]),n=new a(s[4],s[5]),r=new a(s[2],s[3]),s=new a(s[0],s[1])),this.p0=s,this.p1=r,this.p2=n,this.p3=o},getStartPoint:function(e){return e===void 0&&(e=new a),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new a);var r=this.p0,n=this.p1,o=this.p2,l=this.p3;return s.set(x(e,r.x,n.x,o.x,l.x),x(e,r.y,n.y,o.y,l.y))},draw:function(e,s){s===void 0&&(s=32);var r=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<r.length;n++)e.lineTo(r[n].x,r[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});i.fromJSON=function(e){var s=e.points,r=new a(s[0],s[1]),n=new a(s[2],s[3]),o=new a(s[4],s[5]),l=new a(s[6],s[7]);return new i(r,n,o,l)},A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(94),t=p(36),a=p(6),i=p(196),e=p(3),s=new f({Extends:x,initialize:function(n,o,l,h,u,c,d,v){if(typeof n=="object"){var g=n;n=a(g,"x",0),o=a(g,"y",0),l=a(g,"xRadius",0),h=a(g,"yRadius",l),u=a(g,"startAngle",0),c=a(g,"endAngle",360),d=a(g,"clockwise",!1),v=a(g,"rotation",0)}else h===void 0&&(h=l),u===void 0&&(u=0),c===void 0&&(c=360),d===void 0&&(d=!1),v===void 0&&(v=0);x.call(this,"EllipseCurve"),this.p0=new e(n,o),this._xRadius=l,this._yRadius=h,this._startAngle=t(u),this._endAngle=t(c),this._clockwise=d,this._rotation=t(v)},getStartPoint:function(r){return r===void 0&&(r=new e),this.getPoint(0,r)},getResolution:function(r){return r*2},getPoint:function(r,n){n===void 0&&(n=new e);for(var o=Math.PI*2,l=this._endAngle-this._startAngle,h=Math.abs(l)<Number.EPSILON;l<0;)l+=o;for(;l>o;)l-=o;l<Number.EPSILON&&(h?l=0:l=o),this._clockwise&&!h&&(l===o?l=-o:l=l-o);var u=this._startAngle+r*l,c=this.p0.x+this._xRadius*Math.cos(u),d=this.p0.y+this._yRadius*Math.sin(u);if(this._rotation!==0){var v=Math.cos(this._rotation),g=Math.sin(this._rotation),m=c-this.p0.x,y=d-this.p0.y;c=m*v-y*g+this.p0.x,d=m*g+y*v+this.p0.y}return n.set(c,d)},setXRadius:function(r){return this.xRadius=r,this},setYRadius:function(r){return this.yRadius=r,this},setWidth:function(r){return this.xRadius=r/2,this},setHeight:function(r){return this.yRadius=r/2,this},setStartAngle:function(r){return this.startAngle=r,this},setEndAngle:function(r){return this.endAngle=r,this},setClockwise:function(r){return this.clockwise=r,this},setRotation:function(r){return this.rotation=r,this},x:{get:function(){return this.p0.x},set:function(r){this.p0.x=r}},y:{get:function(){return this.p0.y},set:function(r){this.p0.y=r}},xRadius:{get:function(){return this._xRadius},set:function(r){this._xRadius=r}},yRadius:{get:function(){return this._yRadius},set:function(r){this._yRadius=r}},startAngle:{get:function(){return i(this._startAngle)},set:function(r){this._startAngle=t(r)}},endAngle:{get:function(){return i(this._endAngle)},set:function(r){this._endAngle=t(r)}},clockwise:{get:function(){return this._clockwise},set:function(r){this._clockwise=r}},angle:{get:function(){return i(this._rotation)},set:function(r){this._rotation=t(r)}},rotation:{get:function(){return this._rotation},set:function(r){this._rotation=r}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:i(this._startAngle),endAngle:i(this._endAngle),clockwise:this._clockwise,rotation:i(this._rotation)}}});s.fromJSON=function(r){return new s(r)},A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(94),t=p(199),a=p(10),i=p(3),e=new f({Extends:x,initialize:function(r,n){x.call(this,"LineCurve"),Array.isArray(r)&&(n=new i(r[2],r[3]),r=new i(r[0],r[1])),this.p0=r,this.p1=n,this.arcLengthDivisions=1},getBounds:function(s){return s===void 0&&(s=new a),t([this.p0,this.p1],s)},getStartPoint:function(s){return s===void 0&&(s=new i),s.copy(this.p0)},getResolution:function(s){return s===void 0&&(s=1),s},getPoint:function(s,r){return r===void 0&&(r=new i),s===1?r.copy(this.p1):(r.copy(this.p1).subtract(this.p0).scale(s).add(this.p0),r)},getPointAt:function(s,r){return this.getPoint(s,r)},getTangent:function(s,r){return r===void 0&&(r=new i),r.copy(this.p1).subtract(this.p0).normalize(),r},getUtoTmapping:function(s,r,n){var o;if(r){var l=this.getLengths(n),h=l[l.length-1],u=Math.min(r,h);o=u/h}else o=s;return o},draw:function(s){return s.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(s){var r=s.points,n=new i(r[0],r[1]),o=new i(r[2],r[3]);return new e(n,o)},A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(3),t=new f({initialize:function(i,e){this.active=!1,this.p0=new x(i,e)},getPoint:function(a,i){return i===void 0&&(i=new x),i.copy(this.p0)},getPointAt:function(a,i){return this.getPoint(a,i)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(94),t=p(359),a=p(3),i=new f({Extends:x,initialize:function(s,r,n){x.call(this,"QuadraticBezier"),Array.isArray(s)&&(n=new a(s[4],s[5]),r=new a(s[2],s[3]),s=new a(s[0],s[1])),this.p0=s,this.p1=r,this.p2=n},getStartPoint:function(e){return e===void 0&&(e=new a),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new a);var r=this.p0,n=this.p1,o=this.p2;return s.set(t(e,r.x,n.x,o.x),t(e,r.y,n.y,o.y))},draw:function(e,s){s===void 0&&(s=32);var r=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<r.length;n++)e.lineTo(r[n].x,r[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});i.fromJSON=function(e){var s=e.points,r=new a(s[0],s[1]),n=new a(s[2],s[3]),o=new a(s[4],s[5]);return new i(r,n,o)},A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(194),x=p(0),t=p(94),a=p(3),i=new x({Extends:t,initialize:function(s){s===void 0&&(s=[]),t.call(this,"SplineCurve"),this.points=[],this.addPoints(s)},addPoints:function(e){for(var s=0;s<e.length;s++){var r=new a;typeof e[s]=="number"?(r.x=e[s],r.y=e[s+1],s++):Array.isArray(e[s])?(r.x=e[s][0],r.y=e[s][1]):(r.x=e[s].x,r.y=e[s].y),this.points.push(r)}return this},addPoint:function(e,s){var r=new a(e,s);return this.points.push(r),r},getStartPoint:function(e){return e===void 0&&(e=new a),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,s){s===void 0&&(s=new a);var r=this.points,n=(r.length-1)*e,o=Math.floor(n),l=n-o,h=r[o===0?o:o-1],u=r[o],c=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return s.set(f(l,h.x,u.x,c.x,d.x),f(l,h.y,u.y,c.y,d.y))},toJSON:function(){for(var e=[],s=0;s<this.points.length;s++)e.push(this.points[s].x),e.push(this.points[s].y);return{type:this.type,points:e}}});i.fromJSON=function(e){return new i(e.points)},A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a,i,e,s){(!i||i==="")&&(i=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),s===void 0&&(s=null),this.key=a,this.fragmentSrc=i,this.vertexSrc=e,this.uniforms=s}});A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(38);f.ColorSpectrum=p(909),f.ColorToRGBA=p(910),f.ComponentToHex=p(398),f.GetColor=p(103),f.GetColor32=p(328),f.HexStringToColor=p(327),f.HSLToColor=p(911),f.HSVColorWheel=p(912),f.HSVToRGB=p(188),f.HueToComponent=p(399),f.IntegerToColor=p(189),f.IntegerToRGB=p(330),f.Interpolate=p(913),f.ObjectToColor=p(331),f.RandomRGB=p(914),f.RGBStringToColor=p(332),f.RGBToHSV=p(329),f.RGBToString=p(915),f.ValueToColor=p(187),A.exports=f},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){var x=f.toString(16);return x.length===1?"0"+x:x};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return t<0&&(t+=1),t>1&&(t-=1),t<.16666666666666666?f+(x-f)*6*t:t<.5?x:t<.6666666666666666?f+(x-f)*(.6666666666666666-t)*6:f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(105),x=function(t){if(document.readyState==="complete"||document.readyState==="interactive"){t();return}var a=function(){document.removeEventListener("deviceready",a,!0),document.removeEventListener("DOMContentLoaded",a,!0),window.removeEventListener("load",a,!0),t()};document.body?f.cordova?document.addEventListener("deviceready",a,!1):(document.addEventListener("DOMContentLoaded",a,!0),window.addEventListener("load",a,!0)):window.setTimeout(a,20)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){if(!f)return window.innerHeight;var x=Math.abs(window.orientation),t={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),t.w=x===90?a.offsetHeight:window.innerWidth,t.h=x===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?t.h:t.w};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(201),x=function(t,a){var i=window.screen,e=i?i.orientation||i.mozOrientation||i.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?f.ORIENTATION.PORTRAIT:f.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return f.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return f.ORIENTATION.LANDSCAPE}else return a>t?f.ORIENTATION.PORTRAIT:f.ORIENTATION.LANDSCAPE};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){var x;return f!==""&&(typeof f=="string"?x=document.getElementById(f):f&&f.nodeType===1&&(x=f)),x||(x=document.body),x};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){var x="";try{if(window.DOMParser){var t=new DOMParser;x=t.parseFromString(f,"text/xml")}else x=new ActiveXObject("Microsoft.XMLDOM"),x.loadXML(f)}catch{x=null}return!x||!x.documentElement||x.getElementsByTagName("parsererror").length?null:x};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(203),t=p(9),a=p(51),i=p(22),e=p(410),s=p(411),r=p(412),n=p(413),o=p(25),l=p(177),h=new f({initialize:function(c,d){this.game=c,this.scaleManager,this.canvas,this.config=d,this.enabled=!0,this.events=new t,this.isOver=!0,this.defaultCursor="",this.keyboard=d.inputKeyboard?new e(this):null,this.mouse=d.inputMouse?new s(this):null,this.touch=d.inputTouch?new n(this):null,this.pointers=[],this.pointersTotal=d.inputActivePointers,d.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var v=0;v<=this.pointersTotal;v++){var g=new r(this,v);g.smoothFactor=d.inputSmoothFactor,this.pointers.push(g)}this.mousePointer=d.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new o,this._tempMatrix2=new o,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],c.events.once(i.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(a.MANAGER_BOOT),this.game.events.on(i.PRE_RENDER,this.preRender,this),this.game.events.once(i.DESTROY,this.destroy,this)},setCanvasOver:function(u){this.isOver=!0,this.events.emit(a.GAME_OVER,u)},setCanvasOut:function(u){this.isOver=!1,this.events.emit(a.GAME_OUT,u)},preRender:function(){var u=this.game.loop.now,c=this.game.loop.delta,d=this.game.scene.getScenes(!0,!0);this.time=u,this.events.emit(a.MANAGER_UPDATE);for(var v=0;v<d.length;v++){var g=d[v];if(g.sys.input&&g.sys.input.updatePoll(u,c)&&this.globalTopOnly)return}},setDefaultCursor:function(u){this.defaultCursor=u,this.canvas.style.cursor!==u&&(this.canvas.style.cursor=u)},setCursor:function(u){u.cursor&&(this.canvas.style.cursor=u.cursor)},resetCursor:function(u){u.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(u){u===void 0&&(u=1);var c=[];this.pointersTotal+u>10&&(u=10-this.pointersTotal);for(var d=0;d<u;d++){var v=this.pointers.length,g=new r(this,v);g.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(g),this.pointersTotal++,c.push(g)}return c},updateInputPlugins:function(u,c){var d=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var v=0;v<d.length;v++){var g=d[v];if(g.sys.input){var m=g.sys.input.update(u,c);if(m&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(u){for(var c=this.pointers,d=[],v=0;v<u.changedTouches.length;v++)for(var g=u.changedTouches[v],m=1;m<this.pointersTotal;m++){var y=c[m];if(!y.active){y.touchstart(g,u),this.activePointer=y,d.push(y);break}}this.updateInputPlugins(x.TOUCH_START,d)},onTouchMove:function(u){for(var c=this.pointers,d=[],v=0;v<u.changedTouches.length;v++)for(var g=u.changedTouches[v],m=1;m<this.pointersTotal;m++){var y=c[m];if(y.active&&y.identifier===g.identifier){y.touchmove(g,u),this.activePointer=y,d.push(y);break}}this.updateInputPlugins(x.TOUCH_MOVE,d)},onTouchEnd:function(u){for(var c=this.pointers,d=[],v=0;v<u.changedTouches.length;v++)for(var g=u.changedTouches[v],m=1;m<this.pointersTotal;m++){var y=c[m];if(y.active&&y.identifier===g.identifier){y.touchend(g,u),d.push(y);break}}this.updateInputPlugins(x.TOUCH_END,d)},onTouchCancel:function(u){for(var c=this.pointers,d=[],v=0;v<u.changedTouches.length;v++)for(var g=u.changedTouches[v],m=1;m<this.pointersTotal;m++){var y=c[m];if(y.active&&y.identifier===g.identifier){y.touchcancel(g,u),d.push(y);break}}this.updateInputPlugins(x.TOUCH_CANCEL,d)},onMouseDown:function(u){var c=this.mousePointer;c.down(u),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(x.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(u){var c=this.mousePointer;c.move(u),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(x.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(u){var c=this.mousePointer;c.up(u),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(x.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(u){var c=this.mousePointer;c.wheel(u),this.activePointer=c,this.updateInputPlugins(x.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(u){var c=this.mouse.locked;this.mousePointer.locked=c,this.events.emit(a.POINTERLOCK_CHANGE,u,c)},inputCandidate:function(u,c){var d=u.input;if(!d||!d.enabled||!d.alwaysEnabled&&!u.willRender(c))return!1;var v=!0,g=u.parentContainer;if(g)do{if(!g.willRender(c)){v=!1;break}g=g.parentContainer}while(g);return v},hitTest:function(u,c,d,v){v===void 0&&(v=this._tempHitTest);var g=this._tempPoint,m=d.scrollX,y=d.scrollY;v.length=0;var T=u.x,E=u.y;d.getWorldPoint(T,E,g),u.worldX=g.x,u.worldY=g.y;for(var S={x:0,y:0},C=this._tempMatrix,M=this._tempMatrix2,P=0;P<c.length;P++){var R=c[P];if(!!this.inputCandidate(R,d)){var L=g.x+m*R.scrollFactorX-m,w=g.y+y*R.scrollFactorY-y;R.parentContainer?(R.getWorldTransformMatrix(C,M),C.applyInverse(L,w,S)):l(L,w,R.x,R.y,R.rotation,R.scaleX,R.scaleY,S),this.pointWithinHitArea(R,S.x,S.y)&&v.push(R)}}return v},pointWithinHitArea:function(u,c,d){c+=u.displayOriginX,d+=u.displayOriginY;var v=u.input;return v&&v.hitAreaCallback(v.hitArea,c,d,u)?(v.localX=c,v.localY=d,!0):!1},pointWithinInteractiveObject:function(u,c,d){return u.hitArea?(c+=u.gameObject.displayOriginX,d+=u.gameObject.displayOriginY,u.localX=c,u.localY=d,u.hitAreaCallback(u.hitArea,c,d,u)):!1},transformPointer:function(u,c,d,v){var g=u.position,m=u.prevPosition;m.x=g.x,m.y=g.y;var y=this.scaleManager.transformX(c),T=this.scaleManager.transformY(d),E=u.smoothFactor;!v||E===0?(g.x=y,g.y=T):(g.x=y*E+m.x*(1-E),g.y=T*E+m.y*(1-E))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(i.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var u=0;u<this.pointers.length;u++)this.pointers[u].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});A.exports=h},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(93),x=p(0),t=p(22),a=p(51),i=p(143),e=p(1),s=new x({initialize:function(n){this.manager=n,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,n.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputKeyboard,this.target=r.inputKeyboardEventTarget,this.addCapture(r.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(t.POST_STEP,this.postUpdate,this)},startListeners:function(){var r=this;this.onKeyDown=function(o){if(!(o.defaultPrevented||!r.enabled||!r.manager)){r.queue.push(o),r.manager.events.emit(a.MANAGER_PROCESS);var l=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;r.preventDefault&&!l&&r.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}},this.onKeyUp=function(o){if(!(o.defaultPrevented||!r.enabled||!r.manager)){r.queue.push(o),r.manager.events.emit(a.MANAGER_PROCESS);var l=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;r.preventDefault&&!l&&r.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}};var n=this.target;n&&(n.addEventListener("keydown",this.onKeyDown,!1),n.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var r=this.target;r.removeEventListener("keydown",this.onKeyDown,!1),r.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(r){typeof r=="string"&&(r=r.split(",")),Array.isArray(r)||(r=[r]);for(var n=this.captures,o=0;o<r.length;o++){var l=r[o];typeof l=="string"&&(l=i[l.trim().toUpperCase()]),n.indexOf(l)===-1&&n.push(l)}this.preventDefault=n.length>0},removeCapture:function(r){typeof r=="string"&&(r=r.split(",")),Array.isArray(r)||(r=[r]);for(var n=this.captures,o=0;o<r.length;o++){var l=r[o];typeof l=="string"&&(l=i[l.toUpperCase()]),f(n,l)}this.preventDefault=n.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(t.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(191),t=p(51),a=p(1),i=new f({initialize:function(s){this.manager=s,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,s.events.once(t.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(x.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){x.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(!!e){var s=this,r=this.manager,n=r.canvas,o=window&&window.focus&&r.game.config.autoFocus;this.onMouseMove=function(h){!h.defaultPrevented&&s.enabled&&r&&r.enabled&&(r.onMouseMove(h),s.preventDefaultMove&&h.preventDefault())},this.onMouseDown=function(h){o&&window.focus(),!h.defaultPrevented&&s.enabled&&r&&r.enabled&&(r.onMouseDown(h),s.preventDefaultDown&&h.target===n&&h.preventDefault())},this.onMouseDownWindow=function(h){!h.defaultPrevented&&s.enabled&&r&&r.enabled&&h.target!==n&&r.onMouseDown(h)},this.onMouseUp=function(h){!h.defaultPrevented&&s.enabled&&r&&r.enabled&&(r.onMouseUp(h),s.preventDefaultUp&&h.target===n&&h.preventDefault())},this.onMouseUpWindow=function(h){!h.defaultPrevented&&s.enabled&&r&&r.enabled&&h.target!==n&&r.onMouseUp(h)},this.onMouseOver=function(h){!h.defaultPrevented&&s.enabled&&r&&r.enabled&&r.setCanvasOver(h)},this.onMouseOut=function(h){!h.defaultPrevented&&s.enabled&&r&&r.enabled&&r.setCanvasOut(h)},this.onMouseWheel=function(h){!h.defaultPrevented&&s.enabled&&r&&r.enabled&&r.onMouseWheel(h),s.preventDefaultWheel&&h.target===n&&h.preventDefault()};var l={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,l),e.addEventListener("mouseout",this.onMouseOut,l),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,l),window&&r.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,l),window.top.addEventListener("mouseup",this.onMouseUpWindow,l)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,l),window.addEventListener("mouseup",this.onMouseUpWindow,l),this.isTop=!1}x.pointerLock&&(this.pointerLockChange=function(h){var u=s.target;s.locked=document.pointerLockElement===u||document.mozPointerLockElement===u||document.webkitPointerLockElement===u,r.onPointerLockChange(h)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),x.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(349),x=p(0),t=p(50),a=p(124),i=p(360),e=p(3),s=p(105),r=new x({initialize:function(o,l){this.manager=o,this.id=l,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=l===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(n){var o=n.getWorldPoint(this.x,this.y);return this.worldX=o.x,this.worldY=o.y,this},positionToCamera:function(n,o){return n.getWorldPoint(this.x,this.y,o)},updateMotion:function(){var n=this.position.x,o=this.position.y,l=this.midPoint.x,h=this.midPoint.y;if(!(n===l&&o===h)){var u=i(this.motionFactor,l,n),c=i(this.motionFactor,h,o);a(u,n,.1)&&(u=n),a(c,o,.1)&&(c=o),this.midPoint.set(u,c);var d=n-u,v=o-c;this.velocity.set(d,v),this.angle=f(u,c,n,o),this.distance=Math.sqrt(d*d+v*v)}},up:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=n.timeStamp,this.wasTouch=!1)},down:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),s.macOS&&n.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=n.timeStamp),this.wasTouch=!1},move:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.locked&&(this.movementX=n.movementX||n.mozMovementX||n.webkitMovementX||0,this.movementY=n.movementY||n.mozMovementY||n.webkitMovementY||0),this.moveTime=n.timeStamp,this.wasTouch=!1},wheel:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.deltaX=n.deltaX,this.deltaY=n.deltaY,this.deltaZ=n.deltaZ,this.wasTouch=!1},touchstart:function(n,o){n.pointerId&&(this.pointerId=n.pointerId),this.identifier=n.identifier,this.target=n.target,this.active=!0,this.buttons=1,this.event=o,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=o.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(n,o){this.event=o,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.moveTime=o.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(n,o){this.buttons=0,this.event=o,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(n,o){this.buttons=0,this.event=o,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?t(this.downX,this.downY,this.x,this.y):t(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(n,o){n===void 0&&(n=10),o===void 0&&(o=[]);for(var l=this.prevPosition.x,h=this.prevPosition.y,u=this.position.x,c=this.position.y,d=0;d<n;d++){var v=1/n*d;o[d]={x:i(v,l,u),y:i(v,h,c)}}return o},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},time:{get:function(){return this.event?this.event.timeStamp:0}}});A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(51),t=p(1),a=new f({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=t,this.onTouchStartWindow=t,this.onTouchMove=t,this.onTouchEnd=t,this.onTouchEndWindow=t,this.onTouchCancel=t,this.onTouchCancelWindow=t,this.onTouchOver=t,this.onTouchOut=t,e.events.once(x.MANAGER_BOOT,this.boot,this)},boot:function(){var i=this.manager.config;this.enabled=i.inputTouch,this.target=i.inputTouchEventTarget,this.capture=i.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),i.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(i){return i.preventDefault(),!1}),this},startListeners:function(){var i=this,e=this.manager.canvas,s=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(l){s&&window.focus(),!l.defaultPrevented&&i.enabled&&i.manager&&i.manager.enabled&&(i.manager.onTouchStart(l),i.capture&&l.cancelable&&l.target===e&&l.preventDefault())},this.onTouchStartWindow=function(l){!l.defaultPrevented&&i.enabled&&i.manager&&i.manager.enabled&&l.target!==e&&i.manager.onTouchStart(l)},this.onTouchMove=function(l){!l.defaultPrevented&&i.enabled&&i.manager&&i.manager.enabled&&(i.manager.onTouchMove(l),i.capture&&l.cancelable&&l.preventDefault())},this.onTouchEnd=function(l){!l.defaultPrevented&&i.enabled&&i.manager&&i.manager.enabled&&(i.manager.onTouchEnd(l),i.capture&&l.cancelable&&l.target===e&&l.preventDefault())},this.onTouchEndWindow=function(l){!l.defaultPrevented&&i.enabled&&i.manager&&i.manager.enabled&&l.target!==e&&i.manager.onTouchEnd(l)},this.onTouchCancel=function(l){!l.defaultPrevented&&i.enabled&&i.manager&&i.manager.enabled&&(i.manager.onTouchCancel(l),i.capture&&l.preventDefault())},this.onTouchCancelWindow=function(l){!l.defaultPrevented&&i.enabled&&i.manager&&i.manager.enabled&&i.manager.onTouchCancel(l)},this.onTouchOver=function(l){!l.defaultPrevented&&i.enabled&&i.manager&&i.manager.enabled&&i.manager.setCanvasOver(l)},this.onTouchOut=function(l){!l.defaultPrevented&&i.enabled&&i.manager&&i.manager.enabled&&i.manager.setCanvasOut(l)};var r=this.target;if(!!r){var n={passive:!0},o={passive:!1};r.addEventListener("touchstart",this.onTouchStart,this.capture?o:n),r.addEventListener("touchmove",this.onTouchMove,this.capture?o:n),r.addEventListener("touchend",this.onTouchEnd,this.capture?o:n),r.addEventListener("touchcancel",this.onTouchCancel,this.capture?o:n),r.addEventListener("touchover",this.onTouchOver,this.capture?o:n),r.addEventListener("touchout",this.onTouchOut,this.capture?o:n),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,o),window.addEventListener("touchend",this.onTouchEndWindow,o),window.addEventListener("touchcancel",this.onTouchCancelWindow,o)),this.enabled=!0}},stopListeners:function(){var i=this.target;i.removeEventListener("touchstart",this.onTouchStart),i.removeEventListener("touchmove",this.onTouchMove),i.removeEventListener("touchend",this.onTouchEnd),i.removeEventListener("touchcancel",this.onTouchCancel),i.removeEventListener("touchover",this.onTouchOver),i.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(22),t=p(9),a=p(8),i=p(16),e=p(5),s=p(2),r=p(24),n=p(93),o=new f({Extends:t,initialize:function(h){t.call(this),this.game=h,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],h.isBooted?this.boot():h.events.once(x.BOOT,this.boot,this)},boot:function(){var l,h,u,c,d,v,g,m=this.game.config,y=m.installGlobalPlugins;for(y=y.concat(this._pendingGlobal),l=0;l<y.length;l++)h=y[l],u=s(h,"key",null),c=s(h,"plugin",null),d=s(h,"start",!1),v=s(h,"mapping",null),g=s(h,"data",null),u&&(c?this.install(u,c,d,v,g):console.warn("Missing `plugin` for key: "+u));for(y=m.installScenePlugins,y=y.concat(this._pendingScene),l=0;l<y.length;l++)h=y[l],u=s(h,"key",null),c=s(h,"plugin",null),v=s(h,"mapping",null),u&&(c?this.installScenePlugin(u,c,v):console.warn("Missing `plugin` for key: "+u));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(x.DESTROY,this.destroy,this)},addToScene:function(l,h,u){var c,d,v,g=this.game,m=l.scene,y=l.settings.map,T=l.settings.isBooted;for(c=0;c<h.length;c++)d=h[c],g[d]?(l[d]=g[d],y.hasOwnProperty(d)&&(m[y[d]]=l[d])):d==="game"&&y.hasOwnProperty(d)&&(m[y[d]]=g);for(var E=0;E<u.length;E++)for(v=u[E],c=0;c<v.length;c++)if(d=v[c],!!r.hasCore(d)){var S=r.getCore(d),C=S.mapping,M=new S.plugin(m,this,C);l[C]=M,S.custom?m[C]=M:y.hasOwnProperty(C)&&(m[y[C]]=M),T&&M.boot()}for(v=this.plugins,c=0;c<v.length;c++){var P=v[c];P.mapping&&(m[P.mapping]=P.plugin)}},getDefaultScenePlugins:function(){var l=this.game.config.defaultPlugins;return l=l.concat(this.scenePlugins),l},installScenePlugin:function(l,h,u,c,d){if(d===void 0&&(d=!1),typeof h!="function"){console.warn("Invalid Scene Plugin: "+l);return}if(!r.hasCore(l))r.register(l,h,u,!0),this.scenePlugins.push(l);else if(!d&&r.hasCore(l)){console.warn("Scene Plugin key in use: "+l);return}if(c){var v=new h(c,this,l);c.sys[l]=v,u&&u!==""&&(c[u]=v),v.boot()}},install:function(l,h,u,c,d){if(u===void 0&&(u=!1),c===void 0&&(c=null),d===void 0&&(d=null),typeof h!="function")return console.warn("Invalid Plugin: "+l),null;if(r.hasCustom(l))return console.warn("Plugin key in use: "+l),null;if(c!==null&&(u=!0),!this.game.isBooted)this._pendingGlobal.push({key:l,plugin:h,start:u,mapping:c,data:d});else if(r.registerCustom(l,h,c,d),u)return this.start(l);return null},getIndex:function(l){for(var h=this.plugins,u=0;u<h.length;u++){var c=h[u];if(c.key===l)return u}return-1},getEntry:function(l){var h=this.getIndex(l);if(h!==-1)return this.plugins[h]},isActive:function(l){var h=this.getEntry(l);return h&&h.active},start:function(l,h){h===void 0&&(h=l);var u=this.getEntry(h);return u&&!u.active?(u.active=!0,u.plugin.start()):u||(u=this.createEntry(l,h)),u?u.plugin:null},createEntry:function(l,h){var u=r.getCustom(l);if(u){var c=new u.plugin(this);u={key:h,plugin:c,active:!0,mapping:u.mapping,data:u.data},this.plugins.push(u),c.init(u.data),c.start()}return u},stop:function(l){var h=this.getEntry(l);return h&&h.active&&(h.active=!1,h.plugin.stop()),this},get:function(l,h){h===void 0&&(h=!0);var u=this.getEntry(l);if(u)return u.plugin;var c=this.getClass(l);return c&&h?(u=this.createEntry(l,l),u?u.plugin:null):c||null},getClass:function(l){return r.getCustomClass(l)},removeGlobalPlugin:function(l){var h=this.getEntry(l);h&&n(this.plugins,h),r.removeCustom(l)},removeScenePlugin:function(l){n(this.scenePlugins,l),r.remove(l)},registerGameObject:function(l,h,u){return h&&e.register(l,h),u&&i.register(l,u),this},removeGameObject:function(l,h,u){return h===void 0&&(h=!0),u===void 0&&(u=!0),h&&e.remove(l),u&&i.remove(l),this},registerFileType:function(l,h,u){a.register(l,h),u&&u.sys.load&&(u.sys.load[l]=h)},destroy:function(){for(var l=0;l<this.plugins.length;l++)this.plugins[l].plugin.destroy();r.destroyCustomPlugins(),this.game.noReturn&&r.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});A.exports=o},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(201),x=p(0),t=p(9),a=p(104),i=p(22),e=p(401),s=p(407),r=p(402),n=p(1),o=p(10),l=p(416),h=p(76),u=p(3),c=new x({Extends:t,initialize:function(v){t.call(this),this.game=v,this.canvas,this.canvasBounds=new o,this.parent=null,this.parentIsWindow=!1,this.parentSize=new l,this.gameSize=new l,this.baseSize=new l,this.displaySize=new l,this.scaleMode=f.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new u(1,1),this.autoRound=!1,this.autoCenter=f.CENTER.NO_CENTER,this.orientation=f.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:n,windowResize:n,fullScreenChange:n,fullScreenError:n}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(i.BOOT,this.boot,this)},boot:function(){var d=this.game;this.canvas=d.canvas,this.fullscreen=d.device.fullscreen,this.scaleMode!==f.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===f.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),d.events.on(i.PRE_STEP,this.step,this),d.events.once(i.READY,this.refresh,this),d.events.once(i.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(d){this.getParent(d),this.getParentBounds();var v=d.width,g=d.height,m=d.scaleMode,y=d.zoom,T=d.autoRound;if(typeof v=="string"){var E=this.parentSize.width;E===0&&(E=window.innerWidth);var S=parseInt(v,10)/100;v=Math.floor(E*S)}if(typeof g=="string"){var C=this.parentSize.height;C===0&&(C=window.innerHeight);var M=parseInt(g,10)/100;g=Math.floor(C*M)}this.scaleMode=m,this.autoRound=T,this.autoCenter=d.autoCenter,this.resizeInterval=d.resizeInterval,T&&(v=Math.floor(v),g=Math.floor(g)),this.gameSize.setSize(v,g),y===f.ZOOM.MAX_ZOOM&&(y=this.getMaxZoom()),this.zoom=y,y!==1&&(this._resetZoom=!0),this.baseSize.setSize(v,g),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),d.minWidth>0&&this.displaySize.setMin(d.minWidth*y,d.minHeight*y),d.maxWidth>0&&this.displaySize.setMax(d.maxWidth*y,d.maxHeight*y),this.displaySize.setSize(v,g),this.orientation=r(v,g)},getParent:function(d){var v=d.parent;if(v!==null){if(this.parent=s(v),this.parentIsWindow=this.parent===document.body,d.expandParent&&d.scaleMode!==f.SCALE_MODE.NONE){var g=this.parent.getBoundingClientRect();(this.parentIsWindow||g.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",g=this.parent.getBoundingClientRect(),!this.parentIsWindow&&g.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}d.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=s(d.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var d=this.parentSize,v=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(v.height=e(!0));var g=v.width,m=v.height;return d.width!==g||d.height!==m?(d.setSize(g,m),!0):!1},lockOrientation:function(d){var v=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return v?v.call(screen,d):!1},setParentSize:function(d,v){return this.parentSize.setSize(d,v),this.refresh()},setGameSize:function(d,v){var g=this.autoRound;g&&(d=Math.floor(d),v=Math.floor(v));var m=this.width,y=this.height;return this.gameSize.resize(d,v),this.baseSize.resize(d,v),g&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(d/v),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(m,y)},resize:function(d,v){var g=this.zoom,m=this.autoRound;m&&(d=Math.floor(d),v=Math.floor(v));var y=this.width,T=this.height;this.gameSize.resize(d,v),this.baseSize.resize(d,v),m&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(d*g,v*g),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var E=this.canvas.style,S=d*g,C=v*g;return m&&(S=Math.floor(S),C=Math.floor(C)),(S!==d||C!==v)&&(E.width=S+"px",E.height=C+"px"),this.refresh(y,T)},setZoom:function(d){return this.zoom=d,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(d,v){d===void 0&&(d=this.width),v===void 0&&(v=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var g=this.game.domContainer;if(g){this.baseSize.setCSS(g);var m=this.canvas.style,y=g.style;y.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",y.marginLeft=m.marginLeft,y.marginTop=m.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,d,v),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var d=r(this.width,this.height);d!==this.orientation&&(this.orientation=d,this.emit(a.ORIENTATION_CHANGE,d))}},updateScale:function(){var d=this.canvas.style,v=this.gameSize.width,g=this.gameSize.height,m,y,T=this.zoom,E=this.autoRound;this.scaleMode===f.SCALE_MODE.NONE?(this.displaySize.setSize(v*T,g*T),m=this.displaySize.width,y=this.displaySize.height,E&&(m=Math.floor(m),y=Math.floor(y)),this._resetZoom&&(d.width=m+"px",d.height=y+"px",this._resetZoom=!1)):this.scaleMode===f.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),m=this.displaySize.width,y=this.displaySize.height,E&&(m=Math.floor(m),y=Math.floor(y)),this.canvas.width=m,this.canvas.height=y):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),m=this.displaySize.width,y=this.displaySize.height,E&&(m=Math.floor(m),y=Math.floor(y)),d.width=m+"px",d.height=y+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var d=h(this.parentSize.width,this.gameSize.width,0,!0),v=h(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(d,v),1)},updateCenter:function(){var d=this.autoCenter;if(d!==f.CENTER.NO_CENTER){var v=this.canvas,g=v.style,m=v.getBoundingClientRect(),y=m.width,T=m.height,E=Math.floor((this.parentSize.width-y)/2),S=Math.floor((this.parentSize.height-T)/2);d===f.CENTER.CENTER_HORIZONTALLY?S=0:d===f.CENTER.CENTER_VERTICALLY&&(E=0),g.marginLeft=E+"px",g.marginTop=S+"px"}},updateBounds:function(){var d=this.canvasBounds,v=this.canvas.getBoundingClientRect();d.x=v.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),d.y=v.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),d.width=v.width,d.height=v.height},transformX:function(d){return(d-this.canvasBounds.left)*this.displayScale.x},transformY:function(d){return(d-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(d){d===void 0&&(d={navigationUI:"hide"});var v=this.fullscreen;if(!v.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!v.active){var g=this.getFullscreenTarget();v.keyboard?g[v.request](Element.ALLOW_KEYBOARD_INPUT):g[v.request](d)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(d){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,d)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var d=document.createElement("div");d.style.margin="0",d.style.padding="0",d.style.width="100%",d.style.height="100%",this.fullscreenTarget=d,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var v=this.canvas.parentNode;v.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var d=this.fullscreenTarget;if(d&&d.parentNode){var v=d.parentNode;v.insertBefore(this.canvas,d),v.removeChild(d)}}},stopFullscreen:function(){var d=this.fullscreen;if(!d.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;d.active&&document[d.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(d){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(d)},startListeners:function(){var d=this,v=this.listeners;if(v.orientationChange=function(){d.updateBounds(),d._checkOrientation=!0,d.dirty=!0},v.windowResize=function(){d.updateBounds(),d.dirty=!0},window.addEventListener("orientationchange",v.orientationChange,!1),window.addEventListener("resize",v.windowResize,!1),this.fullscreen.available){v.fullScreenChange=function(m){return d.onFullScreenChange(m)},v.fullScreenError=function(m){return d.onFullScreenError(m)};var g=["webkit","moz",""];g.forEach(function(m){document.addEventListener(m+"fullscreenchange",v.fullScreenChange,!1),document.addEventListener(m+"fullscreenerror",v.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",v.fullScreenChange,!1),document.addEventListener("MSFullscreenError",v.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(d,v){!this.parent||(this._lastCheck+=v,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var d=this.listeners;window.removeEventListener("orientationchange",d.orientationChange,!1),window.removeEventListener("resize",d.windowResize,!1);var v=["webkit","moz",""];v.forEach(function(g){document.removeEventListener(g+"fullscreenchange",d.fullScreenChange,!1),document.removeEventListener(g+"fullscreenerror",d.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",d.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",d.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===f.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===f.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});A.exports=c},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(18),x=p(0),t=p(76),a=p(3),i=new x({initialize:function(s,r,n,o){s===void 0&&(s=0),r===void 0&&(r=s),n===void 0&&(n=0),o===void 0&&(o=null),this._width=s,this._height=r,this._parent=o,this.aspectMode=n,this.aspectRatio=r===0?1:s/r,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.snapTo.set(e,s),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.minWidth=f(e,0,this.maxWidth),this.minHeight=f(s,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,s){return e===void 0&&(e=Number.MAX_VALUE),s===void 0&&(s=e),this.maxWidth=f(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=f(s,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,s){switch(e===void 0&&(e=0),s===void 0&&(s=e),this.aspectMode){case i.NONE:this._width=this.getNewWidth(t(e,this.snapTo.x)),this._height=this.getNewHeight(t(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case i.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(t(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case i.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(t(s,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case i.FIT:this.constrain(e,s,!0);break;case i.ENVELOP:this.constrain(e,s,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,s){return this._width=this.getNewWidth(t(e,this.snapTo.x)),this._height=this.getNewHeight(t(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,s){return s===void 0&&(s=!0),e=f(e,this.minWidth,this.maxWidth),s&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,s){return s===void 0&&(s=!0),e=f(e,this.minHeight,this.maxHeight),s&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,s,r){e===void 0&&(e=0),s===void 0&&(s=e),r===void 0&&(r=!0),e=this.getNewWidth(e),s=this.getNewHeight(s);var n=this.snapTo,o=s===0?1:e/s;return r&&this.aspectRatio>o||!r&&this.aspectRatio<o?(e=t(e,n.x),s=e/this.aspectRatio,n.y>0&&(s=t(s,n.y),e=s*this.aspectRatio)):(r&&this.aspectRatio<o||!r&&this.aspectRatio>o)&&(s=t(s,n.y),e=s*this.aspectRatio,n.x>0&&(e=t(e,n.x),s=e*(1/this.aspectRatio))),this._width=e,this._height=s,this},fitTo:function(e,s){return this.constrain(e,s,!0)},envelop:function(e,s){return this.constrain(e,s,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});i.NONE=0,i.WIDTH_CONTROLS_HEIGHT=1,i.HEIGHT_CONTROLS_WIDTH=2,i.FIT=3,i.ENVELOP=4,A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(144),t=p(20),a=p(22),i=p(6),e=p(95),s=p(1),r=p(418),n=p(204),o=new f({initialize:function(h,u){if(this.game=h,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,u){Array.isArray(u)||(u=[u]);for(var c=0;c<u.length;c++)this._pending.push({key:"default",scene:u[c],autoStart:c===0,data:{}})}h.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var l,h,u,c;for(l=0;l<this._pending.length;l++){h=this._pending[l],u=h.key,c=h.scene;var d;c instanceof r?d=this.createSceneFromInstance(u,c):typeof c=="object"?d=this.createSceneFromObject(u,c):typeof c=="function"&&(d=this.createSceneFromFunction(u,c)),u=d.sys.settings.key,this.keys[u]=d,this.scenes.push(d),this._data[u]&&(d.sys.settings.data=this._data[u].data,this._data[u].autoStart&&(h.autoStart=!0)),(h.autoStart||d.sys.settings.active)&&this._start.push(u)}for(this._pending.length=0,this._data={},this.isBooted=!0,l=0;l<this._start.length;l++)h=this._start[l],this.start(h);this._start.length=0}},processQueue:function(){var l=this._pending.length,h=this._queue.length;if(!(l===0&&h===0)){var u,c;if(l){for(u=0;u<l;u++)c=this._pending[u],this.add(c.key,c.scene,c.autoStart,c.data);for(u=0;u<this._start.length;u++)c=this._start[u],this.start(c);this._start.length=0,this._pending.length=0;return}for(u=0;u<this._queue.length;u++)c=this._queue[u],this[c.op](c.keyA,c.keyB);this._queue.length=0}},add:function(l,h,u,c){if(u===void 0&&(u=!1),c===void 0&&(c={}),this.isProcessing||!this.isBooted)return this._pending.push({key:l,scene:h,autoStart:u,data:c}),this.isBooted||(this._data[l]={data:c}),null;l=this.getKey(l,h);var d;return h instanceof r?d=this.createSceneFromInstance(l,h):typeof h=="object"?(h.key=l,d=this.createSceneFromObject(l,h)):typeof h=="function"&&(d=this.createSceneFromFunction(l,h)),d.sys.settings.data=c,l=d.sys.settings.key,this.keys[l]=d,this.scenes.push(d),(u||d.sys.settings.active)&&(this._pending.length?this._start.push(l):this.start(l)),d},remove:function(l){if(this.isProcessing)this._queue.push({op:"remove",keyA:l,keyB:null});else{var h=this.getScene(l);if(!h||h.sys.isTransitioning())return this;var u=this.scenes.indexOf(h),c=h.sys.settings.key;u>-1&&(delete this.keys[c],this.scenes.splice(u,1),this._start.indexOf(c)>-1&&(u=this._start.indexOf(c),this._start.splice(u,1)),h.sys.destroy())}return this},bootScene:function(l){var h=l.sys,u=h.settings;h.sceneUpdate=s,l.init&&(l.init.call(l,u.data),u.status=x.INIT,u.isTransition&&h.events.emit(t.TRANSITION_INIT,u.transitionFrom,u.transitionDuration));var c;h.load&&(c=h.load,c.reset()),c&&l.preload?(l.preload.call(l),c.list.size===0?this.create(l):(u.status=x.LOADING,c.once(e.COMPLETE,this.loadComplete,this),c.start())):this.create(l)},loadComplete:function(l){this.create(l.scene)},payloadComplete:function(l){this.bootScene(l.scene)},update:function(l,h){this.processQueue(),this.isProcessing=!0;for(var u=this.scenes.length-1;u>=0;u--){var c=this.scenes[u].sys;c.settings.status>x.START&&c.settings.status<=x.RUNNING&&c.step(l,h)}},render:function(l){for(var h=0;h<this.scenes.length;h++){var u=this.scenes[h].sys;u.settings.visible&&u.settings.status>=x.LOADING&&u.settings.status<x.SLEEPING&&u.render(l)}this.isProcessing=!1},create:function(l){var h=l.sys,u=h.settings;l.create&&(u.status=x.CREATING,l.create.call(l,u.data),u.status===x.DESTROYED)||(u.isTransition&&h.events.emit(t.TRANSITION_START,u.transitionFrom,u.transitionDuration),l.update&&(h.sceneUpdate=l.update),u.status=x.RUNNING,h.events.emit(t.CREATE,l))},createSceneFromFunction:function(l,h){var u=new h;if(u instanceof r){var c=u.sys.settings.key;if(c!==""&&(l=c),this.keys.hasOwnProperty(l))throw new Error("Cannot add a Scene with duplicate key: "+l);return this.createSceneFromInstance(l,u)}else return u.sys=new n(u),u.sys.settings.key=l,u.sys.init(this.game),u},createSceneFromInstance:function(l,h){var u=h.sys.settings.key;return u===""&&(h.sys.settings.key=l),h.sys.init(this.game),h},createSceneFromObject:function(l,h){var u=new r(h),c=u.sys.settings.key;c!==""?l=c:u.sys.settings.key=l,u.sys.init(this.game);for(var d=["init","preload","create","update","render"],v=0;v<d.length;v++){var g=i(h,d[v],null);g&&(u[d[v]]=g)}if(h.hasOwnProperty("extend")){for(var m in h.extend)if(!!h.extend.hasOwnProperty(m)){var y=h.extend[m];m==="data"&&u.hasOwnProperty("data")&&typeof y=="object"?u.data.merge(y):m!=="sys"&&(u[m]=y)}}return u},getKey:function(l,h){if(l||(l="default"),typeof h=="function")return l;if(h instanceof r?l=h.sys.settings.key:typeof h=="object"&&h.hasOwnProperty("key")&&(l=h.key),this.keys.hasOwnProperty(l))throw new Error("Cannot add a Scene with duplicate key: "+l);return l},getScenes:function(l,h){l===void 0&&(l=!0),h===void 0&&(h=!1);for(var u=[],c=this.scenes,d=0;d<c.length;d++){var v=c[d];v&&(!l||l&&v.sys.isActive())&&u.push(v)}return h?u.reverse():u},getScene:function(l){if(typeof l=="string"){if(this.keys[l])return this.keys[l]}else for(var h=0;h<this.scenes.length;h++)if(l===this.scenes[h])return l;return null},isActive:function(l){var h=this.getScene(l);return h?h.sys.isActive():null},isPaused:function(l){var h=this.getScene(l);return h?h.sys.isPaused():null},isVisible:function(l){var h=this.getScene(l);return h?h.sys.isVisible():null},isSleeping:function(l){var h=this.getScene(l);return h?h.sys.isSleeping():null},pause:function(l,h){var u=this.getScene(l);return u&&u.sys.pause(h),this},resume:function(l,h){var u=this.getScene(l);return u&&u.sys.resume(h),this},sleep:function(l,h){var u=this.getScene(l);return u&&!u.sys.isTransitioning()&&u.sys.sleep(h),this},wake:function(l,h){var u=this.getScene(l);return u&&u.sys.wake(h),this},run:function(l,h){var u=this.getScene(l);if(!u){for(var c=0;c<this._pending.length;c++)if(this._pending[c].key===l){this.queueOp("start",l,h);break}return this}u.sys.isSleeping()?u.sys.wake(h):u.sys.isPaused()?u.sys.resume(h):this.start(l,h)},start:function(l,h){if(!this.isBooted)return this._data[l]={autoStart:!0,data:h},this;var u=this.getScene(l);if(u){var c=u.sys;if(c.isActive()||c.isPaused())c.shutdown(),c.sceneUpdate=s,c.start(h);else{c.sceneUpdate=s,c.start(h);var d;if(c.load&&(d=c.load),d&&c.settings.hasOwnProperty("pack")&&(d.reset(),d.addPack({payload:c.settings.pack})))return c.settings.status=x.LOADING,d.once(e.COMPLETE,this.payloadComplete,this),d.start(),this}this.bootScene(u)}return this},stop:function(l,h){var u=this.getScene(l);return u&&!u.sys.isTransitioning()&&u.sys.shutdown(h),this},switch:function(l,h){var u=this.getScene(l),c=this.getScene(h);return u&&c&&u!==c&&(this.sleep(l),this.isSleeping(h)?this.wake(h):this.start(h)),this},getAt:function(l){return this.scenes[l]},getIndex:function(l){var h=this.getScene(l);return this.scenes.indexOf(h)},bringToTop:function(l){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:l,keyB:null});else{var h=this.getIndex(l);if(h!==-1&&h<this.scenes.length){var u=this.getScene(l);this.scenes.splice(h,1),this.scenes.push(u)}}return this},sendToBack:function(l){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:l,keyB:null});else{var h=this.getIndex(l);if(h!==-1&&h>0){var u=this.getScene(l);this.scenes.splice(h,1),this.scenes.unshift(u)}}return this},moveDown:function(l){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:l,keyB:null});else{var h=this.getIndex(l);if(h>0){var u=h-1,c=this.getScene(l),d=this.getAt(u);this.scenes[h]=d,this.scenes[u]=c}}return this},moveUp:function(l){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:l,keyB:null});else{var h=this.getIndex(l);if(h<this.scenes.length-1){var u=h+1,c=this.getScene(l),d=this.getAt(u);this.scenes[h]=d,this.scenes[u]=c}}return this},moveAbove:function(l,h){if(l===h)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:l,keyB:h});else{var u=this.getIndex(l),c=this.getIndex(h);if(u!==-1&&c!==-1){var d=this.getAt(c);this.scenes.splice(c,1),this.scenes.splice(u+1,0,d)}}return this},moveBelow:function(l,h){if(l===h)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:l,keyB:h});else{var u=this.getIndex(l),c=this.getIndex(h);if(u!==-1&&c!==-1){var d=this.getAt(c);this.scenes.splice(c,1),u===0?this.scenes.unshift(d):this.scenes.splice(u,0,d)}}return this},queueOp:function(l,h,u){return this._queue.push({op:l,keyA:h,keyB:u}),this},swapPosition:function(l,h){if(l===h)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:l,keyB:h});else{var u=this.getIndex(l),c=this.getIndex(h);if(u!==c&&u!==-1&&c!==-1){var d=this.getAt(u);this.scenes[u]=this.scenes[c],this.scenes[c]=d}}return this},dump:function(){for(var l=[],h=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],u=0;u<this.scenes.length;u++){var c=this.scenes[u].sys,d=c.settings.visible&&(c.settings.status===x.RUNNING||c.settings.status===x.PAUSED)?"[*] ":"[-] ";d+=c.settings.key+" ("+h[c.settings.status]+")",l.push(d)}console.log(l.join(`
`))},destroy:function(){for(var l=0;l<this.scenes.length;l++){var h=this.scenes[l].sys;h.destroy()}this.update=s,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});A.exports=o},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(204),t=new f({initialize:function(i){this.sys=new x(this,i),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(2),x=p(205),t=function(a){var i=a.game.config.defaultPhysicsSystem,e=f(a.settings,"physics",!1);if(!(!i&&!e)){var s=[];if(i&&s.push(x(i+"Physics")),e)for(var r in e)r=x(r.concat("Physics")),s.indexOf(r)===-1&&s.push(r);return s}};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(2),x=function(t){var a=t.plugins.getDefaultScenePlugins(),i=f(t.settings,"plugins",!1);return Array.isArray(i)?i:a||[]};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(144),x=p(6),t=p(127),a=p(978),i={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:f.PENDING,key:x(e,"key",""),active:x(e,"active",!1),visible:x(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:x(e,"pack",!1),cameras:x(e,"cameras",null),map:x(e,"map",t(a,x(e,"mapAdd",{}))),physics:x(e,"physics",{}),loader:x(e,"loader",{}),plugins:x(e,"plugins",!1),input:x(e,"input",{})}}};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(31),x=p(423),t=p(0),a=p(38),i=p(33),e=p(9),s=p(106),r=p(22),n=p(388),o=p(6),l=p(425),h=p(206),u=new t({Extends:e,initialize:function(d){e.call(this),this.game=d,this.name="TextureManager",this.list={},this._tempCanvas=f.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,d.events.once(r.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(s.LOAD,this.updatePending,this),this.on(s.ERROR,this.updatePending,this);var c=this.game.config;this.addBase64("__DEFAULT",c.defaultImage),this.addBase64("__MISSING",c.missingImage),this.addBase64("__WHITE",c.whiteImage),this.game.events.once(r.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(s.LOAD),this.off(s.ERROR),this.emit(s.READY))},checkKey:function(c){return this.exists(c)?(console.error("Texture key already in use: "+c),!1):!0},remove:function(c){if(typeof c=="string")if(this.exists(c))c=this.get(c);else return console.warn("No texture found matching key: "+c),this;return this.list.hasOwnProperty(c.key)&&(c.destroy(),this.emit(s.REMOVE,c.key)),this},removeKey:function(c){return this.list.hasOwnProperty(c)&&delete this.list[c],this},addBase64:function(c,d){if(this.checkKey(c)){var v=this,g=new Image;g.onerror=function(){v.emit(s.ERROR,c)},g.onload=function(){var m=v.create(c,g);l.Image(m,0),v.emit(s.ADD,c,m),v.emit(s.LOAD,c,m)},g.src=d}return this},getBase64:function(c,d,v,g){v===void 0&&(v="image/png"),g===void 0&&(g=.92);var m="",y=this.getFrame(c,d);if(y&&(y.source.isRenderTexture||y.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(y){var T=y.canvasData,E=f.create2D(this,T.width,T.height),S=E.getContext("2d");S.drawImage(y.source.image,T.x,T.y,T.width,T.height,0,0,T.width,T.height),m=E.toDataURL(v,g),f.remove(E)}return m},addImage:function(c,d,v){var g=null;return this.checkKey(c)&&(g=this.create(c,d),l.Image(g,0),v&&g.setDataSource(v),this.emit(s.ADD,c,g)),g},addGLTexture:function(c,d,v,g){var m=null;return this.checkKey(c)&&(v===void 0&&(v=d.width),g===void 0&&(g=d.height),m=this.create(c,d,v,g),m.add("__BASE",0,0,0,v,g),this.emit(s.ADD,c,m)),m},addRenderTexture:function(c,d){var v=null;return this.checkKey(c)&&(v=this.create(c,d),v.add("__BASE",0,0,0,d.width,d.height),this.emit(s.ADD,c,v)),v},generate:function(c,d){if(this.checkKey(c)){var v=f.create(this,1,1);return d.canvas=v,n(d),this.addCanvas(c,v)}else return null},createCanvas:function(c,d,v){if(d===void 0&&(d=256),v===void 0&&(v=256),this.checkKey(c)){var g=f.create(this,d,v,i.CANVAS,!0);return this.addCanvas(c,g)}return null},addCanvas:function(c,d,v){v===void 0&&(v=!1);var g=null;return v?g=new x(this,c,d,d.width,d.height):this.checkKey(c)&&(g=new x(this,c,d,d.width,d.height),this.list[c]=g,this.emit(s.ADD,c,g)),g},addAtlas:function(c,d,v,g){return Array.isArray(v.textures)||Array.isArray(v.frames)?this.addAtlasJSONArray(c,d,v,g):this.addAtlasJSONHash(c,d,v,g)},addAtlasJSONArray:function(c,d,v,g){var m=null;if(this.checkKey(c)){if(m=this.create(c,d),Array.isArray(v))for(var y=v.length===1,T=0;T<m.source.length;T++){var E=y?v[0]:v[T];l.JSONArray(m,T,E)}else l.JSONArray(m,0,v);g&&m.setDataSource(g),this.emit(s.ADD,c,m)}return m},addAtlasJSONHash:function(c,d,v,g){var m=null;if(this.checkKey(c)){if(m=this.create(c,d),Array.isArray(v))for(var y=0;y<v.length;y++)l.JSONHash(m,y,v[y]);else l.JSONHash(m,0,v);g&&m.setDataSource(g),this.emit(s.ADD,c,m)}return m},addAtlasXML:function(c,d,v,g){var m=null;return this.checkKey(c)&&(m=this.create(c,d),l.AtlasXML(m,0,v),g&&m.setDataSource(g),this.emit(s.ADD,c,m)),m},addUnityAtlas:function(c,d,v,g){var m=null;return this.checkKey(c)&&(m=this.create(c,d),l.UnityYAML(m,0,v),g&&m.setDataSource(g),this.emit(s.ADD,c,m)),m},addSpriteSheet:function(c,d,v){var g=null;if(this.checkKey(c)){g=this.create(c,d);var m=g.source[0].width,y=g.source[0].height;l.SpriteSheet(g,0,0,0,m,y,v),this.emit(s.ADD,c,g)}return g},addSpriteSheetFromAtlas:function(c,d){if(!this.checkKey(c))return null;var v=o(d,"atlas",null),g=o(d,"frame",null);if(!(!v||!g)){var m=this.get(v),y=m.get(g);if(y){var T=this.create(c,y.source.image);return y.trimmed?l.SpriteSheetFromAtlas(T,y,d):l.SpriteSheet(T,0,y.cutX,y.cutY,y.cutWidth,y.cutHeight,d),this.emit(s.ADD,c,T),T}}},create:function(c,d,v,g){var m=null;return this.checkKey(c)&&(m=new h(this,c,d,v,g),this.list[c]=m),m},exists:function(c){return this.list.hasOwnProperty(c)},get:function(c){return c===void 0&&(c="__DEFAULT"),this.list[c]?this.list[c]:c instanceof h?c:this.list.__MISSING},cloneFrame:function(c,d){if(this.list[c])return this.list[c].get(d).clone()},getFrame:function(c,d){if(this.list[c])return this.list[c].get(d)},getTextureKeys:function(){var c=[];for(var d in this.list)d!=="__DEFAULT"&&d!=="__MISSING"&&c.push(d);return c},getPixel:function(c,d,v,g){var m=this.getFrame(v,g);if(m){c-=m.x,d-=m.y;var y=m.data.cut;if(c+=y.x,d+=y.y,c>=y.x&&c<y.r&&d>=y.y&&d<y.b){var T=this._tempContext;T.clearRect(0,0,1,1),T.drawImage(m.source.image,c,d,1,1,0,0,1,1);var E=T.getImageData(0,0,1,1);return new a(E.data[0],E.data[1],E.data[2],E.data[3])}}return null},getPixelAlpha:function(c,d,v,g){var m=this.getFrame(v,g);if(m){c-=m.x,d-=m.y;var y=m.data.cut;if(c+=y.x,d+=y.y,c>=y.x&&c<y.r&&d>=y.y&&d<y.b){var T=this._tempContext;T.clearRect(0,0,1,1),T.drawImage(m.source.image,c,d,1,1,0,0,1,1);var E=T.getImageData(0,0,1,1);return E.data[3]}}return null},setTexture:function(c,d,v){return this.list[d]&&(c.texture=this.list[d],c.frame=c.texture.get(v)),c},renameTexture:function(c,d){var v=this.get(c);return v&&c!==d?(v.key=d,this.list[d]=v,delete this.list[c],!0):!1},each:function(c,d){for(var v=[null],g=1;g<arguments.length;g++)v.push(arguments[g]);for(var m in this.list)v[0]=this.list[m],c.apply(d,v)},destroy:function(){for(var c in this.list)this.list[c].destroy();this.list={},this.game=null,f.remove(this._tempCanvas)}});A.exports=u},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(18),t=p(38),a=p(33),i=p(138),e=p(206),s=new f({Extends:e,initialize:function(n,o,l,h,u){e.call(this,n,o,l,h,u),this.add("__BASE",0,0,0,h,u),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=h,this.height=u,this.imageData=this.context.getImageData(0,0,h,u),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(r,n,o){return this.context.drawImage(o,r,n),this.update()},drawFrame:function(r,n,o,l){o===void 0&&(o=0),l===void 0&&(l=0);var h=this.manager.getFrame(r,n);if(h){var u=h.canvasData,c=h.cutWidth,d=h.cutHeight,v=h.source.resolution;return this.context.drawImage(h.source.image,u.x,u.y,c,d,o,l,c/v,d/v),this.update()}else return this},setPixel:function(r,n,o,l,h,u){u===void 0&&(u=255),r=Math.abs(Math.floor(r)),n=Math.abs(Math.floor(n));var c=this.getIndex(r,n);if(c>-1){var d=this.context.getImageData(r,n,1,1);d.data[0]=o,d.data[1]=l,d.data[2]=h,d.data[3]=u,this.context.putImageData(d,r,n)}return this},putData:function(r,n,o,l,h,u,c){return l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=r.width),c===void 0&&(c=r.height),this.context.putImageData(r,n,o,l,h,u,c),this},getData:function(r,n,o,l){r=x(Math.floor(r),0,this.width-1),n=x(Math.floor(n),0,this.height-1),o=x(o,1,this.width-r),l=x(l,1,this.height-n);var h=this.context.getImageData(r,n,o,l);return h},getPixel:function(r,n,o){o||(o=new t);var l=this.getIndex(r,n);if(l>-1){var h=this.data,u=h[l+0],c=h[l+1],d=h[l+2],v=h[l+3];o.setTo(u,c,d,v)}return o},getPixels:function(r,n,o,l){r===void 0&&(r=0),n===void 0&&(n=0),o===void 0&&(o=this.width),l===void 0&&(l=o),r=Math.abs(Math.round(r)),n=Math.abs(Math.round(n));for(var h=x(r,0,this.width),u=x(r+o,0,this.width),c=x(n,0,this.height),d=x(n+l,0,this.height),v=new t,g=[],m=c;m<d;m++){for(var y=[],T=h;T<u;T++)v=this.getPixel(T,m,v),y.push({x:T,y:m,color:v.color,alpha:v.alphaGL});g.push(y)}return g},getIndex:function(r,n){return r=Math.abs(Math.round(r)),n=Math.abs(Math.round(n)),r<this.width&&n<this.height?(r+n*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(r,n,o,l){return r===void 0&&(r=0),n===void 0&&(n=0),o===void 0&&(o=this.width),l===void 0&&(l=this.height),this.context.clearRect(r,n,o,l),this.update()},setSize:function(r,n){return n===void 0&&(n=r),(r!==this.width||n!==this.height)&&(this.canvas.width=r,this.canvas.height=n,this._source.width=r,this._source.height=n,this._source.isPowerOf2=i(r,n),this.frames.__BASE.setSize(r,n,0,0),this.width=r,this.height=n,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(31),x=p(0),t=p(138),a=p(168),i=new x({initialize:function(s,r,n,o,l){l===void 0&&(l=!1);var h=s.manager.game;this.renderer=h.renderer,this.texture=s,this.source=r,this.image=r,this.compressionAlgorithm=null,this.resolution=1,this.width=n||r.naturalWidth||r.videoWidth||r.width||0,this.height=o||r.naturalHeight||r.videoHeight||r.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=r instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&r instanceof HTMLVideoElement,this.isRenderTexture=r.type==="RenderTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&r instanceof WebGLTexture,this.isPowerOf2=t(this.width,this.height),this.glTexture=null,this.glIndex=0,this.glIndexCounter=-1,this.flipY=l,this.init(h)},init:function(e){var s=this.renderer;s&&(s.gl?this.isCanvas?this.glTexture=s.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=s.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=s.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=s.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return e===void 0&&(e=!0),this.flipY=e,this},update:function(){var e=this.renderer.gl;e&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):e&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&f.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={AtlasXML:p(979),Canvas:p(980),Image:p(981),JSONArray:p(982),JSONHash:p(983),SpriteSheet:p(984),SpriteSheetFromAtlas:p(985),UnityYAML:p(986)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(427),x=p(430),t=p(432),a={create:function(i){var e=i.config.audio,s=i.device.audio;return e.noAudio||!s.webAudio&&!s.audioData?new x(i):s.webAudio&&!e.disableWebAudio?new t(i):new f(i)}};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(145),x=p(0),t=p(70),a=p(429),i=new x({Extends:f,initialize:function(s){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,f.call(this,s)},add:function(e,s){var r=new a(this,e,s);return this.sounds.push(r),r},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(o,l){for(var h=0;h<l.length;h++)if(l[h].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var s=!1,r=function(){s=!0},n=function(){if(s){s=!1;return}document.body.removeEventListener("touchmove",r),document.body.removeEventListener("touchend",n);var o=[];if(e.game.cache.audio.entries.each(function(h,u){for(var c=0;c<u.length;c++){var d=u[c];d.dataset.locked==="true"&&o.push(d)}return!0}),o.length!==0){var l=o[o.length-1];l.oncanplaythrough=function(){l.oncanplaythrough=null,o.forEach(function(h){h.dataset.locked="false"}),e.unlocked=!0},o.forEach(function(h){h.load()})}};this.once(t.UNLOCKED,function(){for(this.forEachActiveSound(function(l){l.currentMarker===null&&l.duration===0&&(l.duration=l.tags[0].duration),l.totalDuration=l.tags[0].duration});this.lockedActionsQueue.length;){var o=this.lockedActionsQueue.shift();o.sound[o.prop].apply?o.sound[o.prop].apply(o.sound,o.value||[]):o.sound[o.prop]=o.value}},this),document.body.addEventListener("touchmove",r,!1),document.body.addEventListener("touchend",n,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){f.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,s,r){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:s,value:r}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(s){s.updateMute()}),this.emit(t.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(s){s.updateVolume()}),this.emit(t.GLOBAL_VOLUME,this,e)}}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(78),x=function(t,a,i,e,s){if(e===void 0&&(e=0),s===void 0&&(s=t.length),f(t,e,s))for(var r=e;r<s;r++){var n=t[r];if(!a||a&&i===void 0&&n.hasOwnProperty(a)||a&&i!==void 0&&n[a]===i)return n}return null};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(146),x=p(0),t=p(70),a=p(18),i=new x({Extends:f,initialize:function(s,r,n){if(n===void 0&&(n={}),this.tags=s.game.cache.audio.get(r),!this.tags)throw new Error('There is no audio asset with key "'+r+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,f.call(this,s,r,n)},play:function(e,s){return this.manager.isLocked(this,"play",[e,s])||!f.prototype.play.call(this,e,s)||!this.pickAndPlayAudioTag()?!1:(this.emit(t.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!f.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(t.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!f.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(t.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!f.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(t.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,s=this.currentConfig.delay,r=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=r,this.audio.currentTime=r,this.applyConfig(),s===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+s*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var s=this.tags[e];if(s.dataset.used==="false")return s.dataset.used="true",this.audio=s,!0}if(!this.manager.override)return!1;var r=[];this.manager.forEachActiveSound(function(o){o.key===this.key&&o.audio&&r.push(o)},this),r.sort(function(o,l){return o.loop===l.loop?l.seek/l.duration-o.seek/o.duration:o.loop?1:-1});var n=r[0];return this.audio=n.audio,n.reset(),n.audio=null,n.startTime=0,n.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(s){console.warn(s)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){f.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(!!this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var s=this.currentMarker?this.currentMarker.start:0,r=s+this.duration,n=this.audio.currentTime;if(this.currentConfig.loop)n>=r-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,n-r),n=this.audio.currentTime):n<s&&(this.audio.currentTime+=s,n=this.audio.currentTime),n<this.previousTime&&this.emit(t.LOOPED,this);else if(n>=r){this.reset(),this.stopAndReleaseAudioTag(),this.emit(t.COMPLETE,this);return}this.previousTime=n}},destroy:function(){f.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){f.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(t.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(t.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,t.RATE,e)&&(this.calculateRate(),this.emit(t.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,t.DETUNE,e)&&(this.calculateRate(),this.emit(t.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(t.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(t.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(t.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(145),x=p(0),t=p(9),a=p(431),i=p(1),e=new x({Extends:t,initialize:function(r){t.call(this),this.game=r,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(s,r){var n=new a(this,s,r);return this.sounds.push(n),n},addAudioSprite:function(s,r){var n=this.add(s,r);return n.spritemap={},n},play:function(s,r){return!1},playAudioSprite:function(s,r,n){return!1},remove:function(s){return f.prototype.remove.call(this,s)},removeByKey:function(s){return f.prototype.removeByKey.call(this,s)},pauseAll:i,resumeAll:i,stopAll:i,update:i,setRate:i,setDetune:i,setMute:i,setVolume:i,forEachActiveSound:function(s,r){f.prototype.forEachActiveSound.call(this,s,r)},destroy:function(){f.prototype.destroy.call(this)}});A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(146),x=p(0),t=p(9),a=p(17),i=function(){return!1},e=function(){return null},s=function(){return this},r=new x({Extends:t,initialize:function(o,l,h){h===void 0&&(h={}),t.call(this),this.manager=o,this.key=l,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},h),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:i,updateMarker:i,removeMarker:e,play:i,pause:i,resume:i,stop:i,destroy:function(){f.prototype.destroy.call(this)},setMute:s,setVolume:s,setRate:s,setDetune:s,setSeek:s,setLoop:s,setPan:s});A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(433),x=p(145),t=p(0),a=p(70),i=p(22),e=p(434),s=new t({Extends:x,initialize:function(n){this.context=this.createAudioContext(n),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),x.call(this,n),this.locked&&n.isBooted?this.unlock():n.events.once(i.BOOT,this.unlock,this)},createAudioContext:function(r){var n=r.config.audio;if(n.context)return n.context.resume(),n.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(r){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=r,this.masterMuteNode=r.createGain(),this.masterVolumeNode=r.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(r.destination),this.destination=this.masterMuteNode,this},add:function(r,n){var o=new e(this,r,n);return this.sounds.push(o),o},decodeAudio:function(r,n){var o;Array.isArray(r)?o=r:o=[{key:r,data:n}];for(var l=this.game.cache.audio,h=o.length,u=0;u<o.length;u++){var c=o[u],d=c.key,v=c.data;typeof v=="string"&&(v=f(v));var g=function(y,T){l.add(y,T),this.emit(a.DECODED,y),h--,h===0&&this.emit(a.DECODED_ALL)}.bind(this,d),m=function(y,T){console.error("Error decoding audio: "+y+" - ",T?T.message:""),h--,h===0&&this.emit(a.DECODED_ALL)}.bind(this,d);this.context.decodeAudioData(v,g,m)}},unlock:function(){var r=this,n=document.body,o=function l(){if(r.context&&n){var h=n.removeEventListener;r.context.resume().then(function(){h("touchstart",l),h("touchend",l),h("click",l),h("keydown",l),r.unlocked=!0},function(){h("touchstart",l),h("touchend",l),h("click",l),h("keydown",l)})}};n&&(n.addEventListener("touchstart",o,!1),n.addEventListener("touchend",o,!1),n.addEventListener("click",o,!1),n.addEventListener("keydown",o,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var r=this.context;(r.state==="suspended"||r.state==="interrupted")&&!this.locked&&r.resume()},update:function(r,n){x.prototype.update.call(this,r,n);var o=this.context;o&&o.state==="interrupted"&&o.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var r=this;this.context.close().then(function(){r.context=null})}x.prototype.destroy.call(this)},setMute:function(r){return this.mute=r,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(r){this.masterMuteNode.gain.setValueAtTime(r?0:1,0),this.emit(a.GLOBAL_MUTE,this,r)}},setVolume:function(r){return this.volume=r,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(r){this.masterVolumeNode.gain.setValueAtTime(r,0),this.emit(a.GLOBAL_VOLUME,this,r)}}});A.exports=s},function(A,O){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=new Uint8Array(256),x=0;x<p.length;x++)f[p.charCodeAt(x)]=x;var t=function(a){a=a.substr(a.indexOf(",")+1);var i=a.length,e=i*.75,s=0,r,n,o,l;a[i-1]==="="&&(e--,a[i-2]==="="&&e--);for(var h=new ArrayBuffer(e),u=new Uint8Array(h),c=0;c<i;c+=4)r=f[a.charCodeAt(c)],n=f[a.charCodeAt(c+1)],o=f[a.charCodeAt(c+2)],l=f[a.charCodeAt(c+3)],u[s++]=r<<2|n>>4,u[s++]=(n&15)<<4|o>>2,u[s++]=(o&3)<<6|l&63;return h};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(146),x=p(0),t=p(70),a=new x({Extends:f,initialize:function(e,s,r){if(r===void 0&&(r={}),this.audioBuffer=e.game.cache.audio.get(s),!this.audioBuffer)throw new Error('Audio key "'+s+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=e.context.createGain(),this.volumeNode=e.context.createGain(),this.pannerNode=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),e.context.createStereoPanner?(this.pannerNode=e.context.createStereoPanner(),this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(e.destination)):this.volumeNode.connect(e.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,f.call(this,e,s,r)},play:function(i,e){return f.prototype.play.call(this,i,e)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(t.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!f.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(t.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!f.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(t.RESUME,this),!0)},stop:function(){return f.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(t.STOP,this),!0):!1},createAndStartBufferSource:function(){var i=this.currentConfig.seek,e=this.currentConfig.delay,s=this.manager.context.currentTime+e,r=(this.currentMarker?this.currentMarker.start:0)+i,n=this.duration-i;this.playTime=s-i,this.startTime=s,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,s),Math.max(0,r),Math.max(0,n)),this.resetConfig()},createAndStartLoopBufferSource:function(){var i=this.getLoopTime(),e=this.currentMarker?this.currentMarker.start:0,s=this.duration;this.loopTime=i,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,i),Math.max(0,e),Math.max(0,s))},createBufferSource:function(){var i=this,e=this.manager.context.createBufferSource();return e.buffer=this.audioBuffer,e.connect(this.muteNode),e.onended=function(s){s.target===i.source&&(i.currentConfig.loop?i.hasLooped=!0:i.hasEnded=!0)},e},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),f.prototype.applyConfig.call(this)},update:function(){this.hasEnded?(this.hasEnded=!1,f.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(t.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(t.LOOPED,this))},destroy:function(){f.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){f.prototype.calculateRate.call(this);var i=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,i),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,i)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var i=0,e=0;e<this.rateUpdates.length;e++){var s=0;e<this.rateUpdates.length-1?s=this.rateUpdates[e+1].time:s=this.manager.context.currentTime-this.playTime,i+=(s-this.rateUpdates[e].time)*this.rateUpdates[e].rate}return i},getLoopTime:function(){for(var i=0,e=0;e<this.rateUpdates.length-1;e++)i+=(this.rateUpdates[e+1].time-this.rateUpdates[e].time)*this.rateUpdates[e].rate;var s=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+s.time+(this.duration-i)/s.rate},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,this.calculateRate(),this.emit(t.RATE,this,i)}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,this.calculateRate(),this.emit(t.DETUNE,this,i)}},setDetune:function(i){return this.detune=i,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(i){this.currentConfig.mute=i,this.muteNode.gain.setValueAtTime(i?0:1,0),this.emit(t.MUTE,this,i)}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(i){this.currentConfig.volume=i,this.volumeNode.gain.setValueAtTime(i,0),this.emit(t.VOLUME,this,i)}},setVolume:function(i){return this.volume=i,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.currentConfig.seek=i,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(t.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),i&&this.createAndStartLoopBufferSource()),this.emit(t.LOOP,this,i)}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(i){this.currentConfig.pan=i,this.pannerNode&&this.pannerNode.pan.setValueAtTime(i,this.manager.context.currentTime),this.emit(t.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){for(var x=f.length,t=f[0].length,a=new Array(t),i=0;i<t;i++){a[i]=new Array(x);for(var e=x-1;e>-1;e--)a[i][e]=f[e][i]}return a};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function p(t,a,i){var e=t[a];t[a]=t[i],t[i]=e}function f(t,a){return t<a?-1:t>a?1:0}var x=function(t,a,i,e,s){for(i===void 0&&(i=0),e===void 0&&(e=t.length-1),s===void 0&&(s=f);e>i;){if(e-i>600){var r=e-i+1,n=a-i+1,o=Math.log(r),l=.5*Math.exp(2*o/3),h=.5*Math.sqrt(o*l*(r-l)/r)*(n-r/2<0?-1:1),u=Math.max(i,Math.floor(a-n*l/r+h)),c=Math.min(e,Math.floor(a+(r-n)*l/r+h));x(t,a,u,c,s)}var d=t[a],v=i,g=e;for(p(t,i,a),s(t[e],d)>0&&p(t,i,e);v<g;){for(p(t,v,g),v++,g--;s(t[v],d)<0;)v++;for(;s(t[g],d)>0;)g--}s(t[i],d)===0?p(t,i,g):(g++,p(t,g,e)),g<=a&&(i=g+1),a<=g&&(e=g-1)}};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(6),x=p(131),t=function(i,e,s){for(var r=[],n=0;n<i.length;n++)for(var o=0;o<e.length;o++)for(var l=0;l<s;l++)r.push({a:i[n],b:e[o]});return r},a=function(i,e,s){var r=f(s,"max",0),n=f(s,"qty",1),o=f(s,"random",!1),l=f(s,"randomB",!1),h=f(s,"repeat",0),u=f(s,"yoyo",!1),c=[];if(l&&x(e),h===-1)if(r===0)h=0;else{var d=i.length*e.length*n;u&&(d*=2),h=Math.ceil(r/d)}for(var v=0;v<=h;v++){var g=t(i,e,n);o&&x(g),c=c.concat(g),u&&(g.reverse(),c=c.concat(g))}return r&&c.splice(r),c};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={PROCESS_QUEUE_ADD:p(1041),PROCESS_QUEUE_REMOVE:p(1042)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(13),x=function(t,a){var i=f(a,"anims",null);if(i===null)return t;if(typeof i=="string")t.anims.play(i);else if(typeof i=="object"){var e=t.anims,s=f(i,"key",void 0);if(s){var r=f(i,"startFrame",void 0),n=f(i,"delay",0),o=f(i,"repeat",0),l=f(i,"repeatDelay",0),h=f(i,"yoyo",!1),u=f(i,"play",!1),c=f(i,"delayedPlay",0),d={key:s,delay:n,repeat:o,repeatDelay:l,yoyo:h,startFrame:r};u?e.play(d):c>0?e.playAfterDelay(d,c):e.load(d)}}return t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(109),t=new f({initialize:function(i,e,s,r,n){this.parent=i,this.x=e,this.y=s,this.frame=r,this.data={},this.tint=16777215,this._visible=n,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(a){return a===void 0?this.frame=this.parent.frame:a instanceof x&&a.texture===this.parent.texture?this.frame=a:this.frame=this.parent.texture.get(a),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(a,i,e){return this.x=a,this.y=i,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(a,i){return this.x=a,this.y=i,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,i){return this.flipX=a,this.flipY=i,this},setVisible:function(a){return this.visible=a,this},setAlpha:function(a){return this.alpha=a,this},setTint:function(a){return this.tint=a,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(a){this.parent.dirty|=this._visible!==a,this._visible=a}},alpha:{get:function(){return this._alpha},set:function(a){this.parent.dirty|=this._alpha>0!=a>0,this._alpha=a}}});A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(10),x=function(t,a,i){i===void 0&&(i=new f);var e=Math.min(t.x,a.x),s=Math.min(t.y,a.y),r=Math.max(t.right,a.right)-e,n=Math.max(t.bottom,a.bottom)-s;return i.setTo(e,s,r,n)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(11),t=p(1055),a=p(15),i=p(7),e=p(202),s=p(20),r=p(140),n=new f({Extends:a,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Origin,x.ScrollFactor,x.Transform,x.Visible,t],initialize:function(l,h,u,c,d,v){a.call(this,l,"DOMElement"),this.parent=l.sys.game.domContainer,this.cache=l.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new r,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(h,u),typeof c=="string"?c[0]==="#"?this.setElement(c.substr(1),d,v):this.createElement(c,d,v):c&&this.setElement(c,d,v),l.sys.events.on(s.SLEEP,this.handleSceneEvent,this),l.sys.events.on(s.WAKE,this.handleSceneEvent,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},handleSceneEvent:function(o){var l=this.node,h=l.style;l&&(h.display=o.settings.visible?"block":"none")},setSkew:function(o,l){return o===void 0&&(o=0),l===void 0&&(l=o),this.skewX=o,this.skewY=l,this},setPerspective:function(o){return this.parent.style.perspective=o+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(o){this.parent.style.perspective=o+"px"}},addListener:function(o){if(this.node){o=o.split(" ");for(var l=0;l<o.length;l++)this.node.addEventListener(o[l],this.handler,!1)}return this},removeListener:function(o){if(this.node){o=o.split(" ");for(var l=0;l<o.length;l++)this.node.removeEventListener(o[l],this.handler)}return this},dispatchNativeEvent:function(o){this.emit(o.type,o)},createElement:function(o,l,h){return this.setElement(document.createElement(o),l,h)},setElement:function(o,l,h){this.removeElement();var u;if(typeof o=="string"?(o[0]==="#"&&(o=o.substr(1)),u=document.getElementById(o)):typeof o=="object"&&o.nodeType===1&&(u=o),!u)return this;if(this.node=u,l&&i(l))for(var c in l)u.style[c]=l[c];else typeof l=="string"&&(u.style=l);return u.style.zIndex="0",u.style.display="inline",u.style.position="absolute",u.phaser=this,this.parent&&this.parent.appendChild(u),h&&(u.innerText=h),this.updateSize()},createFromCache:function(o,l){var h=this.cache.get(o);return h&&this.createFromHTML(h,l),this},createFromHTML:function(o,l){l===void 0&&(l="div"),this.removeElement();var h=document.createElement(l);return this.node=h,h.style.zIndex="0",h.style.display="inline",h.style.position="absolute",h.phaser=this,this.parent&&this.parent.appendChild(h),h.innerHTML=o,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var o=this.node,l=o.getBoundingClientRect();return this.width=o.clientWidth,this.height=o.clientHeight,this.displayWidth=l.width||0,this.displayHeight=l.height||0,this},getChildByProperty:function(o,l){if(this.node){for(var h=this.node.querySelectorAll("*"),u=0;u<h.length;u++)if(h[u][o]===l)return h[u]}return null},getChildByID:function(o){return this.getChildByProperty("id",o)},getChildByName:function(o){return this.getChildByProperty("name",o)},setClassName:function(o){return this.node&&(this.node.className=o,this.updateSize()),this},setText:function(o){return this.node&&(this.node.innerText=o,this.updateSize()),this},setHTML:function(o){return this.node&&(this.node.innerHTML=o,this.updateSize()),this},preUpdate:function(){var o=this.parentContainer,l=this.node;l&&o&&!o.willRender()&&(l.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(s.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(s.WAKE,this.handleSceneEvent,this)}});A.exports=n},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1056),x=p(15),t=p(25),a=new t,i=new t,e=new t,s=function(r,n,o,l){if(!!n.node){var h=n.node.style,u=n.scene.sys.settings;if(!h||!u.visible||x.RENDER_MASK!==n.renderFlags||n.cameraFilter!==0&&n.cameraFilter&o.id||n.parentContainer&&!n.parentContainer.willRender()){h.display="none";return}var c=n.parentContainer,d=o.alpha*n.alpha;c&&(d*=c.alpha);var v=a,g=i,m=e,y=0,T=0,E="0%",S="0%";l?(y=n.width*n.scaleX*n.originX,T=n.height*n.scaleY*n.originY,g.applyITRS(n.x-y,n.y-T,n.rotation,n.scaleX,n.scaleY),v.copyFrom(o.matrix),v.multiplyWithOffset(l,-o.scrollX*n.scrollFactorX,-o.scrollY*n.scrollFactorY),g.e=n.x-y,g.f=n.y-T,v.multiply(g,m)):(y=n.width*n.originX,T=n.height*n.originY,g.applyITRS(n.x-y,n.y-T,n.rotation,n.scaleX,n.scaleY),v.copyFrom(o.matrix),E=100*n.originX+"%",S=100*n.originY+"%",g.e-=o.scrollX*n.scrollFactorX,g.f-=o.scrollY*n.scrollFactorY,v.multiply(g,m)),n.transformOnly||(h.display="block",h.opacity=d,h.zIndex=n._depth,h.pointerEvents=n.pointerEvents,h.mixBlendMode=f[n._blendMode]),h.transform=m.getCSSMatrix()+" skew("+n.skewX+"rad, "+n.skewY+"rad) rotate3d("+n.rotate3d.x+","+n.rotate3d.y+","+n.rotate3d.z+","+n.rotate3d.w+n.rotate3dAngle+")",h.transformOrigin=E+" "+S}};A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(11),t=p(15),a=p(1060),i=new f({Extends:t,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.Origin,x.ScrollFactor,x.Size,x.Texture,x.Tint,x.Transform,x.Visible,a],initialize:function(s){t.call(this,s,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(218),x=p(98),t=p(14),a=p(4),i=function(e,s,r){r===void 0&&(r=new a);var n=x(s,0,t.PI2);return f(e,n,r)};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(447),x=p(218),t=p(98),a=p(14),i=function(e,s,r,n){n===void 0&&(n=[]),!s&&r>0&&(s=f(e)/r);for(var o=0;o<s;o++){var l=t(o/s,0,a.PI2);n.push(x(e,l))}return n};A.exports=i},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){var x=f.width/2,t=f.height/2,a=Math.pow(x-t,2)/Math.pow(x+t,2);return Math.PI*(x+t)*(1+3*a/(10+Math.sqrt(4-3*a)))};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(217),x=p(30),t=function(a,i,e,s,r,n){var o=i.commandBuffer,l=o.length,h=r||a.currentContext;if(!(l===0||!x(a,h,i,e,s))){e.addToRenderList(i);var u=1,c=1,d=0,v=0,g=1,m=0,y=0,T=0;h.beginPath();for(var E=0;E<l;++E){var S=o[E];switch(S){case f.ARC:h.arc(o[E+1],o[E+2],o[E+3],o[E+4],o[E+5],o[E+6]),E+=7;break;case f.LINE_STYLE:g=o[E+1],d=o[E+2],u=o[E+3],m=(d&16711680)>>>16,y=(d&65280)>>>8,T=d&255,h.strokeStyle="rgba("+m+","+y+","+T+","+u+")",h.lineWidth=g,E+=3;break;case f.FILL_STYLE:v=o[E+1],c=o[E+2],m=(v&16711680)>>>16,y=(v&65280)>>>8,T=v&255,h.fillStyle="rgba("+m+","+y+","+T+","+c+")",E+=2;break;case f.BEGIN_PATH:h.beginPath();break;case f.CLOSE_PATH:h.closePath();break;case f.FILL_PATH:n||h.fill();break;case f.STROKE_PATH:n||h.stroke();break;case f.FILL_RECT:n?h.rect(o[E+1],o[E+2],o[E+3],o[E+4]):h.fillRect(o[E+1],o[E+2],o[E+3],o[E+4]),E+=4;break;case f.FILL_TRIANGLE:h.beginPath(),h.moveTo(o[E+1],o[E+2]),h.lineTo(o[E+3],o[E+4]),h.lineTo(o[E+5],o[E+6]),h.closePath(),n||h.fill(),E+=6;break;case f.STROKE_TRIANGLE:h.beginPath(),h.moveTo(o[E+1],o[E+2]),h.lineTo(o[E+3],o[E+4]),h.lineTo(o[E+5],o[E+6]),h.closePath(),n||h.stroke(),E+=6;break;case f.LINE_TO:h.lineTo(o[E+1],o[E+2]),E+=2;break;case f.MOVE_TO:h.moveTo(o[E+1],o[E+2]),E+=2;break;case f.LINE_FX_TO:h.lineTo(o[E+1],o[E+2]),E+=5;break;case f.MOVE_FX_TO:h.moveTo(o[E+1],o[E+2]),E+=5;break;case f.SAVE:h.save();break;case f.RESTORE:h.restore();break;case f.TRANSLATE:h.translate(o[E+1],o[E+2]),E+=2;break;case f.SCALE:h.scale(o[E+1],o[E+2]),E+=2;break;case f.ROTATE:h.rotate(o[E+1]),E+=1;break;case f.GRADIENT_FILL_STYLE:E+=5;break;case f.GRADIENT_LINE_STYLE:E+=6;break}}h.restore()}};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(137),t=p(80),a=p(2),i=p(68),e=new f({initialize:function(r,n,o,l){l===void 0&&(l=!1),this.propertyKey=n,this.propertyValue=o,this.defaultValue=o,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=l,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(r)},loadConfig:function(s,r){s===void 0&&(s={}),r&&(this.propertyKey=r),this.propertyValue=a(s,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(s){return this.propertyValue=s,this.setMethods()},setMethods:function(){var s=this.propertyValue,r=typeof s;if(this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,r==="number")this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(s))this.onEmit=this.randomStaticValueEmit;else if(r==="function")this.emitOnly?this.onEmit=s:this.onUpdate=s;else if(r==="object"&&this.hasBoth(s,"start","end")){this.start=s.start,this.end=s.end;var n=this.has(s,"random");if(n&&(this.onEmit=this.randomRangedValueEmit),this.has(s,"steps"))this.steps=s.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var o=this.has(s,"ease")?s.ease:"Linear";this.ease=t(o,s.easeParams),n||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else if(r==="object"&&this.hasBoth(s,"min","max"))this.start=s.min,this.end=s.max,this.onEmit=this.randomRangedValueEmit;else if(r==="object"&&this.has(s,"random")){var l=s.random;Array.isArray(l)&&(this.start=l[0],this.end=l[1]),this.onEmit=this.randomRangedValueEmit}else r==="object"&&this.hasEither(s,"onEmit","onUpdate")&&(this.has(s,"onEmit")&&(this.onEmit=s.onEmit),this.has(s,"onUpdate")&&(this.onUpdate=s.onUpdate));return this},has:function(s,r){return s.hasOwnProperty(r)},hasBoth:function(s,r,n){return s.hasOwnProperty(r)&&s.hasOwnProperty(n)},hasEither:function(s,r,n){return s.hasOwnProperty(r)||s.hasOwnProperty(n)},defaultEmit:function(s,r,n){return n},defaultUpdate:function(s,r,n,o){return o},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var s=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[s]},randomRangedValueEmit:function(s,r){var n=x(this.start,this.end);return s&&s.data[r]&&(s.data[r].min=n),n},steppedEmit:function(){var s=this.counter,r=this.counter+(this.end-this.start)/this.steps;return this.counter=i(r,this.start,this.end),s},easedValueEmit:function(s,r){if(s&&s.data[r]){var n=s.data[r];n.min=this.start,n.max=this.end}return this.start},easeValueUpdate:function(s,r,n){var o=s.data[r];return(o.max-o.min)*this.ease(n)+o.min}});A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(2),t=new f({initialize:function(i,e,s,r,n){if(typeof i=="object"){var o=i;i=x(o,"x",0),e=x(o,"y",0),s=x(o,"power",0),r=x(o,"epsilon",100),n=x(o,"gravity",50)}else i===void 0&&(i=0),e===void 0&&(e=0),s===void 0&&(s=0),r===void 0&&(r=100),n===void 0&&(n=50);this.x=i,this.y=e,this.active=!0,this._gravity=n,this._power=0,this._epsilon=0,this.power=s,this.epsilon=r},update:function(a,i){var e=this.x-a.x,s=this.y-a.y,r=e*e+s*s;if(r!==0){var n=Math.sqrt(r);r<this._epsilon&&(r=this._epsilon);var o=this._power*i/(r*n)*100;a.velocityX+=e*o,a.velocityY+=s*o}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(a){this._epsilon=a*a}},power:{get:function(){return this._power/this._gravity},set:function(a){this._power=a*this._gravity}},gravity:{get:function(){return this._gravity},set:function(a){var i=this.power;this._gravity=a,this.power=i}}});A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(36),t=p(50),a=new f({initialize:function(e){this.emitter=e,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(i,e){var s=this.emitter;this.frame=s.getFrame(),s.emitZone&&s.emitZone.getPoint(this),i===void 0?this.x+=s.x.onEmit(this,"x"):this.x+=i,e===void 0?this.y+=s.y.onEmit(this,"y"):this.y+=e,this.life=s.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var r=s.speedX.onEmit(this,"speedX"),n=s.speedY?s.speedY.onEmit(this,"speedY"):r;if(s.radial){var o=x(s.angle.onEmit(this,"angle"));this.velocityX=Math.cos(o)*Math.abs(r),this.velocityY=Math.sin(o)*Math.abs(n)}else if(s.moveTo){var l=s.moveToX.onEmit(this,"moveToX"),h=s.moveToY?s.moveToY.onEmit(this,"moveToY"):l,u=Math.atan2(h-this.y,l-this.x),c=t(this.x,this.y,l,h)/(this.life/1e3);this.velocityX=Math.cos(u)*c,this.velocityY=Math.sin(u)*c}else this.velocityX=r,this.velocityY=n;s.acceleration&&(this.accelerationX=s.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=s.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=s.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=s.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=s.delay.onEmit(this,"delay"),this.scaleX=s.scaleX.onEmit(this,"scaleX"),this.scaleY=s.scaleY?s.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=s.rotate.onEmit(this,"rotate"),this.rotation=x(this.angle),this.bounce=s.bounce.onEmit(this,"bounce"),this.alpha=s.alpha.onEmit(this,"alpha"),this.tint=s.tint.onEmit(this,"tint")},computeVelocity:function(i,e,s,r){var n=this.velocityX,o=this.velocityY,l=this.accelerationX,h=this.accelerationY,u=this.maxVelocityX,c=this.maxVelocityY;n+=i.gravityX*s,o+=i.gravityY*s,l&&(n+=l*s),h&&(o+=h*s),n>u?n=u:n<-u&&(n=-u),o>c?o=c:o<-c&&(o=-c),this.velocityX=n,this.velocityY=o;for(var d=0;d<r.length;d++)r[d].update(this,e,s)},checkBounds:function(i){var e=i.bounds,s=-this.bounce;this.x<e.x&&i.collideLeft?(this.x=e.x,this.velocityX*=s):this.x>e.right&&i.collideRight&&(this.x=e.right,this.velocityX*=s),this.y<e.y&&i.collideTop?(this.y=e.y,this.velocityY*=s):this.y>e.bottom&&i.collideBottom&&(this.y=e.bottom,this.velocityY*=s)},update:function(i,e,s){if(this.delayCurrent>0)return this.delayCurrent-=i,!1;var r=this.emitter,n=1-this.lifeCurrent/this.life;return this.lifeT=n,this.computeVelocity(r,i,e,s),this.x+=this.velocityX*e,this.y+=this.velocityY*e,r.bounds&&this.checkBounds(r),r.deathZone&&r.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=r.scaleX.onUpdate(this,"scaleX",n,this.scaleX),r.scaleY?this.scaleY=r.scaleY.onUpdate(this,"scaleY",n,this.scaleY):this.scaleY=this.scaleX,this.angle=r.rotate.onUpdate(this,"rotate",n,this.angle),this.rotation=x(this.angle),this.alpha=r.alpha.onUpdate(this,"alpha",n,this.alpha),this.tint=r.tint.onUpdate(this,"tint",n,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0)}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(35),x=p(0),t=p(11),a=p(453),i=p(454),e=p(449),s=p(2),r=p(210),n=p(455),o=p(126),l=p(451),h=p(456),u=p(10),c=p(79),d=p(3),v=p(68),g=new x({Mixins:[t.BlendMode,t.Mask,t.ScrollFactor,t.Visible],initialize:function(y,T){this.manager=y,this.texture=y.texture,this.frames=[y.defaultFrame],this.defaultFrame=y.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=l,this.x=new e(T,"x",0,!0),this.y=new e(T,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new e(T,"accelerationX",0,!0),this.accelerationY=new e(T,"accelerationY",0,!0),this.maxVelocityX=new e(T,"maxVelocityX",1e4,!0),this.maxVelocityY=new e(T,"maxVelocityY",1e4,!0),this.speedX=new e(T,"speedX",0,!0),this.speedY=new e(T,"speedY",0,!0),this.moveTo=!1,this.moveToX=new e(T,"moveToX",0,!0),this.moveToY=new e(T,"moveToY",0,!0),this.bounce=new e(T,"bounce",0,!0),this.scaleX=new e(T,"scaleX",1),this.scaleY=new e(T,"scaleY",1),this.tint=new e(T,"tint",16777215),this.alpha=new e(T,"alpha",1),this.lifespan=new e(T,"lifespan",1e3,!0),this.angle=new e(T,"angle",{min:0,max:360},!0),this.rotate=new e(T,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new e(T,"quantity",1,!0),this.delay=new e(T,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=f.NORMAL,this.follow=null,this.followOffset=new d,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,T&&this.fromJSON(T)},fromJSON:function(m){if(!m)return this;var y=0,T="";for(y=0;y<this.configFastMap.length;y++)T=this.configFastMap[y],o(m,T)&&(this[T]=s(m,T));for(y=0;y<this.configOpMap.length;y++)T=this.configOpMap[y],o(m,T)&&this[T].loadConfig(m);if(this.acceleration=this.accelerationX.propertyValue!==0||this.accelerationY.propertyValue!==0,this.moveTo=this.moveToX.propertyValue!==0||this.moveToY.propertyValue!==0,o(m,"speed")&&(this.speedX.loadConfig(m,"speed"),this.speedY=null),(n(m,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),o(m,"scale")&&(this.scaleX.loadConfig(m,"scale"),this.scaleY=null),o(m,"callbackScope")){var E=s(m,"callbackScope",null);this.emitCallbackScope=E,this.deathCallbackScope=E}return o(m,"emitZone")&&this.setEmitZone(m.emitZone),o(m,"deathZone")&&this.setDeathZone(m.deathZone),o(m,"bounds")&&this.setBounds(m.bounds),o(m,"followOffset")&&this.followOffset.setFromObject(s(m,"followOffset",0)),o(m,"frame")&&this.setFrame(m.frame),o(m,"reserve")&&this.reserve(m.reserve),this},toJSON:function(m){m===void 0&&(m={});var y=0,T="";for(y=0;y<this.configFastMap.length;y++)T=this.configFastMap[y],m[T]=this[T];for(y=0;y<this.configOpMap.length;y++)T=this.configOpMap[y],this[T]&&(m[T]=this[T].toJSON());return this.speedY||(delete m.speedX,m.speed=this.speedX.toJSON()),this.scaleY||(delete m.scaleX,m.scale=this.scaleX.toJSON()),m},startFollow:function(m,y,T,E){return y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=!1),this.follow=m,this.followOffset.set(y,T),this.trackVisible=E,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(this.frames.length===1)return this.defaultFrame;if(this.randomFrame)return r(this.frames);var m=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=v(this.currentFrame+1,0,this._frameLength)),m},setFrame:function(m,y,T){y===void 0&&(y=!0),T===void 0&&(T=1),this.randomFrame=y,this.frameQuantity=T,this.currentFrame=0,this._frameCounter=0;var E=typeof m;if(Array.isArray(m)||E==="string"||E==="number")this.manager.setEmitterFrames(m,this);else if(E==="object"){var S=m;m=s(S,"frames",null),m&&this.manager.setEmitterFrames(m,this);var C=s(S,"cycle",!1);this.randomFrame=!C,this.frameQuantity=s(S,"quantity",T)}return this._frameLength=this.frames.length,this._frameLength===1&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(m){return m===void 0&&(m=!0),this.radial=m,this},setPosition:function(m,y){return this.x.onChange(m),this.y.onChange(y),this},setBounds:function(m,y,T,E){if(typeof m=="object"){var S=m;m=S.x,y=S.y,T=o(S,"w")?S.w:S.width,E=o(S,"h")?S.h:S.height}return this.bounds?this.bounds.setTo(m,y,T,E):this.bounds=new u(m,y,T,E),this},setSpeedX:function(m){return this.speedX.onChange(m),this.radial=!1,this},setSpeedY:function(m){return this.speedY&&(this.speedY.onChange(m),this.radial=!1),this},setSpeed:function(m){return this.speedX.onChange(m),this.speedY=null,this.radial=!0,this},setScaleX:function(m){return this.scaleX.onChange(m),this},setScaleY:function(m){return this.scaleY.onChange(m),this},setScale:function(m){return this.scaleX.onChange(m),this.scaleY=null,this},setGravityX:function(m){return this.gravityX=m,this},setGravityY:function(m){return this.gravityY=m,this},setGravity:function(m,y){return this.gravityX=m,this.gravityY=y,this},setAlpha:function(m){return this.alpha.onChange(m),this},setTint:function(m){return this.tint.onChange(m),this},setEmitterAngle:function(m){return this.angle.onChange(m),this},setAngle:function(m){return this.angle.onChange(m),this},setLifespan:function(m){return this.lifespan.onChange(m),this},setQuantity:function(m){return this.quantity.onChange(m),this},setFrequency:function(m,y){return this.frequency=m,this._counter=0,y&&this.quantity.onChange(y),this},setEmitZone:function(m){if(m===void 0)this.emitZone=null;else{var y=s(m,"type","random"),T=s(m,"source",null);switch(y){case"random":this.emitZone=new h(T);break;case"edge":var E=s(m,"quantity",1),S=s(m,"stepRate",0),C=s(m,"yoyo",!1),M=s(m,"seamless",!0);this.emitZone=new i(T,E,S,C,M);break}}return this},setDeathZone:function(m){if(m===void 0)this.deathZone=null;else{var y=s(m,"type","onEnter"),T=s(m,"source",null);if(T&&typeof T.contains=="function"){var E=y==="onEnter";this.deathZone=new a(T,E)}}return this},reserve:function(m){for(var y=this.dead,T=0;T<m;T++)y.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(m,y){return m===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof m=="function"&&(this.emitCallback=m,y&&(this.emitCallbackScope=y)),this},onParticleDeath:function(m,y){return m===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof m=="function"&&(this.deathCallback=m,y&&(this.deathCallbackScope=y)),this},killAll:function(){for(var m=this.dead,y=this.alive;y.length>0;)m.push(y.pop());return this},forEachAlive:function(m,y){for(var T=this.alive,E=T.length,S=0;S<E;++S)m.call(y,T[S],this);return this},forEachDead:function(m,y){for(var T=this.dead,E=T.length,S=0;S<E;++S)m.call(y,T[S],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return c(this.alive,this.depthSortCallback),this},flow:function(m,y){return y===void 0&&(y=1),this.frequency=m,this.quantity.onChange(y),this.start()},explode:function(m,y,T){return this.frequency=-1,this.emitParticle(m,y,T)},emitParticleAt:function(m,y,T){return this.emitParticle(T,m,y)},emitParticle:function(m,y,T){if(!this.atLimit()){m===void 0&&(m=this.quantity.onEmit());for(var E=this.dead,S=this.follow?this.follow.x+this.followOffset.x:y,C=this.follow?this.follow.y+this.followOffset.y:T,M=0;M<m;M++){var P=E.pop();if(P||(P=new this.particleClass(this)),P.fire(S,C),this.particleBringToTop?this.alive.push(P):this.alive.unshift(P),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,P,this),this.atLimit())break}return P}},preUpdate:function(m,y){y*=this.timeScale;var T=y/1e3;this.trackVisible&&(this.visible=this.follow.visible);var E=this.manager.getProcessors(),S=this.alive,C=this.dead,M=0,P=[],R=S.length;for(M=0;M<R;M++){var L=S[M];L.update(y,T,E)&&P.push({index:M,particle:L})}if(R=P.length,R>0){var w=this.deathCallback,B=this.deathCallbackScope;for(M=R-1;M>=0;M--){var G=P[M];S.splice(G.index,1),C.push(G.particle),w&&w.call(B,G.particle),G.particle.resetPosition()}}!this.on||(this.frequency===0?this.emitParticle():this.frequency>0&&(this._counter-=y,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(m,y){return m.y-y.y}});A.exports=g},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a,i){this.source=a,this.killOnEnter=i},willKill:function(t){var a=this.source.contains(t.x,t.y);return a&&this.killOnEnter||!a&&!this.killOnEnter}});A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a,i,e,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),this.source=a,this.points=[],this.quantity=i,this.stepRate=e,this.yoyo=s,this.counter=-1,this.seamless=r,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var t=this.points[0],a=this.points[this.points.length-1];t.x===a.x&&t.y===a.y&&this.points.pop()}var i=this._length;return this._length=this.points.length,this._length<i&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(t){return this.source=t,this.updateSource()},getPoint:function(t){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var a=this.points[this.counter];a&&(t.x=a.x,t.y=a.y)}});A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){for(var t=0;t<x.length;t++)if(f.hasOwnProperty(x[t]))return!0;return!1};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(3),t=new f({initialize:function(i){this.source=i,this._tempVec=new x},getPoint:function(a){var i=this._tempVec;this.source.getRandomPoint(i),a.x=i.x,a.y=i.y}});A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(11),t=p(73),a=new f({Extends:t,Mixins:[x.PathFollower],initialize:function(e,s,r,n,o,l){t.call(this,e,r,n,o,l),this.path=s},preUpdate:function(i,e){this.anims.update(i,e),this.pathUpdate(i)}});A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=f.canvas,i=f.context,e=f.style,s=[],r=0,n=t.length;e.maxLines>0&&e.maxLines<t.length&&(n=e.maxLines),e.syncFont(a,i);for(var o=0;o<n;o++){var l=e.strokeThickness;l+=i.measureText(t[o]).width,e.wordWrap&&(l-=i.measureText(" ").width),s[o]=Math.ceil(l),r=Math.max(r,s[o])}var h=x.fontSize+e.strokeThickness,u=h*n,c=f.lineSpacing;return n>1&&(u+=c*(n-1)),{width:r,height:u,lines:n,lineWidths:s,lineSpacing:c,lineHeight:h}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(13),t=p(6),a=p(460),i={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new f({initialize:function(r,n){this.parent=r,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(n,!1,!0);var o=t(n,"metrics",!1);o?this.metrics={ascent:t(o,"ascent",0),descent:t(o,"descent",0),fontSize:t(o,"fontSize",0)}:this.metrics=a(this)},setStyle:function(s,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),s&&s.hasOwnProperty("fontSize")&&typeof s.fontSize=="number"&&(s.fontSize=s.fontSize.toString()+"px");for(var o in i){var l=n?i[o][1]:this[o];o==="wordWrapCallback"||o==="wordWrapCallbackScope"?this[o]=t(s,i[o][0],l):this[o]=x(s,i[o][0],l)}var h=t(s,"font",null);h!==null&&this.setFont(h,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var u=t(s,"fill",null);return u!==null&&(this.color=u),r?this.update(!0):this.parent},syncFont:function(s,r){r.font=this._font},syncStyle:function(s,r){r.textBaseline="alphabetic",r.fillStyle=this.color,r.strokeStyle=this.stroke,r.lineWidth=this.strokeThickness,r.lineCap="round",r.lineJoin="round"},syncShadow:function(s,r){r?(s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY,s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur):(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowColor=0,s.shadowBlur=0)},update:function(s){return s&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(s,r){r===void 0&&(r=!0);var n=s,o="",l="";if(typeof s!="string")n=t(s,"fontFamily","Courier"),o=t(s,"fontSize","16px"),l=t(s,"fontStyle","");else{var h=s.split(" "),u=0;l=h.length>2?h[u++]:"",o=h[u++]||"16px",n=h[u++]||"Courier"}return(n!==this.fontFamily||o!==this.fontSize||l!==this.fontStyle)&&(this.fontFamily=n,this.fontSize=o,this.fontStyle=l,r&&this.update(!0)),this.parent},setFontFamily:function(s){return this.fontFamily!==s&&(this.fontFamily=s,this.update(!0)),this.parent},setFontStyle:function(s){return this.fontStyle!==s&&(this.fontStyle=s,this.update(!0)),this.parent},setFontSize:function(s){return typeof s=="number"&&(s=s.toString()+"px"),this.fontSize!==s&&(this.fontSize=s,this.update(!0)),this.parent},setTestString:function(s){return this.testString=s,this.update(!0)},setFixedSize:function(s,r){return this.fixedWidth=s,this.fixedHeight=r,s&&(this.parent.width=s),r&&(this.parent.height=r),this.update(!1)},setBackgroundColor:function(s){return this.backgroundColor=s,this.update(!1)},setFill:function(s){return this.color=s,this.update(!1)},setColor:function(s){return this.color=s,this.update(!1)},setResolution:function(s){return this.resolution=s,this.update(!1)},setStroke:function(s,r){return r===void 0&&(r=this.strokeThickness),s===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==s||this.strokeThickness!==r)&&(this.stroke=s,this.strokeThickness=r,this.update(!0)),this.parent},setShadow:function(s,r,n,o,l,h){return s===void 0&&(s=0),r===void 0&&(r=0),n===void 0&&(n="#000"),o===void 0&&(o=0),l===void 0&&(l=!1),h===void 0&&(h=!0),this.shadowOffsetX=s,this.shadowOffsetY=r,this.shadowColor=n,this.shadowBlur=o,this.shadowStroke=l,this.shadowFill=h,this.update(!1)},setShadowOffset:function(s,r){return s===void 0&&(s=0),r===void 0&&(r=s),this.shadowOffsetX=s,this.shadowOffsetY=r,this.update(!1)},setShadowColor:function(s){return s===void 0&&(s="#000"),this.shadowColor=s,this.update(!1)},setShadowBlur:function(s){return s===void 0&&(s=0),this.shadowBlur=s,this.update(!1)},setShadowStroke:function(s){return this.shadowStroke=s,this.update(!1)},setShadowFill:function(s){return this.shadowFill=s,this.update(!1)},setWordWrapWidth:function(s,r){return r===void 0&&(r=!1),this.wordWrapWidth=s,this.wordWrapUseAdvanced=r,this.update(!1)},setWordWrapCallback:function(s,r){return r===void 0&&(r=null),this.wordWrapCallback=s,this.wordWrapCallbackScope=r,this.update(!1)},setAlign:function(s){return s===void 0&&(s="left"),this.align=s,this.update(!1)},setMaxLines:function(s){return s===void 0&&(s=0),this.maxLines=s,this.update(!1)},getTextMetrics:function(){var s=this.metrics;return{ascent:s.ascent,descent:s.descent,fontSize:s.fontSize}},toJSON:function(){var s={};for(var r in i)s[r]=this[r];return s.metrics=this.getTextMetrics(),s},destroy:function(){this.parent=void 0}});A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(31),x=function(t){var a=f.create(this),i=a.getContext("2d");t.syncFont(a,i);var e=i.measureText(t.testString);if("actualBoundingBoxAscent"in e){var s=e.actualBoundingBoxAscent,r=e.actualBoundingBoxDescent;return f.remove(a),{ascent:s,descent:r,fontSize:s+r}}var n=Math.ceil(e.width*t.baselineX),o=n,l=2*o;o=o*t.baselineY|0,a.width=n,a.height=l,i.fillStyle="#f00",i.fillRect(0,0,n,l),i.font=t._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(t.testString,0,o);var h={ascent:0,descent:0,fontSize:0},u=i.getImageData(0,0,n,l);if(!u)return h.ascent=o,h.descent=o+6,h.fontSize=h.ascent+h.descent,f.remove(a),h;var c=u.data,d=c.length,v=n*4,g,m,y=0,T=!1;for(g=0;g<o;g++){for(m=0;m<v;m+=4)if(c[y+m]!==255){T=!0;break}if(!T)y+=v;else break}for(h.ascent=o-g,y=d-v,T=!1,g=l;g>o;g--){for(m=0;m<v;m+=4)if(c[y+m]!==255){T=!0;break}if(!T)y-=v;else break}return h.descent=g-o,h.fontSize=h.ascent+h.descent,f.remove(a),h};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1097),x=p(0),t=p(36),a=p(59),i=p(65),e=p(14),s=p(34),r=new x({Extends:s,Mixins:[f],initialize:function(o,l,h,u,c,d,v,g,m){l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=128),c===void 0&&(c=0),d===void 0&&(d=360),v===void 0&&(v=!1),s.call(this,o,"Arc",new i(0,0,u)),this._startAngle=c,this._endAngle=d,this._anticlockwise=v,this._iterations=.01,this.setPosition(l,h);var y=this.geom.radius*2;this.setSize(y,y),g!==void 0&&this.setFillStyle(g,m),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(n){this._iterations=n,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(n){this.geom.radius=n;var o=n*2;this.setSize(o,o),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(n){this._startAngle=n,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(n){this._endAngle=n,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(n){this._anticlockwise=n,this.updateData()}},setRadius:function(n){return this.radius=n,this},setIterations:function(n){return n===void 0&&(n=.01),this.iterations=n,this},setStartAngle:function(n,o){return this._startAngle=n,o!==void 0&&(this._anticlockwise=o),this.updateData()},setEndAngle:function(n,o){return this._endAngle=n,o!==void 0&&(this._anticlockwise=o),this.updateData()},updateData:function(){var n=this._iterations,o=n,l=this.geom.radius,h=t(this._startAngle),u=t(this._endAngle),c=this._anticlockwise,d=l,v=l;u-=h,c?u<-e.PI2?u=-e.PI2:u>0&&(u=-e.PI2+u%e.PI2):u>e.PI2?u=e.PI2:u<0&&(u=e.PI2+u%e.PI2);for(var g=[d+Math.cos(h)*l,v+Math.sin(h)*l],m;o<1;)m=u*o+h,g.push(d+Math.cos(m)*l,v+Math.sin(m)*l),o+=n;return m=u+h,g.push(d+Math.cos(m)*l,v+Math.sin(m)*l),g.push(d+Math.cos(h)*l,v+Math.sin(h)*l),this.pathIndexes=a(g),this.pathData=g,this}});A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(1100),t=p(59),a=p(10),i=p(34),e=new f({Extends:i,Mixins:[x],initialize:function(r,n,o,l,h,u){n===void 0&&(n=0),o===void 0&&(o=0),i.call(this,r,"Curve",l),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(n,o),h!==void 0&&this.setFillStyle(h,u),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){var s=this._curveBounds,r=this._smoothness;this.geom.getBounds(s,r),this.setSize(s.width,s.height),this.updateDisplayOrigin();for(var n=[],o=this.geom.getPoints(r),l=0;l<o.length;l++)n.push(o[l].x,o[l].y);return n.push(o[0].x,o[0].y),this.pathIndexes=t(n),this.pathData=n,this}});A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(59),t=p(1103),a=p(111),i=p(34),e=new f({Extends:i,Mixins:[t],initialize:function(r,n,o,l,h,u,c){n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=128),h===void 0&&(h=128),i.call(this,r,"Ellipse",new a(l/2,h/2,l,h)),this._smoothness=64,this.setPosition(n,o),this.width=l,this.height=h,u!==void 0&&this.setFillStyle(u,c),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSize:function(s,r){return this.width=s,this.height=r,this.geom.setPosition(s/2,r/2),this.geom.setSize(s,r),this.updateData()},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){for(var s=[],r=this.geom.getPoints(this._smoothness),n=0;n<r.length;n++)s.push(r[n].x,r[n].y);return s.push(r[0].x,r[0].y),this.pathIndexes=x(s),this.pathData=s,this}});A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(34),t=p(1106),a=new f({Extends:x,Mixins:[t],initialize:function(e,s,r,n,o,l,h,u,c,d,v){s===void 0&&(s=0),r===void 0&&(r=0),n===void 0&&(n=128),o===void 0&&(o=128),l===void 0&&(l=32),h===void 0&&(h=32),x.call(this,e,"Grid",null),this.cellWidth=l,this.cellHeight=h,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(s,r),this.setSize(n,o),this.setFillStyle(u,c),d!==void 0&&this.setOutlineStyle(d,v),this.updateDisplayOrigin()},setFillStyle:function(i,e){return e===void 0&&(e=1),i===void 0?this.showCells=!1:(this.fillColor=i,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(i,e){return e===void 0&&(e=1),i===void 0?this.showAltCells=!1:(this.altFillColor=i,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(i,e){return e===void 0&&(e=1),i===void 0?this.showOutline=!1:(this.outlineFillColor=i,this.outlineFillAlpha=e,this.showOutline=!0),this}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1109),x=p(0),t=p(34),a=new x({Extends:t,Mixins:[f],initialize:function(e,s,r,n,o,l,h,u){s===void 0&&(s=0),r===void 0&&(r=0),n===void 0&&(n=48),o===void 0&&(o=32),l===void 0&&(l=15658734),h===void 0&&(h=10066329),u===void 0&&(u=13421772),t.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=l,this.fillLeft=h,this.fillRight=u,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(s,r),this.setSize(n,o),this.updateDisplayOrigin()},setProjection:function(i){return this.projection=i,this},setFaces:function(i,e,s){return i===void 0&&(i=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=i,this.showLeft=e,this.showRight=s,this},setFillStyle:function(i,e,s){return this.fillTop=i,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(1112),t=p(34),a=new f({Extends:t,Mixins:[x],initialize:function(e,s,r,n,o,l,h,u,c){s===void 0&&(s=0),r===void 0&&(r=0),n===void 0&&(n=48),o===void 0&&(o=32),l===void 0&&(l=!1),h===void 0&&(h=15658734),u===void 0&&(u=10066329),c===void 0&&(c=13421772),t.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=h,this.fillLeft=u,this.fillRight=c,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=l,this.isFilled=!0,this.setPosition(s,r),this.setSize(n,o),this.updateDisplayOrigin()},setProjection:function(i){return this.projection=i,this},setReversed:function(i){return this.isReversed=i,this},setFaces:function(i,e,s){return i===void 0&&(i=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=i,this.showLeft=e,this.showRight=s,this},setFillStyle:function(i,e,s){return this.fillTop=i,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(34),t=p(47),a=p(1115),i=new f({Extends:x,Mixins:[a],initialize:function(s,r,n,o,l,h,u,c,d){r===void 0&&(r=0),n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=0),h===void 0&&(h=128),u===void 0&&(u=0),x.call(this,s,"Line",new t(o,l,h,u));var v=Math.max(1,this.geom.right-this.geom.left),g=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(r,n),this.setSize(v,g),c!==void 0&&this.setStrokeStyle(1,c,d),this.updateDisplayOrigin()},setLineWidth:function(e,s){return s===void 0&&(s=e),this._startWidth=e,this._endWidth=s,this.lineWidth=e,this},setTo:function(e,s,r,n){return this.geom.setTo(e,s,r,n),this}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1118),x=p(0),t=p(59),a=p(469),i=p(227),e=p(34),s=p(472),r=new x({Extends:e,Mixins:[f],initialize:function(o,l,h,u,c,d){l===void 0&&(l=0),h===void 0&&(h=0),e.call(this,o,"Polygon",new i(u));var v=a(this.geom);this.setPosition(l,h),this.setSize(v.width,v.height),c!==void 0&&this.setFillStyle(c,d),this.updateDisplayOrigin(),this.updateData()},smooth:function(n){n===void 0&&(n=1);for(var o=0;o<n;o++)s(this.geom);return this.updateData()},updateData:function(){for(var n=[],o=this.geom.points,l=0;l<o.length;l++)n.push(o[l].x,o[l].y);return n.push(o[0].x,o[0].y),this.pathIndexes=t(n),this.pathData=n,this}});A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(10),x=function(t,a){a===void 0&&(a=new f);for(var i=1/0,e=1/0,s=-i,r=-e,n,o=0;o<t.points.length;o++)n=t.points[o],i=Math.min(i,n.x),e=Math.min(e,n.y),s=Math.max(s,n.x),r=Math.max(r,n.y);return a.x=i,a.y=e,a.width=s-i,a.height=r-e,a};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(67),x=p(47),t=p(471),a=function(i,e,s,r){r===void 0&&(r=[]);var n=i.points,o=t(i);!e&&s>0&&(e=o/s);for(var l=0;l<e;l++)for(var h=o*(l/e),u=0,c=0;c<n.length;c++){var d=n[c],v=n[(c+1)%n.length],g=new x(d.x,d.y,v.x,v.y),m=f(g);if(h<u||h>u+m){u+=m;continue}var y=g.getPoint((h-u)/m);r.push(y);break}return r};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(67),x=p(47),t=function(a){for(var i=a.points,e=0,s=0;s<i.length;s++){var r=i[s],n=i[(s+1)%i.length],o=new x(r.x,r.y,n.x,n.y);e+=f(o)}return e};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(x,t){return x[0]=t[0],x[1]=t[1],x},f=function(x){var t,a=[],i=x.points;for(t=0;t<i.length;t++)a.push([i[t].x,i[t].y]);var e=[];for(a.length>0&&e.push(p([0,0],a[0])),t=0;t<a.length-1;t++){var s=a[t],r=a[t+1],n=s[0],o=s[1],l=r[0],h=r[1];e.push([.85*n+.15*l,.85*o+.15*h]),e.push([.15*n+.85*l,.15*o+.85*h])}return a.length>1&&e.push(p([0,0],a[a.length-1])),x.setTo(e)};A.exports=f},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(10),t=p(34),a=p(1121),i=new f({Extends:t,Mixins:[a],initialize:function(s,r,n,o,l,h,u){r===void 0&&(r=0),n===void 0&&(n=0),o===void 0&&(o=128),l===void 0&&(l=128),t.call(this,s,"Rectangle",new x(0,0,o,l)),this.setPosition(r,n),this.setSize(o,l),h!==void 0&&this.setFillStyle(h,u),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,s){return this.width=e,this.height=s,this.geom.setSize(e,s),this.updateData(),this},updateData:function(){var e=[],s=this.geom,r=this._tempLine;return s.getLineA(r),e.push(r.x1,r.y1,r.x2,r.y2),s.getLineB(r),e.push(r.x2,r.y2),s.getLineC(r),e.push(r.x2,r.y2),s.getLineD(r),e.push(r.x2,r.y2),this.pathData=e,this}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1124),x=p(0),t=p(59),a=p(34),i=new x({Extends:a,Mixins:[f],initialize:function(s,r,n,o,l,h,u,c){r===void 0&&(r=0),n===void 0&&(n=0),o===void 0&&(o=5),l===void 0&&(l=32),h===void 0&&(h=64),a.call(this,s,"Star",null),this._points=o,this._innerRadius=l,this._outerRadius=h,this.setPosition(r,n),this.setSize(h*2,h*2),u!==void 0&&this.setFillStyle(u,c),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],s=this._points,r=this._innerRadius,n=this._outerRadius,o=Math.PI/2*3,l=Math.PI/s,h=n,u=n;e.push(h,u+-n);for(var c=0;c<s;c++)e.push(h+Math.cos(o)*n,u+Math.sin(o)*n),o+=l,e.push(h+Math.cos(o)*r,u+Math.sin(o)*r),o+=l;return e.push(h,u+-n),this.pathIndexes=t(e),this.pathData=e,this}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(34),t=p(82),a=p(1127),i=new f({Extends:x,Mixins:[a],initialize:function(s,r,n,o,l,h,u,c,d,v,g){r===void 0&&(r=0),n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=128),h===void 0&&(h=64),u===void 0&&(u=0),c===void 0&&(c=128),d===void 0&&(d=128),x.call(this,s,"Triangle",new t(o,l,h,u,c,d));var m=this.geom.right-this.geom.left,y=this.geom.bottom-this.geom.top;this.setPosition(r,n),this.setSize(m,y),v!==void 0&&this.setFillStyle(v,g),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,s,r,n,o,l){return this.geom.setTo(e,s,r,n,o,l),this.updateData()},updateData:function(){var e=[],s=this.geom,r=this._tempLine;return s.getLineA(r),e.push(r.x1,r.y1,r.x2,r.y2),s.getLineB(r),e.push(r.x2,r.y2),s.getLineC(r),e.push(r.x2,r.y2),this.pathData=e,this}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=p(67),t=function(a,i,e){e===void 0&&(e=new f);var s=a.getLineA(),r=a.getLineB(),n=a.getLineC();if(i<=0||i>=1)return e.x=s.x1,e.y=s.y1,e;var o=x(s),l=x(r),h=x(n),u=o+l+h,c=u*i,d=0;return c<o?(d=c/o,e.x=s.x1+(s.x2-s.x1)*d,e.y=s.y1+(s.y2-s.y1)*d):c>o+l?(c-=o+l,d=c/h,e.x=n.x1+(n.x2-n.x1)*d,e.y=n.y1+(n.y2-n.y1)*d):(c-=o,d=c/l,e.x=r.x1+(r.x2-r.x1)*d,e.y=r.y1+(r.y2-r.y1)*d),e};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(67),x=p(4),t=function(a,i,e,s){s===void 0&&(s=[]);var r=a.getLineA(),n=a.getLineB(),o=a.getLineC(),l=f(r),h=f(n),u=f(o),c=l+h+u;!i&&e>0&&(i=c/e);for(var d=0;d<i;d++){var v=c*(d/i),g=0,m=new x;v<l?(g=v/l,m.x=r.x1+(r.x2-r.x1)*g,m.y=r.y1+(r.y2-r.y1)*g):v>l+h?(v-=l+h,g=v/u,m.x=o.x1+(o.x2-o.x1)*g,m.y=o.y1+(o.y2-o.y1)*g):(v-=l,g=v/h,m.x=n.x1+(n.x2-n.x1)*g,m.y=n.y1+(n.y2-n.y1)*g),s.push(m)}return s};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){if(!f||typeof f=="number")return!1;if(f.hasOwnProperty(x))return f[x]=t,!0;if(x.indexOf(".")!==-1){for(var a=x.split("."),i=f,e=f,s=0;s<a.length;s++)if(i.hasOwnProperty(a[s]))e=i,i=i[a[s]];else return!1;return e[a[a.length-1]]=t,!0}return!1};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(116),x=p(117),t=function(a,i,e,s,r,n,o){if(s===void 0&&(s=!1),n===void 0&&(n=16777215),o===void 0&&(o=1),a.length!==i.length){console.warn("GenerateVerts: vertices and uvs count not equal");return}var l={faces:[],vertices:[]},h,u,c,d,v,g,m,y,T,E,S,C=s?3:2,M=Array.isArray(n),P=Array.isArray(o);if(Array.isArray(e)&&e.length>0)for(h=0;h<e.length;h++){var R=e[h],L=e[h]*2,w=e[h]*C;u=a[w],c=a[w+1],d=s?a[w+2]:0,v=i[L],g=i[L+1],m=M?n[R]:n,y=P?o[R]:o,T=0,E=0,S=0,r&&(T=r[w],E=r[w+1],S=s?r[w+2]:0),l.vertices.push(new x(u,c,d,v,g,m,y,T,E,S))}else{var B=0,G=0;for(h=0;h<a.length;h+=C)u=a[h],c=a[h+1],d=s?a[h+2]:0,v=i[B],g=i[B+1],m=M?n[G]:n,y=P?o[G]:o,T=0,E=0,S=0,r&&(T=r[h],E=r[h+1],S=s?r[h+2]:0),l.vertices.push(new x(u,c,d,v,g,m,y,T,E,S)),B+=2,G++}for(h=0;h<l.vertices.length;h+=3){var Y=l.vertices[h],D=l.vertices[h+1],F=l.vertices[h+2];l.faces.push(new f(Y,D,F))}return l};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(116),x=p(69),t=p(39),a=p(117),i=new t,e=new t,s=new x,r=function(n,o,l,h,u,c,d,v,g,m){l===void 0&&(l=1),h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=!0);var y={faces:[],verts:[]},T=n.materials;i.set(h,u,c),e.set(d,v,g),s.fromRotationXYTranslation(e,i,m);for(var E=0;E<n.models.length;E++)for(var S=n.models[E],C=S.vertices,M=S.textureCoords,P=S.faces,R=0;R<P.length;R++){var L=P[R],w=L.vertices[0],B=L.vertices[1],G=L.vertices[2],Y=C[w.vertexIndex],D=C[B.vertexIndex],F=C[G.vertexIndex],N=w.textureCoordsIndex,I=B.textureCoordsIndex,b=G.textureCoordsIndex,U=N===-1?{u:0,v:1}:M[N],X=I===-1?{u:0,v:0}:M[I],z=b===-1?{u:1,v:1}:M[b],V=16777215;L.material!==""&&T[L.material]&&(V=T[L.material]);var W=new a(Y.x*l,Y.y*l,Y.z*l,U.u,U.v,V).transformMat4(s),H=new a(D.x*l,D.y*l,D.z*l,X.u,X.v,V).transformMat4(s),K=new a(F.x*l,F.y*l,F.z*l,z.u,z.v,V).transformMat4(s);y.verts.push(W,H,K),y.faces.push(new f(W,H,K))}return o&&(o.faces=o.faces.concat(y.faces),o.vertices=o.vertices.concat(y.verts)),y};A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(65),x=p(0),t=p(11),a=p(200),i=p(12),e=new x({Extends:f,Mixins:[t.ScrollFactor,t.Visible],initialize:function(r,n,o,l,h,u,c){f.call(this,r,n,o),this.color=new a(l,h,u),this.intensity=c,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1)},willRender:function(s){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&s.id)},setColor:function(s){var r=i.getFloatsFromUintRGB(s);return this.color.set(r[0],r[1],r[2]),this},setIntensity:function(s){return this.intensity=s,this},setRadius:function(s){return this.radius=s,this}});e.RENDER_MASK=15,A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(151),x=p(0),t=p(50),a=p(481),i=p(150),e=p(200),s=p(74),r=p(79),n=p(12),o=new x({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(l,h,u,c,d,v){return this.systems.displayList.add(new i(this.scene,l,h,u,c,d,v))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(l){for(var h=this.lights,u=l.worldView,c=[],d=0;d<h.length;d++){var v=h[d];v.willRender(l)&&f(v,u)&&c.push({light:v,distance:t(v.x,v.y,u.centerX,u.centerY)})}return c.length>this.maxLights&&(r(c,this.sortByDistance),c=c.slice(0,this.maxLights)),this.visibleLights=c.length,c},sortByDistance:function(l,h){return l.distance>=h.distance},setAmbientColor:function(l){var h=n.getFloatsFromUintRGB(l);return this.ambientColor.set(h[0],h[1],h[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(l,h,u,c,d){l===void 0&&(l=0),h===void 0&&(h=0),u===void 0&&(u=128),c===void 0&&(c=16777215),d===void 0&&(d=1);var v=n.getFloatsFromUintRGB(c),g=new a(l,h,u,v[0],v[1],v[2],d);return this.lights.push(g),g},removeLight:function(l){var h=this.lights.indexOf(l);return h>=0&&s(this.lights,h),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});A.exports=o},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(56),x=p(17),t={Circle:p(1191),Ellipse:p(1201),Intersects:p(484),Line:p(1221),Mesh:p(1243),Point:p(1246),Polygon:p(1260),Rectangle:p(502),Triangle:p(1293)};t=x(!1,t,f),A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={CircleToCircle:p(231),CircleToRectangle:p(151),GetCircleToCircle:p(1211),GetCircleToRectangle:p(1212),GetLineToCircle:p(232),GetLineToLine:p(485),GetLineToPoints:p(486),GetLineToPolygon:p(487),GetLineToRectangle:p(234),GetRaysFromPointToPolygon:p(1213),GetRectangleIntersection:p(1214),GetRectangleToRectangle:p(1215),GetRectangleToTriangle:p(1216),GetTriangleToCircle:p(1217),GetTriangleToLine:p(492),GetTriangleToTriangle:p(1218),LineToCircle:p(233),LineToLine:p(96),LineToRectangle:p(488),PointToLine:p(496),PointToLineSegment:p(1219),RectangleToRectangle:p(152),RectangleToTriangle:p(489),RectangleToValues:p(1220),TriangleToCircle:p(491),TriangleToLine:p(493),TriangleToTriangle:p(494)}},function(A,O,p){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(39),x=function(t,a,i){var e=t.x1,s=t.y1,r=t.x2,n=t.y2,o=a.x1,l=a.y1,h=a.x2,u=a.y2,c=r-e,d=n-s,v=h-o,g=u-l,m=g*c-v*d;if(c===0||m===0)return!1;var y=(c*(l-s)+d*(e-o))/(v*d-g*c),T=(o+v*y-e)/c;return T<0||y<0||y>1?null:(i===void 0&&(i=new f),i.set(e+c*T,s+d*T,T))};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(39),x=p(485),t=p(47),a=new t,i=new f,e=function(s,r,n){n===void 0&&(n=new f);var o=!1;n.set(),i.set();for(var l=r[0],h=1;h<r.length;h++){var u=r[h];a.setTo(l.x,l.y,u.x,u.y),l=u,x(s,a,i)&&(!o||i.z<n.z)&&(n.copy(i),o=!0)}return o?n:null};A.exports=e},function(A,O,p){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(39),x=p(140),t=p(486),a=new f,i=function(e,s,r){r===void 0&&(r=new x),Array.isArray(s)||(s=[s]);var n=!1;r.set(),a.set();for(var o=0;o<s.length;o++)t(e,s[o].points,a)&&(!n||a.z<r.z)&&(r.set(a.x,a.y,a.z,o),n=!0);return n?r:null};A.exports=i},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=f.x1,a=f.y1,i=f.x2,e=f.y2,s=x.x,r=x.y,n=x.right,o=x.bottom,l=0;if(t>=s&&t<=n&&a>=r&&a<=o||i>=s&&i<=n&&e>=r&&e<=o)return!0;if(t<s&&i>=s){if(l=a+(e-a)*(s-t)/(i-t),l>r&&l<=o)return!0}else if(t>n&&i<=n&&(l=a+(e-a)*(n-t)/(i-t),l>=r&&l<=o))return!0;if(a<r&&e>=r){if(l=t+(i-t)*(r-a)/(e-a),l>=s&&l<=n)return!0}else if(a>o&&e<=o&&(l=t+(i-t)*(o-a)/(e-a),l>=s&&l<=n))return!0;return!1};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(96),x=p(57),t=p(235),a=p(490),i=function(e,s){if(s.left>e.right||s.right<e.left||s.top>e.bottom||s.bottom<e.top)return!1;var r=s.getLineA(),n=s.getLineB(),o=s.getLineC();if(x(e,r.x1,r.y1)||x(e,r.x2,r.y2)||x(e,n.x1,n.y1)||x(e,n.x2,n.y2)||x(e,o.x1,o.y1)||x(e,o.x2,o.y2))return!0;var l=e.getLineA(),h=e.getLineB(),u=e.getLineC(),c=e.getLineD();if(f(r,l)||f(r,h)||f(r,u)||f(r,c)||f(n,l)||f(n,h)||f(n,u)||f(n,c)||f(o,l)||f(o,h)||f(o,u)||f(o,c))return!0;var d=a(e),v=t(s,d,!0);return v.length>0};A.exports=i},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x===void 0&&(x=[]),x.push({x:f.x,y:f.y}),x.push({x:f.right,y:f.y}),x.push({x:f.right,y:f.bottom}),x.push({x:f.x,y:f.bottom}),x};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(233),x=p(115),t=function(a,i){return a.left>i.right||a.right<i.left||a.top>i.bottom||a.bottom<i.top?!1:!!(x(a,i.x,i.y)||f(a.getLineA(),i)||f(a.getLineB(),i)||f(a.getLineC(),i))};A.exports=t},function(A,O,p){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=p(493),t=p(96),a=function(i,e,s){if(s===void 0&&(s=[]),x(i,e))for(var r=i.getLineA(),n=i.getLineB(),o=i.getLineC(),l=[new f,new f,new f],h=[t(r,e,l[0]),t(n,e,l[1]),t(o,e,l[2])],u=0;u<3;u++)h[u]&&s.push(l[u]);return s};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(96),x=function(t,a){return!!(t.contains(a.x1,a.y1)||t.contains(a.x2,a.y2)||f(t.getLineA(),a)||f(t.getLineB(),a)||f(t.getLineC(),a))};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(235),x=p(495),t=p(96),a=function(i,e){if(i.left>e.right||i.right<e.left||i.top>e.bottom||i.bottom<e.top)return!1;var s=i.getLineA(),r=i.getLineB(),n=i.getLineC(),o=e.getLineA(),l=e.getLineB(),h=e.getLineC();if(t(s,o)||t(s,l)||t(s,h)||t(r,o)||t(r,l)||t(r,h)||t(n,o)||t(n,l)||t(n,h))return!0;var u=x(i),c=f(e,u,!0);return c.length>0||(u=x(e),c=f(i,u,!0),c.length>0)};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x===void 0&&(x=[]),x.push({x:f.x1,y:f.y1}),x.push({x:f.x2,y:f.y2}),x.push({x:f.x3,y:f.y3}),x};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){t===void 0&&(t=1);var a=x.x1,i=x.y1,e=x.x2,s=x.y2,r=f.x,n=f.y,o=(e-a)*(e-a)+(s-i)*(s-i);if(o===0)return!1;var l=((r-a)*(e-a)+(n-i)*(s-i))/o;if(l<0)return Math.sqrt((a-r)*(a-r)+(i-n)*(i-n))<=t;if(l>=0&&l<=1){var h=((i-n)*(e-a)-(a-r)*(s-i))/o;return Math.abs(h)*Math.sqrt(o)<=t}else return Math.sqrt((e-r)*(e-r)+(s-n)*(s-n))<=t};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(14),x=p(68),t=p(97),a=function(i){var e=t(i)-f.TAU;return x(e,-Math.PI,Math.PI)};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=!0,f="untitled",x="",t="";function a(d){var v=d.indexOf("#");return v>-1?d.substring(0,v):d}function i(d){return d.models.length===0&&d.models.push({faces:[],name:f,textureCoords:[],vertexNormals:[],vertices:[]}),x="",d.models[d.models.length-1]}function e(d,v){var g=d.length>=2?d[1]:f;v.models.push({faces:[],name:g,textureCoords:[],vertexNormals:[],vertices:[]}),x=""}function s(d){d.length===2&&(x=d[1])}function r(d,v){var g=d.length,m=g>=2?parseFloat(d[1]):0,y=g>=3?parseFloat(d[2]):0,T=g>=4?parseFloat(d[3]):0;i(v).vertices.push({x:m,y,z:T})}function n(d,v){var g=d.length,m=g>=2?parseFloat(d[1]):0,y=g>=3?parseFloat(d[2]):0,T=g>=4?parseFloat(d[3]):0;isNaN(m)&&(m=0),isNaN(y)&&(y=0),isNaN(T)&&(T=0),p&&(y=1-y),i(v).textureCoords.push({u:m,v:y,w:T})}function o(d,v){var g=d.length,m=g>=2?parseFloat(d[1]):0,y=g>=3?parseFloat(d[2]):0,T=g>=4?parseFloat(d[3]):0;i(v).vertexNormals.push({x:m,y,z:T})}function l(d,v){var g=d.length-1;if(!(g<3)){for(var m={group:x,material:t,vertices:[]},y=0;y<g;y++){var T=d[y+1],E=T.split("/"),S=E.length;if(!(S<1||S>3)){var C=0,M=0,P=0;C=parseInt(E[0],10),S>1&&E[1]!==""&&(M=parseInt(E[1],10)),S>2&&(P=parseInt(E[2],10)),C!==0&&(C<0&&(C=i(v).vertices.length+1+C),M-=1,C-=1,P-=1,m.vertices.push({textureCoordsIndex:M,vertexIndex:C,vertexNormalIndex:P}))}}i(v).faces.push(m)}}function h(d,v){d.length>=2&&v.materialLibraries.push(d[1])}function u(d){d.length>=2&&(t=d[1])}var c=function(d,v){v===void 0&&(v=!0),p=v;var g={materials:{},materialLibraries:[],models:[]};x="",t="";for(var m=d.split(`
`),y=0;y<m.length;y++){var T=a(m[y]),E=T.replace(/\s\s+/g," ").trim().split(" ");switch(E[0].toLowerCase()){case"o":e(E,g);break;case"g":s(E);break;case"v":r(E,g);break;case"vt":n(E,g);break;case"vn":o(E,g);break;case"f":l(E,g);break;case"mtllib":h(E,g);break;case"usemtl":u(E);break}}return g};A.exports=c},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(103),x=function(t){for(var a={},i=t.split(`
`),e="",s=0;s<i.length;s++){var r=i[s].trim();if(!(r.indexOf("#")===0||r==="")){var n=r.replace(/\s\s+/g," ").trim().split(" ");switch(n[0].toLowerCase()){case"newmtl":{e=n[1];break}case"kd":{var o=Math.floor(n[1]*255),l=n.length>=2?Math.floor(n[2]*255):o,h=n.length>=3?Math.floor(n[3]*255):o;a[e]=f(o,l,h);break}}}}return a};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return Math.sqrt(f.x*f.x+f.y*f.y)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.x*f.x+f.y*f.y};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(10);f.Area=p(1267),f.Ceil=p(1268),f.CeilAll=p(1269),f.CenterOn=p(190),f.Clone=p(1270),f.Contains=p(57),f.ContainsPoint=p(1271),f.ContainsRect=p(503),f.CopyFrom=p(1272),f.Decompose=p(490),f.Equals=p(1273),f.FitInside=p(1274),f.FitOutside=p(1275),f.Floor=p(1276),f.FloorAll=p(1277),f.FromPoints=p(199),f.FromXY=p(1278),f.GetAspectRatio=p(237),f.GetCenter=p(1279),f.GetPoint=p(171),f.GetPoints=p(306),f.GetSize=p(1280),f.Inflate=p(1281),f.Intersection=p(1282),f.MarchingAnts=p(316),f.MergePoints=p(1283),f.MergeRect=p(1284),f.MergeXY=p(1285),f.Offset=p(1286),f.OffsetPoint=p(1287),f.Overlaps=p(1288),f.Perimeter=p(130),f.PerimeterPoint=p(1289),f.Random=p(174),f.RandomOutside=p(1290),f.SameDimensions=p(1291),f.Scale=p(1292),f.Union=p(441),A.exports=f},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x.width*x.height>f.width*f.height?!1:x.x>f.x&&x.x<f.right&&x.right>f.x&&x.right<f.right&&x.y>f.y&&x.y<f.bottom&&x.bottom>f.y&&x.bottom<f.bottom};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a){return a===void 0&&(a=new f),a.x=(t.x1+t.x2+t.x3)/3,a.y=(t.y1+t.y2+t.y3)/3,a};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return f.x1+=x,f.y1+=t,f.x2+=x,f.y2+=t,f.x3+=x,f.y3+=t,f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4);function x(a,i,e,s){var r=a-e,n=i-s,o=r*r+n*n;return Math.sqrt(o)}var t=function(a,i){i===void 0&&(i=new f);var e=a.x1,s=a.y1,r=a.x2,n=a.y2,o=a.x3,l=a.y3,h=x(o,l,r,n),u=x(e,s,o,l),c=x(r,n,e,s),d=h+u+c;return i.x=(e*h+r*u+o*c)/d,i.y=(s*h+n*u+l*c)/d,i};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return function(t,a,i,e){var s=f.getPixelAlpha(a,i,e.texture.key,e.frame.name);return s&&s>=x}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return{gameObject:f,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:x,hitAreaCallback:t,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a,i){this.pad=a,this.events=a.events,this.index=i,this.value=0,this.threshold=.1},update:function(t){this.value=t},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(239),t=new f({initialize:function(i,e){this.pad=i,this.events=i.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(a){this.value=a;var i=this.pad,e=this.index;a>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(x.BUTTON_DOWN,i,this,a),this.pad.emit(x.GAMEPAD_BUTTON_DOWN,e,a,this)):this.pressed&&(this.pressed=!1,this.events.emit(x.BUTTON_UP,i,this,a),this.pad.emit(x.GAMEPAD_BUTTON_UP,e,a,this))},destroy:function(){this.pad=null,this.events=null}});A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(509),x=p(510),t=p(0),a=p(9),i=p(3),e=new t({Extends:a,initialize:function(r,n){a.call(this),this.manager=r,this.pad=n,this.id=n.id,this.index=n.index;for(var o=[],l=0;l<n.buttons.length;l++)o.push(new x(this,l));this.buttons=o;var h=[];for(l=0;l<n.axes.length;l++)h.push(new f(this,l));this.axes=h,this.vibration=n.vibrationActuator;var u={value:0,pressed:!1};this._LCLeft=o[14]?o[14]:u,this._LCRight=o[15]?o[15]:u,this._LCTop=o[12]?o[12]:u,this._LCBottom=o[13]?o[13]:u,this._RCLeft=o[2]?o[2]:u,this._RCRight=o[1]?o[1]:u,this._RCTop=o[3]?o[3]:u,this._RCBottom=o[0]?o[0]:u,this._FBLeftTop=o[4]?o[4]:u,this._FBLeftBottom=o[6]?o[6]:u,this._FBRightTop=o[5]?o[5]:u,this._FBRightBottom=o[7]?o[7]:u;var c={value:0};this._HAxisLeft=h[0]?h[0]:c,this._VAxisLeft=h[1]?h[1]:c,this._HAxisRight=h[2]?h[2]:c,this._VAxisRight=h[3]?h[3]:c,this.leftStick=new i,this.rightStick=new i,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(s){return this.axes[s].getValue()},setAxisThreshold:function(s){for(var r=0;r<this.axes.length;r++)this.axes[r].threshold=s},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(s){return this.buttons[s].value},isButtonDown:function(s){return this.buttons[s].pressed},update:function(s){if(!(s.timestamp<this._created)){var r,n=this.buttons,o=s.buttons,l=n.length;for(r=0;r<l;r++)n[r].update(o[r].value);var h=this.axes,u=s.axes;for(l=h.length,r=0;r<l;r++)h[r].update(u[r]);l>=2&&(this.leftStick.set(h[0].getValue(),h[1].getValue()),l>=4&&this.rightStick.set(h[2].getValue(),h[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var s;for(s=0;s<this.buttons.length;s++)this.buttons[s].destroy();for(s=0;s<this.axes.length;s++)this.axes[s].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(9),t=p(154),a=new f({Extends:x,initialize:function(e,s){x.call(this),this.plugin=e,this.keyCode=s,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(i){return this.emitOnRepeat=i,this},onDown:function(i){this.originalEvent=i,this.enabled&&(this.altKey=i.altKey,this.ctrlKey=i.ctrlKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.location=i.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(t.DOWN,this,i):(this.isDown=!0,this.isUp=!1,this.timeDown=i.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(t.DOWN,this,i)))},onUp:function(i){this.originalEvent=i,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=i.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(t.UP,this,i))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(154),t=p(2),a=p(514),i=p(516),e=new f({initialize:function(r,n,o){if(o===void 0&&(o={}),n.length<2)return!1;this.manager=r,this.enabled=!0,this.keyCodes=[];for(var l=0;l<n.length;l++){var h=n[l];typeof h=="string"?this.keyCodes.push(h.toUpperCase().charCodeAt(0)):typeof h=="number"?this.keyCodes.push(h):h.hasOwnProperty("keyCode")&&this.keyCodes.push(h.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=t(o,"resetOnWrongKey",!0),this.maxKeyDelay=t(o,"maxKeyDelay",0),this.resetOnMatch=t(o,"resetOnMatch",!1),this.deleteOnMatch=t(o,"deleteOnMatch",!1);var u=this,c=function(d){if(!(u.matched||!u.enabled)){var v=a(d,u);v&&(u.manager.emit(x.COMBO_MATCH,u,d),u.resetOnMatch?i(u):u.deleteOnMatch&&u.destroy())}};this.onKeyDown=c,this.manager.on(x.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(x.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(515),x=function(t,a){if(a.matched)return!0;var i=!1,e=!1;if(t.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var s=a.timeLastMatched+a.maxKeyDelay;t.timeStamp<=s&&(e=!0,i=f(t,a))}else e=!0,i=f(t,a);return!e&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),i&&(a.timeLastMatched=t.timeStamp,a.matched=!0,a.timeMatched=t.timeStamp),i};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x.timeLastMatched=f.timeStamp,x.index++,x.index===x.size?!0:(x.current=x.keyCodes[x.index],!1)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.current=f.keyCodes[0],f.index=0,f.timeLastMatched=0,f.matched=!1,f.timeMatched=0,f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(240),x=function(t,a){var i=f(a,t.xhrSettings),e=new XMLHttpRequest;if(e.open("GET",t.src,i.async,i.user,i.password),e.responseType=t.xhrSettings.responseType,e.timeout=i.timeout,i.headers)for(var s in i.headers)e.setRequestHeader(s,i.headers[s]);return i.header&&i.headerValue&&e.setRequestHeader(i.header,i.headerValue),i.requestedWith&&e.setRequestHeader("X-Requested-With",i.requestedWith),i.overrideMimeType&&e.overrideMimeType(i.overrideMimeType),i.withCredentials&&(e.withCredentials=!0),e.onload=t.onLoad.bind(t,e),e.onerror=t.onError.bind(t,e),e.onprogress=t.onProgress.bind(t),e.send(),e};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(519),s=p(7),r=new f({Extends:t,initialize:function(o,l,h,u,c){if(s(l)){var d=l;l=i(d,"key"),u=i(d,"xhrSettings"),c=i(d,"context",c)}var v={type:"audio",cache:o.cacheManager.audio,extension:h.type,responseType:"arraybuffer",key:l,url:h.url,xhrSettings:u,config:{context:c}};t.call(this,o,v)},onProcess:function(){this.state=x.FILE_PROCESSING;var n=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(o){n.data=o,n.onProcessComplete()},function(o){console.error("Error decoding audio: "+n.key+" - ",o?o.message:null),n.onProcessError()}),this.config.context=null}});r.create=function(n,o,l,h,u){var c=n.systems.game,d=c.config.audio,v=c.device.audio;s(o)&&(l=i(o,"url",[]),h=i(o,"config",{}));var g=r.getAudioURL(c,l);return g?v.webAudio&&!d.disableWebAudio?new r(n,o,g,u,c.sound.context):new e(n,o,g,h):null},r.getAudioURL=function(n,o){Array.isArray(o)||(o=[o]);for(var l=0;l<o.length;l++){var h=i(o[l],"url",o[l]);if(h.indexOf("blob:")===0||h.indexOf("data:")===0)return{url:h,type:""};var u=h.match(/\.([a-zA-Z0-9]+)($|\?)/);if(u=i(o[l],"type",u?u[1]:"").toLowerCase(),n.device.audio[u])return{url:h,type:u}}return null},a.register("audio",function(n,o,l,h){var u=this.systems.game,c=u.config.audio,d=u.device.audio;if(c.noAudio||!d.webAudio&&!d.audioData)return this;var v;if(Array.isArray(n))for(var g=0;g<n.length;g++)v=r.create(this,n[g]),v&&this.addFile(v);else v=r.create(this,n,o,l,h),v&&this.addFile(v);return this}),A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(95),t=p(23),a=p(2),i=p(155),e=p(7),s=new f({Extends:t,initialize:function(n,o,l,h){if(e(o)){var u=o;o=a(u,"key"),h=a(u,"config",h)}var c={type:"audio",cache:n.cacheManager.audio,extension:l.type,key:o,url:l.url,config:h};t.call(this,n,c),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var r=0;r<this.data.length;r++){var n=this.data[r];n.oncanplaythrough=null,n.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(r){var n=r.target;n.oncanplaythrough=null,n.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(x.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var r=this.config&&this.config.instances||1;this.filesTotal=r,this.filesLoaded=0,this.percentComplete=0;for(var n=0;n<r;n++){var o=new Audio;o.dataset||(o.dataset={}),o.dataset.name=this.key+("0"+n).slice(-2),o.dataset.used="false",this.locked?o.dataset.locked="true":(o.dataset.locked="false",o.preload="auto",o.oncanplaythrough=this.onProgress.bind(this),o.onerror=this.onError.bind(this)),this.data.push(o)}for(n=0;n<this.data.length;n++)o=this.data[n],o.src=i(this,this.loader.baseURL),this.locked||o.load();this.locked&&setTimeout(this.onLoad.bind(this))}});A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(7),s=new f({Extends:t,initialize:function(n,o,l,h){var u="js";if(e(o)){var c=o;o=i(c,"key"),l=i(c,"url"),h=i(c,"xhrSettings"),u=i(c,"extension",u)}var d={type:"script",cache:!1,extension:u,responseType:"text",key:o,url:l,xhrSettings:h};t.call(this,n,d)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(r,n,o){if(Array.isArray(r))for(var l=0;l<r.length;l++)this.addFile(new s(this,r[l]));else this.addFile(new s(this,r,n,o));return this}),A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(522),x=p(157),t=p(0),a=p(62),i=p(524),e=p(525),s=new t({initialize:function(n){this.world=n,this.scene=n.scene,this.sys=n.scene.sys},collider:function(r,n,o,l,h){return this.world.addCollider(r,n,o,l,h)},overlap:function(r,n,o,l,h){return this.world.addOverlap(r,n,o,l,h)},existing:function(r,n){var o=n?a.STATIC_BODY:a.DYNAMIC_BODY;return this.world.enableBody(r,o),r},staticImage:function(r,n,o,l){var h=new f(this.scene,r,n,o,l);return this.sys.displayList.add(h),this.world.enableBody(h,a.STATIC_BODY),h},image:function(r,n,o,l){var h=new f(this.scene,r,n,o,l);return this.sys.displayList.add(h),this.world.enableBody(h,a.DYNAMIC_BODY),h},staticSprite:function(r,n,o,l){var h=new x(this.scene,r,n,o,l);return this.sys.displayList.add(h),this.sys.updateList.add(h),this.world.enableBody(h,a.STATIC_BODY),h},sprite:function(r,n,o,l){var h=new x(this.scene,r,n,o,l);return this.sys.displayList.add(h),this.sys.updateList.add(h),this.world.enableBody(h,a.DYNAMIC_BODY),h},staticGroup:function(r,n){return this.sys.updateList.add(new e(this.world,this.world.scene,r,n))},group:function(r,n){return this.sys.updateList.add(new i(this.world,this.world.scene,r,n))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(243),t=p(125),a=new f({Extends:t,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(e,s,r,n,o){t.call(this,e,s,r,n,o),this.body=null}});A.exports=a},function(A,O,p){var f=p(244),x=p(65),t=p(231),a=p(151),i=function(e,s,r,n,o,l){var h=f(e,s-n,r-n,2*n,2*n,o,l);if(h.length===0)return h;for(var u=new x(s,r,n),c=new x,d=[],v=0;v<h.length;v++){var g=h[v];g.isCircle?(c.setTo(g.center.x,g.center.y,g.halfWidth),t(u,c)&&d.push(g)):a(u,g)&&d.push(g)}return d};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(157),x=p(0),t=p(62),a=p(2),i=p(113),e=p(7),s=new x({Extends:i,initialize:function(n,o,l,h){if(!l&&!h)h={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(e(l))h=l,l=null,h.internalCreateCallback=this.createCallbackHandler,h.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(l)&&e(l[0])){h=l[0];var u=this;l.forEach(function(c){c.internalCreateCallback=u.createCallbackHandler,c.internalRemoveCallback=u.removeCallbackHandler}),l=null}else h={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=n,h.classType=a(h,"classType",f),this.physicsType=t.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:a(h,"collideWorldBounds",!1),setBoundsRectangle:a(h,"customBoundsRectangle",null),setAccelerationX:a(h,"accelerationX",0),setAccelerationY:a(h,"accelerationY",0),setAllowDrag:a(h,"allowDrag",!0),setAllowGravity:a(h,"allowGravity",!0),setAllowRotation:a(h,"allowRotation",!0),setBounceX:a(h,"bounceX",0),setBounceY:a(h,"bounceY",0),setDragX:a(h,"dragX",0),setDragY:a(h,"dragY",0),setEnable:a(h,"enable",!0),setGravityX:a(h,"gravityX",0),setGravityY:a(h,"gravityY",0),setFrictionX:a(h,"frictionX",0),setFrictionY:a(h,"frictionY",0),setMaxVelocityX:a(h,"maxVelocityX",1e4),setMaxVelocityY:a(h,"maxVelocityY",1e4),setVelocityX:a(h,"velocityX",0),setVelocityY:a(h,"velocityY",0),setAngularVelocity:a(h,"angularVelocity",0),setAngularAcceleration:a(h,"angularAcceleration",0),setAngularDrag:a(h,"angularDrag",0),setMass:a(h,"mass",1),setImmovable:a(h,"immovable",!1)},i.call(this,o,l,h),this.type="PhysicsGroup"},createCallbackHandler:function(r){r.body||this.world.enableBody(r,t.DYNAMIC_BODY);var n=r.body;for(var o in this.defaults)n[o](this.defaults[o])},removeCallbackHandler:function(r){r.body&&this.world.disableBody(r)},setVelocity:function(r,n,o){o===void 0&&(o=0);for(var l=this.getChildren(),h=0;h<l.length;h++)l[h].body.velocity.set(r+h*o,n+h*o);return this},setVelocityX:function(r,n){n===void 0&&(n=0);for(var o=this.getChildren(),l=0;l<o.length;l++)o[l].body.velocity.x=r+l*n;return this},setVelocityY:function(r,n){n===void 0&&(n=0);for(var o=this.getChildren(),l=0;l<o.length;l++)o[l].body.velocity.y=r+l*n;return this}});A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(157),x=p(0),t=p(62),a=p(2),i=p(113),e=p(7),s=new x({Extends:i,initialize:function(n,o,l,h){!l&&!h?h={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:f}:e(l)?(h=l,l=null,h.internalCreateCallback=this.createCallbackHandler,h.internalRemoveCallback=this.removeCallbackHandler,h.createMultipleCallback=this.createMultipleCallbackHandler,h.classType=a(h,"classType",f)):Array.isArray(l)&&e(l[0])?(h=l,l=null,h.forEach(function(u){u.internalCreateCallback=this.createCallbackHandler,u.internalRemoveCallback=this.removeCallbackHandler,u.createMultipleCallback=this.createMultipleCallbackHandler,u.classType=a(u,"classType",f)})):h={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=n,this.physicsType=t.STATIC_BODY,i.call(this,o,l,h),this.type="StaticPhysicsGroup"},createCallbackHandler:function(r){r.body||this.world.enableBody(r,t.STATIC_BODY)},removeCallbackHandler:function(r){r.body&&this.world.disableBody(r)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var r=this.children.entries,n=0;n<r.length;n++)r[n].body.reset();return this}});A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(350),x=p(527),t=p(18),a=p(0),i=p(528),e=p(62),s=p(50),r=p(9),n=p(245),o=p(124),l=p(354),h=p(355),u=p(246),c=p(247),d=p(529),v=p(6),g=p(14),m=p(211),y=p(530),T=p(10),E=p(531),S=p(532),C=p(537),M=p(538),P=p(149),R=p(539),L=p(248),w=p(25),B=p(3),G=p(68),Y=new a({Extends:r,initialize:function(F,N){r.call(this),this.scene=F,this.bodies=new P,this.staticBodies=new P,this.pendingDestroy=new P,this.colliders=new m,this.gravity=new B(v(N,"gravity.x",0),v(N,"gravity.y",0)),this.bounds=new T(v(N,"x",0),v(N,"y",0),v(N,"width",F.sys.scale.width),v(N,"height",F.sys.scale.height)),this.checkCollision={up:v(N,"checkCollision.up",!0),down:v(N,"checkCollision.down",!0),left:v(N,"checkCollision.left",!0),right:v(N,"checkCollision.right",!0)},this.fps=v(N,"fps",60),this.fixedStep=v(N,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=v(N,"timeScale",1),this.OVERLAP_BIAS=v(N,"overlapBias",4),this.TILE_BIAS=v(N,"tileBias",16),this.forceX=v(N,"forceX",!1),this.isPaused=v(N,"isPaused",!1),this._total=0,this.drawDebug=v(N,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:v(N,"debugShowBody",!0),debugShowStaticBody:v(N,"debugShowStaticBody",!0),debugShowVelocity:v(N,"debugShowVelocity",!0),bodyDebugColor:v(N,"debugBodyColor",16711935),staticBodyDebugColor:v(N,"debugStaticBodyColor",255),velocityDebugColor:v(N,"debugVelocityColor",65280)},this.maxEntries=v(N,"maxEntries",16),this.useTree=v(N,"useTree",!0),this.tree=new E(this.maxEntries),this.staticTree=new E(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new w,this._tempMatrix2=new w,this.drawDebug&&this.createDebugGraphic()},enable:function(D,F){F===void 0&&(F=e.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var N=0;N<D.length;N++){var I=D[N];if(I.isParent)for(var b=I.getChildren(),U=0;U<b.length;U++){var X=b[U];X.isParent?this.enable(X,F):this.enableBody(X,F)}else this.enableBody(I,F)}},enableBody:function(D,F){return F===void 0&&(F=e.DYNAMIC_BODY),D.body||(F===e.DYNAMIC_BODY?D.body=new x(this,D):F===e.STATIC_BODY&&(D.body=new R(this,D))),this.add(D.body),D},add:function(D){return D.physicsType===e.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===e.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},disable:function(D){Array.isArray(D)||(D=[D]);for(var F=0;F<D.length;F++){var N=D[F];if(N.isParent)for(var I=N.getChildren(),b=0;b<I.length;b++){var U=I[b];U.isParent?this.disable(U):this.disableBody(U.body)}else this.disableBody(N.body)}},disableBody:function(D){this.remove(D),D.enable=!1},remove:function(D){D.physicsType===e.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},setBounds:function(D,F,N,I,b,U,X,z){return this.bounds.setTo(D,F,N,I),b!==void 0&&this.setBoundsCollision(b,U,X,z),this},setBoundsCollision:function(D,F,N,I){return D===void 0&&(D=!0),F===void 0&&(F=!0),N===void 0&&(N=!0),I===void 0&&(I=!0),this.checkCollision.left=D,this.checkCollision.right=F,this.checkCollision.up=N,this.checkCollision.down=I,this},pause:function(){return this.isPaused=!0,this.emit(n.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(n.RESUME),this},addCollider:function(D,F,N,I,b){N===void 0&&(N=null),I===void 0&&(I=null),b===void 0&&(b=N);var U=new i(this,!1,D,F,N,I,b);return this.colliders.add(U),U},addOverlap:function(D,F,N,I,b){N===void 0&&(N=null),I===void 0&&(I=null),b===void 0&&(b=N);var U=new i(this,!0,D,F,N,I,b);return this.colliders.add(U),U},removeCollider:function(D){return this.colliders.remove(D),this},setFPS:function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(D,F){if(!(this.isPaused||this.bodies.size===0)){var N,I=this._frameTime,b=this._frameTimeMS*this.timeScale;this._elapsed+=F;var U,X=this.bodies.entries,z=this._elapsed>=b;for(this.fixedStep||(I=F*.001,z=!0,this._elapsed=0),N=0;N<X.length;N++)U=X[N],U.enable&&U.preUpdate(z,I);if(z){this._elapsed-=b,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(X));var V=this.colliders.update();for(N=0;N<V.length;N++){var W=V[N];W.active&&W.update()}this.emit(n.WORLD_STEP,I)}for(;this._elapsed>=b;)this._elapsed-=b,this.step(I)}},step:function(D){var F,N,I=this.bodies.entries,b=I.length;for(F=0;F<b;F++)N=I[F],N.enable&&N.update(D);this.useTree&&(this.tree.clear(),this.tree.load(I));var U=this.colliders.update();for(F=0;F<U.length;F++){var X=U[F];X.active&&X.update()}this.emit(n.WORLD_STEP,D),this.stepsLastFrame++},postUpdate:function(){var D,F,N=this.bodies.entries,I=N.length,b=this.bodies,U=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<I;D++)F=N[D],F.enable&&F.postUpdate();if(this.drawDebug){var X=this.debugGraphic;for(X.clear(),D=0;D<I;D++)F=N[D],F.willDrawDebug()&&F.drawDebug(X);for(N=U.entries,I=N.length,D=0;D<I;D++)F=N[D],F.willDrawDebug()&&F.drawDebug(X)}var z=this.pendingDestroy;if(z.size>0){var V=this.tree,W=this.staticTree;for(N=z.entries,I=N.length,D=0;D<I;D++)F=N[D],F.physicsType===e.DYNAMIC_BODY?(V.remove(F),b.delete(F)):F.physicsType===e.STATIC_BODY&&(W.remove(F),U.delete(F)),F.world=void 0,F.gameObject=void 0;z.clear()}},updateMotion:function(D,F){D.allowRotation&&this.computeAngularVelocity(D,F),this.computeVelocity(D,F)},computeAngularVelocity:function(D,F){var N=D.angularVelocity,I=D.angularAcceleration,b=D.angularDrag,U=D.maxAngular;I?N+=I*F:D.allowDrag&&b&&(b*=F,l(N-b,0,.1)?N-=b:h(N+b,0,.1)?N+=b:N=0),N=t(N,-U,U);var X=N-D.angularVelocity;D.angularVelocity+=X,D.rotation+=D.angularVelocity*F},computeVelocity:function(D,F){var N=D.velocity.x,I=D.acceleration.x,b=D.drag.x,U=D.maxVelocity.x,X=D.velocity.y,z=D.acceleration.y,V=D.drag.y,W=D.maxVelocity.y,H=D.speed,K=D.maxSpeed,Z=D.allowDrag,j=D.useDamping;D.allowGravity&&(N+=(this.gravity.x+D.gravity.x)*F,X+=(this.gravity.y+D.gravity.y)*F),I?N+=I*F:Z&&b&&(j?(b=Math.pow(b,F),N*=b,H=Math.sqrt(N*N+X*X),o(H,0,.001)&&(N=0)):(b*=F,l(N-b,0,.01)?N-=b:h(N+b,0,.01)?N+=b:N=0)),z?X+=z*F:Z&&V&&(j?(V=Math.pow(V,F),X*=V,H=Math.sqrt(N*N+X*X),o(H,0,.001)&&(X=0)):(V*=F,l(X-V,0,.01)?X-=V:h(X+V,0,.01)?X+=V:X=0)),N=t(N,-U,U),X=t(X,-W,W),D.velocity.set(N,X),K>-1&&H>K&&(D.velocity.normalize().scale(K),H=K),D.speed=H},separate:function(D,F,N,I,b,U){if(!U&&!D.enable||!F.enable||D.checkCollision.none||F.checkCollision.none||!this.intersects(D,F)||N&&N.call(I,D.gameObject,F.gameObject)===!1)return!1;if(D.isCircle&&F.isCircle)return this.separateCircle(D,F,b);if(D.isCircle!==F.isCircle){var X=D.isCircle?F:D,z=D.isCircle?D:F,V={x:X.x,y:X.y,right:X.right,bottom:X.bottom},W=z.center;if((W.y<V.y||W.y>V.bottom)&&(W.x<V.x||W.x>V.right))return this.separateCircle(D,F,b)}var H=!1,K=!1;b?(H=C(D,F,b,this.OVERLAP_BIAS),K=M(D,F,b,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(H=C(D,F,b,this.OVERLAP_BIAS),this.intersects(D,F)&&(K=M(D,F,b,this.OVERLAP_BIAS))):(K=M(D,F,b,this.OVERLAP_BIAS),this.intersects(D,F)&&(H=C(D,F,b,this.OVERLAP_BIAS)));var Z=H||K;return Z&&(b?(D.onOverlap||F.onOverlap)&&this.emit(n.OVERLAP,D.gameObject,F.gameObject,D,F):(D.onCollide||F.onCollide)&&this.emit(n.COLLIDE,D.gameObject,F.gameObject,D,F)),Z},separateCircle:function(D,F,N,I){u(D,F,!1,I),c(D,F,!1,I);var b=0;if(D.isCircle!==F.isCircle){var U={x:F.isCircle?D.position.x:F.position.x,y:F.isCircle?D.position.y:F.position.y,right:F.isCircle?D.right:F.right,bottom:F.isCircle?D.bottom:F.bottom},X={x:D.isCircle?D.center.x:F.center.x,y:D.isCircle?D.center.y:F.center.y,radius:D.isCircle?D.halfWidth:F.halfWidth};X.y<U.y?X.x<U.x?b=s(X.x,X.y,U.x,U.y)-X.radius:X.x>U.right&&(b=s(X.x,X.y,U.right,U.y)-X.radius):X.y>U.bottom&&(X.x<U.x?b=s(X.x,X.y,U.x,U.bottom)-X.radius:X.x>U.right&&(b=s(X.x,X.y,U.right,U.bottom)-X.radius)),b*=-1}else b=D.halfWidth+F.halfWidth-s(D.center.x,D.center.y,F.center.x,F.center.y);if(D.overlapR=b,F.overlapR=b,N||b===0||D.immovable&&F.immovable||D.customSeparateX||F.customSeparateX)return b!==0&&(D.onOverlap||F.onOverlap)&&this.emit(n.OVERLAP,D.gameObject,F.gameObject,D,F),b!==0;var z=D.center.x-F.center.x,V=D.center.y-F.center.y,W=Math.sqrt(Math.pow(z,2)+Math.pow(V,2)),H=(F.center.x-D.center.x)/W||0,K=(F.center.y-D.center.y)/W||0,Z=2*(D.velocity.x*H+D.velocity.y*K-F.velocity.x*H-F.velocity.y*K)/(D.mass+F.mass);(D.immovable||F.immovable)&&(Z*=2),D.immovable||(D.velocity.x=D.velocity.x-Z/D.mass*H,D.velocity.y=D.velocity.y-Z/D.mass*K),F.immovable||(F.velocity.x=F.velocity.x+Z/F.mass*H,F.velocity.y=F.velocity.y+Z/F.mass*K),!D.immovable&&!F.immovable&&(b/=2);var j=f(D.center,F.center),k=(b+g.EPSILON)*Math.cos(j),J=(b+g.EPSILON)*Math.sin(j);return D.immovable||(D.x-=k,D.y-=J,D.updateCenter()),F.immovable||(F.x+=k,F.y+=J,F.updateCenter()),D.velocity.x*=D.bounce.x,D.velocity.y*=D.bounce.y,F.velocity.x*=F.bounce.x,F.velocity.y*=F.bounce.y,(D.onCollide||F.onCollide)&&this.emit(n.COLLIDE,D.gameObject,F.gameObject,D,F),!0},intersects:function(D,F){return D===F?!1:!D.isCircle&&!F.isCircle?!(D.right<=F.position.x||D.bottom<=F.position.y||D.position.x>=F.right||D.position.y>=F.bottom):D.isCircle?F.isCircle?s(D.center.x,D.center.y,F.center.x,F.center.y)<=D.halfWidth+F.halfWidth:this.circleBodyIntersects(D,F):this.circleBodyIntersects(F,D)},circleBodyIntersects:function(D,F){var N=t(D.center.x,F.left,F.right),I=t(D.center.y,F.top,F.bottom),b=(D.center.x-N)*(D.center.x-N),U=(D.center.y-I)*(D.center.y-I);return b+U<=D.halfWidth*D.halfWidth},overlap:function(D,F,N,I,b){return N===void 0&&(N=null),I===void 0&&(I=null),b===void 0&&(b=N),this.collideObjects(D,F,N,I,b,!0)},collide:function(D,F,N,I,b){return N===void 0&&(N=null),I===void 0&&(I=null),b===void 0&&(b=N),this.collideObjects(D,F,N,I,b,!1)},collideObjects:function(D,F,N,I,b,U){var X,z;D.isParent&&D.physicsType===void 0&&(D=D.children.entries),F&&F.isParent&&F.physicsType===void 0&&(F=F.children.entries);var V=Array.isArray(D),W=Array.isArray(F);if(this._total=0,!V&&!W)this.collideHandler(D,F,N,I,b,U);else if(!V&&W)for(X=0;X<F.length;X++)this.collideHandler(D,F[X],N,I,b,U);else if(V&&!W)if(F)for(X=0;X<D.length;X++)this.collideHandler(D[X],F,N,I,b,U);else for(X=0;X<D.length;X++){var H=D[X];for(z=X+1;z<D.length;z++)X!==z&&this.collideHandler(H,D[z],N,I,b,U)}else for(X=0;X<D.length;X++)for(z=0;z<F.length;z++)this.collideHandler(D[X],F[z],N,I,b,U);return this._total>0},collideHandler:function(D,F,N,I,b,U){if(F===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,N,I,b,U);if(!D||!F)return!1;if(D.body){if(F.body)return this.collideSpriteVsSprite(D,F,N,I,b,U);if(F.isParent)return this.collideSpriteVsGroup(D,F,N,I,b,U);if(F.isTilemap)return this.collideSpriteVsTilemapLayer(D,F,N,I,b,U)}else if(D.isParent){if(F.body)return this.collideSpriteVsGroup(F,D,N,I,b,U);if(F.isParent)return this.collideGroupVsGroup(D,F,N,I,b,U);if(F.isTilemap)return this.collideGroupVsTilemapLayer(D,F,N,I,b,U)}else if(D.isTilemap){if(F.body)return this.collideSpriteVsTilemapLayer(F,D,N,I,b,U);if(F.isParent)return this.collideGroupVsTilemapLayer(F,D,N,I,b,U)}},collideSpriteVsSprite:function(D,F,N,I,b,U){return!D.body||!F.body?!1:(this.separate(D.body,F.body,I,b,U)&&(N&&N.call(b,D,F),this._total++),!0)},collideSpriteVsGroup:function(D,F,N,I,b,U){var X=D.body;if(!(F.length===0||!X||!X.enable||X.checkCollision.none)){var z,V,W;if(this.useTree||F.physicsType===e.STATIC_BODY){var H=this.treeMinMax;H.minX=X.left,H.minY=X.top,H.maxX=X.right,H.maxY=X.bottom;var K=F.physicsType===e.DYNAMIC_BODY?this.tree.search(H):this.staticTree.search(H);for(V=K.length,z=0;z<V;z++)W=K[z],!(X===W||!W.enable||W.checkCollision.none||!F.contains(W.gameObject))&&this.separate(X,W,I,b,U,!0)&&(N&&N.call(b,X.gameObject,W.gameObject),this._total++)}else{var Z=F.getChildren(),j=F.children.entries.indexOf(D);for(V=Z.length,z=0;z<V;z++)W=Z[z].body,!(!W||z===j||!W.enable)&&this.separate(X,W,I,b,U)&&(N&&N.call(b,X.gameObject,W.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(D,F,N,I,b,U){var X=D.getChildren();if(X.length===0)return!1;for(var z=!1,V=0;V<X.length;V++)X[V].body&&this.collideSpriteVsTilemapLayer(X[V],F,N,I,b,U)&&(z=!0);return z},collideTiles:function(D,F,N,I,b){return!D.body.enable||F.length===0?!1:this.collideSpriteVsTilesHandler(D,F,N,I,b,!1,!1)},overlapTiles:function(D,F,N,I,b){return!D.body.enable||F.length===0?!1:this.collideSpriteVsTilesHandler(D,F,N,I,b,!0,!1)},collideSpriteVsTilemapLayer:function(D,F,N,I,b,U){var X=D.body;if(!X.enable||X.checkCollision.none)return!1;var z=X.position.x,V=X.position.y,W=X.width,H=X.height,K=F.layer;if(K.tileWidth>K.baseTileWidth){var Z=(K.tileWidth-K.baseTileWidth)*F.scaleX;z-=Z,W+=Z}if(K.tileHeight>K.baseTileHeight){var j=(K.tileHeight-K.baseTileHeight)*F.scaleY;H+=j}var k=d(z,V,W,H,null,F.scene.cameras.main,F.layer);return k.length===0?!1:this.collideSpriteVsTilesHandler(D,k,N,I,b,U,!0)},collideSpriteVsTilesHandler:function(D,F,N,I,b,U,X){for(var z=D.body,V,W={left:0,right:0,top:0,bottom:0},H,K=!1,Z=0;Z<F.length;Z++){V=F[Z],H=V.tilemapLayer;var j=H.tileToWorldXY(V.x,V.y);W.left=j.x,W.top=j.y,V.baseHeight!==V.height&&(W.top-=(V.height-V.baseHeight)*H.scaleY),W.right=W.left+V.width*H.scaleX,W.bottom=W.top+V.height*H.scaleY,L(W,z)&&(!I||I.call(b,D,V))&&y(V,D)&&(U||S(Z,z,V,W,H,this.TILE_BIAS,X))&&(this._total++,K=!0,N&&N.call(b,D,V),U&&z.onOverlap?this.emit(n.TILE_OVERLAP,D,V,z):z.onCollide&&this.emit(n.TILE_COLLIDE,D,V,z))}return K},collideGroupVsGroup:function(D,F,N,I,b,U){if(!(D.length===0||F.length===0))for(var X=D.getChildren(),z=0;z<X.length;z++)this.collideSpriteVsGroup(X[z],F,N,I,b,U)},wrap:function(D,F){D.body?this.wrapObject(D,F):D.getChildren?this.wrapArray(D.getChildren(),F):Array.isArray(D)?this.wrapArray(D,F):this.wrapObject(D,F)},wrapArray:function(D,F){for(var N=0;N<D.length;N++)this.wrapObject(D[N],F)},wrapObject:function(D,F){F===void 0&&(F=0),D.x=G(D.x,this.bounds.left-F,this.bounds.right+F),D.y=G(D.y,this.bounds.top-F,this.bounds.bottom+F)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});A.exports=Y},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(62),t=p(245),a=p(196),i=p(10),e=p(57),s=p(3),r=new f({initialize:function(o,l){var h=l.displayWidth?l.displayWidth:64,u=l.displayHeight?l.displayHeight:64;this.world=o,this.gameObject=l,this.transform={x:l.x,y:l.y,rotation:l.angle,scaleX:l.scaleX,scaleY:l.scaleY,displayOriginX:l.displayOriginX,displayOriginY:l.displayOriginY},this.debugShowBody=o.defaults.debugShowBody,this.debugShowVelocity=o.defaults.debugShowVelocity,this.debugBodyColor=o.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(l.x-l.scaleX*l.displayOriginX,l.y-l.scaleY*l.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=l.angle,this.preRotation=l.angle,this.width=h,this.height=u,this.sourceWidth=h,this.sourceHeight=u,l.frame&&(this.sourceWidth=l.frame.realWidth,this.sourceHeight=l.frame.realHeight),this.halfWidth=Math.abs(h/2),this.halfHeight=Math.abs(u/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new s,this.newVelocity=new s,this.deltaMax=new s,this.acceleration=new s,this.allowDrag=!0,this.drag=new s,this.allowGravity=!0,this.gravity=new s,this.bounce=new s,this.worldBounce=null,this.customBoundsRectangle=o.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new s(1e4,1e4),this.maxSpeed=-1,this.friction=new s(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=x.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=x.DYNAMIC_BODY,this._sx=l.scaleX,this._sy=l.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new i},updateBounds:function(){var n=this.gameObject,o=this.transform;if(n.parentContainer){var l=n.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);o.x=l.tx,o.y=l.ty,o.rotation=a(l.rotation),o.scaleX=l.scaleX,o.scaleY=l.scaleY,o.displayOriginX=n.displayOriginX,o.displayOriginY=n.displayOriginY}else o.x=n.x,o.y=n.y,o.rotation=n.angle,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.displayOriginX=n.displayOriginX,o.displayOriginY=n.displayOriginY;var h=!1;if(this.syncBounds){var u=n.getBounds(this._bounds);this.width=u.width,this.height=u.height,h=!0}else{var c=Math.abs(o.scaleX),d=Math.abs(o.scaleY);(this._sx!==c||this._sy!==d)&&(this.width=this.sourceWidth*c,this.height=this.sourceHeight*d,this._sx=c,this._sy=d,h=!0)}h&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var n=this.transform;this.position.x=n.x+n.scaleX*(this.offset.x-n.displayOriginX),this.position.y=n.y+n.scaleY*(this.offset.y-n.displayOriginY),this.updateCenter()},resetFlags:function(n){n===void 0&&(n=!1);var o=this.wasTouching,l=this.touching,h=this.blocked;n?(o.none=!0,o.up=!1,o.down=!1,o.left=!1,o.right=!1):(o.none=l.none,o.up=l.up,o.down=l.down,o.left=l.left,o.right=l.right),l.none=!0,l.up=!1,l.down=!1,l.left=!1,l.right=!1,h.none=!0,h.up=!1,h.down=!1,h.left=!1,h.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(n,o){n&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),n&&this.update(o)},update:function(n){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,n);var o=this.velocity.x,l=this.velocity.y;this.newVelocity.set(o*n,l*n),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(l,o),this.speed=Math.sqrt(o*o+l*l),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(t.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var n=this.position.x-this.prevFrame.x,o=this.position.y-this.prevFrame.y;if(this.moves){var l=this.deltaMax.x,h=this.deltaMax.y;l!==0&&n!==0&&(n<0&&n<-l?n=-l:n>0&&n>l&&(n=l)),h!==0&&o!==0&&(o<0&&o<-h?o=-h:o>0&&o>h&&(o=h)),this.gameObject.x+=n,this.gameObject.y+=o}n<0?this.facing=x.FACING_LEFT:n>0&&(this.facing=x.FACING_RIGHT),o<0?this.facing=x.FACING_UP:o>0&&(this.facing=x.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=n,this._ty=o},setBoundsRectangle:function(n){return this.customBoundsRectangle=n||this.world.bounds,this},checkWorldBounds:function(){var n=this.position,o=this.customBoundsRectangle,l=this.world.checkCollision,h=this.worldBounce?-this.worldBounce.x:-this.bounce.x,u=this.worldBounce?-this.worldBounce.y:-this.bounce.y,c=!1;return n.x<o.x&&l.left?(n.x=o.x,this.velocity.x*=h,this.blocked.left=!0,c=!0):this.right>o.right&&l.right&&(n.x=o.right-this.width,this.velocity.x*=h,this.blocked.right=!0,c=!0),n.y<o.y&&l.up?(n.y=o.y,this.velocity.y*=u,this.blocked.up=!0,c=!0):this.bottom>o.bottom&&l.down&&(n.y=o.bottom-this.height,this.velocity.y*=u,this.blocked.down=!0,c=!0),c&&(this.blocked.none=!1,this.updateCenter()),c},setOffset:function(n,o){return o===void 0&&(o=n),this.offset.set(n,o),this},setSize:function(n,o,l){l===void 0&&(l=!0);var h=this.gameObject;if(!n&&h.frame&&(n=h.frame.realWidth),!o&&h.frame&&(o=h.frame.realHeight),this.sourceWidth=n,this.sourceHeight=o,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),l&&h.getCenter){var u=(h.width-n)/2,c=(h.height-o)/2;this.offset.set(u,c)}return this.isCircle=!1,this.radius=0,this},setCircle:function(n,o,l){return o===void 0&&(o=this.offset.x),l===void 0&&(l=this.offset.y),n>0?(this.isCircle=!0,this.radius=n,this.sourceWidth=n*2,this.sourceHeight=n*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(o,l),this.updateCenter()):this.isCircle=!1,this},reset:function(n,o){this.stop();var l=this.gameObject;l.setPosition(n,o),l.getTopLeft?l.getTopLeft(this.position):this.position.set(n,o),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=l.angle,this.preRotation=l.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(n){return n.x=this.x,n.y=this.y,n.right=this.right,n.bottom=this.bottom,n},hitTest:function(n,o){if(!this.isCircle)return e(this,n,o);if(this.radius>0&&n>=this.left&&n<=this.right&&o>=this.top&&o<=this.bottom){var l=(this.center.x-n)*(this.center.x-n),h=(this.center.y-o)*(this.center.y-o);return l+h<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(n){var o=this.position,l=o.x+this.halfWidth,h=o.y+this.halfHeight;this.debugShowBody&&(n.lineStyle(n.defaultStrokeWidth,this.debugBodyColor),this.isCircle?n.strokeCircle(l,h,this.width/2):(this.checkCollision.up&&n.lineBetween(o.x,o.y,o.x+this.width,o.y),this.checkCollision.right&&n.lineBetween(o.x+this.width,o.y,o.x+this.width,o.y+this.height),this.checkCollision.down&&n.lineBetween(o.x,o.y+this.height,o.x+this.width,o.y+this.height),this.checkCollision.left&&n.lineBetween(o.x,o.y,o.x,o.y+this.height))),this.debugShowVelocity&&(n.lineStyle(n.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),n.lineBetween(l,h,l+this.velocity.x/2,h+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(n,o,l,h){n===void 0&&(n=!0),this.collideWorldBounds=n;var u=o!==void 0,c=l!==void 0;return(u||c)&&(this.worldBounce||(this.worldBounce=new s),u&&(this.worldBounce.x=o),c&&(this.worldBounce.y=l)),h!==void 0&&(this.onWorldBounds=h),this},setVelocity:function(n,o){return this.velocity.set(n,o),n=this.velocity.x,o=this.velocity.y,this.speed=Math.sqrt(n*n+o*o),this},setVelocityX:function(n){this.velocity.x=n;var o=n,l=this.velocity.y;return this.speed=Math.sqrt(o*o+l*l),this},setVelocityY:function(n){this.velocity.y=n;var o=this.velocity.x,l=n;return this.speed=Math.sqrt(o*o+l*l),this},setMaxVelocity:function(n,o){return this.maxVelocity.set(n,o),this},setMaxVelocityX:function(n){return this.maxVelocity.x=n,this},setMaxVelocityY:function(n){return this.maxVelocity.y=n,this},setMaxSpeed:function(n){return this.maxSpeed=n,this},setBounce:function(n,o){return this.bounce.set(n,o),this},setBounceX:function(n){return this.bounce.x=n,this},setBounceY:function(n){return this.bounce.y=n,this},setAcceleration:function(n,o){return this.acceleration.set(n,o),this},setAccelerationX:function(n){return this.acceleration.x=n,this},setAccelerationY:function(n){return this.acceleration.y=n,this},setAllowDrag:function(n){return n===void 0&&(n=!0),this.allowDrag=n,this},setAllowGravity:function(n){return n===void 0&&(n=!0),this.allowGravity=n,this},setAllowRotation:function(n){return n===void 0&&(n=!0),this.allowRotation=n,this},setDrag:function(n,o){return this.drag.set(n,o),this},setDamping:function(n){return this.useDamping=n,this},setDragX:function(n){return this.drag.x=n,this},setDragY:function(n){return this.drag.y=n,this},setGravity:function(n,o){return this.gravity.set(n,o),this},setGravityX:function(n){return this.gravity.x=n,this},setGravityY:function(n){return this.gravity.y=n,this},setFriction:function(n,o){return this.friction.set(n,o),this},setFrictionX:function(n){return this.friction.x=n,this},setFrictionY:function(n){return this.friction.y=n,this},setAngularVelocity:function(n){return this.angularVelocity=n,this},setAngularAcceleration:function(n){return this.angularAcceleration=n,this},setAngularDrag:function(n){return this.angularDrag=n,this},setMass:function(n){return this.mass=n,this},setImmovable:function(n){return n===void 0&&(n=!0),this.immovable=n,this},setEnable:function(n){return n===void 0&&(n=!0),this.enable=n,this},processX:function(n,o,l,h){this.x+=n,this.updateCenter(),o!==null&&(this.velocity.x=o);var u=this.blocked;l&&(u.left=!0),h&&(u.right=!0)},processY:function(n,o,l,h){this.y+=n,this.updateCenter(),o!==null&&(this.velocity.y=o);var u=this.blocked;l&&(u.up=!0),h&&(u.down=!0)},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a,i,e,s,r,n,o){this.world=a,this.name="",this.active=!0,this.overlapOnly=i,this.object1=e,this.object2=s,this.collideCallback=r,this.processCallback=n,this.callbackContext=o},setName:function(t){return this.name=t,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(26),x=p(3),t=new x,a=new x,i=function(e,s,r,n,o,l,h){var u=h.tilemapLayer.tilemap._convert.WorldToTileXY;u(e,s,!0,t,l,h);var c=t.x,d=t.y;u(e+r,s+n,!1,a,l,h);var v=Math.ceil(a.x),g=Math.ceil(a.y);return f(c,d,v-c,g-d,o,h)};A.exports=i},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.collisionCallback?!f.collisionCallback.call(f.collisionCallbackContext,x,f):f.layer.callbacks[f.index]?!f.layer.callbacks[f.index].callback.call(f.layer.callbacks[f.index].callbackContext,x,f):!0};A.exports=p},function(A,O,p){/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(436);function x(g){if(!(this instanceof x))return new x(g);this._maxEntries=Math.max(4,g||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}x.prototype={all:function(){return this._all(this.data,[])},search:function(g){var m=this.data,y=[],T=this.toBBox;if(!c(g,m))return y;for(var E=[],S,C,M,P;m;){for(S=0,C=m.children.length;S<C;S++)M=m.children[S],P=m.leaf?T(M):M,c(g,P)&&(m.leaf?y.push(M):u(g,P)?this._all(M,y):E.push(M));m=E.pop()}return y},collides:function(g){var m=this.data,y=this.toBBox;if(!c(g,m))return!1;for(var T=[],E,S,C,M;m;){for(E=0,S=m.children.length;E<S;E++)if(C=m.children[E],M=m.leaf?y(C):C,c(g,M)){if(m.leaf||u(g,M))return!0;T.push(C)}m=T.pop()}return!1},load:function(g){if(!(g&&g.length))return this;if(g.length<this._minEntries){for(var m=0,y=g.length;m<y;m++)this.insert(g[m]);return this}var T=this._build(g.slice(),0,g.length-1,0);if(!this.data.children.length)this.data=T;else if(this.data.height===T.height)this._splitRoot(this.data,T);else{if(this.data.height<T.height){var E=this.data;this.data=T,T=E}this._insert(T,this.data.height-T.height-1,!0)}return this},insert:function(g){return g&&this._insert(g,this.data.height-1),this},clear:function(){return this.data=d([]),this},remove:function(g,m){if(!g)return this;for(var y=this.data,T=this.toBBox(g),E=[],S=[],C,M,P,R;y||E.length;){if(y||(y=E.pop(),M=E[E.length-1],C=S.pop(),R=!0),y.leaf&&(P=t(g,y.children,m),P!==-1))return y.children.splice(P,1),E.push(y),this._condense(E),this;!R&&!y.leaf&&u(y,T)?(E.push(y),S.push(C),C=0,M=y,y=y.children[0]):M?(C++,y=M.children[C],R=!1):y=null}return this},toBBox:function(g){return g},compareMinX:s,compareMinY:r,toJSON:function(){return this.data},fromJSON:function(g){return this.data=g,this},_all:function(g,m){for(var y=[];g;)g.leaf?m.push.apply(m,g.children):y.push.apply(y,g.children),g=y.pop();return m},_build:function(g,m,y,T){var E=y-m+1,S=this._maxEntries,C;if(E<=S)return C=d(g.slice(m,y+1)),a(C,this.toBBox),C;T||(T=Math.ceil(Math.log(E)/Math.log(S)),S=Math.ceil(E/Math.pow(S,T-1))),C=d([]),C.leaf=!1,C.height=T;var M=Math.ceil(E/S),P=M*Math.ceil(Math.sqrt(S)),R,L,w,B;for(v(g,m,y,P,this.compareMinX),R=m;R<=y;R+=P)for(w=Math.min(R+P-1,y),v(g,R,w,M,this.compareMinY),L=R;L<=w;L+=M)B=Math.min(L+M-1,w),C.children.push(this._build(g,L,B,T-1));return a(C,this.toBBox),C},_chooseSubtree:function(g,m,y,T){for(var E,S,C,M,P,R,L,w;T.push(m),!(m.leaf||T.length-1===y);){for(L=w=1/0,E=0,S=m.children.length;E<S;E++)C=m.children[E],P=n(C),R=l(g,C)-P,R<w?(w=R,L=P<L?P:L,M=C):R===w&&P<L&&(L=P,M=C);m=M||m.children[0]}return m},_insert:function(g,m,y){var T=this.toBBox,E=y?g:T(g),S=[],C=this._chooseSubtree(E,this.data,m,S);for(C.children.push(g),e(C,E);m>=0&&S[m].children.length>this._maxEntries;)this._split(S,m),m--;this._adjustParentBBoxes(E,S,m)},_split:function(g,m){var y=g[m],T=y.children.length,E=this._minEntries;this._chooseSplitAxis(y,E,T);var S=this._chooseSplitIndex(y,E,T),C=d(y.children.splice(S,y.children.length-S));C.height=y.height,C.leaf=y.leaf,a(y,this.toBBox),a(C,this.toBBox),m?g[m-1].children.push(C):this._splitRoot(y,C)},_splitRoot:function(g,m){this.data=d([g,m]),this.data.height=g.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(g,m,y){var T,E,S,C,M,P,R,L;for(P=R=1/0,T=m;T<=y-m;T++)E=i(g,0,T,this.toBBox),S=i(g,T,y,this.toBBox),C=h(E,S),M=n(E)+n(S),C<P?(P=C,L=T,R=M<R?M:R):C===P&&M<R&&(R=M,L=T);return L},_chooseSplitAxis:function(g,m,y){var T=g.leaf?this.compareMinX:s,E=g.leaf?this.compareMinY:r,S=this._allDistMargin(g,m,y,T),C=this._allDistMargin(g,m,y,E);S<C&&g.children.sort(T)},_allDistMargin:function(g,m,y,T){g.children.sort(T);var E=this.toBBox,S=i(g,0,m,E),C=i(g,y-m,y,E),M=o(S)+o(C),P,R;for(P=m;P<y-m;P++)R=g.children[P],e(S,g.leaf?E(R):R),M+=o(S);for(P=y-m-1;P>=m;P--)R=g.children[P],e(C,g.leaf?E(R):R),M+=o(C);return M},_adjustParentBBoxes:function(g,m,y){for(var T=y;T>=0;T--)e(m[T],g)},_condense:function(g){for(var m=g.length-1,y;m>=0;m--)g[m].children.length===0?m>0?(y=g[m-1].children,y.splice(y.indexOf(g[m]),1)):this.clear():a(g[m],this.toBBox)},compareMinX:function(g,m){return g.left-m.left},compareMinY:function(g,m){return g.top-m.top},toBBox:function(g){return{minX:g.left,minY:g.top,maxX:g.right,maxY:g.bottom}}};function t(g,m,y){if(!y)return m.indexOf(g);for(var T=0;T<m.length;T++)if(y(g,m[T]))return T;return-1}function a(g,m){i(g,0,g.children.length,m,g)}function i(g,m,y,T,E){E||(E=d(null)),E.minX=1/0,E.minY=1/0,E.maxX=-1/0,E.maxY=-1/0;for(var S=m,C;S<y;S++)C=g.children[S],e(E,g.leaf?T(C):C);return E}function e(g,m){return g.minX=Math.min(g.minX,m.minX),g.minY=Math.min(g.minY,m.minY),g.maxX=Math.max(g.maxX,m.maxX),g.maxY=Math.max(g.maxY,m.maxY),g}function s(g,m){return g.minX-m.minX}function r(g,m){return g.minY-m.minY}function n(g){return(g.maxX-g.minX)*(g.maxY-g.minY)}function o(g){return g.maxX-g.minX+(g.maxY-g.minY)}function l(g,m){return(Math.max(m.maxX,g.maxX)-Math.min(m.minX,g.minX))*(Math.max(m.maxY,g.maxY)-Math.min(m.minY,g.minY))}function h(g,m){var y=Math.max(g.minX,m.minX),T=Math.max(g.minY,m.minY),E=Math.min(g.maxX,m.maxX),S=Math.min(g.maxY,m.maxY);return Math.max(0,E-y)*Math.max(0,S-T)}function u(g,m){return g.minX<=m.minX&&g.minY<=m.minY&&m.maxX<=g.maxX&&m.maxY<=g.maxY}function c(g,m){return m.minX<=g.maxX&&m.minY<=g.maxY&&m.maxX>=g.minX&&m.maxY>=g.minY}function d(g){return{children:g,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(g,m,y,T,E){for(var S=[m,y],C;S.length;)y=S.pop(),m=S.pop(),!(y-m<=T)&&(C=m+Math.ceil((y-m)/T/2)*T,f(g,C,m,y,E),S.push(m,C,C,y))}A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(533),x=p(535),t=p(248),a=function(i,e,s,r,n,o,l){var h=r.left,u=r.top,c=r.right,d=r.bottom,v=s.faceLeft||s.faceRight,g=s.faceTop||s.faceBottom;if(l||(v=!0,g=!0),!v&&!g)return!1;var m=0,y=0,T=0,E=1;if(e.deltaAbsX()>e.deltaAbsY()?T=-1:e.deltaAbsX()<e.deltaAbsY()&&(E=-1),e.deltaX()!==0&&e.deltaY()!==0&&v&&g&&(T=Math.min(Math.abs(e.position.x-c),Math.abs(e.right-h)),E=Math.min(Math.abs(e.position.y-d),Math.abs(e.bottom-u))),T<E){if(v&&(m=f(e,s,h,c,o,l),m!==0&&!t(r,e)))return!0;g&&(y=x(e,s,u,d,o,l))}else{if(g&&(y=x(e,s,u,d,o,l),y!==0&&!t(r,e)))return!0;v&&(m=f(e,s,h,c,o,l))}return m!==0||y!==0};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(534),x=function(t,a,i,e,s,r){var n=0,o=a.faceLeft,l=a.faceRight,h=a.collideLeft,u=a.collideRight;return r||(o=!0,l=!0,h=!0,u=!0),t.deltaX()<0&&u&&t.checkCollision.left?l&&t.x<e&&(n=t.x-e,n<-s&&(n=0)):t.deltaX()>0&&h&&t.checkCollision.right&&o&&t.right>i&&(n=t.right-i,n>s&&(n=0)),n!==0&&(t.customSeparateX?t.overlapX=n:f(t,n)),n};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){x<0?(f.blocked.none=!1,f.blocked.left=!0):x>0&&(f.blocked.none=!1,f.blocked.right=!0),f.position.x-=x,f.bounce.x===0?f.velocity.x=0:f.velocity.x=-f.velocity.x*f.bounce.x};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(536),x=function(t,a,i,e,s,r){var n=0,o=a.faceTop,l=a.faceBottom,h=a.collideUp,u=a.collideDown;return r||(o=!0,l=!0,h=!0,u=!0),t.deltaY()<0&&u&&t.checkCollision.up?l&&t.y<e&&(n=t.y-e,n<-s&&(n=0)):t.deltaY()>0&&h&&t.checkCollision.down&&o&&t.bottom>i&&(n=t.bottom-i,n>s&&(n=0)),n!==0&&(t.customSeparateY?t.overlapY=n:f(t,n)),n};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){x<0?(f.blocked.none=!1,f.blocked.up=!0):x>0&&(f.blocked.none=!1,f.blocked.down=!0),f.position.y-=x,f.bounce.y===0?f.velocity.y=0:f.velocity.y=-f.velocity.y*f.bounce.y};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(246),x=p(1389),t=function(a,i,e,s){var r=f(a,i,e,s),n=a.immovable,o=i.immovable;if(e||r===0||n&&o||a.customSeparateX||i.customSeparateX)return r!==0||a.embedded&&i.embedded;var l=x.Set(a,i,r);return!n&&!o?l>0?!0:x.Check():(n?x.RunImmovableBody1(l):o&&x.RunImmovableBody2(l),!0)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(247),x=p(1390),t=function(a,i,e,s){var r=f(a,i,e,s),n=a.immovable,o=i.immovable;if(e||r===0||n&&o||a.customSeparateY||i.customSeparateY)return r!==0||a.embedded&&i.embedded;var l=x.Set(a,i,r);return!n&&!o?l>0?!0:x.Check():(n?x.RunImmovableBody1(l):o&&x.RunImmovableBody2(l),!0)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(66),x=p(0),t=p(62),a=p(57),i=p(3),e=new x({initialize:function(r,n){var o=n.displayWidth?n.displayWidth:64,l=n.displayHeight?n.displayHeight:64;this.world=r,this.gameObject=n,this.debugShowBody=r.defaults.debugShowStaticBody,this.debugBodyColor=r.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(n.x-o*n.originX,n.y-l*n.originY),this.width=o,this.height=l,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=i.ZERO,this.allowGravity=!1,this.gravity=i.ZERO,this.bounce=i.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=t.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(s,r){return s&&s!==this.gameObject&&(this.gameObject.body=null,s.body=this,this.gameObject=s),r&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var s=this.gameObject;return s.getTopLeft(this.position),this.width=s.displayWidth,this.height=s.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(s,r){return r===void 0&&(r=s),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s,r),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(s,r,n){n===void 0&&(n=!0);var o=this.gameObject;if(!s&&o.frame&&(s=o.frame.realWidth),!r&&o.frame&&(r=o.frame.realHeight),this.world.staticTree.remove(this),this.width=s,this.height=r,this.halfWidth=Math.floor(s/2),this.halfHeight=Math.floor(r/2),n&&o.getCenter){var l=o.displayWidth/2,h=o.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(l-this.halfWidth,h-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(s,r,n){return r===void 0&&(r=this.offset.x),n===void 0&&(n=this.offset.y),s>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=s,this.width=s*2,this.height=s*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(r,n),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(s,r){var n=this.gameObject;s===void 0&&(s=n.x),r===void 0&&(r=n.y),this.world.staticTree.remove(this),n.setPosition(s,r),n.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(s){return s.x=this.x,s.y=this.y,s.right=this.right,s.bottom=this.bottom,s},hitTest:function(s,r){return this.isCircle?f(this,s,r):a(this,s,r)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(s){var r=this.position,n=r.x+this.halfWidth,o=r.y+this.halfHeight;this.debugShowBody&&(s.lineStyle(s.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?s.strokeCircle(n,o,this.width/2):s.strokeRect(r.x,r.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(s){return s<=0&&(s=.1),this.mass=s,this},x:{get:function(){return this.position.x},set:function(s){this.world.staticTree.remove(this),this.position.x=s,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(s){this.world.staticTree.remove(this),this.position.y=s,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});A.exports=e},function(A,O,p){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var f=p(0),x=new f({initialize:function(a){this.pluginManager=a,this.game=a.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(3),x=new f,t=function(a,i,e,s){var r=e.tilemapLayer,n=r.cullPaddingX,o=r.cullPaddingY,l=r.tilemap.tileToWorldXY(a,i,x,s,r);return l.x>s.worldView.x+r.scaleX*e.tileWidth*(-n-.5)&&l.x<s.worldView.right+r.scaleX*e.tileWidth*(n-.5)&&l.y>s.worldView.y+r.scaleY*e.tileHeight*(-o-1)&&l.y<s.worldView.bottom+r.scaleY*e.tileHeight*(o-.5)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(26),x=function(t,a,i,e,s,r,n){for(var o=f(i,e,s,r,null,n),l=0;l<o.length;l++)o[l]&&o[l].index===t&&(o[l].index=a)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(10),x=p(139),t=p(76),a=new f,i=function(e,s){var r=e.tilemapLayer.tilemap,n=e.tilemapLayer,o=Math.floor(r.tileWidth*n.scaleX),l=Math.floor(r.tileHeight*n.scaleY),h=t(s.worldView.x-n.x,o,0,!0)-n.cullPaddingX,u=x(s.worldView.right-n.x,o,0,!0)+n.cullPaddingX,c=t(s.worldView.y-n.y,l,0,!0)-n.cullPaddingY,d=x(s.worldView.bottom-n.y,l,0,!0)+n.cullPaddingY;return a.setTo(h,c,u-h,d-c)};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(543),x=p(159),t=function(a,i,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var r=a.tilemapLayer,n=f(a,i);return(r.skipCull||r.scrollFactorX!==1||r.scrollFactorY!==1)&&(n.left=0,n.right=a.width,n.top=0,n.bottom=a.height),x(a,n,s,e),e};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(546),x=p(159),t=function(a,i,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var r=a.tilemapLayer;if(!r.skipCull&&r.scrollFactorX===1&&r.scrollFactorY===1){var n=f(a,i);x(a,n,s,e)}return e};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(139),x=p(76),t=function(a,i){var e=a.tilemapLayer.tilemap,s=a.tilemapLayer,r=Math.floor(e.tileWidth*s.scaleX),n=Math.floor(e.tileHeight*s.scaleY),o=a.hexSideLength,l=(n-o)/2+o,h=x(i.worldView.x-s.x,r,0,!0)-s.cullPaddingX,u=f(i.worldView.right-s.x,r,0,!0)+s.cullPaddingX,c=x(i.worldView.y-s.y,l,0,!0)-s.cullPaddingY,d=f(i.worldView.bottom-s.y,l,0,!0)+s.cullPaddingY;return{left:h,right:u,top:c,bottom:d}};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(541),x=function(t,a,i,e){i===void 0&&(i=[]),e===void 0&&(e=0),i.length=0;var s=t.tilemapLayer,r=t.data,n=t.width,o=t.height,l=0,h=n,u=0,c=o;if(!s.skipCull){var d,v,g;if(e===0){for(v=u;v<c;v++)for(d=l;r[v]&&d<h;d++)if(f(d,v,t,a)){if(g=r[v][d],!g||g.index===-1||!g.visible||g.alpha===0)continue;i.push(g)}}else if(e===1){for(v=u;v<c;v++)for(d=h;r[v]&&d>=l;d--)if(f(d,v,t,a)){if(g=r[v][d],!g||g.index===-1||!g.visible||g.alpha===0)continue;i.push(g)}}else if(e===2){for(v=c;v>=u;v--)for(d=l;r[v]&&d<h;d++)if(f(d,v,t,a)){if(g=r[v][d],!g||g.index===-1||!g.visible||g.alpha===0)continue;i.push(g)}}else if(e===3){for(v=c;v>=u;v--)for(d=h;r[v]&&d>=l;d--)if(f(d,v,t,a)){if(g=r[v][d],!g||g.index===-1||!g.visible||g.alpha===0)continue;i.push(g)}}}return s.tilesDrawn=i.length,s.tilesTotal=n*o,i};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(549),x=p(159),t=function(a,i,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var r=a.tilemapLayer;if(!r.skipCull&&r.scrollFactorX===1&&r.scrollFactorY===1){var n=f(a,i);x(a,n,s,e)}return e};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(139),x=p(76),t=function(a,i){var e=a.tilemapLayer.tilemap,s=a.tilemapLayer,r=Math.floor(e.tileWidth*s.scaleX),n=Math.floor(e.tileHeight*s.scaleY),o=x(i.worldView.x-s.x,r,0,!0)-s.cullPaddingX,l=f(i.worldView.right-s.x,r,0,!0)+s.cullPaddingX,h=x(i.worldView.y-s.y,n/2,0,!0)-s.cullPaddingY,u=f(i.worldView.bottom-s.y,n/2,0,!0)+s.cullPaddingY;return{left:o,right:l,top:h,bottom:u}};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(3),x=function(t,a,i,e,s){i||(i=new f);var r=s.baseTileWidth,n=s.baseTileHeight,o=s.tilemapLayer,l=0,h=0;o&&(e||(e=o.scene.cameras.main),l=o.x+e.scrollX*(1-o.scrollFactorX),r*=o.scaleX,h=o.y+e.scrollY*(1-o.scrollFactorY),n*=o.scaleY);var u=s.hexSideLength,c=(n-u)/2+u,d=l+t*r+a%2*(r/2),v=h+a*c;return i.set(d,v)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(3),x=function(t,a,i,e,s){i||(i=new f);var r=s.baseTileWidth,n=s.baseTileHeight,o=s.tilemapLayer,l=0,h=0;o&&(e||(e=o.scene.cameras.main),l=o.x+e.scrollX*(1-o.scrollFactorX),r*=o.scaleX,h=o.y+e.scrollY*(1-o.scrollFactorY),n*=o.scaleY);var u=l+(t-a)*(r/2),c=h+(t+a)*(n/2);return i.set(u,c)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(3),x=function(t,a,i,e,s){i||(i=new f);var r=s.baseTileWidth,n=s.baseTileHeight,o=s.tilemapLayer,l=0,h=0;o&&(e||(e=o.scene.cameras.main),l=o.x+e.scrollX*(1-o.scrollFactorX),r*=o.scaleX,h=o.y+e.scrollY*(1-o.scrollFactorY),n*=o.scaleY);var u=l+t*r+a%2*(r/2),c=h+a*(n/2);return i.set(u,c)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(253),x=p(254),t=p(3),a=function(i,e,s,r,n){return s||(s=new t(0,0)),s.x=f(i,r,n),s.y=x(e,r,n),s};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=t.baseTileHeight,i=t.tilemapLayer,e=0;i&&(x===void 0&&(x=i.scene.cameras.main),e=i.y+x.scrollY*(1-i.scrollFactorY),a*=i.scaleY);var s=i.tilemap.hexSideLength,r=(a-s)/2+s;return e+f*r};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=t.baseTileHeight,i=t.tilemapLayer,e=0;return i&&(x===void 0&&(x=i.scene.cameras.main),e=i.y+x.scrollY*(1-i.scrollFactorY),a*=i.scaleY),e+f*(a/2)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(3),x=function(t,a,i,e,s,r){e||(e=new f);var n=r.baseTileWidth,o=r.baseTileHeight,l=r.tilemapLayer;l&&(s||(s=l.scene.cameras.main),a=a-(l.y+s.scrollY*(1-l.scrollFactorY)),o*=l.scaleY,t=t-(l.x+s.scrollX*(1-l.scrollFactorX)),n*=l.scaleX);var h=r.hexSideLength,u=(o-h)/2+h,c=i?Math.floor(a/u):a/u,d=i?Math.floor((t-c%2*.5*n)/n):(t-c%2*.5*n)/n;return e.set(d,c)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(3),x=function(t,a,i,e,s,r){e||(e=new f);var n=r.baseTileWidth,o=r.baseTileHeight,l=r.tilemapLayer;l&&(s||(s=l.scene.cameras.main),a=a-(l.y+s.scrollY*(1-l.scrollFactorY)),o*=l.scaleY,t=t-(l.x+s.scrollX*(1-l.scrollFactorX)),n*=l.scaleX);var h=i?Math.floor((t/(n/2)+a/(o/2))/2):(t/(n/2)+a/(o/2))/2,u=i?Math.floor((a/(o/2)-t/(n/2))/2):(a/(o/2)-t/(n/2))/2;return e.set(h,u)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(3),x=function(t,a,i,e,s,r){e||(e=new f);var n=r.baseTileWidth,o=r.baseTileHeight,l=r.tilemapLayer;l&&(s||(s=l.scene.cameras.main),a=a-(l.y+s.scrollY*(1-l.scrollFactorY)),o*=l.scaleY,t=t-(l.x+s.scrollX*(1-l.scrollFactorX)),n*=l.scaleX);var h=i?Math.floor(a/(o/2)):a/(o/2),u=i?Math.floor((t+h%2*.5*n)/n):(t+h%2*.5*n)/n;return e.set(u,h)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(255),x=p(256),t=p(3),a=function(i,e,s,r,n,o){return s===void 0&&(s=!0),r||(r=new t(0,0)),r.x=f(i,s,n,o),r.y=x(e,s,n,o),r};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){var i=a.baseTileHeight,e=a.tilemapLayer;e&&(t||(t=e.scene.cameras.main),f=f-(e.y+t.scrollY*(1-e.scrollFactorY)),i*=e.scaleY);var s=a.hexSideLength,r=(i-s)/2+s;return x?Math.floor(f/r):f/r};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){var i=a.baseTileHeight,e=a.tilemapLayer;return e&&(t||(t=e.scene.cameras.main),f=f-(e.y+t.scrollY*(1-e.scrollFactorY)),i*=e.scaleY),x?Math.floor(f/(i/2)):f/(i/2)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(119),x=function(t,a,i){if(f(t,a,i)){var e=i.data[a][t];return e!==null&&e.index>-1}else return!1};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(85),x=p(119),t=p(252),a=function(i,e,s,r,n){if(s===void 0&&(s=!0),r===void 0&&(r=!0),!x(i,e,n))return null;var o=n.data[e][i];if(o)n.data[e][i]=s?null:new f(n,-1,i,e,n.tileWidth,n.tileHeight);else return null;return r&&o&&o.collides&&t(i,e,n),o};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(40),x=p(259),t=p(565),a=p(566),i=p(577),e=function(s,r,n,o,l,h){var u;switch(r){case f.ARRAY_2D:u=x(s,n,o,l,h);break;case f.CSV:u=t(s,n,o,l,h);break;case f.TILED_JSON:u=a(s,n,h);break;case f.WELTMEISTER:u=i(s,n,h);break;default:console.warn("Unrecognized tilemap data format: "+r),u=null}return u};A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(40),x=p(259),t=function(a,i,e,s,r){var n=i.trim().split(`
`).map(function(l){return l.split(",")}),o=x(a,n,e,s,r);return o.format=f.CSV,o};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(567),x=p(568),t=p(29),a=p(40),i=p(258),e=p(121),s=p(569),r=p(570),n=p(573),o=p(575),l=function(h,u,c){var d=new e({width:u.width,height:u.height,name:h,tileWidth:u.tilewidth,tileHeight:u.tileheight,orientation:i(u.orientation),format:a.TILED_JSON,version:u.version,properties:u.properties,renderOrder:u.renderorder,infinite:u.infinite});d.orientation===t.HEXAGONAL&&(d.hexSideLength=u.hexsidelength),d.layers=n(u,c),d.images=s(u);var v=o(u);return d.tilesets=v.tilesets,d.imageCollections=v.imageCollections,d.objects=r(u),d.tiles=x(d),f(d),d};A.exports=l},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(17),x=function(t){for(var a,i,e,s,r,n=0;n<t.layers.length;n++){a=t.layers[n],s=null;for(var o=0;o<a.data.length;o++){r=a.data[o];for(var l=0;l<r.length;l++)i=r[l],!(i===null||i.index<0)&&(e=t.tiles[i.index][2],s=t.tilesets[e],i.width=s.tileWidth,i.height=s.tileHeight,s.tileProperties&&s.tileProperties[i.index-s.firstgid]&&(i.properties=f(i.properties,s.tileProperties[i.index-s.firstgid])))}}};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(122),x=function(t){var a,i,e=[];for(a=0;a<t.imageCollections.length;a++)for(var s=t.imageCollections[a],r=s.images,n=0;n<r.length;n++){var o=r[n];i=new f(o.image,o.gid,s.imageWidth,s.imageHeight,0,0),i.updateTileData(s.imageWidth,s.imageHeight),t.tilesets.push(i)}for(a=0;a<t.tilesets.length;a++){i=t.tilesets[a];for(var l=i.tileMargin,h=i.tileMargin,u=0,c=0,d=0,v=i.firstgid;v<i.firstgid+i.total&&(e[v]=[l,h,a],l+=i.tileWidth+i.tileSpacing,u++,!(u===i.total||(c++,c===i.columns&&(l=i.tileMargin,h+=i.tileHeight+i.tileSpacing,c=0,d++,d===i.rows))));v++);}return e};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(2),x=p(161),t=function(a){for(var i=[],e=[],s=x(a);s.i<s.layers.length||e.length>0;){if(s.i>=s.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=e.pop();continue}var r=s.layers[s.i];if(s.i++,r.type!=="imagelayer"){if(r.type==="group"){var n=x(a,r,s);e.push(s),s=n}continue}var o=f(r,"offsetx",0)+f(r,"startx",0),l=f(r,"offsety",0)+f(r,"starty",0);i.push({name:s.name+r.name,image:r.image,x:s.x+o+r.x,y:s.y+l+r.y,alpha:s.opacity*r.opacity,visible:s.visible&&r.visible,properties:f(r,"properties",{})})}return i};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(2),x=p(260),t=p(572),a=p(161),i=function(e){for(var s=[],r=[],n=a(e);n.i<n.layers.length||r.length>0;){if(n.i>=n.layers.length){if(r.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=r.pop();continue}var o=n.layers[n.i];if(n.i++,o.opacity*=n.opacity,o.visible=n.visible&&o.visible,o.type!=="objectgroup"){if(o.type==="group"){var l=a(e,o,n);r.push(n),n=l}continue}o.name=n.name+o.name;for(var h=n.x+f(o,"startx",0)+f(o,"offsetx",0),u=n.y+f(o,"starty",0)+f(o,"offsety",0),c=[],d=0;d<o.objects.length;d++){var v=x(o.objects[d],h,u);c.push(v)}var g=new t(o);g.objects=c,s.push(g)}return s};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(126),x=function(t,a){for(var i={},e=0;e<a.length;e++){var s=a[e];f(t,s)&&(i[s]=t[s])}return i};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(2),t=new f({initialize:function(i){i===void 0&&(i={}),this.name=x(i,"name","object layer"),this.opacity=x(i,"opacity",1),this.properties=x(i,"properties",{}),this.propertyTypes=x(i,"propertytypes",{}),this.type=x(i,"type","objectgroup"),this.visible=x(i,"visible",!0),this.objects=x(i,"objects",[])}});A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(574),x=p(29),t=p(161),a=p(258),i=p(2),e=p(120),s=p(261),r=p(85),n=function(o,l){for(var h=i(o,"infinite",!1),u=[],c=[],d=t(o);d.i<d.layers.length||c.length>0;){if(d.i>=d.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=c.pop();continue}var v=d.layers[d.i];if(d.i++,v.type!=="tilelayer"){if(v.type==="group"){var g=t(o,v,d);c.push(d),d=g}continue}if(v.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+v.name+"'");continue}else if(v.encoding&&v.encoding==="base64"){if(v.chunks)for(var m=0;m<v.chunks.length;m++)v.chunks[m].data=f(v.chunks[m].data);v.data&&(v.data=f(v.data)),delete v.encoding}var y,T,E,S,C=[],M=0;if(h){var P=i(v,"startx",0)+v.x,R=i(v,"starty",0)+v.y;y=new e({name:d.name+v.name,x:d.x+i(v,"offsetx",0)+P*o.tilewidth,y:d.y+i(v,"offsety",0)+R*o.tileheight,width:v.width,height:v.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:d.opacity*v.opacity,visible:d.visible&&v.visible,properties:i(v,"properties",[]),orientation:a(o.orientation)}),y.orientation===x.HEXAGONAL&&(y.hexSideLength=o.hexsidelength);for(var L=0;L<v.height;L++){C.push([null]);for(var w=0;w<v.width;w++)C[L][w]=null}for(L=0,z=v.chunks.length;L<z;L++)for(var B=v.chunks[L],G=B.x-P,Y=B.y-R,D=0,F=0,N=B.data.length;F<N;F++){var I=M+G,b=D+Y;T=s(B.data[F]),T.gid>0?(E=new r(y,T.gid,I,b,o.tilewidth,o.tileheight),E.rotation=T.rotation,E.flipX=T.flipped,C[b][I]=E):(S=l?null:new r(y,-1,I,b,o.tilewidth,o.tileheight),C[b][I]=S),M++,M===B.width&&(D++,M=0)}}else{y=new e({name:d.name+v.name,x:d.x+i(v,"offsetx",0)+v.x,y:d.y+i(v,"offsety",0)+v.y,width:v.width,height:v.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:d.opacity*v.opacity,visible:d.visible&&v.visible,properties:i(v,"properties",[]),orientation:a(o.orientation)}),y.orientation===x.HEXAGONAL&&(y.hexSideLength=o.hexsidelength);for(var U=[],X=0,z=v.data.length;X<z;X++)T=s(v.data[X]),T.gid>0?(E=new r(y,T.gid,M,C.length,o.tilewidth,o.tileheight),E.rotation=T.rotation,E.flipX=T.flipped,U.push(E)):(S=l?null:new r(y,-1,M,C.length,o.tilewidth,o.tileheight),U.push(S)),M++,M===v.width&&(C.push(U),M=0,U=[])}y.data=C,u.push(y)}return u};A.exports=n},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){for(var x=window.atob(f),t=x.length,a=new Array(t/4),i=0;i<t;i+=4)a[i/4]=(x.charCodeAt(i)|x.charCodeAt(i+1)<<8|x.charCodeAt(i+2)<<16|x.charCodeAt(i+3)<<24)>>>0;return a};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(122),x=p(576),t=p(260),a=p(1453),i=function(e){for(var s=[],r=[],n=null,o,l=0;l<e.tilesets.length;l++){var h=e.tilesets[l];if(h.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(h.image){var u=new f(h.name,h.firstgid,h.tilewidth,h.tileheight,h.margin,h.spacing);if(e.version>1){var c=void 0,d=void 0;if(Array.isArray(h.tiles)){c=c||{},d=d||{};for(var v=0;v<h.tiles.length;v++){var g=h.tiles[v];if(g.properties){var m={};g.properties.forEach(function(L){m[L.name]=L.value}),d[g.id]=m}if(g.objectgroup&&((c[g.id]||(c[g.id]={})).objectgroup=g.objectgroup,g.objectgroup.objects)){var y=g.objectgroup.objects.map(function(L){return t(L)});c[g.id].objectgroup.objects=y}g.animation&&((c[g.id]||(c[g.id]={})).animation=g.animation),g.type&&((c[g.id]||(c[g.id]={})).type=g.type)}}Array.isArray(h.wangsets)&&(c=c||{},d=d||{},a(h.wangsets,c)),c&&(u.tileData=c,u.tileProperties=d)}else if(h.tileproperties&&(u.tileProperties=h.tileproperties),h.tiles){u.tileData=h.tiles;for(o in u.tileData){var T=u.tileData[o].objectgroup;if(T&&T.objects){var E=T.objects.map(function(L){return t(L)});u.tileData[o].objectgroup.objects=E}}}u.updateTileData(h.imagewidth,h.imageheight),s.push(u)}else{var S=new x(h.name,h.firstgid,h.tilewidth,h.tileheight,h.margin,h.spacing,h.properties),C=0;for(v=0;v<h.tiles.length;v++){g=h.tiles[v];var M=g.image,P=parseInt(g.id,10),R=h.firstgid+P;S.addImage(R,M),C=Math.max(P,C)}S.maxId=C,r.push(S)}n&&(n.lastgid=h.firstgid-1),n=h}return{tilesets:s,imageCollections:r}};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a,i,e,s,r,n,o){(e===void 0||e<=0)&&(e=32),(s===void 0||s<=0)&&(s=32),r===void 0&&(r=0),n===void 0&&(n=0),this.name=a,this.firstgid=i|0,this.imageWidth=e|0,this.imageHeight=s|0,this.imageMargin=r|0,this.imageSpacing=n|0,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},addImage:function(t,a){return this.images.push({gid:t,image:a}),this.total++,this}});A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(40),x=p(121),t=p(578),a=p(579),i=function(e,s,r){if(s.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var n=0,o=0,l=0;l<s.layer.length;l++)s.layer[l].width>n&&(n=s.layer[l].width),s.layer[l].height>o&&(o=s.layer[l].height);var h=new x({width:n,height:o,name:e,tileWidth:s.layer[0].tilesize,tileHeight:s.layer[0].tilesize,format:f.WELTMEISTER});return h.layers=t(s,r),h.tilesets=a(s),h};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(120),x=p(85),t=function(a,i){for(var e=[],s=0;s<a.layer.length;s++){for(var r=a.layer[s],n=new f({name:r.name,width:r.width,height:r.height,tileWidth:r.tilesize,tileHeight:r.tilesize,visible:r.visible===1}),o=[],l=[],h=0;h<r.data.length;h++){for(var u=0;u<r.data[h].length;u++){var c=r.data[h][u]-1,d;c>-1?d=new x(n,c,u,h,r.tilesize,r.tilesize):d=i?null:new x(n,-1,u,h,r.tilesize,r.tilesize),o.push(d)}l.push(o),o=[]}n.data=l,e.push(n)}return e};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(122),x=function(t){for(var a=[],i=[],e=0;e<t.layer.length;e++){var s=t.layer[e],r=s.tilesetName;r!==""&&i.indexOf(r)===-1&&(i.push(r),a.push(new f(r,0,s.tilesize,s.tilesize,0,0)))}return a};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(36),t=p(40),a=p(2),i=p(120),e=p(29),s=p(362),r=p(74),n=p(73),o=p(85),l=p(251),h=p(581),u=p(122),c=new f({initialize:function(v,g){this.scene=v,this.tileWidth=g.tileWidth,this.tileHeight=g.tileHeight,this.width=g.width,this.height=g.height,this.orientation=g.orientation,this.renderOrder=g.renderOrder,this.format=g.format,this.version=g.version,this.properties=g.properties,this.widthInPixels=g.widthInPixels,this.heightInPixels=g.heightInPixels,this.imageCollections=g.imageCollections,this.images=g.images,this.layers=g.layers,this.tilesets=g.tilesets,this.objects=g.objects,this.currentLayerIndex=0,this.hexSideLength=g.hexSideLength;var m=this.orientation;this._convert={WorldToTileXY:l.GetWorldToTileXYFunction(m),WorldToTileX:l.GetWorldToTileXFunction(m),WorldToTileY:l.GetWorldToTileYFunction(m),TileToWorldXY:l.GetTileToWorldXYFunction(m),TileToWorldX:l.GetTileToWorldXFunction(m),TileToWorldY:l.GetTileToWorldYFunction(m)}},createBlankDynamicLayer:function(d,v,g,m,y,T,E,S){return console.warn("createBlankDynamicLayer is deprecated. Use createBlankLayer"),this.createBlankLayer(d,v,g,m,y,T,E,S)},createDynamicLayer:function(d,v,g,m){return console.warn("createDynamicLayer is deprecated. Use createLayer"),this.createLayer(d,v,g,m)},createStaticLayer:function(d,v,g,m){return console.warn("createStaticLayer is deprecated. Use createLayer"),this.createLayer(d,v,g,m)},setRenderOrder:function(d){var v=["right-down","left-down","right-up","left-up"];return typeof d=="number"&&(d=v[d]),v.indexOf(d)>-1&&(this.renderOrder=d),this},addTilesetImage:function(d,v,g,m,y,T,E){if(d===void 0)return null;if(v==null&&(v=d),!this.scene.sys.textures.exists(v))return console.warn("Invalid Tileset Image: "+v),null;var S=this.scene.sys.textures.get(v),C=this.getTilesetIndex(d);if(C===null&&this.format===t.TILED_JSON)return console.warn("No data found for Tileset: "+d),null;var M=this.tilesets[C];return M?(M.setTileSize(g,m),M.setSpacing(y,T),M.setImage(S),M):(g===void 0&&(g=this.tileWidth),m===void 0&&(m=this.tileHeight),y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=0),M=new u(d,E,g,m,y,T),M.setImage(S),this.tilesets.push(M),M)},copy:function(d,v,g,m,y,T,E,S){return S=this.getLayer(S),S!==null?(l.Copy(d,v,g,m,y,T,E,S),this):null},createBlankLayer:function(d,v,g,m,y,T,E,S){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=this.width),T===void 0&&(T=this.height),E===void 0&&(E=this.tileWidth),S===void 0&&(S=this.tileHeight);var C=this.getLayerIndex(d);if(C!==null)return console.warn("Invalid Tilemap Layer ID: "+d),null;for(var M=new i({name:d,tileWidth:E,tileHeight:S,width:y,height:T,orientation:this.orientation}),P,R=0;R<T;R++){P=[];for(var L=0;L<y;L++)P.push(new o(M,-1,L,R,E,S,this.tileWidth,this.tileHeight));M.data.push(P)}this.layers.push(M),this.currentLayerIndex=this.layers.length-1;var w=new h(this.scene,this,this.currentLayerIndex,v,g,m);return w.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(w),w},createLayer:function(d,v,g,m){var y=this.getLayerIndex(d);if(y===null)return console.warn("Invalid Tilemap Layer ID: "+d),typeof d=="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var T=this.layers[y];if(T.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+d),null;this.currentLayerIndex=y,g===void 0&&(g=T.x),m===void 0&&(m=T.y);var E=new h(this.scene,this,y,v,g,m);return E.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(E),E},createFromObjects:function(d,v){var g=[],m=this.getObjectLayer(d);if(!m)return console.warn("createFromObjects: Invalid objectLayerName given: "+d),g;Array.isArray(v)||(v=[v]);for(var y=m.objects,T=0;T<v.length;T++){for(var E=v[T],S=a(E,"id",null),C=a(E,"gid",null),M=a(E,"name",null),P,R=[],L=0;L<y.length;L++)P=y[L],(S===null&&C===null&&M===null||S!==null&&P.id===S||C!==null&&P.gid===C||M!==null&&P.name===M)&&R.push(P);for(var w=a(E,"classType",n),B=a(E,"scene",this.scene),G=a(E,"container",null),Y=a(E,"key",null),D=a(E,"frame",null),F=0;F<R.length;F++){P=R[F];var N=new w(B);N.setName(P.name),N.setPosition(P.x,P.y),N.setTexture(Y,D),P.width&&(N.displayWidth=P.width),P.height&&(N.displayHeight=P.height);var I={x:N.originX*P.width,y:(N.originY-1)*P.height};if(P.rotation){var b=x(P.rotation);s(I,b),N.rotation=b}if(N.x+=I.x,N.y+=I.y,(P.flippedHorizontal!==void 0||P.flippedVertical!==void 0)&&N.setFlip(P.flippedHorizontal,P.flippedVertical),P.visible||(N.visible=!1),Array.isArray(P.properties))P.properties.forEach(function(X){var z=X.name;N[z]!==void 0?N[z]=X.value:N.setData(z,X.value)});else for(var U in P.properties)N[U]!==void 0?N[U]=P.properties[U]:N.setData(U,P.properties[U]);G?G.add(N):B.add.existing(N),g.push(N)}}return g},createFromTiles:function(d,v,g,m,y,T){return T=this.getLayer(T),T===null?null:l.CreateFromTiles(d,v,g,m,y,T)},fill:function(d,v,g,m,y,T,E){return T===void 0&&(T=!0),E=this.getLayer(E),E===null?null:(l.Fill(d,v,g,m,y,T,E),this)},filterObjects:function(d,v,g){if(typeof d=="string"){var m=d;if(d=this.getObjectLayer(d),!d)return console.warn("No object layer found with the name: "+m),null}return d.objects.filter(v,g)},filterTiles:function(d,v,g,m,y,T,E,S){return S=this.getLayer(S),S===null?null:l.FilterTiles(d,v,g,m,y,T,E,S)},findByIndex:function(d,v,g,m){return m=this.getLayer(m),m===null?null:l.FindByIndex(d,v,g,m)},findObject:function(d,v,g){if(typeof d=="string"){var m=d;if(d=this.getObjectLayer(d),!d)return console.warn("No object layer found with the name: "+m),null}return d.objects.find(v,g)||null},findTile:function(d,v,g,m,y,T,E,S){return S=this.getLayer(S),S===null?null:l.FindTile(d,v,g,m,y,T,E,S)},forEachTile:function(d,v,g,m,y,T,E,S){return S=this.getLayer(S),S===null?null:(l.ForEachTile(d,v,g,m,y,T,E,S),this)},getImageIndex:function(d){return this.getIndex(this.images,d)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(d){return d.name})},getIndex:function(d,v){for(var g=0;g<d.length;g++)if(d[g].name===v)return g;return null},getLayer:function(d){var v=this.getLayerIndex(d);return v!==null?this.layers[v]:null},getObjectLayer:function(d){var v=this.getIndex(this.objects,d);return v!==null?this.objects[v]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(d){return d.name})},getLayerIndex:function(d){return d===void 0?this.currentLayerIndex:typeof d=="string"?this.getLayerIndexByName(d):typeof d=="number"&&d<this.layers.length?d:d instanceof h?d.layerIndex:null},getLayerIndexByName:function(d){return this.getIndex(this.layers,d)},getTileAt:function(d,v,g,m){return m=this.getLayer(m),m===null?null:l.GetTileAt(d,v,g,m)},getTileAtWorldXY:function(d,v,g,m,y){return y=this.getLayer(y),y===null?null:l.GetTileAtWorldXY(d,v,g,m,y)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(d){return d.name})},getTilesWithin:function(d,v,g,m,y,T){return T=this.getLayer(T),T===null?null:l.GetTilesWithin(d,v,g,m,y,T)},getTilesWithinShape:function(d,v,g,m){return m=this.getLayer(m),m===null?null:l.GetTilesWithinShape(d,v,g,m)},getTilesWithinWorldXY:function(d,v,g,m,y,T,E){return E=this.getLayer(E),E===null?null:l.GetTilesWithinWorldXY(d,v,g,m,y,T,E)},getTileset:function(d){var v=this.getIndex(this.tilesets,d);return v!==null?this.tilesets[v]:null},getTilesetIndex:function(d){return this.getIndex(this.tilesets,d)},hasTileAt:function(d,v,g){return g=this.getLayer(g),g===null?null:l.HasTileAt(d,v,g)},hasTileAtWorldXY:function(d,v,g,m){return m=this.getLayer(m),m===null?null:l.HasTileAtWorldXY(d,v,g,m)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(d){this.setLayer(d)}},putTileAt:function(d,v,g,m,y){return m===void 0&&(m=!0),y=this.getLayer(y),y===null?null:l.PutTileAt(d,v,g,m,y)},putTileAtWorldXY:function(d,v,g,m,y,T){return m===void 0&&(m=!0),T=this.getLayer(T),T===null?null:l.PutTileAtWorldXY(d,v,g,m,y,T)},putTilesAt:function(d,v,g,m,y){return m===void 0&&(m=!0),y=this.getLayer(y),y===null?null:(l.PutTilesAt(d,v,g,m,y),this)},randomize:function(d,v,g,m,y,T){return T=this.getLayer(T),T===null?null:(l.Randomize(d,v,g,m,y,T),this)},calculateFacesAt:function(d,v,g){return g=this.getLayer(g),g===null?null:(l.CalculateFacesAt(d,v,g),this)},calculateFacesWithin:function(d,v,g,m,y){return y=this.getLayer(y),y===null?null:(l.CalculateFacesWithin(d,v,g,m,y),this)},removeLayer:function(d){var v=this.getLayerIndex(d);if(v!==null){r(this.layers,v);for(var g=v;g<this.layers.length;g++)this.layers[g].tilemapLayer&&this.layers[g].tilemapLayer.layerIndex--;return this.currentLayerIndex===v&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(d){var v=this.getLayerIndex(d);return v!==null?(d=this.layers[v],d.destroy(),r(this.layers,v),this.currentLayerIndex===v&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var d=this.layers,v=0;v<d.length;v++)d[v].tilemapLayer&&d[v].tilemapLayer.destroy(!1);return d.length=0,this.currentLayerIndex=0,this},removeTile:function(d,v,g){v===void 0&&(v=-1),g===void 0&&(g=!0);var m=[];Array.isArray(d)||(d=[d]);for(var y=0;y<d.length;y++){var T=d[y];m.push(this.removeTileAt(T.x,T.y,!0,g,T.tilemapLayer)),v>-1&&this.putTileAt(v,T.x,T.y,g,T.tilemapLayer)}return m},removeTileAt:function(d,v,g,m,y){return g===void 0&&(g=!0),m===void 0&&(m=!0),y=this.getLayer(y),y===null?null:l.RemoveTileAt(d,v,g,m,y)},removeTileAtWorldXY:function(d,v,g,m,y,T){return g===void 0&&(g=!0),m===void 0&&(m=!0),T=this.getLayer(T),T===null?null:l.RemoveTileAtWorldXY(d,v,g,m,y,T)},renderDebug:function(d,v,g){return g=this.getLayer(g),g===null?null:(this.orientation===e.ORTHOGONAL&&l.RenderDebug(d,v,g),this)},renderDebugFull:function(d,v){for(var g=this.layers,m=0;m<g.length;m++)l.RenderDebug(d,v,g[m]);return this},replaceByIndex:function(d,v,g,m,y,T,E){return E=this.getLayer(E),E===null?null:(l.ReplaceByIndex(d,v,g,m,y,T,E),this)},setCollision:function(d,v,g,m,y){return v===void 0&&(v=!0),g===void 0&&(g=!0),y===void 0&&(y=!0),m=this.getLayer(m),m===null?null:(l.SetCollision(d,v,g,m,y),this)},setCollisionBetween:function(d,v,g,m,y){return g===void 0&&(g=!0),m===void 0&&(m=!0),y=this.getLayer(y),y===null?null:(l.SetCollisionBetween(d,v,g,m,y),this)},setCollisionByProperty:function(d,v,g,m){return v===void 0&&(v=!0),g===void 0&&(g=!0),m=this.getLayer(m),m===null?null:(l.SetCollisionByProperty(d,v,g,m),this)},setCollisionByExclusion:function(d,v,g,m){return v===void 0&&(v=!0),g===void 0&&(g=!0),m=this.getLayer(m),m===null?null:(l.SetCollisionByExclusion(d,v,g,m),this)},setCollisionFromCollisionGroup:function(d,v,g){return d===void 0&&(d=!0),v===void 0&&(v=!0),g=this.getLayer(g),g===null?null:(l.SetCollisionFromCollisionGroup(d,v,g),this)},setTileIndexCallback:function(d,v,g,m){return m=this.getLayer(m),m===null?null:(l.SetTileIndexCallback(d,v,g,m),this)},setTileLocationCallback:function(d,v,g,m,y,T,E){return E=this.getLayer(E),E===null?null:(l.SetTileLocationCallback(d,v,g,m,y,T,E),this)},setLayer:function(d){var v=this.getLayerIndex(d);return v!==null&&(this.currentLayerIndex=v),this},setBaseTileSize:function(d,v){this.tileWidth=d,this.tileHeight=v,this.widthInPixels=this.width*d,this.heightInPixels=this.height*v;for(var g=0;g<this.layers.length;g++){this.layers[g].baseTileWidth=d,this.layers[g].baseTileHeight=v;for(var m=this.layers[g].data,y=this.layers[g].width,T=this.layers[g].height,E=0;E<T;E++)for(var S=0;S<y;S++){var C=m[E][S];C!==null&&C.setSize(void 0,void 0,d,v)}}return this},setLayerTileSize:function(d,v,g){if(g=this.getLayer(g),g===null)return this;g.tileWidth=d,g.tileHeight=v;for(var m=g.data,y=g.width,T=g.height,E=0;E<T;E++)for(var S=0;S<y;S++){var C=m[E][S];C!==null&&C.setSize(d,v)}return this},shuffle:function(d,v,g,m,y){return y=this.getLayer(y),y===null?null:(l.Shuffle(d,v,g,m,y),this)},swapByIndex:function(d,v,g,m,y,T,E){return E=this.getLayer(E),E===null?null:(l.SwapByIndex(d,v,g,m,y,T,E),this)},tileToWorldX:function(d,v,g){return g=this.getLayer(g),g===null?null:this._convert.TileToWorldX(d,v,g)},tileToWorldY:function(d,v,g){return g=this.getLayer(g),g===null?null:this._convert.TileToWorldY(d,v,g)},tileToWorldXY:function(d,v,g,m,y){return y=this.getLayer(y),y===null?null:this._convert.TileToWorldXY(d,v,g,m,y)},weightedRandomize:function(d,v,g,m,y,T){return T=this.getLayer(T),T===null?null:(l.WeightedRandomize(v,g,m,y,d,T),this)},worldToTileX:function(d,v,g,m){return m=this.getLayer(m),m===null?null:this._convert.WorldToTileX(d,v,g,m)},worldToTileY:function(d,v,g,m){return m=this.getLayer(m),m===null?null:this._convert.WorldToTileY(d,v,g,m)},worldToTileXY:function(d,v,g,m,y,T){return T=this.getLayer(T),T===null?null:this._convert.WorldToTileXY(d,v,g,m,y,T)},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=null}});A.exports=c},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(11),t=p(15),a=p(251),i=p(1456),e=new f({Extends:t,Mixins:[x.Alpha,x.BlendMode,x.ComputedSize,x.Depth,x.Flip,x.GetBounds,x.Origin,x.Pipeline,x.Transform,x.Visible,x.ScrollFactor,i],initialize:function(r,n,o,l,h,u){t.call(this,r,"TilemapLayer"),this.isTilemap=!0,this.tilemap=n,this.layerIndex=o,this.layer=n.layers[o],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.setTilesets(l),this.setAlpha(this.layer.alpha),this.setPosition(h,u),this.setOrigin(),this.setSize(n.tileWidth*this.layer.width,n.tileHeight*this.layer.height),this.initPipeline()},setTilesets:function(s){var r=[],n=[],o=this.tilemap;Array.isArray(s)||(s=[s]);for(var l=0;l<s.length;l++){var h=s[l];if(typeof h=="string"&&(h=o.getTileset(h)),h){n.push(h);for(var u=h.firstgid,c=0;c<h.total;c++)r[u+c]=h}}this.gidMap=r,this.tileset=n},setRenderOrder:function(s){var r=["right-down","left-down","right-up","left-up"];return typeof s=="string"&&(s=r.indexOf(s)),s>=0&&s<4&&(this._renderOrder=s),this},calculateFacesAt:function(s,r){return a.CalculateFacesAt(s,r,this.layer),this},calculateFacesWithin:function(s,r,n,o){return a.CalculateFacesWithin(s,r,n,o,this.layer),this},createFromTiles:function(s,r,n,o,l){return a.CreateFromTiles(s,r,n,o,l,this.layer)},cull:function(s){return this.cullCallback(this.layer,s,this.culledTiles,this._renderOrder)},copy:function(s,r,n,o,l,h,u){return a.Copy(s,r,n,o,l,h,u,this.layer),this},fill:function(s,r,n,o,l,h){return a.Fill(s,r,n,o,l,h,this.layer),this},filterTiles:function(s,r,n,o,l,h,u){return a.FilterTiles(s,r,n,o,l,h,u,this.layer)},findByIndex:function(s,r,n){return a.FindByIndex(s,r,n,this.layer)},findTile:function(s,r,n,o,l,h,u){return a.FindTile(s,r,n,o,l,h,u,this.layer)},forEachTile:function(s,r,n,o,l,h,u){return a.ForEachTile(s,r,n,o,l,h,u,this.layer),this},getTileAt:function(s,r,n){return a.GetTileAt(s,r,n,this.layer)},getTileAtWorldXY:function(s,r,n,o){return a.GetTileAtWorldXY(s,r,n,o,this.layer)},getTilesWithin:function(s,r,n,o,l){return a.GetTilesWithin(s,r,n,o,l,this.layer)},getTilesWithinShape:function(s,r,n){return a.GetTilesWithinShape(s,r,n,this.layer)},getTilesWithinWorldXY:function(s,r,n,o,l,h){return a.GetTilesWithinWorldXY(s,r,n,o,l,h,this.layer)},hasTileAt:function(s,r){return a.HasTileAt(s,r,this.layer)},hasTileAtWorldXY:function(s,r,n){return a.HasTileAtWorldXY(s,r,n,this.layer)},putTileAt:function(s,r,n,o){return a.PutTileAt(s,r,n,o,this.layer)},putTileAtWorldXY:function(s,r,n,o,l){return a.PutTileAtWorldXY(s,r,n,o,l,this.layer)},putTilesAt:function(s,r,n,o){return a.PutTilesAt(s,r,n,o,this.layer),this},randomize:function(s,r,n,o,l){return a.Randomize(s,r,n,o,l,this.layer),this},removeTileAt:function(s,r,n,o){return a.RemoveTileAt(s,r,n,o,this.layer)},removeTileAtWorldXY:function(s,r,n,o,l){return a.RemoveTileAtWorldXY(s,r,n,o,l,this.layer)},renderDebug:function(s,r){return a.RenderDebug(s,r,this.layer),this},replaceByIndex:function(s,r,n,o,l,h){return a.ReplaceByIndex(s,r,n,o,l,h,this.layer),this},setSkipCull:function(s){return s===void 0&&(s=!0),this.skipCull=s,this},setCullPadding:function(s,r){return s===void 0&&(s=1),r===void 0&&(r=1),this.cullPaddingX=s,this.cullPaddingY=r,this},setCollision:function(s,r,n,o){return a.SetCollision(s,r,n,this.layer,o),this},setCollisionBetween:function(s,r,n,o){return a.SetCollisionBetween(s,r,n,o,this.layer),this},setCollisionByProperty:function(s,r,n){return a.SetCollisionByProperty(s,r,n,this.layer),this},setCollisionByExclusion:function(s,r,n){return a.SetCollisionByExclusion(s,r,n,this.layer),this},setCollisionFromCollisionGroup:function(s,r){return a.SetCollisionFromCollisionGroup(s,r,this.layer),this},setTileIndexCallback:function(s,r,n){return a.SetTileIndexCallback(s,r,n,this.layer),this},setTileLocationCallback:function(s,r,n,o,l,h){return a.SetTileLocationCallback(s,r,n,o,l,h,this.layer),this},shuffle:function(s,r,n,o){return a.Shuffle(s,r,n,o,this.layer),this},swapByIndex:function(s,r,n,o,l,h){return a.SwapByIndex(s,r,n,o,l,h,this.layer),this},tileToWorldX:function(s,r){return this.tilemap.tileToWorldX(s,r,this)},tileToWorldY:function(s,r){return this.tilemap.tileToWorldY(s,r,this)},tileToWorldXY:function(s,r,n,o){return this.tilemap.tileToWorldXY(s,r,n,o,this)},weightedRandomize:function(s,r,n,o,l){return a.WeightedRandomize(r,n,o,l,s,this.layer),this},worldToTileX:function(s,r,n){return this.tilemap.worldToTileX(s,r,n,this)},worldToTileY:function(s,r,n){return this.tilemap.worldToTileY(s,r,n,this)},worldToTileXY:function(s,r,n,o,l){return this.tilemap.worldToTileXY(s,r,n,o,l,this)},destroy:function(s){s===void 0&&(s=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),s&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],t.prototype.destroy.call(this))}});A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(2),t=new f({initialize:function(i){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(i)},reset:function(a){return this.delay=x(a,"delay",0),this.repeat=x(a,"repeat",0),this.loop=x(a,"loop",!1),this.callback=x(a,"callback",void 0),this.callbackScope=x(a,"callbackScope",this.callback),this.args=x(a,"args",[]),this.timeScale=x(a,"timeScale",1),this.startAt=x(a,"startAt",0),this.paused=x(a,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var a=this.delay+this.delay*this.repeat,i=this.elapsed+this.delay*(this.repeat-this.repeatCount);return i/a}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(a){a===void 0&&(a=!1),this.elapsed=this.delay,this.hasDispatched=!a,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1465),x=function(t){var a,i=[];if(t.hasOwnProperty("props"))for(a in t.props)a.substr(0,1)!=="_"&&i.push({key:a,value:t.props[a]});else for(a in t)f.indexOf(a)===-1&&a.substr(0,1)!=="_"&&i.push({key:a,value:t[a]});return i};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(6),x=function(t){var a=f(t,"tweens",null);return a===null?[]:(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a]),a)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(265),x=p(13),t=p(99),a=p(80),i=p(162),e=p(6),s=p(264),r=p(266),n=p(268),o=function(l,h,u){u===void 0&&(u=f);var c=e(h,"from",0),d=e(h,"to",1),v=[{value:c}],g=i(h,"delay",u.delay),m=i(h,"duration",u.duration),y=e(h,"easeParams",u.easeParams),T=a(e(h,"ease",u.ease),y),E=i(h,"hold",u.hold),S=i(h,"repeat",u.repeat),C=i(h,"repeatDelay",u.repeatDelay),M=t(h,"yoyo",u.yoyo),P=[],R=s("value",d),L=n(v[0],0,"value",R.getEnd,R.getStart,R.getActive,T,g,m,M,E,S,C,!1,!1);L.start=c,L.current=c,L.to=d,P.push(L);var w=new r(l,P,v);w.offset=x(h,"offset",null),w.completeDelay=x(h,"completeDelay",0),w.loop=Math.round(x(h,"loop",0)),w.loopDelay=Math.round(x(h,"loopDelay",0)),w.paused=t(h,"paused",!1),w.useFrames=t(h,"useFrames",!1);for(var B=e(h,"callbackScope",w),G=[w,null],Y=r.TYPES,D=0;D<Y.length;D++){var F=Y[D],N=e(h,F,!1);if(N){var I=e(h,F+"Scope",B),b=e(h,F+"Params",[]);w.setCallback(F,N,G.concat(b),I)}}return w};A.exports=o},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(80),x=p(6),t=p(14),a=function(i,e){e===void 0&&(e={});var s,r=x(e,"start",0),n=x(e,"ease",null),o=x(e,"grid",null),l=x(e,"from",0),h=l==="first",u=l==="center",c=l==="last",d=typeof l=="number",v=Array.isArray(i),g=parseFloat(v?i[0]:i),m=v?parseFloat(i[1]):0,y=Math.max(g,m);if(v&&(r+=g),o){var T=o[0],E=o[1],S=0,C=0,M=0,P=0,R=[];c?(S=T-1,C=E-1):d?(S=l%T,C=Math.floor(l/T)):u&&(S=(T-1)/2,C=(E-1)/2);for(var L=t.MIN_SAFE_INTEGER,w=0;w<E;w++){R[w]=[];for(var B=0;B<T;B++){M=S-B,P=C-w;var G=Math.sqrt(M*M+P*P);G>L&&(L=G),R[w][B]=G}}}var Y=n?f(n):null;return o?s=function(D,F,N,I){var b=0,U=I%T,X=Math.floor(I/T);U>=0&&U<T&&X>=0&&X<E&&(b=R[X][U]);var z;if(v){var V=m-g;Y?z=b/L*V*Y(b/L):z=b/L*V}else Y?z=b*g*Y(b/L):z=b*g;return z+r}:s=function(D,F,N,I,b){b--;var U;h?U=I:u?U=Math.abs(b/2-I):c?U=b-I:d&&(U=Math.abs(l-I));var X;if(v){var z;u?z=(m-g)/b*(U*2):z=(m-g)/b*U,Y?X=z*Y(U/b):X=z}else Y?X=b*y*Y(U/b):X=U*g;return X+r},s};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(77),x=p(265),t=p(13),a=p(99),i=p(80),e=p(162),s=p(263),r=p(584),n=p(6),o=p(588),l=p(163),h=function(u,c){var d=new o(u);d.completeDelay=t(c,"completeDelay",0),d.loop=Math.round(t(c,"loop",0)),d.loopDelay=Math.round(t(c,"loopDelay",0)),d.paused=a(c,"paused",!1),d.useFrames=a(c,"useFrames",!1);var v=n(c,"callbackScope",d),g=[d],m=n(c,"onStart",!1);if(m){var y=n(c,"onStartScope",v),T=n(c,"onStartParams",[]);d.setCallback("onStart",m,g.concat(T),y)}var E=n(c,"onUpdate",!1);if(E){var S=n(c,"onUpdateScope",v),C=n(c,"onUpdateParams",[]);d.setCallback("onUpdate",E,g.concat(C),S)}var M=n(c,"onLoop",!1);if(M){var P=n(c,"onLoopScope",v),R=n(c,"onLoopParams",[]);d.setCallback("onLoop",M,g.concat(R),P)}var L=n(c,"onYoyo",!1);if(L){var w=n(c,"onYoyoScope",v),B=n(c,"onYoyoParams",[]);d.setCallback("onYoyo",L,g.concat(null,B),w)}var G=n(c,"onComplete",!1);if(G){var Y=n(c,"onCompleteScope",v),D=n(c,"onCompleteParams",[]);d.setCallback("onComplete",G,g.concat(D),Y)}var F=r(c);if(F.length===0)return d.paused=!0,d;var N=f(x);N.targets=s(c);var I=t(c,"totalDuration",0);I>0?N.duration=Math.floor(I/F.length):N.duration=e(c,"duration",N.duration),N.delay=e(c,"delay",N.delay),N.easeParams=n(c,"easeParams",N.easeParams),N.ease=i(n(c,"ease",N.ease),N.easeParams),N.hold=e(c,"hold",N.hold),N.repeat=e(c,"repeat",N.repeat),N.repeatDelay=e(c,"repeatDelay",N.repeatDelay),N.yoyo=a(c,"yoyo",N.yoyo),N.flipX=a(c,"flipX",N.flipX),N.flipY=a(c,"flipY",N.flipY);for(var b=0;b<F.length;b++)d.queue(l(d,F[b],N));return d};A.exports=h},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(9),t=p(267),a=p(163),i=p(100),e=new f({Extends:x,initialize:function(r){x.call(this),this.manager=r,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=i.PENDING_ADD,this._pausedState=i.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(s,r){this.emit(s,this),r&&r.func.apply(r.scope,r.params)},setTimeScale:function(s){return this.timeScale=s,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===i.ACTIVE},add:function(s){return this.queue(a(this,s))},queue:function(s){return this.isPlaying()||(s.parent=this,s.parentIsTimeline=!0,this.data.push(s),this.totalData=this.data.length),this},hasOffset:function(s){return s.offset!==null},isOffsetAbsolute:function(s){return typeof s=="number"},isOffsetRelative:function(s){var r=typeof s;if(r==="string"){var n=s[0];if(n==="-"||n==="+")return!0}return!1},getRelativeOffset:function(s,r){var n=s[0],o=parseFloat(s.substr(2)),l=r;switch(n){case"+":l+=o;break;case"-":l-=o;break}return Math.max(0,l)},calcDuration:function(){for(var s=0,r=0,n=0,o=0;o<this.totalData;o++){var l=this.data[o];l.init(),this.hasOffset(l)?this.isOffsetAbsolute(l.offset)?(l.calculatedOffset=l.offset,l.offset===0&&(n=0)):this.isOffsetRelative(l.offset)&&(l.calculatedOffset=this.getRelativeOffset(l.offset,s)):l.calculatedOffset=n,s=l.totalDuration+l.calculatedOffset,r+=l.totalDuration,n+=l.totalDuration}this.duration=r,this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,this.paused?(this.state=i.PAUSED,!1):!0},resetTweens:function(s){for(var r=0;r<this.totalData;r++){var n=this.data[r];n.play(s)}},setCallback:function(s,r,n,o){return e.TYPES.indexOf(s)!==-1&&(this.callbacks[s]={func:r,scope:o,params:n}),this},makeActive:function(s){return this.manager.makeActive(s)},play:function(){if(this.state!==i.ACTIVE){if(this.paused){this.paused=!1,this.manager.makeActive(this);return}else this.resetTweens(!1),this.state=i.ACTIVE;this.dispatchTimelineEvent(t.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=i.LOOP_DELAY):(this.state=i.ACTIVE,this.dispatchTimelineEvent(t.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=i.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=i.PENDING_REMOVE,this.dispatchTimelineEvent(t.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(s,r){if(this.state!==i.PAUSED){switch(this.useFrames&&(r=1*this.manager.timeScale),r*=this.timeScale,this.elapsed+=r,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=r,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case i.ACTIVE:for(var n=this.totalData,o=0;o<this.totalData;o++){var l=this.data[o];l.update(s,r)&&n--}this.dispatchTimelineEvent(t.TIMELINE_UPDATE,this.callbacks.onUpdate),n===0&&this.nextState();break;case i.LOOP_DELAY:this.countdown-=r,this.countdown<=0&&(this.state=i.ACTIVE,this.dispatchTimelineEvent(t.TIMELINE_LOOP,this.callbacks.onLoop));break;case i.COMPLETE_DELAY:this.countdown-=r,this.countdown<=0&&(this.state=i.PENDING_REMOVE,this.dispatchTimelineEvent(t.TIMELINE_COMPLETE,this.callbacks.onComplete));break}return this.state===i.PENDING_REMOVE}},stop:function(){this.state=i.PENDING_REMOVE},pause:function(){if(this.state!==i.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=i.PAUSED,this.emit(t.TIMELINE_PAUSE,this),this},resume:function(){return this.state===i.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(t.TIMELINE_RESUME,this)),this},hasTarget:function(s){for(var r=0;r<this.data.length;r++)if(this.data[r].hasTarget(s))return!0;return!1},destroy:function(){for(var s=0;s<this.data.length;s++)this.data[s].stop()}});e.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],A.exports=e},function(A,O,p){/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(86),x=p(41),t=p(32),a=p(2),i=p(64),e={parseBody:function(s,r,n,o){o===void 0&&(o={});for(var l=a(n,"fixtures",[]),h=[],u=0;u<l.length;u++)for(var c=this.parseFixture(l[u]),d=0;d<c.length;d++)h.push(c[d]);var v=t.clone(n,!0);t.extend(v,o,!0),delete v.fixtures,delete v.type;var g=x.create(v);return x.setParts(g,h),x.setPosition(g,{x:s,y:r}),g},parseFixture:function(s){var r=t.extend({},!1,s);delete r.circle,delete r.vertices;var n;if(s.circle){var o=a(s.circle,"x"),l=a(s.circle,"y"),h=a(s.circle,"radius");n=[f.circle(o,l,h,r)]}else s.vertices&&(n=this.parseVertices(s.vertices,r));return n},parseVertices:function(s,r){r===void 0&&(r={});for(var n=[],o=0;o<s.length;o++)i.clockwiseSort(s[o]),n.push(x.create(t.extend({position:i.centre(s[o]),vertices:s[o]},r)));return f.flagCoincidentParts(n)}};A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(86),x=p(41),t={parseBody:function(a,i,e,s){s===void 0&&(s={});var r,n=e.vertices;if(n.length===1)s.vertices=n[0],r=x.create(s),f.flagCoincidentParts(r.parts);else{for(var o=[],l=0;l<n.length;l++){var h=x.create({vertices:n[l]});o.push(h)}f.flagCoincidentParts(o),s.parts=o,r=x.create(s)}return r.label=e.label,x.setPosition(r,{x:a,y:i}),r}};A.exports=t},function(A,O,p){var f={};A.exports=f;var x=p(118),t=p(128),a=p(32),i=p(41),e=p(86);(function(){f.stack=function(s,r,n,o,l,h,u){for(var c=x.create({label:"Stack"}),d=s,v=r,g,m=0,y=0;y<o;y++){for(var T=0,E=0;E<n;E++){var S=u(d,v,E,y,g,m);if(S){var C=S.bounds.max.y-S.bounds.min.y,M=S.bounds.max.x-S.bounds.min.x;C>T&&(T=C),i.translate(S,{x:M*.5,y:C*.5}),d=S.bounds.max.x+l,x.addBody(c,S),g=S,m+=1}else d+=l}v+=T+h,d=s}return c},f.chain=function(s,r,n,o,l,h){for(var u=s.bodies,c=1;c<u.length;c++){var d=u[c-1],v=u[c],g=d.bounds.max.y-d.bounds.min.y,m=d.bounds.max.x-d.bounds.min.x,y=v.bounds.max.y-v.bounds.min.y,T=v.bounds.max.x-v.bounds.min.x,E={bodyA:d,pointA:{x:m*r,y:g*n},bodyB:v,pointB:{x:T*o,y:y*l}},S=a.extend(E,h);x.addConstraint(s,t.create(S))}return s.label+=" Chain",s},f.mesh=function(s,r,n,o,l){var h=s.bodies,u,c,d,v,g;for(u=0;u<n;u++){for(c=1;c<r;c++)d=h[c-1+u*r],v=h[c+u*r],x.addConstraint(s,t.create(a.extend({bodyA:d,bodyB:v},l)));if(u>0)for(c=0;c<r;c++)d=h[c+(u-1)*r],v=h[c+u*r],x.addConstraint(s,t.create(a.extend({bodyA:d,bodyB:v},l))),o&&c>0&&(g=h[c-1+(u-1)*r],x.addConstraint(s,t.create(a.extend({bodyA:g,bodyB:v},l)))),o&&c<r-1&&(g=h[c+1+(u-1)*r],x.addConstraint(s,t.create(a.extend({bodyA:g,bodyB:v},l))))}return s.label+=" Mesh",s},f.pyramid=function(s,r,n,o,l,h,u){return f.stack(s,r,n,o,l,h,function(c,d,v,g,m,y){var T=Math.min(o,Math.ceil(n/2)),E=m?m.bounds.max.x-m.bounds.min.x:0;if(!(g>T)){g=T-g;var S=g,C=n-1-g;if(!(v<S||v>C)){y===1&&i.translate(m,{x:(v+(n%2===1?1:-1))*E,y:0});var M=m?v*E:0;return u(s+M+v*l,d,v,g,m,y)}}})},f.newtonsCradle=function(s,r,n,o,l){for(var h=x.create({label:"Newtons Cradle"}),u=0;u<n;u++){var c=1.9,d=e.circle(s+u*(o*c),r+l,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),v=t.create({pointA:{x:s+u*(o*c),y:r},bodyB:d});x.addBody(h,d),x.addConstraint(h,v)}return h},f.car=function(s,r,n,o,l){var h=i.nextGroup(!0),u=20,c=-n*.5+u,d=n*.5-u,v=0,g=x.create({label:"Car"}),m=e.rectangle(s,r,n,o,{collisionFilter:{group:h},chamfer:{radius:o*.5},density:2e-4}),y=e.circle(s+c,r+v,l,{collisionFilter:{group:h},friction:.8}),T=e.circle(s+d,r+v,l,{collisionFilter:{group:h},friction:.8}),E=t.create({bodyB:m,pointB:{x:c,y:v},bodyA:y,stiffness:1,length:0}),S=t.create({bodyB:m,pointB:{x:d,y:v},bodyA:T,stiffness:1,length:0});return x.addBody(g,m),x.addBody(g,y),x.addBody(g,T),x.addConstraint(g,E),x.addConstraint(g,S),g},f.softBody=function(s,r,n,o,l,h,u,c,d,v){d=a.extend({inertia:1/0},d),v=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},v);var g=f.stack(s,r,n,o,l,h,function(m,y){return e.circle(m,y,c,d)});return f.mesh(g,n,o,u,v),g.label="Soft Body",g}})()},function(A,O,p){var f={};A.exports=f,p(84);var x=p(32);(function(){f.pathToVertices=function(t,a){typeof window<"u"&&!("SVGPathSeg"in window)&&x.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,e,s,r,n,o,l,h,u,c,d=[],v,g,m=0,y=0,T=0;a=a||15;var E=function(C,M,P){var R=P%2===1&&P>1;if(!u||C!=u.x||M!=u.y){u&&R?(v=u.x,g=u.y):(v=0,g=0);var L={x:v+C,y:g+M};(R||!u)&&(u=L),d.push(L),y=v+C,T=g+M}},S=function(C){var M=C.pathSegTypeAsLetter.toUpperCase();if(M!=="Z"){switch(M){case"M":case"L":case"T":case"C":case"S":case"Q":y=C.x,T=C.y;break;case"H":y=C.x;break;case"V":T=C.y;break}E(y,T,C.pathSegType)}};for(f._svgPathToAbsolute(t),s=t.getTotalLength(),o=[],i=0;i<t.pathSegList.numberOfItems;i+=1)o.push(t.pathSegList.getItem(i));for(l=o.concat();m<s;){if(c=t.getPathSegAtLength(m),n=o[c],n!=h){for(;l.length&&l[0]!=n;)S(l.shift());h=n}switch(n.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":r=t.getPointAtLength(m),E(r.x,r.y,0);break}m+=a}for(i=0,e=l.length;i<e;++i)S(l[i]);return d},f._svgPathToAbsolute=function(t){for(var a,i,e,s,r,n,o=t.pathSegList,l=0,h=0,u=o.numberOfItems,c=0;c<u;++c){var d=o.getItem(c),v=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(v))"x"in d&&(l=d.x),"y"in d&&(h=d.y);else switch("x1"in d&&(e=l+d.x1),"x2"in d&&(r=l+d.x2),"y1"in d&&(s=h+d.y1),"y2"in d&&(n=h+d.y2),"x"in d&&(l+=d.x),"y"in d&&(h+=d.y),v){case"m":o.replaceItem(t.createSVGPathSegMovetoAbs(l,h),c);break;case"l":o.replaceItem(t.createSVGPathSegLinetoAbs(l,h),c);break;case"h":o.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(l),c);break;case"v":o.replaceItem(t.createSVGPathSegLinetoVerticalAbs(h),c);break;case"c":o.replaceItem(t.createSVGPathSegCurvetoCubicAbs(l,h,e,s,r,n),c);break;case"s":o.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(l,h,r,n),c);break;case"q":o.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(l,h,e,s),c);break;case"t":o.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(l,h),c);break;case"a":o.replaceItem(t.createSVGPathSegArcAbs(l,h,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),c);break;case"z":case"Z":l=a,h=i;break}(v=="M"||v=="m")&&(a=l,i=h)}}})()},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(86),x=p(41),t=p(0),a=p(249),i=p(9),e=p(2),s=p(126),r=p(64),n=new t({Extends:i,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(l,h,u){i.call(this),this.tile=h,this.world=l,h.physics.matterBody&&h.physics.matterBody.destroy(),h.physics.matterBody=this;var c=e(u,"body",null),d=e(u,"addToWorld",!0);if(c)this.setBody(c,d);else{var v=h.getCollisionGroup(),g=e(v,"objects",[]);g.length>0?this.setFromTileCollision(u):this.setFromTileRectangle(u)}},setFromTileRectangle:function(o){o===void 0&&(o={}),s(o,"isStatic")||(o.isStatic=!0),s(o,"addToWorld")||(o.addToWorld=!0);var l=this.tile.getBounds(),h=l.x+l.width/2,u=l.y+l.height/2,c=f.rectangle(h,u,l.width,l.height,o);return this.setBody(c,o.addToWorld),this},setFromTileCollision:function(o){o===void 0&&(o={}),s(o,"isStatic")||(o.isStatic=!0),s(o,"addToWorld")||(o.addToWorld=!0);for(var l=this.tile.tilemapLayer.scaleX,h=this.tile.tilemapLayer.scaleY,u=this.tile.getLeft(),c=this.tile.getTop(),d=this.tile.getCollisionGroup(),v=e(d,"objects",[]),g=[],m=0;m<v.length;m++){var y=v[m],T=u+y.x*l,E=c+y.y*h,S=y.width*l,C=y.height*h,M=null;if(y.rectangle)M=f.rectangle(T+S/2,E+C/2,S,C,o);else if(y.ellipse)M=f.circle(T+S/2,E+C/2,S/2,o);else if(y.polygon||y.polyline){var P=y.polygon?y.polygon:y.polyline,R=P.map(function(B){return{x:B.x*l,y:B.y*h}}),L=r.create(R),w=r.centre(L);T+=w.x,E+=w.y,M=f.fromVertices(T,E,L,o)}M&&g.push(M)}return g.length===1?this.setBody(g[0],o.addToWorld):g.length>1&&(o.parts=g,this.setBody(x.create(o),o.addToWorld)),this},setBody:function(o,l){return l===void 0&&(l=!0),this.body&&this.removeBody(),this.body=o,this.body.gameObject=this,l&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});A.exports=n},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1399);f.Body=p(41),f.Composite=p(118),f.World=p(596),f.Detector=p(273),f.Grid=p(597),f.Pairs=p(598),f.Pair=p(250),f.Query=p(1400),f.Resolver=p(599),f.SAT=p(274),f.Constraint=p(128),f.Common=p(32),f.Engine=p(1401),f.Events=p(166),f.Sleeping=p(165),f.Plugin=p(595),f.Bodies=p(86),f.Composites=p(591),f.Axes=p(271),f.Bounds=p(84),f.Svg=p(592),f.Vector=p(83),f.Vertices=p(64),f.World.add=f.Composite.add,f.World.remove=f.Composite.remove,f.World.addComposite=f.Composite.addComposite,f.World.addBody=f.Composite.addBody,f.World.addConstraint=f.Composite.addConstraint,f.World.clear=f.Composite.clear,A.exports=f},function(A,O,p){var f={};A.exports=f;var x=p(32);(function(){f._registry={},f.register=function(t){if(f.isPlugin(t)||x.warn("Plugin.register:",f.toString(t),"does not implement all required fields."),t.name in f._registry){var a=f._registry[t.name],i=f.versionParse(t.version).number,e=f.versionParse(a.version).number;i>e?(x.warn("Plugin.register:",f.toString(a),"was upgraded to",f.toString(t)),f._registry[t.name]=t):i<e?x.warn("Plugin.register:",f.toString(a),"can not be downgraded to",f.toString(t)):t!==a&&x.warn("Plugin.register:",f.toString(t),"is already registered to different plugin object")}else f._registry[t.name]=t;return t},f.resolve=function(t){return f._registry[f.dependencyParse(t).name]},f.toString=function(t){return typeof t=="string"?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},f.isPlugin=function(t){return t&&t.name&&t.version&&t.install},f.isUsed=function(t,a){return t.used.indexOf(a)>-1},f.isFor=function(t,a){var i=t.for&&f.dependencyParse(t.for);return!t.for||a.name===i.name&&f.versionSatisfies(a.version,i.range)},f.use=function(t,a){if(t.uses=(t.uses||[]).concat(a||[]),t.uses.length===0){x.warn("Plugin.use:",f.toString(t),"does not specify any dependencies to install.");return}for(var i=f.dependencies(t),e=x.topologicalSort(i),s=[],r=0;r<e.length;r+=1)if(e[r]!==t.name){var n=f.resolve(e[r]);if(!n){s.push("\u274C "+e[r]);continue}f.isUsed(t,n.name)||(f.isFor(n,t)||(x.warn("Plugin.use:",f.toString(n),"is for",n.for,"but installed on",f.toString(t)+"."),n._warned=!0),n.install?n.install(t):(x.warn("Plugin.use:",f.toString(n),"does not specify an install function."),n._warned=!0),n._warned?(s.push("\u{1F536} "+f.toString(n)),delete n._warned):s.push("\u2705 "+f.toString(n)),t.used.push(n.name))}s.length>0&&!n.silent&&x.info(s.join("  "))},f.dependencies=function(t,a){var i=f.dependencyParse(t),e=i.name;if(a=a||{},!(e in a)){t=f.resolve(t)||t,a[e]=x.map(t.uses||[],function(r){f.isPlugin(r)&&f.register(r);var n=f.dependencyParse(r),o=f.resolve(r);return o&&!f.versionSatisfies(o.version,n.range)?(x.warn("Plugin.dependencies:",f.toString(o),"does not satisfy",f.toString(n),"used by",f.toString(i)+"."),o._warned=!0,t._warned=!0):o||(x.warn("Plugin.dependencies:",f.toString(r),"used by",f.toString(i),"could not be resolved."),t._warned=!0),n.name});for(var s=0;s<a[e].length;s+=1)f.dependencies(a[e][s],a);return a}},f.dependencyParse=function(t){if(x.isString(t)){var a=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return a.test(t)||x.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}}return{name:t.name,range:t.range||t.version}},f.versionParse=function(t){var a=/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;a.test(t)||x.warn("Plugin.versionParse:",t,"is not a valid version or range.");var i=t.split("-");t=i[0];var e=isNaN(Number(t[0])),s=e?t.substr(1):t,r=x.map(s.split("."),function(n){return Number(n)});return{isRange:e,version:s,range:t,operator:e?t[0]:"",parts:r,prerelease:i[1],number:r[0]*1e8+r[1]*1e4+r[2]}},f.versionSatisfies=function(t,a){a=a||"*";var i=f.versionParse(a),e=i.parts,s=f.versionParse(t),r=s.parts;if(i.isRange){if(i.operator==="*"||t==="*")return!0;if(i.operator==="~")return r[0]===e[0]&&r[1]===e[1]&&r[2]>=e[2];if(i.operator==="^")return e[0]>0?r[0]===e[0]&&s.number>=i.number:e[1]>0?r[1]===e[1]&&r[2]>=e[2]:r[2]===e[2]}return t===a||t==="*"}})()},function(A,O,p){var f={};A.exports=f;var x=p(118);p(128);var t=p(32);(function(){f.create=function(a){var i=x.create(),e={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return t.extend(i,e,a)}})()},function(A,O,p){var f={};A.exports=f;var x=p(250),t=p(273),a=p(32);(function(){f.create=function(i){var e={controller:f,detector:t.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(e,i)},f.update=function(i,e,s,r){var n,o,l,h=s.world,u=i.buckets,c,d,v=!1,g=s.metrics;for(g.broadphaseTests=0,n=0;n<e.length;n++){var m=e[n];if(!(m.isSleeping&&!r)&&!(m.bounds.max.x<h.bounds.min.x||m.bounds.min.x>h.bounds.max.x||m.bounds.max.y<h.bounds.min.y||m.bounds.min.y>h.bounds.max.y)){var y=f._getRegion(i,m);if(!m.region||y.id!==m.region.id||r){g.broadphaseTests+=1,(!m.region||r)&&(m.region=y);var T=f._regionUnion(y,m.region);for(o=T.startCol;o<=T.endCol;o++)for(l=T.startRow;l<=T.endRow;l++){d=f._getBucketId(o,l),c=u[d];var E=o>=y.startCol&&o<=y.endCol&&l>=y.startRow&&l<=y.endRow,S=o>=m.region.startCol&&o<=m.region.endCol&&l>=m.region.startRow&&l<=m.region.endRow;!E&&S&&S&&c&&f._bucketRemoveBody(i,c,m),(m.region===y||E&&!S||r)&&(c||(c=f._createBucket(u,d)),f._bucketAddBody(i,c,m))}m.region=y,v=!0}}}v&&(i.pairsList=f._createActivePairsList(i))},f.clear=function(i){i.buckets={},i.pairs={},i.pairsList=[]},f._regionUnion=function(i,e){var s=Math.min(i.startCol,e.startCol),r=Math.max(i.endCol,e.endCol),n=Math.min(i.startRow,e.startRow),o=Math.max(i.endRow,e.endRow);return f._createRegion(s,r,n,o)},f._getRegion=function(i,e){var s=e.bounds,r=Math.floor(s.min.x/i.bucketWidth),n=Math.floor(s.max.x/i.bucketWidth),o=Math.floor(s.min.y/i.bucketHeight),l=Math.floor(s.max.y/i.bucketHeight);return f._createRegion(r,n,o,l)},f._createRegion=function(i,e,s,r){return{id:i+","+e+","+s+","+r,startCol:i,endCol:e,startRow:s,endRow:r}},f._getBucketId=function(i,e){return"C"+i+"R"+e},f._createBucket=function(i,e){var s=i[e]=[];return s},f._bucketAddBody=function(i,e,s){for(var r=0;r<e.length;r++){var n=e[r];if(!(s.id===n.id||s.isStatic&&n.isStatic)){var o=x.id(s,n),l=i.pairs[o];l?l[2]+=1:i.pairs[o]=[s,n,1]}}e.push(s)},f._bucketRemoveBody=function(i,e,s){e.splice(e.indexOf(s),1);for(var r=0;r<e.length;r++){var n=e[r],o=x.id(s,n),l=i.pairs[o];l&&(l[2]-=1)}},f._createActivePairsList=function(i){var e,s,r=[];e=a.keys(i.pairs);for(var n=0;n<e.length;n++)s=i.pairs[e[n]],s[2]>0?r.push(s):delete i.pairs[e[n]];return r}})()},function(A,O,p){var f={};A.exports=f;var x=p(250),t=p(32);(function(){f._pairMaxIdleLife=1e3,f.create=function(a){return t.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},f.update=function(a,i,e){var s=a.list,r=a.table,n=a.collisionStart,o=a.collisionEnd,l=a.collisionActive,h,u,c,d;for(n.length=0,o.length=0,l.length=0,d=0;d<s.length;d++)s[d].confirmedActive=!1;for(d=0;d<i.length;d++)h=i[d],h.collided&&(u=x.id(h.bodyA,h.bodyB),c=r[u],c?(c.isActive?l.push(c):n.push(c),x.update(c,h,e),c.confirmedActive=!0):(c=x.create(h,e),r[u]=c,n.push(c),s.push(c)));for(d=0;d<s.length;d++)c=s[d],c.isActive&&!c.confirmedActive&&(x.setActive(c,!1,e),o.push(c))},f.removeOld=function(a,i){var e=a.list,s=a.table,r=[],n,o,l,h;for(h=0;h<e.length;h++){if(n=e[h],o=n.collision,o.bodyA.isSleeping||o.bodyB.isSleeping){n.timeUpdated=i;continue}i-n.timeUpdated>f._pairMaxIdleLife&&r.push(h)}for(h=0;h<r.length;h++)l=r[h]-h,n=e[l],delete s[n.id],e.splice(l,1)},f.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}})()},function(A,O,p){var f={};A.exports=f;var x=p(64),t=p(83),a=p(32),i=p(84);(function(){f._restingThresh=4,f._restingThreshTangent=6,f._positionDampen=.9,f._positionWarming=.8,f._frictionNormalMultiplier=5,f.preSolvePosition=function(e){var s,r,n;for(s=0;s<e.length;s++)r=e[s],r.isActive&&(n=r.activeContacts.length,r.collision.parentA.totalContacts+=n,r.collision.parentB.totalContacts+=n)},f.solvePosition=function(e,s,r){var n,o,l,h,u,c,d,v,g,m,y,T,E,S,C,M,P=r*f._positionDampen;for(n=0;n<s.length;n++){var R=s[n];R.previousPositionImpulse.x=R.positionImpulse.x,R.previousPositionImpulse.y=R.positionImpulse.y}for(n=0;n<e.length;n++)h=e[n],!(!h.isActive||h.isSensor)&&(u=h.collision,c=u.parentA,d=u.parentB,v=u.normal,y=c.previousPositionImpulse,T=d.previousPositionImpulse,m=u.penetration,S=T.x-y.x+m.x,C=T.y-y.y+m.y,o=v.x,l=v.y,g=o*S+l*C,h.separation=g,M=(g-h.slop)*P,(c.isStatic||d.isStatic)&&(M*=2),c.isStatic||c.isSleeping||(E=M/c.totalContacts,c.positionImpulse.x+=o*E,c.positionImpulse.y+=l*E),d.isStatic||d.isSleeping||(E=M/d.totalContacts,d.positionImpulse.x-=o*E,d.positionImpulse.y-=l*E))},f.postSolvePosition=function(e){for(var s=0;s<e.length;s++){var r=e[s];if(r.totalContacts=0,r.positionImpulse.x!==0||r.positionImpulse.y!==0){for(var n=0;n<r.parts.length;n++){var o=r.parts[n];x.translate(o.vertices,r.positionImpulse),i.update(o.bounds,o.vertices,r.velocity),o.position.x+=r.positionImpulse.x,o.position.y+=r.positionImpulse.y}r.positionPrev.x+=r.positionImpulse.x,r.positionPrev.y+=r.positionImpulse.y,t.dot(r.positionImpulse,r.velocity)<0?(r.positionImpulse.x=0,r.positionImpulse.y=0):(r.positionImpulse.x*=f._positionWarming,r.positionImpulse.y*=f._positionWarming)}}},f.preSolveVelocity=function(e){var s,r,n,o,l,h,u,c,d,v,g,m,y,T,E=t._temp[0],S=t._temp[1];for(s=0;s<e.length;s++)if(n=e[s],!(!n.isActive||n.isSensor))for(o=n.activeContacts,l=n.collision,h=l.parentA,u=l.parentB,c=l.normal,d=l.tangent,r=0;r<o.length;r++)v=o[r],g=v.vertex,m=v.normalImpulse,y=v.tangentImpulse,(m!==0||y!==0)&&(E.x=c.x*m+d.x*y,E.y=c.y*m+d.y*y,h.isStatic||h.isSleeping||(T=t.sub(g,h.position,S),h.positionPrev.x+=E.x*h.inverseMass,h.positionPrev.y+=E.y*h.inverseMass,h.anglePrev+=t.cross(T,E)*h.inverseInertia),u.isStatic||u.isSleeping||(T=t.sub(g,u.position,S),u.positionPrev.x-=E.x*u.inverseMass,u.positionPrev.y-=E.y*u.inverseMass,u.anglePrev-=t.cross(T,E)*u.inverseInertia))},f.solveVelocity=function(e,s){for(var r=s*s,n=t._temp[0],o=t._temp[1],l=t._temp[2],h=t._temp[3],u=t._temp[4],c=t._temp[5],d=0;d<e.length;d++){var v=e[d];if(!(!v.isActive||v.isSensor)){var g=v.collision,m=g.parentA,y=g.parentB,T=g.normal,E=g.tangent,S=v.activeContacts,C=1/S.length;m.velocity.x=m.position.x-m.positionPrev.x,m.velocity.y=m.position.y-m.positionPrev.y,y.velocity.x=y.position.x-y.positionPrev.x,y.velocity.y=y.position.y-y.positionPrev.y,m.angularVelocity=m.angle-m.anglePrev,y.angularVelocity=y.angle-y.anglePrev;for(var M=0;M<S.length;M++){var P=S[M],R=P.vertex,L=t.sub(R,m.position,o),w=t.sub(R,y.position,l),B=t.add(m.velocity,t.mult(t.perp(L),m.angularVelocity),h),G=t.add(y.velocity,t.mult(t.perp(w),y.angularVelocity),u),Y=t.sub(B,G,c),D=t.dot(T,Y),F=t.dot(E,Y),N=Math.abs(F),I=a.sign(F),b=(1+v.restitution)*D,U=a.clamp(v.separation+D,0,1)*f._frictionNormalMultiplier,X=F,z=1/0;N>v.friction*v.frictionStatic*U*r&&(z=N,X=a.clamp(v.friction*I*r,-z,z));var V=t.cross(L,T),W=t.cross(w,T),H=C/(m.inverseMass+y.inverseMass+m.inverseInertia*V*V+y.inverseInertia*W*W);if(b*=H,X*=H,D<0&&D*D>f._restingThresh*r)P.normalImpulse=0;else{var K=P.normalImpulse;P.normalImpulse=Math.min(P.normalImpulse+b,0),b=P.normalImpulse-K}if(F*F>f._restingThreshTangent*r)P.tangentImpulse=0;else{var Z=P.tangentImpulse;P.tangentImpulse=a.clamp(P.tangentImpulse+X,-z,z),X=P.tangentImpulse-Z}n.x=T.x*b+E.x*X,n.y=T.y*b+E.y*X,m.isStatic||m.isSleeping||(m.positionPrev.x+=n.x*m.inverseMass,m.positionPrev.y+=n.y*m.inverseMass,m.anglePrev+=t.cross(L,n)*m.inverseInertia),y.isStatic||y.isSleeping||(y.positionPrev.x-=n.x*y.inverseMass,y.positionPrev.y-=n.y*y.inverseMass,y.anglePrev-=t.cross(w,n)*y.inverseInertia)}}}}})()},function(A,O){var p;p=function(){return this}();try{p=p||new Function("return this")()}catch{typeof window=="object"&&(p=window)}A.exports=p},function(A,O,p){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(276),x=function(t,a,i,e){for(var s=t[0],r=1;r<t.length;r++){var n=t[r];f(n,s,a,i,e),s=n}return t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(46),x=function(t,a,i,e,s){return f(t,"angle",a,i,e,s)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){for(var a=0;a<f.length;a++){var i=f[a];x.call(t,i)}return f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){t===void 0&&(t=0);for(var a=t;a<f.length;a++){var i=f[a],e=!0;for(var s in x)i[s]!==x[s]&&(e=!1);if(e)return i}return null};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){t===void 0&&(t=0);for(var a=t;a<f.length;a++){var i=f[a],e=!0;for(var s in x)i[s]!==x[s]&&(e=!1);if(e)return i}return null};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(289),x=p(123),t=p(2),a=p(1),i=p(129),e=new i({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1),s=function(r,n){n===void 0&&(n={});var o=n.hasOwnProperty("width"),l=n.hasOwnProperty("height"),h=t(n,"width",-1),u=t(n,"height",-1),c=t(n,"cellWidth",1),d=t(n,"cellHeight",c),v=t(n,"position",x.TOP_LEFT),g=t(n,"x",0),m=t(n,"y",0),y=0,T=0,E=h*c,S=u*d;e.setPosition(g,m),e.setSize(c,d);for(var C=0;C<r.length;C++)if(f(r[C],e,v),o&&h===-1)e.x+=c;else if(l&&u===-1)e.y+=d;else if(l&&!o){if(T+=d,e.y+=d,T===S&&(T=0,y+=c,e.y=m,e.x+=c,y===E))break}else if(y+=c,e.x+=c,y===E&&(y=0,T+=d,e.x=g,e.y+=d,T===S))break;return r};A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(18),x=2,t={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a,i,e,s){return a===void 0&&(a=1),i===void 0?this.alpha=a:(this._alphaTL=f(a,0,1),this._alphaTR=f(i,0,1),this._alphaBL=f(e,0,1),this._alphaBR=f(s,0,1)),this},alpha:{get:function(){return this._alpha},set:function(a){var i=f(a,0,1);this._alpha=i,this._alphaTL=i,this._alphaTR=i,this._alphaBL=i,this._alphaBR=i,i===0?this.renderFlags&=~x:this.renderFlags|=x}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(a){var i=f(a,0,1);this._alphaTL=i,i!==0&&(this.renderFlags|=x)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(a){var i=f(a,0,1);this._alphaTR=i,i!==0&&(this.renderFlags|=x)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(a){var i=f(a,0,1);this._alphaBL=i,i!==0&&(this.renderFlags|=x)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(a){var i=f(a,0,1);this._alphaBR=i,i!==0&&(this.renderFlags|=x)}}};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(f){this.scaleX=f/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(f){this.scaleY=f/this.height}},setSize:function(f,x){return this.width=f,this.height=x,this},setDisplaySize:function(f,x){return this.displayWidth=f,this.displayHeight=x,this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={texture:null,frame:null,isCropped:!1,setCrop:function(f,x,t,a){if(f===void 0)this.isCropped=!1;else if(this.frame){if(typeof f=="number")this.frame.setCropUVs(this._crop,f,x,t,a,this.flipX,this.flipY);else{var i=f;this.frame.setCropUVs(this._crop,i.x,i.y,i.width,i.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(f){return this.flipX=f,this},setFlipY:function(f){return this.flipY=f,this},setFlip:function(f,x){return this.flipX=f,this.flipY=x,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(10),x=p(308),t=p(3),a={prepareBoundsOutput:function(i,e){if(e===void 0&&(e=!1),this.rotation!==0&&x(i,this.x,this.y,this.rotation),e&&this.parentContainer){var s=this.parentContainer.getBoundsTransformMatrix();s.transformPoint(i.x,i.y,i)}return i},getCenter:function(i){return i===void 0&&(i=new t),i.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,i.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,i},getTopLeft:function(i,e){return i||(i=new t),i.x=this.x-this.displayWidth*this.originX,i.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(i,e)},getTopCenter:function(i,e){return i||(i=new t),i.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,i.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(i,e)},getTopRight:function(i,e){return i||(i=new t),i.x=this.x-this.displayWidth*this.originX+this.displayWidth,i.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(i,e)},getLeftCenter:function(i,e){return i||(i=new t),i.x=this.x-this.displayWidth*this.originX,i.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(i,e)},getRightCenter:function(i,e){return i||(i=new t),i.x=this.x-this.displayWidth*this.originX+this.displayWidth,i.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(i,e)},getBottomLeft:function(i,e){return i||(i=new t),i.x=this.x-this.displayWidth*this.originX,i.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(i,e)},getBottomCenter:function(i,e){return i||(i=new t),i.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,i.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(i,e)},getBottomRight:function(i,e){return i||(i=new t),i.x=this.x-this.displayWidth*this.originX+this.displayWidth,i.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(i,e)},getBounds:function(i){i===void 0&&(i=new f);var e,s,r,n,o,l,h,u;if(this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(i),c.transformPoint(i.x,i.y,i),e=i.x,s=i.y,this.getTopRight(i),c.transformPoint(i.x,i.y,i),r=i.x,n=i.y,this.getBottomLeft(i),c.transformPoint(i.x,i.y,i),o=i.x,l=i.y,this.getBottomRight(i),c.transformPoint(i.x,i.y,i),h=i.x,u=i.y}else this.getTopLeft(i),e=i.x,s=i.y,this.getTopRight(i),r=i.x,n=i.y,this.getBottomLeft(i),o=i.x,l=i.y,this.getBottomRight(i),h=i.x,u=i.y;return i.x=Math.min(e,r,o,h),i.y=Math.min(s,n,l,u),i.width=Math.max(e,r,o,h)-i.x,i.height=Math.max(s,n,l,u)-i.y,i}};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="blur"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="boot"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="contextlost"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="contextrestored"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="destroy"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="focus"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="hidden"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pause"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="postrender"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="poststep"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="prerender"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="prestep"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="ready"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="resume"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="step"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="visible"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="postrender"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="prerender"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="render"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="resize"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(f){this._displayOriginX=f,this.originX=f/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(f){this._displayOriginY=f,this.originY=f/this.height}},setOrigin:function(f,x){return f===void 0&&(f=.5),x===void 0&&(x=f),this.originX=f,this.originY=x,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(f,x){return f===void 0&&(f=0),x===void 0&&(x=f),this.displayOriginX=f,this.displayOriginY=x,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(36),x=p(99),t=p(6),a=p(100),i=p(3),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(s,r){r===void 0&&(r=this.pathConfig);var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this.path=s,r&&this.startFollow(r),this},setRotateToPath:function(s,r){return r===void 0&&(r=0),this.rotateToPath=s,this.pathRotationOffset=r,this},isFollowing:function(){var s=this.pathTween;return s&&s.isPlaying()},startFollow:function(s,r){s===void 0&&(s={}),r===void 0&&(r=0);var n=this.pathTween;n&&n.isPlaying()&&n.stop(),typeof s=="number"&&(s={duration:s}),s.from=t(s,"from",0),s.to=t(s,"to",1);var o=x(s,"positionOnPath",!1);this.rotateToPath=x(s,"rotateToPath",!1),this.pathRotationOffset=t(s,"rotationOffset",0);var l=t(s,"startAt",r);if(l&&(s.onStart=function(u){var c=u.data[0];c.progress=l,c.elapsed=c.duration*l;var d=c.ease(c.progress);c.current=c.start+(c.end-c.start)*d,c.target[c.key]=c.current}),this.pathOffset||(this.pathOffset=new i(this.x,this.y)),this.pathVector||(this.pathVector=new i),this.pathDelta||(this.pathDelta=new i),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(s),this.path.getStartPoint(this.pathOffset),o&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var h=this.path.getPoint(.1);this.rotation=Math.atan2(h.y-this.y,h.x-this.x)+f(this.pathRotationOffset)}return this.pathConfig=s,this},pauseFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.pause(),this},resumeFollow:function(){var s=this.pathTween;return s&&s.isPaused()&&s.resume(),this},stopFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this},pathUpdate:function(){var s=this.pathTween;if(s){var r=s.data[0],n=this.pathDelta,o=this.pathVector;if(n.copy(o).negate(),r.state===a.COMPLETE){this.path.getPoint(1,o),n.add(o),o.add(this.pathOffset),this.setPosition(o.x,o.y);return}else if(r.state!==a.PLAYING_FORWARD&&r.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(s.getValue(),o),n.add(o),o.add(this.pathOffset);var l=this.x,h=this.y;this.setPosition(o.x,o.y);var u=this.x-l,c=this.y-h;if(u===0&&c===0)return;if(r.state!==this._prevDirection){this._prevDirection=r.state;return}this.rotateToPath&&(this.rotation=Math.atan2(c,u)+f(this.pathRotationOffset))}}};A.exports=e},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(f){this.scaleX=f/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(f){this.scaleY=f/this.frame.realHeight}},setSizeToFrame:function(f){return f===void 0&&(f=this.frame),this.width=f.realWidth,this.height=f.realHeight,this},setSize:function(f,x){return this.width=f,this.height=x,this},setDisplaySize:function(f,x){return this.displayWidth=f,this.displayHeight=x,this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=8,f={texture:null,frame:null,isCropped:!1,setTexture:function(x,t){return this.texture=this.scene.sys.textures.get(x),this.setFrame(t)},setFrame:function(x,t,a){return t===void 0&&(t=!0),a===void 0&&(a=!0),this.frame=this.texture.get(x),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&t&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};A.exports=f},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=8,f={texture:null,frame:null,isCropped:!1,setCrop:function(x,t,a,i){if(x===void 0)this.isCropped=!1;else if(this.frame){if(typeof x=="number")this.frame.setCropUVs(this._crop,x,t,a,i,this.flipX,this.flipY);else{var e=x;this.frame.setCropUVs(this._crop,e.x,e.y,e.width,e.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(x,t){return this.texture=this.scene.sys.textures.get(x),this.setFrame(t)},setFrame:function(x,t,a){return t===void 0&&(t=!0),a===void 0&&(a=!0),this.frame=this.texture.get(x),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&t&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};A.exports=f},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(f,x,t,a){return f===void 0&&(f=16777215),x===void 0&&(x=f,t=f,a=f),this.tintTopLeft=f,this.tintTopRight=x,this.tintBottomLeft=t,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(f,x,t,a){return this.setTint(f,x,t,a),this.tintFill=!0,this},tint:{set:function(f){this.setTint(f,f,f,f)}},isTinted:{get:function(){var f=16777215;return this.tintFill||this.tintTopLeft!==f||this.tintTopRight!==f||this.tintBottomLeft!==f||this.tintBottomRight!==f}}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="changedata"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="changedata-"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="destroy"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="removedata"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="setdata"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="addedtoscene"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="destroy"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="removedfromscene"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="complete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="created"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="error"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="loop"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="play"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="seeked"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="seeking"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="stop"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="timeout"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="unlocked"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="addedtoscene"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="boot"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="create"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="destroy"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pause"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="postupdate"},function(A,O){/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="prerender"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="preupdate"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="ready"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="removedfromscene"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="render"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="resume"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="shutdown"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="sleep"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="start"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="transitioncomplete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="transitioninit"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="transitionout"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="transitionstart"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="transitionwake"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="update"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="wake"},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(46),x=function(t,a,i,e,s){return f(t,"alpha",a,i,e,s)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(46),x=function(t,a,i,e,s){return f(t,"x",a,i,e,s)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(46),x=function(t,a,i,e,s,r,n){return i==null&&(i=a),f(t,"x",a,e,r,n),f(t,"y",i,s,r,n)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(46),x=function(t,a,i,e,s){return f(t,"y",a,i,e,s)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){t===void 0&&(t=0),a===void 0&&(a=6.28);for(var i=t,e=(a-t)/f.length,s=0;s<f.length;s++)f[s].x=x.x+x.radius*Math.cos(i),f[s].y=x.y+x.radius*Math.sin(i),i+=e;return f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){t===void 0&&(t=0),a===void 0&&(a=6.28);for(var i=t,e=(a-t)/f.length,s=x.width/2,r=x.height/2,n=0;n<f.length;n++)f[n].x=x.x+s*Math.cos(i),f[n].y=x.y+r*Math.sin(i),i+=e;return f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(172),x=function(t,a){for(var i=f(a,t.length),e=0;e<t.length;e++){var s=t[e],r=i[e];s.x=r.x,s.y=r.y}return t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(316),x=p(178),t=p(179),a=function(i,e,s){s===void 0&&(s=0);var r=f(e,!1,i.length);s>0?x(r,s):s<0&&t(r,Math.abs(s));for(var n=0;n<i.length;n++)i[n].x=r[n].x,i[n].y=r[n].y;return i};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(317),x=function(t,a,i){var e=f({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},i),s=f({x1:a.x2,y1:a.y2,x2:a.x3,y2:a.y3},i),r=f({x1:a.x3,y1:a.y3,x2:a.x1,y2:a.y1},i);e.pop(),s.pop(),r.pop(),e=e.concat(s,r);for(var n=e.length/t.length,o=0,l=0;l<t.length;l++){var h=t[l],u=e[Math.floor(o)];h.x=u.x,h.y=u.y,o+=n}return t};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){for(var a=0;a<f.length;a++){var i=f[a];i.anims&&i.anims.play(x,t)}return f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(170),x=function(t,a){for(var i=0;i<t.length;i++)f(a,t[i]);return t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(180),x=function(t,a){for(var i=0;i<t.length;i++)f(a,t[i]);return t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(173),x=function(t,a){for(var i=0;i<t.length;i++)f(a,t[i]);return t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(174),x=function(t,a){for(var i=0;i<t.length;i++)f(a,t[i]);return t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(181),x=function(t,a){for(var i=0;i<t.length;i++)f(a,t[i]);return t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(46),x=function(t,a,i,e,s){return f(t,"rotation",a,i,e,s)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(182),x=p(50),t=function(a,i,e){for(var s=i.x,r=i.y,n=0;n<a.length;n++){var o=a[n];f(o,s,r,e,Math.max(1,x(o.x,o.y,s,r)))}return a};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(182),x=function(t,a,i,e){var s=a.x,r=a.y;if(e===0)return t;for(var n=0;n<t.length;n++)f(t[n],s,r,i,e);return t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(46),x=function(t,a,i,e,s){return f(t,"scaleX",a,i,e,s)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(46),x=function(t,a,i,e,s,r,n){return i==null&&(i=a),f(t,"scaleX",a,e,r,n),f(t,"scaleY",i,s,r,n)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(46),x=function(t,a,i,e,s){return f(t,"scaleY",a,i,e,s)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e,s){return f(t,"alpha",a,i,e,s)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e){return f(t,"blendMode",a,0,i,e)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e,s){return f(t,"depth",a,i,e,s)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){for(var a=0;a<f.length;a++)f[a].setInteractive(x,t);return f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e,s,r,n){return i==null&&(i=a),f(t,"originX",a,e,r,n),f(t,"originY",i,s,r,n),t.forEach(function(o){o.updateDisplayOrigin()}),t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e,s){return f(t,"rotation",a,i,e,s)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e,s,r,n){return i==null&&(i=a),f(t,"scaleX",a,e,r,n),f(t,"scaleY",i,s,r,n)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e,s){return f(t,"scaleX",a,i,e,s)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e,s){return f(t,"scaleY",a,i,e,s)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e,s,r,n){return i==null&&(i=a),f(t,"scrollFactorX",a,e,r,n),f(t,"scrollFactorY",i,s,r,n)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e,s){return f(t,"scrollFactorX",a,i,e,s)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e,s){return f(t,"scrollFactorY",a,i,e,s)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i){for(var e=0;e<f.length;e++)f[e].setTint(x,t,a,i);return f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e){return f(t,"visible",a,0,i,e)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e,s){return f(t,"x",a,i,e,s)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e,s,r,n){return i==null&&(i=a),f(t,"x",a,e,r,n),f(t,"y",i,s,r,n)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(27),x=function(t,a,i,e,s){return f(t,"y",a,i,e,s)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(3),x=function(t,a,i,e,s){e===void 0&&(e=0),s===void 0&&(s=new f);var r,n;if(t.length>1){var o,l,h,u;if(e===0){var c=t.length-1;for(r=t[c].x,n=t[c].y,o=c-1;o>=0;o--)u=t[o],l=u.x,h=u.y,u.x=r,u.y=n,r=l,n=h;t[c].x=a,t[c].y=i}else{for(r=t[0].x,n=t[0].y,o=1;o<t.length;o++)u=t[o],l=u.x,h=u.y,u.x=r,u.y=n,r=l,n=h;t[0].x=a,t[0].y=i}}else r=t[0].x,n=t[0].y,t[0].x=a,t[0].y=i;return s.x=r,s.y=n,s};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(131),x=function(t){return f(t)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(183),x=function(t,a,i,e,s){s===void 0&&(s=!1);var r=Math.abs(e-i)/t.length,n;if(s)for(n=0;n<t.length;n++)t[n][a]+=f(n*r,i,e);else for(n=0;n<t.length;n++)t[n][a]=f(n*r,i,e);return t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(184),x=function(t,a,i,e,s){s===void 0&&(s=!1);var r=Math.abs(e-i)/t.length,n;if(s)for(n=0;n<t.length;n++)t[n][a]+=f(n*r,i,e);else for(n=0;n<t.length;n++)t[n][a]=f(n*r,i,e);return t};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i){i===void 0&&(i=!1);var e=Math.abs(a-t)/f.length,s;if(i)for(s=0;s<f.length;s++)f[s][x]+=s*e+t;else for(s=0;s<f.length;s++)f[s][x]=s*e+t;return f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){for(var x=0;x<f.length;x++)f[x].visible=!f[x].visible;return f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(68),x=function(t,a,i){i===void 0&&(i=0);for(var e=0;e<t.length;e++){var s=t[e];s.x=f(s.x,a.left-i,a.right+i),s.y=f(s.y,a.top-i,a.bottom+i)}return t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Animation:p(185),AnimationFrame:p(319),AnimationManager:p(321),AnimationState:p(164),Events:p(132)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="add"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="animationcomplete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="animationcomplete-"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="animationrepeat"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="animationrestart"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="animationstart"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="animationstop"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="animationupdate"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pauseall"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="remove"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="resumeall"},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={BaseCache:p(323),CacheManager:p(325),Events:p(324)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="add"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="remove"},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Controls:p(739),Scene2D:p(742)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={FixedKeyControl:p(740),SmoothedKeyControl:p(741)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(6),t=new f({initialize:function(i){this.camera=x(i,"camera",null),this.left=x(i,"left",null),this.right=x(i,"right",null),this.up=x(i,"up",null),this.down=x(i,"down",null),this.zoomIn=x(i,"zoomIn",null),this.zoomOut=x(i,"zoomOut",null),this.zoomSpeed=x(i,"zoomSpeed",.01),this.minZoom=x(i,"minZoom",.001),this.maxZoom=x(i,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=x(i,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=x(i,"speed.x",0),this.speedY=x(i,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(!!this.active){a===void 0&&(a=1);var i=this.camera;this.up&&this.up.isDown?i.scrollY-=this.speedY*a|0:this.down&&this.down.isDown&&(i.scrollY+=this.speedY*a|0),this.left&&this.left.isDown?i.scrollX-=this.speedX*a|0:this.right&&this.right.isDown&&(i.scrollX+=this.speedX*a|0),this.zoomIn&&this.zoomIn.isDown?(i.zoom-=this.zoomSpeed,i.zoom<this.minZoom&&(i.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(i.zoom+=this.zoomSpeed,i.zoom>this.maxZoom&&(i.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(6),t=new f({initialize:function(i){this.camera=x(i,"camera",null),this.left=x(i,"left",null),this.right=x(i,"right",null),this.up=x(i,"up",null),this.down=x(i,"down",null),this.zoomIn=x(i,"zoomIn",null),this.zoomOut=x(i,"zoomOut",null),this.zoomSpeed=x(i,"zoomSpeed",.01),this.minZoom=x(i,"minZoom",.001),this.maxZoom=x(i,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=x(i,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=x(i,"acceleration.x",0),this.accelY=x(i,"acceleration.y",0)),this.dragX=0,this.dragY=0;var s=x(i,"drag",null);typeof s=="number"?(this.dragX=s,this.dragY=s):(this.dragX=x(i,"drag.x",0),this.dragY=x(i,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var r=x(i,"maxSpeed",null);typeof r=="number"?(this.maxSpeedX=r,this.maxSpeedY=r):(this.maxSpeedX=x(i,"maxSpeed.x",0),this.maxSpeedY=x(i,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(!!this.active){a===void 0&&(a=1);var i=this.camera;this._speedX>0?(this._speedX-=this.dragX*a,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*a,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*a,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*a,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(i.scrollX-=this._speedX*a|0),this._speedY!==0&&(i.scrollY-=this._speedY*a|0),this._zoom!==0&&(i.zoom+=this._zoom,i.zoom<this.minZoom?i.zoom=this.minZoom:i.zoom>this.maxZoom&&(i.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Camera:p(326),BaseCamera:p(133),CameraManager:p(799),Effects:p(333),Events:p(37)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="cameradestroy"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="camerafadeincomplete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="camerafadeinstart"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="camerafadeoutcomplete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="camerafadeoutstart"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="cameraflashcomplete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="cameraflashstart"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="followupdate"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="camerapancomplete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="camerapanstart"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="postrender"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="prerender"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="camerarotatecomplete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="camerarotatestart"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="camerashakecomplete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="camerashakestart"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="camerazoomcomplete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="camerazoomstart"},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(18),x=p(0),t=p(37),a=new x({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,e,s,r,n,o,l,h){if(i===void 0&&(i=!0),e===void 0&&(e=1e3),s===void 0&&(s=0),r===void 0&&(r=0),n===void 0&&(n=0),o===void 0&&(o=!1),l===void 0&&(l=null),h===void 0&&(h=this.camera.scene),!o&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=i,this.progress=0,this.red=s,this.green=r,this.blue=n,this.alpha=i?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=l,this._onUpdateScope=h;var u=i?t.FADE_OUT_START:t.FADE_IN_START;return this.camera.emit(u,this.camera,this,e,s,r,n),this.camera},update:function(i,e){!this.isRunning||(this._elapsed+=e,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(i){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return i.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",i.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(i,e){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera,r=this.red/255,n=this.green/255,o=this.blue/255;return i.drawFillRect(s.x,s.y,s.width,s.height,e(o,n,r,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var i=this.direction?t.FADE_OUT_COMPLETE:t.FADE_IN_COMPLETE;this.camera.emit(i,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(18),x=p(0),t=p(37),a=new x({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,e,s,r,n,o,l){return i===void 0&&(i=250),e===void 0&&(e=255),s===void 0&&(s=255),r===void 0&&(r=255),n===void 0&&(n=!1),o===void 0&&(o=null),l===void 0&&(l=this.camera.scene),!n&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=i,this.progress=0,this.red=e,this.green=s,this.blue=r,this.alpha=1,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=l,this.camera.emit(t.FLASH_START,this.camera,this,i,e,s,r),this.camera)},update:function(i,e){!this.isRunning||(this._elapsed+=e,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(i){if(!this.isRunning)return!1;var e=this.camera;return i.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",i.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(i,e){if(!this.isRunning)return!1;var s=this.camera,r=this.red/255,n=this.green/255,o=this.blue/255;return i.drawFillRect(s.x,s.y,s.width,s.height,e(o,n,r,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(t.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(18),x=p(0),t=p(134),a=p(37),i=p(3),e=new x({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=new i,this.current=new i,this.destination=new i,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,r,n,o,l,h,u){n===void 0&&(n=1e3),o===void 0&&(o=t.Linear),l===void 0&&(l=!1),h===void 0&&(h=null),u===void 0&&(u=this.camera.scene);var c=this.camera;return!l&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source.set(c.scrollX,c.scrollY),this.destination.set(s,r),c.getScroll(s,r,this.current),typeof o=="string"&&t.hasOwnProperty(o)?this.ease=t[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=u,this.camera.emit(a.PAN_START,this.camera,this,n,s,r)),c},update:function(s,r){if(!!this.isRunning){this._elapsed+=r;var n=f(this._elapsed/this.duration,0,1);this.progress=n;var o=this.camera;if(this._elapsed<this.duration){var l=this.ease(n);o.getScroll(this.destination.x,this.destination.y,this.current);var h=this.source.x+(this.current.x-this.source.x)*l,u=this.source.y+(this.current.y-this.source.y)*l;o.setScroll(h,u),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,n,h,u)}else o.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,n,o.scrollX,o.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});A.exports=e},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x===void 0&&(x=1.70158),f*f*((x+1)*f-x)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x===void 0&&(x=1.70158),--f*f*((x+1)*f+x)+1};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){x===void 0&&(x=1.70158);var t=x*1.525;return(f*=2)<1?.5*(f*f*((t+1)*f-t)):.5*((f-=2)*f*((t+1)*f+t)+2)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f=1-f,f<.36363636363636365?1-7.5625*f*f:f<.7272727272727273?1-(7.5625*(f-=.5454545454545454)*f+.75):f<.9090909090909091?1-(7.5625*(f-=.8181818181818182)*f+.9375):1-(7.5625*(f-=.9545454545454546)*f+.984375)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f<.36363636363636365?7.5625*f*f:f<.7272727272727273?7.5625*(f-=.5454545454545454)*f+.75:f<.9090909090909091?7.5625*(f-=.8181818181818182)*f+.9375:7.5625*(f-=.9545454545454546)*f+.984375};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){var x=!1;return f<.5?(f=1-f*2,x=!0):f=f*2-1,f<.36363636363636365?f=7.5625*f*f:f<.7272727272727273?f=7.5625*(f-=.5454545454545454)*f+.75:f<.9090909090909091?f=7.5625*(f-=.8181818181818182)*f+.9375:f=7.5625*(f-=.9545454545454546)*f+.984375,x?(1-f)*.5:f*.5+.5};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return 1-Math.sqrt(1-f*f)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return Math.sqrt(1- --f*f)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return(f*=2)<1?-.5*(Math.sqrt(1-f*f)-1):.5*(Math.sqrt(1-(f-=2)*f)+1)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f*f*f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return--f*f*f+1};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return(f*=2)<1?.5*f*f*f:.5*((f-=2)*f*f+2)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){if(x===void 0&&(x=.1),t===void 0&&(t=.1),f===0)return 0;if(f===1)return 1;var a=t/4;return x<1?x=1:a=t*Math.asin(1/x)/(2*Math.PI),-(x*Math.pow(2,10*(f-=1))*Math.sin((f-a)*(2*Math.PI)/t))};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){if(x===void 0&&(x=.1),t===void 0&&(t=.1),f===0)return 0;if(f===1)return 1;var a=t/4;return x<1?x=1:a=t*Math.asin(1/x)/(2*Math.PI),x*Math.pow(2,-10*f)*Math.sin((f-a)*(2*Math.PI)/t)+1};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){if(x===void 0&&(x=.1),t===void 0&&(t=.1),f===0)return 0;if(f===1)return 1;var a=t/4;return x<1?x=1:a=t*Math.asin(1/x)/(2*Math.PI),(f*=2)<1?-.5*(x*Math.pow(2,10*(f-=1))*Math.sin((f-a)*(2*Math.PI)/t)):x*Math.pow(2,-10*(f-=1))*Math.sin((f-a)*(2*Math.PI)/t)*.5+1};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return Math.pow(2,10*(f-1))-.001};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return 1-Math.pow(2,-10*f)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return(f*=2)<1?.5*Math.pow(2,10*(f-1)):.5*(2-Math.pow(2,-10*(f-1)))};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f*f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f*(2-f)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return(f*=2)<1?.5*f*f:-.5*(--f*(f-2)-1)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f*f*f*f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return 1- --f*f*f*f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return(f*=2)<1?.5*f*f*f*f:-.5*((f-=2)*f*f*f-2)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f*f*f*f*f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return--f*f*f*f*f+1};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return(f*=2)<1?.5*f*f*f*f*f:.5*((f-=2)*f*f*f*f+2)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f===0?0:f===1?1:1-Math.cos(f*Math.PI/2)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f===0?0:f===1?1:Math.sin(f*Math.PI/2)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f===0?0:f===1?1:.5*(1-Math.cos(Math.PI*f))};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x===void 0&&(x=1),f<=0?0:f>=1?1:((x*f|0)+1)*(1/x)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(18),x=p(0),t=p(37),a=p(3),i=new x({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,s,r,n,o){return e===void 0&&(e=100),s===void 0&&(s=.05),r===void 0&&(r=!1),n===void 0&&(n=null),o===void 0&&(o=this.camera.scene),!r&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof s=="number"?this.intensity.set(s):this.intensity.set(s.x,s.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=n,this._onUpdateScope=o,this.camera.emit(t.SHAKE_START,this.camera,this,e,s),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,s){if(!!this.isRunning)if(this._elapsed+=s,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var r=this.intensity,n=this.camera.width,o=this.camera.height,l=this.camera.zoom;this._offsetX=(Math.random()*r.x*n*2-r.x*n)*l,this._offsetY=(Math.random()*r.y*o*2-r.y*o)*l,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(t.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});A.exports=i},function(A,O,p){/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var f=p(18),x=p(0),t=p(37),a=p(134),i=new x({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,s,r,n,o,l,h){r===void 0&&(r=1e3),n===void 0&&(n=a.Linear),o===void 0&&(o=!1),l===void 0&&(l=null),h===void 0&&(h=this.camera.scene),s===void 0&&(s=!1),this.shortestPath=s;var u=e;e<0?(u=-1*e,this.clockwise=!1):this.clockwise=!0;var c=360*Math.PI/180;u=u-Math.floor(u/c)*c;var d=this.camera;if(!o&&this.isRunning)return d;if(this.isRunning=!0,this.duration=r,this.progress=0,this.source=d.rotation,this.destination=u,typeof n=="string"&&a.hasOwnProperty(n)?this.ease=a[n]:typeof n=="function"&&(this.ease=n),this._elapsed=0,this._onUpdate=l,this._onUpdateScope=h,this.shortestPath){var v=0,g=0;this.destination>this.source?v=Math.abs(this.destination-this.source):v=Math.abs(this.destination+c)-this.source,this.source>this.destination?g=Math.abs(this.source-this.destination):g=Math.abs(this.source+c)-this.destination,v<g?this.clockwise=!0:v>g&&(this.clockwise=!1)}return this.camera.emit(t.ROTATE_START,this.camera,this,r,u),d},update:function(e,s){if(!!this.isRunning){this._elapsed+=s;var r=f(this._elapsed/this.duration,0,1);this.progress=r;var n=this.camera;if(this._elapsed<this.duration){var o=this.ease(r);this.current=n.rotation;var l=0,h=360*Math.PI/180,u=this.destination,c=this.current;this.clockwise===!1&&(u=this.current,c=this.destination),u>=c?l=Math.abs(u-c):l=Math.abs(u+h)-c;var d=0;this.clockwise?d=n.rotation+l*o:d=n.rotation-l*o,n.rotation=d,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,r,d)}else n.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,r,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(t.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(18),x=p(0),t=p(134),a=p(37),i=new x({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,s,r,n,o,l){s===void 0&&(s=1e3),r===void 0&&(r=t.Linear),n===void 0&&(n=!1),o===void 0&&(o=null),l===void 0&&(l=this.camera.scene);var h=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source=h.zoom,this.destination=e,typeof r=="string"&&t.hasOwnProperty(r)?this.ease=t[r]:typeof r=="function"&&(this.ease=r),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=l,this.camera.emit(a.ZOOM_START,this.camera,this,s,e)),h},update:function(e,s){!this.isRunning||(this._elapsed+=s,this.progress=f(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(326),x=p(0),t=p(2),a=p(24),i=p(57),e=p(104),s=p(20),r=new x({initialize:function(o){this.scene=o,this.systems=o.sys,this.roundPixels=o.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,o.sys.events.once(s.BOOT,this.boot,this),o.sys.events.on(s.START,this.start,this)},boot:function(){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new f(0,0,n.scale.width,n.scale.height).setScene(this.scene),n.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){if(!this.main){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0]}var o=this.systems.events;o.on(s.UPDATE,this.update,this),o.once(s.SHUTDOWN,this.shutdown,this)},add:function(n,o,l,h,u,c){n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=this.scene.sys.scale.width),h===void 0&&(h=this.scene.sys.scale.height),u===void 0&&(u=!1),c===void 0&&(c="");var d=new f(n,o,l,h);return d.setName(c),d.setScene(this.scene),d.setRoundPixels(this.roundPixels),d.id=this.getNextID(),this.cameras.push(d),u&&(this.main=d),d},addExisting:function(n,o){o===void 0&&(o=!1);var l=this.cameras.indexOf(n);return l===-1?(n.id=this.getNextID(),n.setRoundPixels(this.roundPixels),this.cameras.push(n),o&&(this.main=n),n):null},getNextID:function(){for(var n=this.cameras,o=1,l=0;l<32;l++){for(var h=!1,u=0;u<n.length;u++){var c=n[u];if(c&&c.id===o){h=!0;continue}}if(h)o=o<<1;else return o}return 0},getTotal:function(n){n===void 0&&(n=!1);for(var o=0,l=this.cameras,h=0;h<l.length;h++){var u=l[h];(!n||n&&u.visible)&&o++}return o},fromJSON:function(n){Array.isArray(n)||(n=[n]);for(var o=this.scene.sys.scale.width,l=this.scene.sys.scale.height,h=0;h<n.length;h++){var u=n[h],c=t(u,"x",0),d=t(u,"y",0),v=t(u,"width",o),g=t(u,"height",l),m=this.add(c,d,v,g);m.name=t(u,"name",""),m.zoom=t(u,"zoom",1),m.rotation=t(u,"rotation",0),m.scrollX=t(u,"scrollX",0),m.scrollY=t(u,"scrollY",0),m.roundPixels=t(u,"roundPixels",!1),m.visible=t(u,"visible",!0);var y=t(u,"backgroundColor",!1);y&&m.setBackgroundColor(y);var T=t(u,"bounds",null);if(T){var E=t(T,"x",0),S=t(T,"y",0),C=t(T,"width",o),M=t(T,"height",l);m.setBounds(E,S,C,M)}}return this},getCamera:function(n){for(var o=this.cameras,l=0;l<o.length;l++)if(o[l].name===n)return o[l];return null},getCamerasBelowPointer:function(n){for(var o=this.cameras,l=n.x,h=n.y,u=[],c=0;c<o.length;c++){var d=o[c];d.visible&&d.inputEnabled&&i(d,l,h)&&u.unshift(d)}return u},remove:function(n,o){o===void 0&&(o=!0),Array.isArray(n)||(n=[n]);for(var l=0,h=this.cameras,u=0;u<n.length;u++){var c=h.indexOf(n[u]);c!==-1&&(o?h[c].destroy():h[c].renderList=[],h.splice(c,1),l++)}return!this.main&&h[0]&&(this.main=h[0]),l},render:function(n,o){for(var l=this.scene,h=this.cameras,u=0;u<this.cameras.length;u++){var c=h[u];if(c.visible&&c.alpha>0){c.preRender();var d=this.getVisibleChildren(o.getChildren(),c);n.render(l,d,c)}}},getVisibleChildren:function(n,o){for(var l=[],h=0;h<n.length;h++){var u=n[h];u.willRender(o)&&l.push(u)}return l},resetAll:function(){for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(n,o){for(var l=0;l<this.cameras.length;l++)this.cameras[l].update(n,o)},onResize:function(n,o,l,h,u){for(var c=0;c<this.cameras.length;c++){var d=this.cameras[c];d._x===0&&d._y===0&&d._width===h&&d._height===u&&d.setSize(o.width,o.height)}},resize:function(n,o){for(var l=0;l<this.cameras.length;l++)this.cameras[l].setSize(n,o)},shutdown:function(){this.main=void 0;for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();this.cameras=[];var o=this.systems.events;o.off(s.UPDATE,this.update,this),o.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});a.register("CameraManager",r,"cameras"),A.exports=r},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="enterfullscreen"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="fullscreenfailed"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="fullscreenunsupported"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="leavefullscreen"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="orientationchange"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="resize"},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Config:p(346),CreateRenderer:p(366),DebugHeader:p(384),Events:p(22),TimeStep:p(385),VisibilityHandler:p(387)}},function(A,O){var p=A.exports={},f,x;function t(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?f=setTimeout:f=t}catch{f=t}try{typeof clearTimeout=="function"?x=clearTimeout:x=a}catch{x=a}})();function i(d){if(f===setTimeout)return setTimeout(d,0);if((f===t||!f)&&setTimeout)return f=setTimeout,setTimeout(d,0);try{return f(d,0)}catch{try{return f.call(null,d,0)}catch{return f.call(this,d,0)}}}function e(d){if(x===clearTimeout)return clearTimeout(d);if((x===a||!x)&&clearTimeout)return x=clearTimeout,clearTimeout(d);try{return x(d)}catch{try{return x.call(null,d)}catch{return x.call(this,d)}}}var s=[],r=!1,n,o=-1;function l(){!r||!n||(r=!1,n.length?s=n.concat(s):o=-1,s.length&&h())}function h(){if(!r){var d=i(l);r=!0;for(var v=s.length;v;){for(n=s,s=[];++o<v;)n&&n[o].run();o=-1,v=s.length}n=null,r=!1,e(d)}}p.nextTick=function(d){var v=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)v[g-1]=arguments[g];s.push(new u(d,v)),s.length===1&&!r&&i(h)};function u(d,v){this.fun=d,this.array=v}u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={};function c(){}p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(d){return[]},p.binding=function(d){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(d){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(136),x={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function t(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(x.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(x.mspointer=!0),navigator.getGamepads&&(x.gamepads=!0),"onwheel"in window||f.ie&&"WheelEvent"in window?x.wheelEvent="wheel":"onmousewheel"in window?x.wheelEvent="mousewheel":f.firefox&&"MouseScrollEvent"in window&&(x.wheelEvent="DOMMouseScroll")),x}A.exports=t()},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(136),x={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function t(){if(typeof importScripts=="function")return x;x.audioData=!!window.Audio,x.webAudio=!!(window.AudioContext||window.webkitAudioContext);var a=document.createElement("audio"),i=!!a.canPlayType;try{if(i&&(a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(x.ogg=!0),(a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||a.canPlayType("audio/opus;").replace(/^no$/,""))&&(x.opus=!0),a.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(x.mp3=!0),a.canPlayType("audio/wav").replace(/^no$/,"")&&(x.wav=!0),(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;").replace(/^no$/,""))&&(x.m4a=!0),a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(x.webm=!0),a.canPlayType('audio/mp4;codecs="ec-3"')!=="")){if(f.edge)x.dolby=!0;else if(f.safari&&f.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var e=parseInt(RegExp.$1,10),s=parseInt(RegExp.$2,10);(e===10&&s>=11||e>10)&&(x.dolby=!0)}}}catch{}return x}A.exports=t()},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};function f(){if(typeof importScripts=="function")return p;var x=document.createElement("video"),t=!!x.canPlayType;try{t&&(x.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(p.ogg=!0),x.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(p.h264=!0,p.mp4=!0),x.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(p.webm=!0),x.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(p.vp9=!0),x.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(p.hls=!0))}catch{}return p}A.exports=f()},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={available:!1,cancel:"",keyboard:!1,request:""};function f(){if(typeof importScripts=="function")return p;var x,t="Fullscreen",a="FullScreen",i=["request"+t,"request"+a,"webkitRequest"+t,"webkitRequest"+a,"msRequest"+t,"msRequest"+a,"mozRequest"+a,"mozRequest"+t];for(x=0;x<i.length;x++)if(document.documentElement[i[x]]){p.available=!0,p.request=i[x];break}var e=["cancel"+a,"exit"+t,"webkitCancel"+a,"webkitExit"+t,"msCancel"+a,"msExit"+t,"mozCancel"+a,"mozExit"+t];if(p.available){for(x=0;x<e.length;x++)if(document[e[x]]){p.cancel=e[x];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(p.keyboard=!0),Object.defineProperty(p,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),p}A.exports=f()},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Between:p(349),BetweenPoints:p(350),BetweenPointsY:p(813),BetweenY:p(814),CounterClockwise:p(815),Normalize:p(351),Random:p(816),RandomDegrees:p(817),Reverse:p(818),RotateTo:p(819),ShortestBetween:p(820),Wrap:p(269),WrapDegrees:p(270)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return Math.atan2(x.x-f.x,x.y-f.y)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){return Math.atan2(t-f,a-x)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(14),x=function(t){return t>Math.PI&&(t-=f.PI2),Math.abs(((t+f.TAU)%f.PI2-f.PI2)%f.PI2)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(137),x=function(){return f(-Math.PI,Math.PI)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(137),x=function(){return f(-180,180)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(351),x=function(t){return f(t+Math.PI)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(14),x=function(t,a,i){return i===void 0&&(i=.05),t===a||(Math.abs(a-t)<=i||Math.abs(a-t)>=f.PI2-i?t=a:(Math.abs(a-t)>Math.PI&&(a<t?a+=f.PI2:a-=f.PI2),a>t?t+=i:a<t&&(t-=i))),t};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=x-f;if(t===0)return 0;var a=Math.floor((t- -180)/360);return t-a*360};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Between:p(50),BetweenPoints:p(352),BetweenPointsSquared:p(822),Chebyshev:p(823),Power:p(824),Snake:p(825),Squared:p(353)}},function(A,O){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=f.x-x.x,a=f.y-x.y;return t*t+a*a};A.exports=p},function(A,O){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){return Math.max(Math.abs(f-t),Math.abs(x-a))};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i){return i===void 0&&(i=2),Math.sqrt(Math.pow(t-f,i)+Math.pow(a-x,i))};A.exports=p},function(A,O){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){return Math.abs(f-t)+Math.abs(x-a)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Back:p(334),Bounce:p(335),Circular:p(336),Cubic:p(337),Elastic:p(338),Expo:p(339),Linear:p(340),Quadratic:p(341),Quartic:p(342),Quintic:p(343),Sine:p(344),Stepped:p(345)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Ceil:p(828),Equal:p(124),Floor:p(829),GreaterThan:p(354),LessThan:p(355)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x===void 0&&(x=1e-4),Math.ceil(f-x)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x===void 0&&(x=1e-4),Math.floor(f+x)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Bezier:p(831),CatmullRom:p(832),CubicBezier:p(358),Linear:p(833),QuadraticBezier:p(359),SmoothStep:p(360),SmootherStep:p(834)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(356),x=function(t,a){for(var i=0,e=t.length-1,s=0;s<=e;s++)i+=Math.pow(1-a,e-s)*Math.pow(a,s)*t[s]*f(e,s);return i};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(194),x=function(t,a){var i=t.length-1,e=i*a,s=Math.floor(e);return t[0]===t[i]?(a<0&&(s=Math.floor(e=i*(1+a))),f(e-s,t[(s-1+i)%i],t[s],t[(s+1)%i],t[(s+2)%i])):a<0?t[0]-(f(-e,t[0],t[0],t[1],t[1])-t[0]):a>1?t[i]-(f(e-i,t[i],t[i],t[i-1],t[i-1])-t[i]):f(e-s,t[s?s-1:0],t[s],t[i<s+1?i:s+1],t[i<s+2?i:s+2])};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(135),x=function(t,a){var i=t.length-1,e=i*a,s=Math.floor(e);return a<0?f(t[0],t[1],e):a>1?f(t[i],t[i-1],i-e):f(t[s],t[s+1>i?i:s+1],e-s)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(183),x=function(t,a,i){return a+(i-a)*f(t,0,1)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={GetNext:p(361),IsSize:p(138),IsValue:p(836)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f>0&&(f&f-1)===0};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Ceil:p(139),Floor:p(76),To:p(838)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){return t===void 0&&(t=0),x===0?f:(f-=t,f=x*Math.round(f/x),a?(t+f)/x:t+f)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=new f({initialize:function(a){a===void 0&&(a=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],a&&this.init(a)},rnd:function(){var t=2091639*this.s0+this.c*23283064365386963e-26;return this.c=t|0,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},hash:function(t){var a,i=this.n;t=t.toString();for(var e=0;e<t.length;e++)i+=t.charCodeAt(e),a=.02519603282416938*i,i=a>>>0,a-=i,a*=i,i=a>>>0,a-=i,i+=a*4294967296;return this.n=i,(i>>>0)*23283064365386963e-26},init:function(t){typeof t=="string"?this.state(t):this.sow(t)},sow:function(t){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!t)for(var a=0;a<t.length&&t[a]!=null;a++){var i=t[a];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(t,a){return Math.floor(this.realInRange(0,a-t+1)+t)},between:function(t,a){return Math.floor(this.realInRange(0,a-t+1)+t)},realInRange:function(t,a){return this.frac()*(a-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){var t="",a="";for(a=t="";t++<36;a+=~t%5|t*3&4?(t^15?8^this.frac()*(t^20?16:4):4).toString(16):"-");return a},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-1)+.5)]},timestamp:function(t,a){return this.realInRange(t||9466848e5,a||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(t){return typeof t=="string"&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(t){for(var a=t.length-1,i=a;i>0;i--){var e=Math.floor(this.frac()*(i+1)),s=t[e];t[e]=t[i],t[i]=s}return t}});A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){for(var x=0,t=0;t<f.length;t++)x+=+f[t];return x/f.length};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){x===void 0&&(x=0),t===void 0&&(t=10);var a=Math.pow(t,-x);return Math.ceil(f*a)/a};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return Math.abs(f-x)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(18),x=p(0),t=p(69),a=p(1),i=new t,e=new x({initialize:function s(r,n,o,l){r===void 0&&(r=0),n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=s.DefaultOrder),this._x=r,this._y=n,this._z=o,this._order=l,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(s){this._x=s,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(s){this._y=s,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(s){this._z=s,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(s){this._order=s,this.onChangeCallback(this)}},set:function(s,r,n,o){return o===void 0&&(o=this._order),this._x=s,this._y=r,this._z=n,this._order=o,this.onChangeCallback(this),this},copy:function(s){return this.set(s.x,s.y,s.z,s.order)},setFromQuaternion:function(s,r,n){return r===void 0&&(r=this._order),n===void 0&&(n=!1),i.fromQuat(s),this.setFromRotationMatrix(i,r,n)},setFromRotationMatrix:function(s,r,n){r===void 0&&(r=this._order),n===void 0&&(n=!1);var o=s.val,l=o[0],h=o[4],u=o[8],c=o[1],d=o[5],v=o[9],g=o[2],m=o[6],y=o[10],T=0,E=0,S=0,C=.99999;switch(r){case"XYZ":{E=Math.asin(f(u,-1,1)),Math.abs(u)<C?(T=Math.atan2(-v,y),S=Math.atan2(-h,l)):T=Math.atan2(m,d);break}case"YXZ":{T=Math.asin(-f(v,-1,1)),Math.abs(v)<C?(E=Math.atan2(u,y),S=Math.atan2(c,d)):E=Math.atan2(-g,l);break}case"ZXY":{T=Math.asin(f(m,-1,1)),Math.abs(m)<C?(E=Math.atan2(-g,y),S=Math.atan2(-h,d)):S=Math.atan2(c,l);break}case"ZYX":{E=Math.asin(-f(g,-1,1)),Math.abs(g)<C?(T=Math.atan2(m,y),S=Math.atan2(c,l)):S=Math.atan2(-h,d);break}case"YZX":{S=Math.asin(f(c,-1,1)),Math.abs(c)<C?(T=Math.atan2(-v,d),E=Math.atan2(-g,l)):E=Math.atan2(u,y);break}case"XZY":{S=Math.asin(-f(h,-1,1)),Math.abs(h)<C?(T=Math.atan2(m,d),E=Math.atan2(u,l)):T=Math.atan2(-v,y);break}}return this._x=T,this._y=E,this._z=S,this._order=r,n&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",A.exports=e},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){x===void 0&&(x=0),t===void 0&&(t=10);var a=Math.pow(t,-x);return Math.floor(f*a)/a};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f/x/1e3};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f==parseFloat(f)?!(f%2):void 0};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f===parseFloat(f)?!(f%2):void 0};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return Math.min(f+x,t)};A.exports=p},function(A,O){/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){var x=f.length;if(x===0)return 0;f.sort(function(a,i){return a-i});var t=Math.floor(x/2);return x%2===0?(f[t]+f[t-1])/2:f[t]};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return Math.max(f-x,t)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){t===void 0&&(t=x+1);var i=(f-x)/(t-x);return i>1?a!==void 0?(i=(a-f)/(a-t),i<0&&(i=0)):i=1:i<0&&(i=0),i};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){x===void 0&&(x=1);var t=Math.random()*2*Math.PI;return f.x=Math.cos(t)*x,f.y=Math.sin(t)*x,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){x===void 0&&(x=1);var t=Math.random()*2*Math.PI,a=Math.random()*2-1,i=Math.sqrt(1-a*a)*x;return f.x=Math.cos(t)*i,f.y=Math.sin(t)*i,f.z=a*x,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x===void 0&&(x=1),f.x=(Math.random()*2-1)*x,f.y=(Math.random()*2-1)*x,f.z=(Math.random()*2-1)*x,f.w=(Math.random()*2-1)*x,f};A.exports=p},function(A,O){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i){return f.x=x+i*Math.cos(a),f.y=t+i*Math.sin(a),f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){x===void 0&&(x=0),t===void 0&&(t=10);var a=Math.pow(t,-x);return Math.round(f*a)/a};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){x===void 0&&(x=1),t===void 0&&(t=1),a===void 0&&(a=1),a*=Math.PI/f;for(var i=[],e=[],s=0;s<f;s++)t-=x*a,x+=t*a,i[s]=t,e[s]=x;return{sin:e,cos:i,length:f}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(3),x=function(t,a,i,e){e===void 0&&(e=new f);var s=0,r=0,n=a*i;return t>0&&t<=n&&(t>a-1?(r=Math.floor(t/a),s=t-r*a):s=t),e.set(s,r)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return Math.abs(f-x)<=t};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(39),x=p(69),t=p(365),a=new x,i=new t,e=new f,s=function(r,n,o){return i.setAxisAngle(n,o),a.fromRotationTranslation(i,e.set(0,0,0)),r.transformMat4(a)};A.exports=s},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="addtexture"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="onerror"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="onload"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="ready"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="removetexture"},function(A,O){A.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join(`
`)},function(A,O){A.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join(`
`)},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pipelineafterflush"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pipelinebeforeflush"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pipelinebind"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pipelineboot"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pipelinedestroy"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pipelinerebind"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pipelineresize"},function(A,O){A.exports=["#define SHADER_NAME PHASER_GRAPHICS_FS","","precision mediump float;","","varying vec4 outColor;","","void main ()","{","    gl_FragColor = vec4(outColor.bgr * outColor.a, outColor.a);","}",""].join(`
`)},function(A,O){A.exports=["#define SHADER_NAME PHASER_GRAPHICS_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec4 inColor;","","varying vec4 outColor;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outColor = inColor;","}",""].join(`
`)},function(A,O){A.exports=["#define SHADER_NAME PHASER_LIGHT_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.bgr * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}",""].join(`
`)},function(A,O){A.exports=["#define SHADER_NAME PHASER_MULTI_FS","","precision mediump float;","","uniform sampler2D uMainSampler[%count%];","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture;","","    %forloop%","","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(A,O){A.exports=["#define SHADER_NAME PHASER_MULTI_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(A,O){A.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform float uCameraZoom;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","","    float distToSurf = length(center - gl_FragCoord.xy);","","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}",""].join(`
`)},function(A,O){A.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}",""].join(`
`)},function(A,O){A.exports=["#define SHADER_NAME PHASER_SINGLE_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(A,O){A.exports=["#define SHADER_NAME PHASER_SINGLE_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(A,O){A.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = frame1 + frame2 * uStrength;","}",""].join(`
`)},function(A,O){A.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","","        return;","    }","","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","","    vec4 result;","","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","","    rgb *= result.a;","","    gl_FragColor = vec4(rgb, result.a);","}",""].join(`
`)},function(A,O){A.exports=["#define SHADER_NAME PHASER_COPY_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uBrightness;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}",""].join(`
`)},function(A,O){A.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}",""].join(`
`)},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={GenerateTexture:p(388),Palettes:p(889)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={ARNE16:p(389),C64:p(890),CGA:p(891),JMP:p(892),MSX:p(893)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Path:p(895),MoveTo:p(393),CubicBezier:p(390),Curve:p(94),Ellipse:p(391),Line:p(392),QuadraticBezier:p(394),Spline:p(395)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(390),t=p(391),a=p(5),i=p(392),e=p(393),s=p(394),r=p(10),n=p(395),o=p(3),l=p(14),h=new f({initialize:function(c,d){c===void 0&&(c=0),d===void 0&&(d=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new o,this._tmpVec2A=new o,this._tmpVec2B=new o,typeof c=="object"?this.fromJSON(c):this.startPoint.set(c,d)},add:function(u){return this.curves.push(u),this},circleTo:function(u,c,d){return c===void 0&&(c=!1),this.ellipseTo(u,u,0,360,c,d)},closePath:function(){var u=this.curves[0].getPoint(0),c=this.curves[this.curves.length-1].getPoint(1);return u.equals(c)||this.curves.push(new i(c,u)),this},cubicBezierTo:function(u,c,d,v,g,m){var y=this.getEndPoint(),T,E,S;return u instanceof o?(T=u,E=c,S=d):(T=new o(d,v),E=new o(g,m),S=new o(u,c)),this.add(new x(y,T,E,S))},quadraticBezierTo:function(u,c,d,v){var g=this.getEndPoint(),m,y;return u instanceof o?(m=u,y=c):(m=new o(d,v),y=new o(u,c)),this.add(new s(g,m,y))},draw:function(u,c){for(var d=0;d<this.curves.length;d++){var v=this.curves[d];!v.active||v.draw(u,c)}return u},ellipseTo:function(u,c,d,v,g,m){var y=new t(0,0,u,c,d,v,g,m),T=this.getEndPoint(this._tmpVec2A),E=y.getStartPoint(this._tmpVec2B);return T.subtract(E),y.x=T.x,y.y=T.y,this.add(y)},fromJSON:function(u){this.curves=[],this.cacheLengths=[],this.startPoint.set(u.x,u.y),this.autoClose=u.autoClose;for(var c=0;c<u.curves.length;c++){var d=u.curves[c];switch(d.type){case"LineCurve":this.add(i.fromJSON(d));break;case"EllipseCurve":this.add(t.fromJSON(d));break;case"SplineCurve":this.add(n.fromJSON(d));break;case"CubicBezierCurve":this.add(x.fromJSON(d));break;case"QuadraticBezierCurve":this.add(s.fromJSON(d));break}}return this},getBounds:function(u,c){u===void 0&&(u=new r),c===void 0&&(c=16),u.x=Number.MAX_VALUE,u.y=Number.MAX_VALUE;for(var d=new r,v=l.MIN_SAFE_INTEGER,g=l.MIN_SAFE_INTEGER,m=0;m<this.curves.length;m++){var y=this.curves[m];!y.active||(y.getBounds(d,c),u.x=Math.min(u.x,d.x),u.y=Math.min(u.y,d.y),v=Math.max(v,d.right),g=Math.max(g,d.bottom))}return u.right=v,u.bottom=g,u},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var u=[],c=0,d=0;d<this.curves.length;d++)c+=this.curves[d].getLength(),u.push(c);return this.cacheLengths=u,u},getEndPoint:function(u){return u===void 0&&(u=new o),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,u):u.copy(this.startPoint),u},getLength:function(){var u=this.getCurveLengths();return u[u.length-1]},getPoint:function(u,c){c===void 0&&(c=new o);for(var d=u*this.getLength(),v=this.getCurveLengths(),g=0;g<v.length;){if(v[g]>=d){var m=v[g]-d,y=this.curves[g],T=y.getLength(),E=T===0?0:1-m/T;return y.getPointAt(E,c)}g++}return null},getPoints:function(u){u===void 0&&(u=12);for(var c=[],d,v=0;v<this.curves.length;v++){var g=this.curves[v];if(!!g.active)for(var m=g.getResolution(u),y=g.getPoints(m),T=0;T<y.length;T++){var E=y[T];d&&d.equals(E)||(c.push(E),d=E)}}return this.autoClose&&c.length>1&&!c[c.length-1].equals(c[0])&&c.push(c[0]),c},getRandomPoint:function(u){return u===void 0&&(u=new o),this.getPoint(Math.random(),u)},getSpacedPoints:function(u){u===void 0&&(u=40);for(var c=[],d=0;d<=u;d++)c.push(this.getPoint(d/u));return this.autoClose&&c.push(c[0]),c},getStartPoint:function(u){return u===void 0&&(u=new o),u.copy(this.startPoint)},getTangent:function(u,c){c===void 0&&(c=new o);for(var d=u*this.getLength(),v=this.getCurveLengths(),g=0;g<v.length;){if(v[g]>=d){var m=v[g]-d,y=this.curves[g],T=y.getLength(),E=T===0?0:1-m/T;return y.getTangentAt(E,c)}g++}return null},lineTo:function(u,c){u instanceof o?this._tmpVec2B.copy(u):this._tmpVec2B.set(u,c);var d=this.getEndPoint(this._tmpVec2A);return this.add(new i([d.x,d.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(u){return u.unshift(this.getEndPoint()),this.add(new n(u))},moveTo:function(u,c){return u instanceof o?this.add(new e(u.x,u.y)):this.add(new e(u,c))},toJSON:function(){for(var u=[],c=0;c<this.curves.length;c++)u.push(this.curves[c].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:u}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(u,c){return new h(u,c)}),A.exports=h},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={DataManager:p(101),DataManagerPlugin:p(897),Events:p(315)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(101),t=p(24),a=p(20),i=new f({Extends:x,initialize:function(s){x.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once(a.BOOT,this.boot,this),s.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){x.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});t.register("DataManagerPlugin",i,"data"),A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Align:p(899),BaseShader:p(396),Bounds:p(902),Canvas:p(906),Color:p(397),ColorMatrix:p(198),Masks:p(916),RGB:p(200)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(123),x=p(17),t={In:p(900),To:p(901)};t=x(!1,t,f),A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={BottomCenter:p(290),BottomLeft:p(291),BottomRight:p(292),Center:p(293),LeftCenter:p(295),QuickSet:p(289),RightCenter:p(296),TopCenter:p(297),TopLeft:p(298),TopRight:p(299)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={BottomCenter:p(277),BottomLeft:p(278),BottomRight:p(279),LeftBottom:p(280),LeftCenter:p(281),LeftTop:p(282),QuickSet:p(276),RightBottom:p(283),RightCenter:p(284),RightTop:p(285),TopCenter:p(286),TopLeft:p(287),TopRight:p(288)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={CenterOn:p(294),GetBottom:p(42),GetBounds:p(903),GetCenterX:p(87),GetCenterY:p(89),GetLeft:p(43),GetOffsetX:p(904),GetOffsetY:p(905),GetRight:p(44),GetTop:p(45),SetBottom:p(55),SetCenterX:p(88),SetCenterY:p(90),SetLeft:p(53),SetRight:p(54),SetTop:p(52)}},function(A,O,p){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(42),x=p(43),t=p(44),a=p(45),i=function(e,s){s===void 0&&(s={});var r=x(e),n=a(e);return s.x=r,s.y=n,s.width=t(e)-r,s.height=f(e)-n,s};A.exports=i},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.width*f.originX};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.height*f.originY};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={CanvasInterpolation:p(367),CanvasPool:p(31),Smoothing:p(192),TouchAction:p(907),UserSelect:p(908)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x===void 0&&(x="none"),f.style.msTouchAction=x,f.style["ms-touch-action"]=x,f.style["touch-action"]=x,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){x===void 0&&(x="none");var t=["-webkit-","-khtml-","-moz-","-ms-",""];return t.forEach(function(a){f.style[a+"user-select"]=x}),f.style["-webkit-touch-callout"]=x,f.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(103),x=function(t){t===void 0&&(t=1024);var a=[],i=255,e,s=255,r=0,n=0;for(e=0;e<=i;e++)a.push({r:s,g:e,b:n,color:f(s,e,n)});for(r=255,e=i;e>=0;e--)a.push({r:e,g:r,b:n,color:f(e,r,n)});for(s=0,e=0;e<=i;e++,r--)a.push({r:s,g:r,b:e,color:f(s,r,e)});for(r=0,n=255,e=0;e<=i;e++,n--,s++)a.push({r:s,g:r,b:n,color:f(s,r,n)});if(t===1024)return a;var o=[],l=0,h=1024/t;for(e=0;e<t;e++)o.push(a[Math.floor(l)]),l+=h;return o};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){var x={r:f>>16&255,g:f>>8&255,b:f&255,a:255};return f>16777215&&(x.a=f>>>24),x};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(38),x=p(399),t=function(a,i,e){var s=e,r=e,n=e;if(i!==0){var o=e<.5?e*(1+i):e+i-e*i,l=2*e-o;s=x(l,o,a+1/3),r=x(l,o,a),n=x(l,o,a-1/3)}var h=new f;return h.setGLTo(s,r,n,1)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(188),x=function(t,a){t===void 0&&(t=1),a===void 0&&(a=1);for(var i=[],e=0;e<=359;e++)i.push(f(e/359,t,a));return i};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(135),x=function(i,e,s,r,n,o,l,h){l===void 0&&(l=100),h===void 0&&(h=0);var u=h/l;return{r:f(i,r,u),g:f(e,n,u),b:f(s,o,u)}},t=function(i,e,s,r){return s===void 0&&(s=100),r===void 0&&(r=0),x(i.r,i.g,i.b,e.r,e.g,e.b,s,r)},a=function(i,e,s,r,n,o){return n===void 0&&(n=100),o===void 0&&(o=0),x(i.r,i.g,i.b,e,s,r,n,o)};A.exports={RGBWithRGB:x,ColorWithRGB:a,ColorWithColor:t}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(195),x=p(38),t=function(a,i){return a===void 0&&(a=0),i===void 0&&(i=255),new x(f(a,i),f(a,i),f(a,i))};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(398),x=function(t,a,i,e,s){return e===void 0&&(e=255),s===void 0&&(s="#"),s==="#"?"#"+((1<<24)+(t<<16)+(a<<8)+i).toString(16).slice(1,7):"0x"+f(e)+f(t)+f(a)+f(i)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={BitmapMask:p(310),GeometryMask:p(311)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={AddToDOM:p(142),DOMContentLoaded:p(400),GetInnerHeight:p(401),GetScreenOrientation:p(402),GetTarget:p(407),ParseXML:p(408),RemoveFromDOM:p(202),RequestAnimationFrame:p(386)};A.exports=f},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={EventEmitter:p(919)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(9),t=p(24),a=new f({Extends:x,initialize:function(){x.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});t.register("EventEmitter",a,"events"),A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(142),x=p(321),t=p(325),a=p(31),i=p(0),e=p(346),s=p(921),r=p(366),n=p(101),o=p(384),l=p(347),h=p(400),u=p(9),c=p(22),d=p(409),v=p(24),g=p(414),m=p(415),y=p(417),T=p(106),E=p(422),S=p(385),C=p(387),M=p(426),P=new i({initialize:function(L){this.config=new e(L),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new u,this.anims=new x(this),this.textures=new E(this),this.cache=new t(this),this.registry=new n(this),this.input=new d(this,this.config),this.scene=new y(this,this.config.sceneConfig),this.device=l,this.scale=new m(this,this.config),this.sound=null,this.sound=M.create(this),this.loop=new S(this,this.config.fps),this.plugins=new g(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,h(this.boot.bind(this))},boot:function(){if(!v.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),r(this),s(this),o(this),f(this.canvas,this.config.parent),this.textures.once(T.READY,this.texturesReady,this),this.events.emit(c.BOOT)},texturesReady:function(){this.events.emit(c.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),C(this);var R=this.events;R.on(c.HIDDEN,this.onHidden,this),R.on(c.VISIBLE,this.onVisible,this),R.on(c.BLUR,this.onBlur,this),R.on(c.FOCUS,this.onFocus,this)},step:function(R,L){if(this.pendingDestroy)return this.runDestroy();var w=this.events;w.emit(c.PRE_STEP,R,L),w.emit(c.STEP,R,L),this.scene.update(R,L),w.emit(c.POST_STEP,R,L);var B=this.renderer;B.preRender(),w.emit(c.PRE_RENDER,B,R,L),this.scene.render(B),B.postRender(),w.emit(c.POST_RENDER,B,R,L)},headlessStep:function(R,L){if(this.pendingDestroy)return this.runDestroy();var w=this.events;w.emit(c.PRE_STEP,R,L),w.emit(c.STEP,R,L),this.scene.update(R,L),w.emit(c.POST_STEP,R,L),w.emit(c.PRE_RENDER),w.emit(c.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(c.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(c.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(R,L){L===void 0&&(L=!1),this.pendingDestroy=!0,this.removeCanvas=R,this.noReturn=L},runDestroy:function(){this.scene.destroy(),this.events.emit(c.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});A.exports=P},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(142),x=function(t){var a=t.config;if(!(!a.parent||!a.domCreateContainer)){var i=document.createElement("div");i.style.cssText=["display: block;","width: "+t.scale.width+"px;","height: "+t.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+a.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),t.domContainer=i,f(i,a.parent)}};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="boot"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="destroy"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="dragend"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="dragenter"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="drag"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="dragleave"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="dragover"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="dragstart"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="drop"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="gameout"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="gameover"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="gameobjectdown"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="dragend"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="dragenter"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="drag"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="dragleave"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="dragover"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="dragstart"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="drop"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="gameobjectmove"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="gameobjectout"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="gameobjectover"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pointerdown"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pointermove"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pointerout"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pointerover"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pointerup"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="wheel"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="gameobjectup"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="gameobjectwheel"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="boot"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="process"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="update"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pointerdown"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pointerdownoutside"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pointermove"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pointerout"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pointerover"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pointerup"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pointerupoutside"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="wheel"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pointerlockchange"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="preupdate"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="shutdown"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="start"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="update"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="addfile"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="complete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="filecomplete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="filecomplete-"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="loaderror"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="load"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="fileprogress"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="postprocess"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="progress"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="start"},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};A.exports=f},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){if(!t.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=f.source[x];f.add("__BASE",x,0,0,a.width,a.height);for(var i=t.getElementsByTagName("SubTexture"),e,s=0;s<i.length;s++){var r=i[s].attributes,n=r.name.value,o=parseInt(r.x.value,10),l=parseInt(r.y.value,10),h=parseInt(r.width.value,10),u=parseInt(r.height.value,10);if(e=f.add(n,x,o,l,h,u),r.frameX){var c=Math.abs(parseInt(r.frameX.value,10)),d=Math.abs(parseInt(r.frameY.value,10)),v=parseInt(r.frameWidth.value,10),g=parseInt(r.frameHeight.value,10);e.setTrim(h,u,c,d,v,g)}}return f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=f.source[x];return f.add("__BASE",x,0,0,t.width,t.height),f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=f.source[x];return f.add("__BASE",x,0,0,t.width,t.height),f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(77),x=function(t,a,i){if(!i.frames&&!i.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=t.source[a];t.add("__BASE",a,0,0,e.width,e.height);for(var s=Array.isArray(i.textures)?i.textures[a].frames:i.frames,r,n=0;n<s.length;n++){var o=s[n];r=t.add(o.filename,a,o.frame.x,o.frame.y,o.frame.w,o.frame.h),o.trimmed&&r.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(r.rotated=!0,r.updateUVsInverted());var l=o.anchor||o.pivot;l&&(r.customPivot=!0,r.pivotX=l.x,r.pivotY=l.y),r.customData=f(o)}for(var h in i)h!=="frames"&&(Array.isArray(i[h])?t.customData[h]=i[h].slice(0):t.customData[h]=i[h]);return t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(77),x=function(t,a,i){if(!i.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=t.source[a];t.add("__BASE",a,0,0,e.width,e.height);var s=i.frames,r;for(var n in s)if(!!s.hasOwnProperty(n)){var o=s[n];r=t.add(n,a,o.frame.x,o.frame.y,o.frame.w,o.frame.h),o.trimmed&&r.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(r.rotated=!0,r.updateUVsInverted());var l=o.anchor||o.pivot;l&&(r.customPivot=!0,r.pivotX=l.x,r.pivotY=l.y),r.customData=f(o)}for(var h in i)h!=="frames"&&(Array.isArray(i[h])?t.customData[h]=i[h].slice(0):t.customData[h]=i[h]);return t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(2),x=function(t,a,i,e,s,r,n){var o=f(n,"frameWidth",null),l=f(n,"frameHeight",o);if(o===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var h=t.source[a];t.add("__BASE",a,0,0,h.width,h.height);var u=f(n,"startFrame",0),c=f(n,"endFrame",-1),d=f(n,"margin",0),v=f(n,"spacing",0),g=Math.floor((s-d+v)/(o+v)),m=Math.floor((r-d+v)/(l+v)),y=g*m;y===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",t.key),(u>y||u<-y)&&(u=0),u<0&&(u=y+u),c!==-1&&(y=u+(c+1));for(var T=d,E=d,S=0,C=0,M=0;M<y;M++){S=0,C=0;var P=T+o,R=E+l;P>s&&(S=P-s),R>r&&(C=R-r),t.add(M,a,i+T,e+E,o-S,l-C),T+=o+v,T+o>s&&(T=d,E+=l+v)}return t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(2),x=function(t,a,i){var e=f(i,"frameWidth",null),s=f(i,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var r=t.source[0];t.add("__BASE",0,0,0,r.width,r.height),f(i,"startFrame",0),f(i,"endFrame",-1);for(var n=f(i,"margin",0),o=f(i,"spacing",0),l=a.cutX,h=a.cutY,u=a.cutWidth,c=a.cutHeight,d=a.realWidth,v=a.realHeight,g=Math.floor((d-n+o)/(e+o)),m=Math.floor((v-n+o)/(s+o)),y=a.x,T=e-y,E=e-(d-u-y),S=a.y,C=s-S,M=s-(v-c-S),P,R=n,L=n,w=0,B=a.sourceIndex,G=0;G<m;G++){for(var Y=G===0,D=G===m-1,F=0;F<g;F++){var N=F===0,I=F===g-1;if(P=t.add(w,B,l+R,h+L,e,s),N||Y||I||D){var b=N?y:0,U=Y?S:0,X=0,z=0;N&&(X+=e-T),I&&(X+=e-E),Y&&(z+=s-C),D&&(z+=s-M);var V=e-X,W=s-z;P.cutWidth=V,P.cutHeight=W,P.setTrim(e,s,b,U,V,W)}R+=o,N?R+=T:I?R+=E:R+=e,w++}R=n,L+=o,Y?L+=C:D?L+=M:L+=s}return t};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=0,f=function(t,a,i,e){var s=p-e.y-e.height;t.add(i,a,e.x,s,e.width,e.height)},x=function(t,a,i){var e=t.source[a];t.add("__BASE",a,0,0,e.width,e.height),p=e.height;for(var s=i.split(`
`),r=/^[ ]*(- )*(\w+)+[: ]+(.*)/,n="",o="",l={x:0,y:0,width:0,height:0},h=0;h<s.length;h++){var u=s[h].match(r);if(!!u){var c=u[1]==="- ",d=u[2],v=u[3];if(c&&(o!==n&&(f(t,a,o,l),n=o),l={x:0,y:0,width:0,height:0}),d==="name"){o=v;continue}switch(d){case"x":case"y":case"width":case"height":l[d]=parseInt(v,10);break}}}return o!==n&&f(t,a,o,l),t};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="complete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="decoded"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="decodedall"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="destroy"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="detune"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="detune"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="mute"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="rate"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="volume"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="loop"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="looped"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="mute"},function(A,O){/**
 * @author       pi-kei
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pan"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pauseall"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pause"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="play"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="rate"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="resumeall"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="resume"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="seek"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="stopall"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="stop"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="unlocked"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="volume"},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Events:p(75),DisplayList:p(1012),GameObjectCreator:p(16),GameObjectFactory:p(5),UpdateList:p(1040),Components:p(11),GetCalcMatrix:p(19),BuildGameObject:p(28),BuildGameObjectAnimation:p(439),GameObject:p(15),BitmapText:p(148),Blitter:p(213),Bob:p(440),Container:p(214),DOMElement:p(442),DynamicBitmapText:p(215),Extern:p(444),Graphics:p(216),Group:p(113),Image:p(125),Layer:p(219),Particles:p(1074),PathFollower:p(457),RenderTexture:p(221),RetroFont:p(1082),Rope:p(223),Sprite:p(73),Text:p(224),GetTextSize:p(458),MeasureText:p(460),TextStyle:p(459),TileSprite:p(225),Zone:p(129),Video:p(226),Shape:p(34),Arc:p(461),Curve:p(462),Ellipse:p(463),Grid:p(464),IsoBox:p(465),IsoTriangle:p(466),Line:p(467),Polygon:p(468),Rectangle:p(473),Star:p(474),Triangle:p(475),Factories:{Blitter:p(1130),Container:p(1131),DOMElement:p(1132),DynamicBitmapText:p(1133),Extern:p(1134),Graphics:p(1135),Group:p(1136),Image:p(1137),Layer:p(1138),Particles:p(1139),PathFollower:p(1140),RenderTexture:p(1141),Rope:p(1142),Sprite:p(1143),StaticBitmapText:p(1144),Text:p(1145),TileSprite:p(1146),Zone:p(1147),Video:p(1148),Arc:p(1149),Curve:p(1150),Ellipse:p(1151),Grid:p(1152),IsoBox:p(1153),IsoTriangle:p(1154),Line:p(1155),Polygon:p(1156),Rectangle:p(1157),Star:p(1158),Triangle:p(1159)},Creators:{Blitter:p(1160),Container:p(1161),DynamicBitmapText:p(1162),Graphics:p(1163),Group:p(1164),Image:p(1165),Layer:p(1166),Particles:p(1167),RenderTexture:p(1168),Rope:p(1169),Sprite:p(1170),StaticBitmapText:p(1171),Text:p(1172),TileSprite:p(1173),Zone:p(1174),Video:p(1175)}};f.Shader=p(229),f.Mesh=p(230),f.PointLight=p(150),f.Factories.Shader=p(1184),f.Factories.Mesh=p(1185),f.Factories.PointLight=p(1186),f.Creators.Shader=p(1187),f.Creators.Mesh=p(1188),f.Creators.PointLight=p(1189),f.Light=p(481),f.LightsManager=p(482),f.LightsPlugin=p(1190),A.exports=f},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(110),t=p(24),a=p(75),i=p(20),e=p(79),s=new f({Extends:x,initialize:function(n){x.call(this,n),this.sortChildrenFlag=!1,this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(i.BOOT,this.boot,this),this.events.on(i.START,this.start,this)},boot:function(){this.events.once(i.DESTROY,this.destroy,this)},addChildCallback:function(r){r.displayList&&r.displayList!==this&&r.removeFromDisplayList(),r.displayList||(this.queueDepthSort(),r.displayList=this,r.emit(a.ADDED_TO_SCENE,r,this.scene),this.events.emit(i.ADDED_TO_SCENE,r,this.scene))},removeChildCallback:function(r){this.queueDepthSort(),r.displayList=null,r.emit(a.REMOVED_FROM_SCENE,r,this.scene),this.events.emit(i.REMOVED_FROM_SCENE,r,this.scene)},start:function(){this.events.once(i.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(r,n){return r._depth-n._depth},getChildren:function(){return this.list},shutdown:function(){for(var r=this.list,n=r.length;n--;)r[n].destroy(!0);r.length=0,this.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(i.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});t.register("DisplayList",s,"displayList"),A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={CheckMatrix:p(209),MatrixToString:p(1014),ReverseColumns:p(1015),ReverseRows:p(1016),Rotate180:p(1017),RotateLeft:p(1018),RotateMatrix:p(147),RotateRight:p(1019),Translate:p(1020),TransposeMatrix:p(435)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(186),x=p(209),t=function(a){var i="";if(!x(a))return i;for(var e=0;e<a.length;e++){for(var s=0;s<a[e].length;s++){var r=a[e][s].toString();r!=="undefined"?i+=f(r,2):i+="?",s<a[e].length-1&&(i+=" |")}if(e<a.length-1){i+=`
`;for(var n=0;n<a[e].length;n++)i+="---",n<a[e].length-1&&(i+="+");i+=`
`}}return i};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.reverse()};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){for(var x=0;x<f.length;x++)f[x].reverse();return f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(147),x=function(t){return f(t,180)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(147),x=function(t){return f(t,90)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(147),x=function(t){return f(t,-90)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(178),x=p(179),t=function(a,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),e!==0&&(e<0?f(a,Math.abs(e)):x(a,e)),i!==0)for(var s=0;s<a.length;s++){var r=a[s];i<0?f(r,Math.abs(i)):x(r,i)}return a};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i){if(i===void 0&&(i=f),t>0){var e=t-f.length;if(e<=0)return null}if(!Array.isArray(x))return f.indexOf(x)===-1?(f.push(x),a&&a.call(i,x),x):null;for(var s=x.length-1;s>=0;)f.indexOf(x[s])!==-1&&x.splice(s,1),s--;if(s=x.length,s===0)return null;t>0&&s>e&&(x.splice(e),s=e);for(var r=0;r<s;r++){var n=x[r];f.push(n),a&&a.call(i,n)}return x};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i,e){if(t===void 0&&(t=0),e===void 0&&(e=f),a>0){var s=a-f.length;if(s<=0)return null}if(!Array.isArray(x))return f.indexOf(x)===-1?(f.splice(t,0,x),i&&i.call(e,x),x):null;for(var r=x.length-1;r>=0;)f.indexOf(x[r])!==-1&&x.pop(),r--;if(r=x.length,r===0)return null;a>0&&r>s&&(x.splice(s),r=s);for(var n=r-1;n>=0;n--){var o=x[n];f.splice(t,0,o),i&&i.call(e,o)}return x};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=f.indexOf(x);return t!==-1&&t<f.length&&(f.splice(t,1),f.push(x)),x};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(78),x=function(t,a,i,e,s){e===void 0&&(e=0),s===void 0&&(s=t.length);var r=0;if(f(t,e,s))for(var n=e;n<s;n++){var o=t[n];o[a]===i&&r++}return r};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a,i=[null];for(a=3;a<arguments.length;a++)i.push(arguments[a]);for(a=0;a<f.length;a++)i[0]=f[a],x.apply(t,i);return f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(78),x=function(t,a,i,e,s){if(e===void 0&&(e=0),s===void 0&&(s=t.length),f(t,e,s)){var r,n=[null];for(r=5;r<arguments.length;r++)n.push(arguments[r]);for(r=e;r<s;r++)n[0]=t[r],a.apply(i,n)}return t};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=f.indexOf(x);if(t>0){var a=f[t-1],i=f.indexOf(a);f[t]=a,f[i]=x}return f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=f.indexOf(x);if(a===-1||t<0||t>=f.length)throw new Error("Supplied index out of bounds");return a!==t&&(f.splice(a,1),f.splice(t,0,x)),x};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=f.indexOf(x);if(t!==-1&&t<f.length-1){var a=f[t+1],i=f.indexOf(a);f[t]=a,f[i]=x}return f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){if(x===t)return f;var a=f.indexOf(x),i=f.indexOf(t);if(a<0||i<0)throw new Error("Supplied items must be elements of the same array");return a>i||(f.splice(a,1),i===f.length-1?f.push(x):f.splice(i,0,x)),f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){if(x===t)return f;var a=f.indexOf(x),i=f.indexOf(t);if(a<0||i<0)throw new Error("Supplied items must be elements of the same array");return a<i||(f.splice(a,1),i===0?f.unshift(x):f.splice(i,0,x)),f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(363),x=function(t,a,i){t===void 0&&(t=0),a===void 0&&(a=null),i===void 0&&(i=1),a===null&&(a=t,t=0);for(var e=[],s=Math.max(f((a-t)/(i||1)),0),r=0;r<s;r++)e.push(t),t+=i;return e};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(74),x=function(t,a,i,e){if(e===void 0&&(e=t),a<0||a>t.length-1)throw new Error("Index out of bounds");var s=f(t,a);return i&&i.call(e,s),s};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(78),x=function(t,a,i,e,s){if(a===void 0&&(a=0),i===void 0&&(i=t.length),s===void 0&&(s=t),f(t,a,i)){var r=i-a,n=t.splice(a,r);if(e)for(var o=0;o<n.length;o++){var l=n[o];e.call(s,l)}return n}else return[]};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(74),x=function(t,a,i){a===void 0&&(a=0),i===void 0&&(i=t.length);var e=a+Math.floor(Math.random()*i);return f(t,e)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=f.indexOf(x),i=f.indexOf(t);return a!==-1&&i===-1?(f[a]=t,!0):!1};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=f.indexOf(x);return t!==-1&&t>0&&(f.splice(t,1),f.unshift(x)),x};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(78),x=function(t,a,i,e,s){if(e===void 0&&(e=0),s===void 0&&(s=t.length),f(t,e,s))for(var r=e;r<s;r++){var n=t[r];n.hasOwnProperty(a)&&(n[a]=i)}return t};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){if(x===t)return f;var a=f.indexOf(x),i=f.indexOf(t);if(a<0||i<0)throw new Error("Supplied items must be elements of the same array");return f[a]=t,f[i]=x,f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(211),t=p(24),a=p(20),i=new f({Extends:x,initialize:function(s){x.call(this),this.checkQueue=!0,this.scene=s,this.systems=s.sys,s.sys.events.once(a.BOOT,this.boot,this),s.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(a.PRE_UPDATE,this.update,this),e.on(a.UPDATE,this.sceneUpdate,this),e.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,s){for(var r=this._active,n=r.length,o=0;o<n;o++){var l=r[o];l.active&&l.preUpdate.call(l,e,s)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var s=this.systems.events;s.off(a.PRE_UPDATE,this.update,this),s.off(a.UPDATE,this.sceneUpdate,this),s.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});t.register("UpdateList",i,"updateList"),A.exports=i},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="add"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="remove"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){if(t===void 0&&(t=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var i=f.text,e=i.length,s=f.maxWidth,r=f.wordWrapCharCode,n=Number.MAX_VALUE,o=Number.MAX_VALUE,l=0,h=0,u=f.fontData.chars,c=f.fontData.lineHeight,d=f.letterSpacing,v=0,g=0,m=0,y=null,T=f._align,E=0,S=0,C=f.fontSize/f.fontData.size,M=C*f.scaleX,P=C*f.scaleY,R=null,L=0,w=[],B=Number.MAX_VALUE,G=0,Y=0,D=0,F,N=[],I=[],b=null;if(s>0){for(F=0;F<e;F++){if(m=i.charCodeAt(F),m===10){b!==null&&(N.push({word:b.word,i:b.i,x:b.x*M,y:b.y*P,w:b.w*M,h:b.h*P,cr:!0}),b=null),v=0,g+=c,R=null;continue}if(y=u[m],!!y){if(R!==null)var U=y.kerning[L];m===r?b!==null&&(N.push({word:b.word,i:b.i,x:b.x*M,y:b.y*P,w:b.w*M,h:b.h*P,cr:!1}),b=null):(b===null&&(b={word:"",i:F,x:v,y:g,w:0,h:c,cr:!1}),b.word=b.word.concat(i[F]),b.w+=y.xOffset+y.xAdvance+(U!==void 0?U:0)),v+=y.xAdvance+d,R=y,L=m}}b!==null&&N.push({word:b.word,i:b.i,x:b.x*M,y:b.y*P,w:b.w*M,h:b.h*P,cr:!1}),v=0,g=0,R=null,L=0;var X,z=0,V=[];for(F=0;F<N.length;F++){var W=N[F],H=W.x,K=W.x+W.w;if(X){var Z=H-(X.x+X.w);z=H-(Z+X.w),X=null}var j=H-z,k=K-z;j>s||k>s?(V.push(W.i-1),W.cr?(V.push(W.i+W.word.length),z=0,X=null):X=W):W.cr&&(V.push(W.i+W.word.length),z=0,X=null)}var J=function(at,ht,ft){return at.substr(0,ht)+ft+at.substr(ht+1)};for(F=V.length-1;F>=0;F--)i=J(i,V[F],`
`);a.wrappedText=i,e=i.length,N=[],b=null}var q=0;for(F=0;F<e;F++){if(m=i.charCodeAt(F),m===10){b!==null&&(N.push({word:b.word,i:b.i,x:b.x*M,y:b.y*P,w:b.w*M,h:b.h*P}),b=null),v=0,g+=c,R=null,w[Y]=D,D>G&&(G=D),D<B&&(B=D),Y++,D=0;continue}if(y=u[m],!!y){if(E=v,S=g,R!==null){var _=y.kerning[L];E+=_!==void 0?_:0}n>E&&(n=E),o>S&&(o=S);var tt=E+y.xAdvance,Q=S+c;l<tt&&(l=tt),h<Q&&(h=Q);var et=y.xOffset+y.xAdvance+(_!==void 0?_:0);m===r?b!==null&&(N.push({word:b.word,i:b.i,x:b.x*M,y:b.y*P,w:b.w*M,h:b.h*P}),b=null):(b===null&&(b={word:"",i:q,x:v,y:g,w:0,h:c}),b.word=b.word.concat(i[F]),b.w+=et),I.push({i:q,char:i[F],code:m,x:(y.xOffset+v)*C,y:(y.yOffset+g)*C,w:y.width*C,h:y.height*C,t:g*C,r:tt*C,b:c*C,line:Y,glyph:y}),v+=y.xAdvance+d,R=y,L=m,D=tt*C,q++}}if(b!==null&&N.push({word:b.word,i:b.i,x:b.x*M,y:b.y*P,w:b.w*M,h:b.h*P}),w[Y]=D,D>G&&(G=D),D<B&&(B=D),T>0)for(var $=0;$<I.length;$++){var it=I[$];if(T===1){var ot=(G-w[it.line])/2;it.x+=ot,it.r+=ot}else if(T===2){var ut=G-w[it.line];it.x+=ut,it.r+=ut}}var rt=a.local,nt=a.global,lt=a.lines;return rt.x=n*C,rt.y=o*C,rt.width=l*C,rt.height=h*C,nt.x=f.x-f._displayOriginX+n*M,nt.y=f.y-f._displayOriginY+o*P,nt.width=l*M,nt.height=h*P,lt.shortest=B,lt.longest=G,lt.lengths=w,x&&(rt.x=Math.ceil(rt.x),rt.y=Math.ceil(rt.y),rt.width=Math.ceil(rt.width),rt.height=Math.ceil(rt.height),nt.x=Math.ceil(nt.x),nt.y=Math.ceil(nt.y),nt.width=Math.ceil(nt.width),nt.height=Math.ceil(nt.height),lt.shortest=Math.ceil(B),lt.longest=Math.ceil(G)),t&&(f._displayOriginX=f.originX*rt.width,f._displayOriginY=f.originY*rt.height,nt.x=f.x-f._displayOriginX*f.scaleX,nt.y=f.y-f._displayOriginY*f.scaleY,x&&(nt.x=Math.ceil(nt.x),nt.y=Math.ceil(nt.y))),a.words=N,a.characters=I,a.lines.height=c,a.scale=C,a.scaleX=f.scaleX,a.scaleY=f.scaleY,a};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(212),x=function(t,a,i,e,s,r,n){var o=t.sys.textures.get(i),l=o.get(e),h=t.sys.cache.xml.get(s);if(l&&h){var u=f(h,l,r,n,o);return t.sys.cache.bitmapFont.add(a,{data:u,texture:i,frame:e,fromAtlas:!0}),!0}else return!1};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1046),x=p(1048),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1047),x=p(19),t=p(12),a=function(i,e,s,r){var n=e._text,o=n.length;if(o!==0){s.addToRenderList(e);var l=i.pipelines.set(e.pipeline,e),h=x(e,s,r).calc,u=s.roundPixels,c=s.alpha,d=e.charColors,v=e.tintFill,g=t.getTintAppendFloatAlpha,m=g(e.tintTopLeft,c*e._alphaTL),y=g(e.tintTopRight,c*e._alphaTR),T=g(e.tintBottomLeft,c*e._alphaBL),E=g(e.tintBottomRight,c*e._alphaBR),S=e.frame.glTexture,C=l.setGameObject(e),M=e.getTextBounds(!1),P,R,L,w=M.characters,B=e.dropShadowX,G=e.dropShadowY,Y=B!==0||G!==0;if(i.pipelines.preBatch(e),Y){var D=e.dropShadowColor,F=e.dropShadowAlpha,N=g(D,c*F*e._alphaTL),I=g(D,c*F*e._alphaTR),b=g(D,c*F*e._alphaBL),U=g(D,c*F*e._alphaBR);for(P=0;P<w.length;P++)R=w[P],L=R.glyph,!(R.code===32||L.width===0||L.height===0)&&f(l,e,R,L,B,G,h,u,N,I,b,U,1,S,C)}for(P=0;P<w.length;P++)if(R=w[P],L=R.glyph,!(R.code===32||L.width===0||L.height===0))if(d[R.i]){var X=d[R.i],z=X.tintEffect,V=g(X.tintTL,c*e._alphaTL),W=g(X.tintTR,c*e._alphaTR),H=g(X.tintBL,c*e._alphaBL),K=g(X.tintBR,c*e._alphaBR);f(l,e,R,L,0,0,h,u,V,W,H,K,z,S,C)}else f(l,e,R,L,0,0,h,u,m,y,T,E,v,S,C);i.pipelines.postBatch(e)}};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i,e,s,r,n,o,l,h,u,c,d){var v=t.x-x.displayOriginX+i,g=t.y-x.displayOriginY+e,m=v+t.w,y=g+t.h,T=s.getXRound(v,g,r),E=s.getYRound(v,g,r),S=s.getXRound(v,y,r),C=s.getYRound(v,y,r),M=s.getXRound(m,y,r),P=s.getYRound(m,y,r),R=s.getXRound(m,g,r),L=s.getYRound(m,g,r);f.batchQuad(x,T,E,S,C,M,P,R,L,a.u0,a.v0,a.u1,a.v1,n,o,l,h,u,c,d)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(30),x=function(t,a,i,e){var s=a._text,r=s.length,n=t.currentContext;if(!(r===0||!f(t,n,a,i,e))){i.addToRenderList(a);var o=a.fromAtlas?a.frame:a.texture.frames.__BASE,l=a.fontData.chars,h=a.fontData.lineHeight,u=a._letterSpacing,c=0,d=0,v=0,g=null,m=0,y=0,T=0,E=0,S=0,C=0,M=null,P=0,R=o.source.image,L=o.cutX,w=o.cutY,B=a._fontSize/a.fontData.size,G=a._align,Y=0,D=0,F=a.getTextBounds(!1);a.maxWidth>0&&(s=F.wrappedText,r=s.length);var N=a._bounds.lines;G===1?D=(N.longest-N.lengths[0])/2:G===2&&(D=N.longest-N.lengths[0]),n.translate(-a.displayOriginX,-a.displayOriginY);for(var I=i.roundPixels,b=0;b<r;b++){if(v=s.charCodeAt(b),v===10){Y++,G===1?D=(N.longest-N.lengths[Y])/2:G===2&&(D=N.longest-N.lengths[Y]),c=0,d+=h,M=null;continue}if(g=l[v],!!g){if(m=L+g.x,y=w+g.y,T=g.width,E=g.height,S=g.xOffset+c,C=g.yOffset+d,M!==null){var U=g.kerning[P];S+=U!==void 0?U:0}S*=B,C*=B,S+=D,c+=g.xAdvance+u,M=g,P=v,!(T===0||E===0||v===32)&&(I&&(S=Math.round(S),C=Math.round(C)),n.save(),n.translate(S,C),n.scale(B,B),n.drawImage(R,m,y,T,E,0,0,T,E),n.restore())}}n.restore()}};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1050),x=p(1051),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(25),x=p(12),t=new f,a=function(i,e,s,r){var n=e.getRenderList();if(n.length!==0){var o=s.alpha*e.alpha;if(o!==0){s.addToRenderList(e);var l=i.pipelines.set(this.pipeline,e),h=s.scrollX*e.scrollFactorX,u=s.scrollY*e.scrollFactorY,c=t.copyFrom(s.matrix);r&&(c.multiplyWithOffset(r,-h,-u),h=0,u=0);var d=e.x-h,v=e.y-u,g=-1,m=!1,y=s.roundPixels;i.pipelines.preBatch(e);for(var T=0;T<n.length;T++){var E=n[T],S=E.frame,C=E.alpha*o;if(C!==0){var M=S.width,P=S.height,R=d+E.x+S.x,L=v+E.y+S.y;E.flipX&&(M*=-1,R+=S.width),E.flipY&&(P*=-1,L+=S.height);var w=R+M,B=L+P,G=c.getX(R,L),Y=c.getY(R,L),D=c.getX(w,B),F=c.getY(w,B),N=x.getTintAppendFloatAlpha(E.tint,C);if(S.sourceIndex!==g){var I=l.setGameObject(e,S);g=S.sourceIndex}y&&(G=Math.round(G),Y=Math.round(Y),D=Math.round(D),F=Math.round(F)),l.batchQuad(e,G,Y,G,F,D,F,D,Y,S.u0,S.v0,S.u1,S.v1,N,N,N,N,m,S.glTexture,I)&&(g=-1)}}i.pipelines.postBatch(e)}}};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){var i=x.getRenderList();if(i.length!==0){var e=f.currentContext,s=t.alpha*x.alpha;if(s!==0){t.addToRenderList(x),e.globalCompositeOperation=f.blendModes[x.blendMode],e.imageSmoothingEnabled=!(!f.antialias||x.frame.source.scaleMode);var r=x.x-t.scrollX*x.scrollFactorX,n=x.y-t.scrollY*x.scrollFactorY;e.save(),a&&a.copyToContext(e);for(var o=t.roundPixels,l=0;l<i.length;l++){var h=i[l],u=h.flipX||h.flipY,c=h.frame,d=c.canvasData,v=c.x,g=c.y,m=1,y=1,T=h.alpha*s;T!==0&&(e.globalAlpha=T,u?(h.flipX&&(m=-1,v-=d.width),h.flipY&&(y=-1,g-=d.height),e.save(),e.translate(h.x+r,h.y+n),e.scale(m,y),e.drawImage(c.source.image,d.x,d.y,d.width,d.height,v,g,d.width,d.height),e.restore()):(o&&(v=Math.round(v),g=Math.round(g)),e.drawImage(c.source.image,d.x,d.y,d.width,d.height,v+h.x+r,g+h.y+n,d.width,d.height)))}e.restore()}}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1053),x=p(1054),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){t.addToRenderList(x);var i=x.list,e=i.length;if(e!==0){var s=x.localTransform;a?(s.loadIdentity(),s.multiply(a),s.translate(x.x,x.y),s.rotate(x.rotation),s.scale(x.scaleX,x.scaleY)):s.applyITRS(x.x,x.y,x.rotation,x.scaleX,x.scaleY),f.pipelines.preBatch(x);var r=x.blendMode!==-1;r||f.setBlendMode(0);for(var n=x.alpha,o=x.scrollFactorX,l=x.scrollFactorY,h=0;h<e;h++){var u=i[h];if(!!u.willRender(t)){var c,d,v,g;if(u.alphaTopLeft!==void 0)c=u.alphaTopLeft,d=u.alphaTopRight,v=u.alphaBottomLeft,g=u.alphaBottomRight;else{var m=u.alpha;c=m,d=m,v=m,g=m}var y=u.scrollFactorX,T=u.scrollFactorY;!r&&u.blendMode!==f.currentBlendMode&&f.setBlendMode(u.blendMode);var E=u.mask;E&&E.preRenderWebGL(f,u,t);var S=u.type;S!==f.currentType&&(f.newType=!0,f.currentType=S),f.nextTypeMatch=h<e-1?i[h+1].type===f.currentType:!1,u.setScrollFactor(y*o,T*l),u.setAlpha(c*n,d*n,v*n,g*n),u.renderWebGL(f,u,t,s),u.setAlpha(c,d,v,g),u.setScrollFactor(y,T),E&&E.postRenderWebGL(f,t),f.newType=!1}}f.pipelines.postBatch(x)}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){t.addToRenderList(x);var i=x.list;if(i.length!==0){var e=x.localTransform;a?(e.loadIdentity(),e.multiply(a),e.translate(x.x,x.y),e.rotate(x.rotation),e.scale(x.scaleX,x.scaleY)):e.applyITRS(x.x,x.y,x.rotation,x.scaleX,x.scaleY);var s=x.blendMode!==-1;s||f.setBlendMode(0);var r=x._alpha,n=x.scrollFactorX,o=x.scrollFactorY;x.mask&&x.mask.preRenderCanvas(f,null,t);for(var l=0;l<i.length;l++){var h=i[l];if(!!h.willRender(t)){var u=h.alpha,c=h.scrollFactorX,d=h.scrollFactorY;!s&&h.blendMode!==f.currentBlendMode&&f.setBlendMode(h.blendMode),h.setScrollFactor(c*n,d*o),h.setAlpha(u*r),h.renderCanvas(f,h,t,e),h.setAlpha(u),h.setScrollFactor(c,d)}}x.mask&&x.mask.postRenderCanvas(f)}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(443),x=p(443),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1058),x=p(1059),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(19),x=p(25),t=p(12),a=new x,i=function(e,s,r,n){var o=s.text,l=o.length;if(l!==0){r.addToRenderList(s);var h=e.pipelines.set(s.pipeline,s),u=f(s,r,n),c=u.sprite,d=u.calc,v=a,g=s.cropWidth>0||s.cropHeight>0;g&&(h.flush(),e.pushScissor(d.tx,d.ty,s.cropWidth*d.scaleX,s.cropHeight*d.scaleY));var m=s.frame,y=m.glTexture,T=s.tintFill,E=t.getTintAppendFloatAlpha(s.tintTopLeft,r.alpha*s._alphaTL),S=t.getTintAppendFloatAlpha(s.tintTopRight,r.alpha*s._alphaTR),C=t.getTintAppendFloatAlpha(s.tintBottomLeft,r.alpha*s._alphaBL),M=t.getTintAppendFloatAlpha(s.tintBottomRight,r.alpha*s._alphaBR),P=h.setGameObject(s),R=0,L=0,w=0,B=0,G=s.letterSpacing,Y,D=0,F=0,N,I=s.scrollX,b=s.scrollY,U=s.fontData,X=U.chars,z=U.lineHeight,V=s.fontSize/U.size,W=0,H=s._align,K=0,Z=0,j=s.getTextBounds(!1);s.maxWidth>0&&(o=j.wrappedText,l=o.length);var k=s._bounds.lines;H===1?Z=(k.longest-k.lengths[0])/2:H===2&&(Z=k.longest-k.lengths[0]);var J=r.roundPixels,q=s.displayCallback,_=s.callbackData;e.pipelines.preBatch(s);for(var tt=0;tt<l;tt++){if(w=o.charCodeAt(tt),w===10){K++,H===1?Z=(k.longest-k.lengths[K])/2:H===2&&(Z=k.longest-k.lengths[K]),R=0,L+=z,N=null;continue}if(Y=X[w],!!Y){D=Y.width,F=Y.height;var Q=Y.xOffset+R-I,et=Y.yOffset+L-b;if(N!==null){var $=Y.kerning[B];Q+=$!==void 0?$:0}if(R+=Y.xAdvance+G,N=Y,B=w,!(D===0||F===0||w===32)){if(V=s.fontSize/s.fontData.size,W=0,q){_.color=0,_.tint.topLeft=E,_.tint.topRight=S,_.tint.bottomLeft=C,_.tint.bottomRight=M,_.index=tt,_.charCode=w,_.x=Q,_.y=et,_.scale=V,_.rotation=W,_.data=Y.data;var it=q(_);Q=it.x,et=it.y,V=it.scale,W=it.rotation,it.color?(E=it.color,S=it.color,C=it.color,M=it.color):(E=it.tint.topLeft,S=it.tint.topRight,C=it.tint.bottomLeft,M=it.tint.bottomRight),E=t.getTintAppendFloatAlpha(E,r.alpha*s._alphaTL),S=t.getTintAppendFloatAlpha(S,r.alpha*s._alphaTR),C=t.getTintAppendFloatAlpha(C,r.alpha*s._alphaBL),M=t.getTintAppendFloatAlpha(M,r.alpha*s._alphaBR)}Q*=V,et*=V,Q-=s.displayOriginX,et-=s.displayOriginY,Q+=Z,v.applyITRS(Q,et,W,V,V),d.multiply(v,c);var ot=Y.u0,ut=Y.v0,rt=Y.u1,nt=Y.v1,lt=D,at=F,ht=c.e,ft=c.f,dt=at*c.c+c.e,ct=at*c.d+c.f,pt=lt*c.a+at*c.c+c.e,vt=lt*c.b+at*c.d+c.f,gt=lt*c.a+c.e,yt=lt*c.b+c.f;J&&(ht=Math.round(ht),ft=Math.round(ft),dt=Math.round(dt),ct=Math.round(ct),pt=Math.round(pt),vt=Math.round(vt),gt=Math.round(gt),yt=Math.round(yt)),h.batchQuad(s,ht,ft,dt,ct,pt,vt,gt,yt,ot,ut,rt,nt,E,S,C,M,T,y,P)}}}g&&(h.flush(),e.popScissor()),e.pipelines.postBatch(s)}};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(30),x=function(t,a,i,e){var s=a._text,r=s.length,n=t.currentContext;if(!(r===0||!f(t,n,a,i,e))){i.addToRenderList(a);var o=a.fromAtlas?a.frame:a.texture.frames.__BASE,l=a.displayCallback,h=a.callbackData,u=a.fontData.chars,c=a.fontData.lineHeight,d=a._letterSpacing,v=0,g=0,m=0,y=null,T=0,E=0,S=0,C=0,M=0,P=0,R=null,L=0,w=a.frame.source.image,B=o.cutX,G=o.cutY,Y=0,D=0,F=a._fontSize/a.fontData.size,N=a._align,I=0,b=0;a.getTextBounds(!1);var U=a._bounds.lines;N===1?b=(U.longest-U.lengths[0])/2:N===2&&(b=U.longest-U.lengths[0]),n.translate(-a.displayOriginX,-a.displayOriginY);var X=i.roundPixels;a.cropWidth>0&&a.cropHeight>0&&(n.beginPath(),n.rect(0,0,a.cropWidth,a.cropHeight),n.clip());for(var z=0;z<r;z++){if(D=F,Y=0,m=s.charCodeAt(z),m===10){I++,N===1?b=(U.longest-U.lengths[I])/2:N===2&&(b=U.longest-U.lengths[I]),v=0,g+=c,R=null;continue}if(y=u[m],!!y){if(T=B+y.x,E=G+y.y,S=y.width,C=y.height,M=y.xOffset+v-a.scrollX,P=y.yOffset+g-a.scrollY,R!==null){var V=y.kerning[L];M+=V!==void 0?V:0}if(l){h.index=z,h.charCode=m,h.x=M,h.y=P,h.scale=D,h.rotation=Y,h.data=y.data;var W=l(h);M=W.x,P=W.y,D=W.scale,Y=W.rotation}M*=D,P*=D,M+=b,v+=y.xAdvance+d,R=y,L=m,!(S===0||C===0||m===32)&&(X&&(M=Math.round(M),P=Math.round(P)),n.save(),n.translate(M,P),n.rotate(Y),n.scale(D,D),n.drawImage(w,T,E,S,C,0,0,S,C),n.restore())}}n.restore()}};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1061),x=p(1062),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(19),x=function(t,a,i,e){t.pipelines.clear();var s=f(a,i,e).calc;a.render.call(a,t,i,s),t.pipelines.rebind()};A.exports=x},function(A,O){},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1064),x=p(448),x=p(448),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(217),x=p(19),t=p(25),a=p(12),i=function(o,l,h){this.x=o,this.y=l,this.width=h},e=function(o,l,h){this.points=[],this.pointsLength=1,this.points[0]=new i(o,l,h)},s=[],r=new t,n=function(o,l,h,u){if(l.commandBuffer.length!==0){h.addToRenderList(l);var c=o.pipelines.set(l.pipeline,l);o.pipelines.preBatch(l);for(var d=x(l,h,u).calc,v=r.loadIdentity(),g=l.commandBuffer,m=h.alpha*l.alpha,y=1,T=c.fillTint,E=c.strokeTint,S=0,C=0,M=0,P=.01,R=Math.PI*2,L,w=[],B=0,G=!0,Y=null,D=a.getTintAppendFloatAlpha,F=0;F<g.length;F++)switch(L=g[F],L){case f.BEGIN_PATH:{w.length=0,Y=null,G=!0;break}case f.CLOSE_PATH:{G=!1,Y&&Y.points.length&&Y.points.push(Y.points[0]);break}case f.FILL_PATH:{for(B=0;B<w.length;B++)c.batchFillPath(w[B].points,v,d);break}case f.STROKE_PATH:{for(B=0;B<w.length;B++)c.batchStrokePath(w[B].points,y,G,v,d);break}case f.LINE_STYLE:{y=g[++F];var N=g[++F],I=g[++F]*m,b=D(N,I);E.TL=b,E.TR=b,E.BL=b,E.BR=b;break}case f.FILL_STYLE:{var U=g[++F],X=g[++F]*m,z=D(U,X);T.TL=z,T.TR=z,T.BL=z,T.BR=z;break}case f.GRADIENT_FILL_STYLE:{var V=g[++F]*m,W=g[++F]*m,H=g[++F]*m,K=g[++F]*m;T.TL=D(g[++F],V),T.TR=D(g[++F],W),T.BL=D(g[++F],H),T.BR=D(g[++F],K);break}case f.GRADIENT_LINE_STYLE:{y=g[++F];var Z=g[++F]*m;E.TL=D(g[++F],Z),E.TR=D(g[++F],Z),E.BL=D(g[++F],Z),E.BR=D(g[++F],Z);break}case f.ARC:{var j=0,k=g[++F],J=g[++F],q=g[++F],_=g[++F],tt=g[++F],Q=g[++F],et=g[++F];for(tt-=_,Q?tt<-R?tt=-R:tt>0&&(tt=-R+tt%R):tt>R?tt=R:tt<0&&(tt=R+tt%R),Y===null&&(Y=new e(k+Math.cos(_)*q,J+Math.sin(_)*q,y),w.push(Y),j+=P);j<1+et;)M=tt*j+_,S=k+Math.cos(M)*q,C=J+Math.sin(M)*q,Y.points.push(new i(S,C,y)),j+=P;M=tt+_,S=k+Math.cos(M)*q,C=J+Math.sin(M)*q,Y.points.push(new i(S,C,y));break}case f.FILL_RECT:{c.batchFillRect(g[++F],g[++F],g[++F],g[++F],v,d);break}case f.FILL_TRIANGLE:{c.batchFillTriangle(g[++F],g[++F],g[++F],g[++F],g[++F],g[++F],v,d);break}case f.STROKE_TRIANGLE:{c.batchStrokeTriangle(g[++F],g[++F],g[++F],g[++F],g[++F],g[++F],y,v,d);break}case f.LINE_TO:{Y!==null?Y.points.push(new i(g[++F],g[++F],y)):(Y=new e(g[++F],g[++F],y),w.push(Y));break}case f.MOVE_TO:{Y=new e(g[++F],g[++F],y),w.push(Y);break}case f.SAVE:{s.push(v.copyToArray());break}case f.RESTORE:{v.copyFromArray(s.pop());break}case f.TRANSLATE:{k=g[++F],J=g[++F],v.translate(k,J);break}case f.SCALE:{k=g[++F],J=g[++F],v.scale(k,J);break}case f.ROTATE:{v.rotate(g[++F]);break}}o.pipelines.postBatch(l)}};A.exports=n},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1066),x=p(1067),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){t.addToRenderList(x),x.pipeline.batchSprite(x,t,a)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){t.addToRenderList(x),f.batchSprite(x,x.frame,t,a)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1069),x=p(1070),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){t.addToRenderList(x),this.pipeline.batchSprite(x,t,a)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){t.addToRenderList(x),f.batchSprite(x,x.frame,t,a)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1072),x=p(1073),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=x.list,i=a.length;if(i!==0){x.depthSort(),f.pipelines.preBatch(x);var e=x.blendMode!==-1;e||f.setBlendMode(0);for(var s=x.alpha,r=0;r<i;r++){var n=a[r];if(!!n.willRender(t)){var o,l,h,u;if(n.alphaTopLeft!==void 0)o=n.alphaTopLeft,l=n.alphaTopRight,h=n.alphaBottomLeft,u=n.alphaBottomRight;else{var c=n.alpha;o=c,l=c,h=c,u=c}!e&&n.blendMode!==f.currentBlendMode&&f.setBlendMode(n.blendMode);var d=n.mask;d&&d.preRenderWebGL(f,n,t);var v=n.type;v!==f.currentType&&(f.newType=!0,f.currentType=v),f.nextTypeMatch=r<i-1?a[r+1].type===f.currentType:!1,n.setAlpha(o*s,l*s,h*s,u*s),n.renderWebGL(f,n,t),n.setAlpha(o,l,h,u),d&&d.postRenderWebGL(f,t),f.newType=!1}}f.pipelines.postBatch(x)}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=x.list;if(a.length!==0){x.depthSort();var i=x.blendMode!==-1;i||f.setBlendMode(0);var e=x._alpha;x.mask&&x.mask.preRenderCanvas(f,null,t);for(var s=0;s<a.length;s++){var r=a[s];if(!!r.willRender(t)){var n=r.alpha;!i&&r.blendMode!==f.currentBlendMode&&f.setBlendMode(r.blendMode),r.setAlpha(n*e),r.renderCanvas(f,r,t),r.setAlpha(n)}}x.mask&&x.mask.postRenderCanvas(f)}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={EmitterOp:p(449),GravityWell:p(450),Particle:p(451),ParticleEmitter:p(452),ParticleEmitterManager:p(220),Zones:p(1078)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1076),x=p(1077),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(25),x=p(12),t=new f,a=new f,i=new f,e=new f,s=function(r,n,o,l){var h=n.emitters.list,u=h.length;if(u!==0){var c=r.pipelines.set(n.pipeline),d=t,v=a,g=i,m=e;l?(m.loadIdentity(),m.multiply(l),m.translate(n.x,n.y),m.rotate(n.rotation),m.scale(n.scaleX,n.scaleY)):m.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY);var y=o.roundPixels,T=n.defaultFrame.glTexture,E=x.getTintAppendFloatAlpha,S=c.setGameObject(n,n.defaultFrame);r.pipelines.preBatch(n);for(var C=0;C<u;C++){var M=h[C],P=M.alive,R=P.length;if(!(!M.visible||R===0)){o.addToRenderList(M);var L=M.scrollFactorX,w=M.scrollFactorY;r.setBlendMode(M.blendMode),M.mask&&(M.mask.preRenderWebGL(r,M,o),r.pipelines.set(n.pipeline));for(var B=0,G=0;G<R;G++){var Y=P[G],D=Y.alpha*o.alpha;if(!(D<=0)){g.applyITRS(Y.x,Y.y,Y.rotation,Y.scaleX,Y.scaleY),d.copyFrom(o.matrix),d.multiplyWithOffset(m,-o.scrollX*L,-o.scrollY*w),g.e=Y.x,g.f=Y.y,d.multiply(g,v);var F=Y.frame,N=-F.halfWidth,I=-F.halfHeight,b=N+F.width,U=I+F.height,X=v.getXRound(N,I,y),z=v.getYRound(N,I,y),V=v.getXRound(N,U,y),W=v.getYRound(N,U,y),H=v.getXRound(b,U,y),K=v.getYRound(b,U,y),Z=v.getXRound(b,I,y),j=v.getYRound(b,I,y),k=E(Y.tint,D);c.batchQuad(M,X,z,V,W,H,K,Z,j,F.u0,F.v0,F.u1,F.v1,k,k,k,k,B,T,S)}}M.mask&&M.mask.postRenderWebGL(r,o)}}r.pipelines.postBatch(n)}};A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(25),x=new f,t=new f,a=new f,i=new f,e=function(s,r,n,o){var l=r.emitters.list,h=l.length;if(h!==0){var u=x.copyFrom(n.matrix),c=t,d=a,v=i;o?(v.loadIdentity(),v.multiply(o),v.translate(r.x,r.y),v.rotate(r.rotation),v.scale(r.scaleX,r.scaleY)):v.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY);for(var g=s.currentContext,m=n.roundPixels,y=0;y<h;y++){var T=l[y],E=T.alive,S=E.length;if(!(!T.visible||S===0)){n.addToRenderList(T);var C=T.scrollFactorX,M=T.scrollFactorY;g.save(),g.globalCompositeOperation=s.blendModes[T.blendMode];for(var P=0;P<S;P++){var R=E[P],L=R.alpha*n.alpha;if(!(L<=0)){d.applyITRS(R.x,R.y,R.rotation,R.scaleX,R.scaleY),u.copyFrom(n.matrix),u.multiplyWithOffset(v,-n.scrollX*C,-n.scrollY*M),d.e=R.x,d.f=R.y,u.multiply(d,c);var w=R.frame,B=w.canvasData,G=-w.halfWidth,Y=-w.halfHeight;g.globalAlpha=L,g.save(),c.setToContext(g),m&&(G=Math.round(G),Y=Math.round(Y)),g.imageSmoothingEnabled=!(!s.antialias||w.source.scaleMode),g.drawImage(w.source.image,B.x,B.y,B.width,B.height,G,Y,B.width,B.height),g.restore()}}g.restore()}}}};A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={DeathZone:p(453),EdgeZone:p(454),RandomZone:p(456)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1080),x=p(1081),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(12),x=function(t,a,i,e){i.addToRenderList(a);var s=i.alpha,r=a.renderTarget,n=r.width,o=r.height,l=f.getTintAppendFloatAlpha,h=t.pipelines.set(a.pipeline),u=h.setTexture2D(r.texture);t.pipelines.preBatch(a),h.batchTexture(a,r.texture,n,o,a.x,a.y,n,o,a.scaleX,a.scaleY,a.rotation,a.flipX,!a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,n,o,l(a.tintTopLeft,s*a._alphaTL),l(a.tintTopRight,s*a._alphaTR),l(a.tintBottomLeft,s*a._alphaBL),l(a.tintBottomRight,s*a._alphaBR),a.tintFill,0,0,i,e,!0,u),t.resetTextures(),t.pipelines.postBatch(a)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){t.addToRenderList(x),f.batchSprite(x,x.frame,t,a)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1083),x=p(17),t={Parse:p(1084)};t=x(!1,t,f),A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(6),x=function(t,a){var i=a.width,e=a.height,s=Math.floor(i/2),r=Math.floor(e/2),n=f(a,"chars","");if(n!==""){var o=f(a,"image",""),l=t.sys.textures.getFrame(o),h=l.cutX,u=l.cutY,c=l.source.width,d=l.source.height,v=f(a,"offset.x",0),g=f(a,"offset.y",0),m=f(a,"spacing.x",0),y=f(a,"spacing.y",0),T=f(a,"lineSpacing",0),E=f(a,"charsPerRow",null);E===null&&(E=c/i,E>n.length&&(E=n.length));for(var S=v,C=g,M={retroFont:!0,font:o,size:i,lineHeight:e+T,chars:{}},P=0,R=0;R<n.length;R++){var L=n.charCodeAt(R),w=(h+S)/c,B=(u+C)/d,G=(h+S+i)/c,Y=(u+C+e)/d;M.chars[L]={x:S,y:C,width:i,height:e,centerX:s,centerY:r,xOffset:0,yOffset:0,xAdvance:i,data:{},kerning:{},u0:w,v0:B,u1:G,v1:Y},P++,P===E?(P=0,S=v,C+=e+y):S+=i+m}var D={data:M,frame:null,texture:o};return D}};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1086),x=p(1087),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(19),x=p(12),t=function(a,i,e,s){e.addToRenderList(i);var r=a.pipelines.set(i.pipeline,i),n=f(i,e,s).calc,o=i.vertices,l=i.uv,h=i.colors,u=i.alphas,c=i.alpha,d=x.getTintAppendFloatAlpha,v=e.roundPixels,g=o.length,m=Math.floor(g*.5);r.flush(),a.pipelines.preBatch(i);var y=r.setGameObject(i),T=r.vertexViewF32,E=r.vertexViewU32,S=r.vertexCount*r.currentShader.vertexComponentCount-1,C=0,M=i.tintFill;i.dirty&&i.updateVertices();for(var P=i.debugCallback,R=[],L=0;L<g;L+=2){var w=o[L+0],B=o[L+1],G=w*n.a+B*n.c+n.e,Y=w*n.b+B*n.d+n.f;v&&(G=Math.round(G),Y=Math.round(Y)),T[++S]=G,T[++S]=Y,T[++S]=l[L+0],T[++S]=l[L+1],T[++S]=y,T[++S]=M,E[++S]=d(h[C],e.alpha*(u[C]*c)),C++,P&&(R[L+0]=G,R[L+1]=Y)}P&&P.call(i,i,g,R),r.vertexCount+=m,a.pipelines.postBatch(i)};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(){};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1089),x=p(1090),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(12),x=function(t,a,i,e){if(!(a.width===0||a.height===0)){i.addToRenderList(a);var s=a.frame,r=s.width,n=s.height,o=f.getTintAppendFloatAlpha,l=t.pipelines.set(a.pipeline,a),h=l.setTexture2D(s.glTexture,a);t.pipelines.preBatch(a),l.batchTexture(a,s.glTexture,r,n,a.x,a.y,r/a.style.resolution,n/a.style.resolution,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,r,n,o(a.tintTopLeft,i.alpha*a._alphaTL),o(a.tintTopRight,i.alpha*a._alphaTR),o(a.tintBottomLeft,i.alpha*a._alphaBL),o(a.tintBottomRight,i.alpha*a._alphaBR),a.tintFill,0,0,i,e,!1,h),t.pipelines.postBatch(a)}};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){x.width===0||x.height===0||(t.addToRenderList(x),f.batchSprite(x,x.frame,t,a))};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1092),x=p(1093),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(12),x=function(t,a,i,e){a.updateCanvas();var s=a.width,r=a.height;if(!(s===0||r===0)){i.addToRenderList(a),t.pipelines.preBatch(a);var n=f.getTintAppendFloatAlpha,o=t.pipelines.set(a.pipeline,a),l=o.setTexture2D(a.fillPattern,a);o.batchTexture(a,a.fillPattern,a.displayFrame.width*a.tileScaleX,a.displayFrame.height*a.tileScaleY,a.x,a.y,s,r,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*s,a.originY*r,0,0,s,r,n(a.tintTopLeft,i.alpha*a._alphaTL),n(a.tintTopRight,i.alpha*a._alphaTR),n(a.tintBottomLeft,i.alpha*a._alphaBL),n(a.tintBottomRight,i.alpha*a._alphaBR),a.tintFill,a.tilePositionX%a.displayFrame.width/a.displayFrame.width,a.tilePositionY%a.displayFrame.height/a.displayFrame.height,i,e,!1,l),t.pipelines.postBatch(a)}};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){x.updateCanvas(),t.addToRenderList(x),f.batchSprite(x,x.frame,t,a)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1095),x=p(1096),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){x.videoTexture&&(t.addToRenderList(x),x.pipeline.batchSprite(x,t,a))};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){x.videoTexture&&(t.addToRenderList(x),f.batchSprite(x,x.frame,t,a))};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1098),x=p(1099),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(19),x=p(114),t=p(81),a=function(i,e,s,r){s.addToRenderList(e);var n=i.pipelines.set(e.pipeline),o=f(e,s,r),l=n.calcMatrix.copyFrom(o.calc),h=e._displayOriginX,u=e._displayOriginY,c=s.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&x(n,l,e,c,h,u),e.isStroked&&t(n,e,c,h,u),i.pipelines.postBatch(e)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(36),x=p(48),t=p(60),a=p(30),i=function(e,s,r,n){r.addToRenderList(s);var o=e.currentContext;if(a(e,o,s,r,n)){var l=s.radius;o.beginPath(),o.arc(l-s.originX*(l*2),l-s.originY*(l*2),l,f(s._startAngle),f(s._endAngle),s.anticlockwise),s.closePath&&o.closePath(),s.isFilled&&(x(o,s),o.fill()),s.isStroked&&(t(o,s),o.stroke()),o.restore()}};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1101),x=p(1102),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(114),x=p(19),t=p(81),a=function(i,e,s,r){s.addToRenderList(e);var n=i.pipelines.set(e.pipeline),o=x(e,s,r),l=n.calcMatrix.copyFrom(o.calc),h=e._displayOriginX+e._curveBounds.x,u=e._displayOriginY+e._curveBounds.y,c=s.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&f(n,l,e,c,h,u),e.isStroked&&t(n,e,c,h,u),i.pipelines.postBatch(e)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(48),x=p(60),t=p(30),a=function(i,e,s,r){s.addToRenderList(e);var n=i.currentContext;if(t(i,n,e,s,r)){var o=e._displayOriginX+e._curveBounds.x,l=e._displayOriginY+e._curveBounds.y,h=e.pathData,u=h.length-1,c=h[0]-o,d=h[1]-l;n.beginPath(),n.moveTo(c,d),e.closePath||(u-=2);for(var v=2;v<u;v+=2){var g=h[v]-o,m=h[v+1]-l;n.lineTo(g,m)}e.closePath&&n.closePath(),e.isFilled&&(f(n,e),n.fill()),e.isStroked&&(x(n,e),n.stroke()),n.restore()}};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1104),x=p(1105),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(114),x=p(19),t=p(81),a=function(i,e,s,r){s.addToRenderList(e);var n=i.pipelines.set(e.pipeline),o=x(e,s,r),l=n.calcMatrix.copyFrom(o.calc),h=e._displayOriginX,u=e._displayOriginY,c=s.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&f(n,l,e,c,h,u),e.isStroked&&t(n,e,c,h,u),i.pipelines.postBatch(e)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(48),x=p(60),t=p(30),a=function(i,e,s,r){s.addToRenderList(e);var n=i.currentContext;if(t(i,n,e,s,r)){var o=e._displayOriginX,l=e._displayOriginY,h=e.pathData,u=h.length-1,c=h[0]-o,d=h[1]-l;n.beginPath(),n.moveTo(c,d),e.closePath||(u-=2);for(var v=2;v<u;v+=2){var g=h[v]-o,m=h[v+1]-l;n.lineTo(g,m)}n.closePath(),e.isFilled&&(f(n,e),n.fill()),e.isStroked&&(x(n,e),n.stroke()),n.restore()}};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1107),x=p(1108),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(19),x=p(12),t=function(a,i,e,s){e.addToRenderList(i);var r=a.pipelines.set(i.pipeline),n=f(i,e,s),o=r.calcMatrix.copyFrom(n.calc);o.translate(-i._displayOriginX,-i._displayOriginY);var l=e.alpha*i.alpha,h=i.width,u=i.height,c=i.cellWidth,d=i.cellHeight,v=Math.ceil(h/c),g=Math.ceil(u/d),m=c,y=d,T=c-(v*c-h),E=d-(g*d-u),S,C,M=i.showCells,P=i.showAltCells,R=i.showOutline,L=0,w=0,B=0,G=0,Y=0;if(R&&(m--,y--,T===c&&T--,E===d&&E--),a.pipelines.preBatch(i),M&&i.fillAlpha>0)for(S=r.fillTint,C=x.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*l),S.TL=C,S.TR=C,S.BL=C,S.BR=C,w=0;w<g;w++)for(P&&(B=w%2),L=0;L<v;L++){if(P&&B){B=0;continue}B++,G=L<v-1?m:T,Y=w<g-1?y:E,r.batchFillRect(L*c,w*d,G,Y)}if(P&&i.altFillAlpha>0)for(S=r.fillTint,C=x.getTintAppendFloatAlpha(i.altFillColor,i.altFillAlpha*l),S.TL=C,S.TR=C,S.BL=C,S.BR=C,w=0;w<g;w++)for(P&&(B=w%2),L=0;L<v;L++){if(P&&!B){B=1;continue}B=0,G=L<v-1?m:T,Y=w<g-1?y:E,r.batchFillRect(L*c,w*d,G,Y)}if(R&&i.outlineFillAlpha>0){var D=r.strokeTint,F=x.getTintAppendFloatAlpha(i.outlineFillColor,i.outlineFillAlpha*l);for(D.TL=F,D.TR=F,D.BL=F,D.BR=F,L=1;L<v;L++){var N=L*c;r.batchLine(N,0,N,u,1,1,1,0,!1)}for(w=1;w<g;w++){var I=w*d;r.batchLine(0,I,h,I,1,1,1,0,!1)}}a.pipelines.postBatch(i)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(48),x=p(60),t=p(30),a=function(i,e,s,r){s.addToRenderList(e);var n=i.currentContext;if(t(i,n,e,s,r)){var o=-e._displayOriginX,l=-e._displayOriginY,h=s.alpha*e.alpha,u=e.width,c=e.height,d=e.cellWidth,v=e.cellHeight,g=Math.ceil(u/d),m=Math.ceil(c/v),y=d,T=v,E=d-(g*d-u),S=v-(m*v-c),C=e.showCells,M=e.showAltCells,P=e.showOutline,R=0,L=0,w=0,B=0,G=0;if(P&&(y--,T--,E===d&&E--,S===v&&S--),C&&e.fillAlpha>0)for(f(n,e),L=0;L<m;L++)for(M&&(w=L%2),R=0;R<g;R++){if(M&&w){w=0;continue}w++,B=R<g-1?y:E,G=L<m-1?T:S,n.fillRect(o+R*d,l+L*v,B,G)}if(M&&e.altFillAlpha>0)for(f(n,e,e.altFillColor,e.altFillAlpha*h),L=0;L<m;L++)for(M&&(w=L%2),R=0;R<g;R++){if(M&&!w){w=1;continue}w=0,B=R<g-1?y:E,G=L<m-1?T:S,n.fillRect(o+R*d,l+L*v,B,G)}if(P&&e.outlineFillAlpha>0){for(x(n,e,e.outlineFillColor,e.outlineFillAlpha*h),R=1;R<g;R++){var Y=R*d;n.beginPath(),n.moveTo(Y+o,l),n.lineTo(Y+o,c+l),n.stroke()}for(L=1;L<m;L++){var D=L*v;n.beginPath(),n.moveTo(o,D+l),n.lineTo(o+u,D+l),n.stroke()}}n.restore()}};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1110),x=p(1111),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(19),x=p(12),t=function(a,i,e,s){e.addToRenderList(i);var r=a.pipelines.set(i.pipeline),n=f(i,e,s),o=r.calcMatrix.copyFrom(n.calc),l=i.width,h=i.height,u=l/2,c=l/i.projection,d=e.alpha*i.alpha;if(!!i.isFilled){var v,g,m,y,T,E,S,C,M;a.pipelines.preBatch(i),i.showTop&&(v=x.getTintAppendFloatAlpha(i.fillTop,d),g=o.getX(-u,-h),m=o.getY(-u,-h),y=o.getX(0,-c-h),T=o.getY(0,-c-h),E=o.getX(u,-h),S=o.getY(u,-h),C=o.getX(0,c-h),M=o.getY(0,c-h),r.batchQuad(i,g,m,y,T,E,S,C,M,0,0,1,1,v,v,v,v,2)),i.showLeft&&(v=x.getTintAppendFloatAlpha(i.fillLeft,d),g=o.getX(-u,0),m=o.getY(-u,0),y=o.getX(0,c),T=o.getY(0,c),E=o.getX(0,c-h),S=o.getY(0,c-h),C=o.getX(-u,-h),M=o.getY(-u,-h),r.batchQuad(i,g,m,y,T,E,S,C,M,0,0,1,1,v,v,v,v,2)),i.showRight&&(v=x.getTintAppendFloatAlpha(i.fillRight,d),g=o.getX(u,0),m=o.getY(u,0),y=o.getX(0,c),T=o.getY(0,c),E=o.getX(0,c-h),S=o.getY(0,c-h),C=o.getX(u,-h),M=o.getY(u,-h),r.batchQuad(i,g,m,y,T,E,S,C,M,0,0,1,1,v,v,v,v,2)),a.pipelines.postBatch(i)}};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(48),x=p(30),t=function(a,i,e,s){e.addToRenderList(i);var r=a.currentContext;if(x(a,r,i,e,s)&&i.isFilled){var n=i.width,o=i.height,l=n/2,h=n/i.projection;i.showTop&&(f(r,i,i.fillTop),r.beginPath(),r.moveTo(-l,-o),r.lineTo(0,-h-o),r.lineTo(l,-o),r.lineTo(l,-1),r.lineTo(0,h-1),r.lineTo(-l,-1),r.lineTo(-l,-o),r.fill()),i.showLeft&&(f(r,i,i.fillLeft),r.beginPath(),r.moveTo(-l,0),r.lineTo(0,h),r.lineTo(0,h-o),r.lineTo(-l,-o),r.lineTo(-l,0),r.fill()),i.showRight&&(f(r,i,i.fillRight),r.beginPath(),r.moveTo(l,0),r.lineTo(0,h),r.lineTo(0,h-o),r.lineTo(l,-o),r.lineTo(l,0),r.fill()),r.restore()}};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1113),x=p(1114),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(19),x=p(12),t=function(a,i,e,s){e.addToRenderList(i);var r=a.pipelines.set(i.pipeline),n=f(i,e,s),o=r.calcMatrix.copyFrom(n.calc),l=i.width,h=i.height,u=l/2,c=l/i.projection,d=i.isReversed,v=e.alpha*i.alpha;if(!!i.isFilled){a.pipelines.preBatch(i);var g,m,y,T,E,S,C;if(i.showTop&&d){g=x.getTintAppendFloatAlpha(i.fillTop,v),m=o.getX(-u,-h),y=o.getY(-u,-h),T=o.getX(0,-c-h),E=o.getY(0,-c-h),S=o.getX(u,-h),C=o.getY(u,-h);var M=o.getX(0,c-h),P=o.getY(0,c-h);r.batchQuad(i,m,y,T,E,S,C,M,P,0,0,1,1,g,g,g,g,2)}i.showLeft&&(g=x.getTintAppendFloatAlpha(i.fillLeft,v),d?(m=o.getX(-u,-h),y=o.getY(-u,-h),T=o.getX(0,c),E=o.getY(0,c),S=o.getX(0,c-h),C=o.getY(0,c-h)):(m=o.getX(-u,0),y=o.getY(-u,0),T=o.getX(0,c),E=o.getY(0,c),S=o.getX(0,c-h),C=o.getY(0,c-h)),r.batchTri(i,m,y,T,E,S,C,0,0,1,1,g,g,g,2)),i.showRight&&(g=x.getTintAppendFloatAlpha(i.fillRight,v),d?(m=o.getX(u,-h),y=o.getY(u,-h),T=o.getX(0,c),E=o.getY(0,c),S=o.getX(0,c-h),C=o.getY(0,c-h)):(m=o.getX(u,0),y=o.getY(u,0),T=o.getX(0,c),E=o.getY(0,c),S=o.getX(0,c-h),C=o.getY(0,c-h)),r.batchTri(i,m,y,T,E,S,C,0,0,1,1,g,g,g,2)),a.pipelines.postBatch(i)}};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(48),x=p(30),t=function(a,i,e,s){e.addToRenderList(i);var r=a.currentContext;if(x(a,r,i,e,s)&&i.isFilled){var n=i.width,o=i.height,l=n/2,h=n/i.projection,u=i.isReversed;i.showTop&&u&&(f(r,i,i.fillTop),r.beginPath(),r.moveTo(-l,-o),r.lineTo(0,-h-o),r.lineTo(l,-o),r.lineTo(0,h-o),r.fill()),i.showLeft&&(f(r,i,i.fillLeft),r.beginPath(),u?(r.moveTo(-l,-o),r.lineTo(0,h),r.lineTo(0,h-o)):(r.moveTo(-l,0),r.lineTo(0,h),r.lineTo(0,h-o)),r.fill()),i.showRight&&(f(r,i,i.fillRight),r.beginPath(),u?(r.moveTo(l,-o),r.lineTo(0,h),r.lineTo(0,h-o)):(r.moveTo(l,0),r.lineTo(0,h),r.lineTo(0,h-o)),r.fill()),r.restore()}};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1116),x=p(1117),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(19),x=p(12),t=function(a,i,e,s){e.addToRenderList(i);var r=a.pipelines.set(i.pipeline),n=f(i,e,s);r.calcMatrix.copyFrom(n.calc);var o=i._displayOriginX,l=i._displayOriginY,h=e.alpha*i.alpha;if(a.pipelines.preBatch(i),i.isStroked){var u=r.strokeTint,c=x.getTintAppendFloatAlpha(i.strokeColor,i.strokeAlpha*h);u.TL=c,u.TR=c,u.BL=c,u.BR=c;var d=i._startWidth,v=i._endWidth;r.batchLine(i.geom.x1-o,i.geom.y1-l,i.geom.x2-o,i.geom.y2-l,d,v,1,0,!1,n.sprite,n.camera)}a.pipelines.postBatch(i)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(60),x=p(30),t=function(a,i,e,s){e.addToRenderList(i);var r=a.currentContext;if(x(a,r,i,e,s)){var n=i._displayOriginX,o=i._displayOriginY;i.isStroked&&(f(r,i),r.beginPath(),r.moveTo(i.geom.x1-n,i.geom.y1-o),r.lineTo(i.geom.x2-n,i.geom.y2-o),r.stroke()),r.restore()}};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1119),x=p(1120),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(114),x=p(19),t=p(81),a=function(i,e,s,r){s.addToRenderList(e);var n=i.pipelines.set(e.pipeline),o=x(e,s,r),l=n.calcMatrix.copyFrom(o.calc),h=e._displayOriginX,u=e._displayOriginY,c=s.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&f(n,l,e,c,h,u),e.isStroked&&t(n,e,c,h,u),i.pipelines.postBatch(e)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(48),x=p(60),t=p(30),a=function(i,e,s,r){s.addToRenderList(e);var n=i.currentContext;if(t(i,n,e,s,r)){var o=e._displayOriginX,l=e._displayOriginY,h=e.pathData,u=h.length-1,c=h[0]-o,d=h[1]-l;n.beginPath(),n.moveTo(c,d),e.closePath||(u-=2);for(var v=2;v<u;v+=2){var g=h[v]-o,m=h[v+1]-l;n.lineTo(g,m)}n.closePath(),e.isFilled&&(f(n,e),n.fill()),e.isStroked&&(x(n,e),n.stroke()),n.restore()}};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1122),x=p(1123),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(19),x=p(81),t=p(12),a=function(i,e,s,r){s.addToRenderList(e);var n=i.pipelines.set(e.pipeline),o=f(e,s,r);n.calcMatrix.copyFrom(o.calc);var l=e._displayOriginX,h=e._displayOriginY,u=s.alpha*e.alpha;if(i.pipelines.preBatch(e),e.isFilled){var c=n.fillTint,d=t.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*u);c.TL=d,c.TR=d,c.BL=d,c.BR=d,n.batchFillRect(-l,-h,e.width,e.height)}e.isStroked&&x(n,e,u,l,h),i.pipelines.postBatch(e)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(48),x=p(60),t=p(30),a=function(i,e,s,r){s.addToRenderList(e);var n=i.currentContext;if(t(i,n,e,s,r)){var o=e._displayOriginX,l=e._displayOriginY;e.isFilled&&(f(n,e),n.fillRect(-o,-l,e.width,e.height)),e.isStroked&&(x(n,e),n.beginPath(),n.rect(-o,-l,e.width,e.height),n.stroke()),n.restore()}};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1125),x=p(1126),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(114),x=p(19),t=p(81),a=function(i,e,s,r){s.addToRenderList(e);var n=i.pipelines.set(e.pipeline),o=x(e,s,r),l=n.calcMatrix.copyFrom(o.calc),h=e._displayOriginX,u=e._displayOriginY,c=s.alpha*e.alpha;i.pipelines.preBatch(e),e.isFilled&&f(n,l,e,c,h,u),e.isStroked&&t(n,e,c,h,u),i.pipelines.postBatch(e)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(48),x=p(60),t=p(30),a=function(i,e,s,r){s.addToRenderList(e);var n=i.currentContext;if(t(i,n,e,s,r)){var o=e._displayOriginX,l=e._displayOriginY,h=e.pathData,u=h.length-1,c=h[0]-o,d=h[1]-l;n.beginPath(),n.moveTo(c,d),e.closePath||(u-=2);for(var v=2;v<u;v+=2){var g=h[v]-o,m=h[v+1]-l;n.lineTo(g,m)}n.closePath(),e.isFilled&&(f(n,e),n.fill()),e.isStroked&&(x(n,e),n.stroke()),n.restore()}};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1128),x=p(1129),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(19),x=p(81),t=p(12),a=function(i,e,s,r){s.addToRenderList(e);var n=i.pipelines.set(e.pipeline),o=f(e,s,r);n.calcMatrix.copyFrom(o.calc);var l=e._displayOriginX,h=e._displayOriginY,u=s.alpha*e.alpha;if(i.pipelines.preBatch(e),e.isFilled){var c=n.fillTint,d=t.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*u);c.TL=d,c.TR=d,c.BL=d,c.BR=d;var v=e.geom.x1-l,g=e.geom.y1-h,m=e.geom.x2-l,y=e.geom.y2-h,T=e.geom.x3-l,E=e.geom.y3-h;n.batchFillTriangle(v,g,m,y,T,E,o.sprite,o.camera)}e.isStroked&&x(n,e,u,l,h),i.pipelines.postBatch(e)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(48),x=p(60),t=p(30),a=function(i,e,s,r){s.addToRenderList(e);var n=i.currentContext;if(t(i,n,e,s,r)){var o=e._displayOriginX,l=e._displayOriginY,h=e.geom.x1-o,u=e.geom.y1-l,c=e.geom.x2-o,d=e.geom.y2-l,v=e.geom.x3-o,g=e.geom.y3-l;n.beginPath(),n.moveTo(h,u),n.lineTo(c,d),n.lineTo(v,g),n.closePath(),e.isFilled&&(f(n,e),n.fill()),e.isStroked&&(x(n,e),n.stroke()),n.restore()}};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(213),x=p(5);x.register("blitter",function(t,a,i,e){return this.displayList.add(new f(this.scene,t,a,i,e))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(214),x=p(5);x.register("container",function(t,a,i){return this.displayList.add(new f(this.scene,t,a,i))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(442),x=p(5);x.register("dom",function(t,a,i,e,s){var r=new f(this.scene,t,a,i,e,s);return this.displayList.add(r),r})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(215),x=p(5);x.register("dynamicBitmapText",function(t,a,i,e,s){return this.displayList.add(new f(this.scene,t,a,i,e,s))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(444),x=p(5);x.register("extern",function(){var t=new f(this.scene);return this.displayList.add(t),t})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(216),x=p(5);x.register("graphics",function(t){return this.displayList.add(new f(this.scene,t))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(113),x=p(5);x.register("group",function(t,a){return this.updateList.add(new f(this.scene,t,a))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(125),x=p(5);x.register("image",function(t,a,i,e){return this.displayList.add(new f(this.scene,t,a,i,e))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(219),x=p(5);x.register("layer",function(t){return this.displayList.add(new f(this.scene,t))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(5),x=p(220);f.register("particles",function(t,a,i){return this.displayList.add(new x(this.scene,t,a,i))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(5),x=p(457);f.register("follower",function(t,a,i,e,s){var r=new x(this.scene,t,a,i,e,s);return this.displayList.add(r),this.updateList.add(r),r})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(5),x=p(221);f.register("renderTexture",function(t,a,i,e,s,r){return this.displayList.add(new x(this.scene,t,a,i,e,s,r))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(223),x=p(5);x.register("rope",function(t,a,i,e,s,r,n,o){return this.displayList.add(new f(this.scene,t,a,i,e,s,r,n,o))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(5),x=p(73);f.register("sprite",function(t,a,i,e){var s=new x(this.scene,t,a,i,e);return this.displayList.add(s),s})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(148),x=p(5);x.register("bitmapText",function(t,a,i,e,s,r){return this.displayList.add(new f(this.scene,t,a,i,e,s,r))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(224),x=p(5);x.register("text",function(t,a,i,e){return this.displayList.add(new f(this.scene,t,a,i,e))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(225),x=p(5);x.register("tileSprite",function(t,a,i,e,s,r){return this.displayList.add(new f(this.scene,t,a,i,e,s,r))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(129),x=p(5);x.register("zone",function(t,a,i,e){return this.displayList.add(new f(this.scene,t,a,i,e))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(226),x=p(5);x.register("video",function(t,a,i){return this.displayList.add(new f(this.scene,t,a,i))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(461),x=p(5);x.register("arc",function(t,a,i,e,s,r,n,o){return this.displayList.add(new f(this.scene,t,a,i,e,s,r,n,o))}),x.register("circle",function(t,a,i,e,s){return this.displayList.add(new f(this.scene,t,a,i,0,360,!1,e,s))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(5),x=p(462);f.register("curve",function(t,a,i,e,s){return this.displayList.add(new x(this.scene,t,a,i,e,s))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(463),x=p(5);x.register("ellipse",function(t,a,i,e,s,r){return this.displayList.add(new f(this.scene,t,a,i,e,s,r))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(5),x=p(464);f.register("grid",function(t,a,i,e,s,r,n,o,l,h){return this.displayList.add(new x(this.scene,t,a,i,e,s,r,n,o,l,h))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(5),x=p(465);f.register("isobox",function(t,a,i,e,s,r,n){return this.displayList.add(new x(this.scene,t,a,i,e,s,r,n))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(5),x=p(466);f.register("isotriangle",function(t,a,i,e,s,r,n,o){return this.displayList.add(new x(this.scene,t,a,i,e,s,r,n,o))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(5),x=p(467);f.register("line",function(t,a,i,e,s,r,n,o){return this.displayList.add(new x(this.scene,t,a,i,e,s,r,n,o))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(5),x=p(468);f.register("polygon",function(t,a,i,e,s){return this.displayList.add(new x(this.scene,t,a,i,e,s))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(5),x=p(473);f.register("rectangle",function(t,a,i,e,s,r){return this.displayList.add(new x(this.scene,t,a,i,e,s,r))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(474),x=p(5);x.register("star",function(t,a,i,e,s,r,n){return this.displayList.add(new f(this.scene,t,a,i,e,s,r,n))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(5),x=p(475);f.register("triangle",function(t,a,i,e,s,r,n,o,l,h){return this.displayList.add(new x(this.scene,t,a,i,e,s,r,n,o,l,h))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(213),x=p(28),t=p(16),a=p(13);t.register("blitter",function(i,e){i===void 0&&(i={});var s=a(i,"key",null),r=a(i,"frame",null),n=new f(this.scene,0,0,s,r);return e!==void 0&&(i.add=e),x(this.scene,n,i),n})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(28),x=p(214),t=p(16),a=p(13);t.register("container",function(i,e){i===void 0&&(i={});var s=a(i,"x",0),r=a(i,"y",0),n=a(i,"children",null),o=new x(this.scene,s,r,n);return e!==void 0&&(i.add=e),f(this.scene,o,i),o})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(215),x=p(28),t=p(16),a=p(13);t.register("dynamicBitmapText",function(i,e){i===void 0&&(i={});var s=a(i,"font",""),r=a(i,"text",""),n=a(i,"size",!1),o=new f(this.scene,0,0,s,r,n);return e!==void 0&&(i.add=e),x(this.scene,o,i),o})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(16),x=p(216);f.register("graphics",function(t,a){t===void 0&&(t={}),a!==void 0&&(t.add=a);var i=new x(this.scene,t);return t.add&&this.scene.sys.displayList.add(i),i})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(16),x=p(113);f.register("group",function(t){return new x(this.scene,null,t)})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(28),x=p(16),t=p(13),a=p(125);x.register("image",function(i,e){i===void 0&&(i={});var s=t(i,"key",null),r=t(i,"frame",null),n=new a(this.scene,0,0,s,r);return e!==void 0&&(i.add=e),f(this.scene,n,i),n})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(28),x=p(219),t=p(16),a=p(13);t.register("layer",function(i,e){i===void 0&&(i={});var s=a(i,"children",null),r=new x(this.scene,s);return e!==void 0&&(i.add=e),f(this.scene,r,i),r})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(16),x=p(13),t=p(2),a=p(220);f.register("particles",function(i,e){i===void 0&&(i={});var s=x(i,"key",null),r=x(i,"frame",null),n=t(i,"emitters",null),o=new a(this.scene,s,r,n);e!==void 0&&(i.add=e);var l=t(i,"add",!1);return l?this.displayList.add(o):this.updateList.add(o),o})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(28),x=p(16),t=p(13),a=p(221);x.register("renderTexture",function(i,e){i===void 0&&(i={});var s=t(i,"x",0),r=t(i,"y",0),n=t(i,"width",32),o=t(i,"height",32),l=t(i,"key",void 0),h=t(i,"frame",void 0),u=new a(this.scene,s,r,n,o,l,h);return e!==void 0&&(i.add=e),f(this.scene,u,i),u})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(28),x=p(16),t=p(13),a=p(6),i=p(223);x.register("rope",function(e,s){e===void 0&&(e={});var r=t(e,"key",null),n=t(e,"frame",null),o=t(e,"horizontal",!0),l=a(e,"points",void 0),h=a(e,"colors",void 0),u=a(e,"alphas",void 0),c=new i(this.scene,0,0,r,n,l,o,h,u);return s!==void 0&&(e.add=s),f(this.scene,c,e),e.add||this.updateList.add(c),c})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(28),x=p(439),t=p(16),a=p(13),i=p(73);t.register("sprite",function(e,s){e===void 0&&(e={});var r=a(e,"key",null),n=a(e,"frame",null),o=new i(this.scene,0,0,r,n);return s!==void 0&&(e.add=s),f(this.scene,o,e),x(o,e),o})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(148),x=p(28),t=p(16),a=p(13),i=p(6);t.register("bitmapText",function(e,s){e===void 0&&(e={});var r=i(e,"font",""),n=a(e,"text",""),o=a(e,"size",!1),l=i(e,"align",0),h=new f(this.scene,0,0,r,n,o,l);return s!==void 0&&(e.add=s),x(this.scene,h,e),h})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(28),x=p(16),t=p(13),a=p(224);x.register("text",function(i,e){i===void 0&&(i={});var s=t(i,"text",""),r=t(i,"style",null),n=t(i,"padding",null);n!==null&&(r.padding=n);var o=new a(this.scene,0,0,s,r);return e!==void 0&&(i.add=e),f(this.scene,o,i),o.autoRound=t(i,"autoRound",!0),o.resolution=t(i,"resolution",1),o})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(28),x=p(16),t=p(13),a=p(225);x.register("tileSprite",function(i,e){i===void 0&&(i={});var s=t(i,"x",0),r=t(i,"y",0),n=t(i,"width",512),o=t(i,"height",512),l=t(i,"key",""),h=t(i,"frame",""),u=new a(this.scene,s,r,n,o,l,h);return e!==void 0&&(i.add=e),f(this.scene,u,i),u})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(16),x=p(13),t=p(129);f.register("zone",function(a){var i=x(a,"x",0),e=x(a,"y",0),s=x(a,"width",1),r=x(a,"height",s);return new t(this.scene,i,e,s,r)})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(28),x=p(16),t=p(13),a=p(226);x.register("video",function(i,e){i===void 0&&(i={});var s=t(i,"key",null),r=new a(this.scene,0,0,s);return e!==void 0&&(i.add=e),f(this.scene,r,i),i.add||this.updateList.add(r),r})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1177),x=p(1178),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(19),x=function(t,a,i,e){if(!!a.shader){if(i.addToRenderList(a),t.pipelines.clear(),a.renderToTexture)a.load(),a.flush();else{var s=f(a,i,e).calc;(t.width!==a._rendererWidth||t.height!==a._rendererHeight)&&a.projOrtho(0,t.width,t.height,0),a.load(s.matrix),a.flush()}t.pipelines.rebind()}};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(){};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1180),x=p(1181),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(19),x=function(t,a,i,e){var s=a.faces,r=s.length;if(r!==0){i.addToRenderList(a);var n=t.pipelines.set(a.pipeline,a),o=f(a,i,e).calc,l=n.setGameObject(a),h=n.vertexViewF32,u=n.vertexViewU32,c=n.vertexCount*n.currentShader.vertexComponentCount-1,d=a.tintFill,v=[],g=a.debugCallback,m=o.a,y=o.b,T=o.c,E=o.d,S=o.e,C=o.f,M=a.viewPosition.z,P=a.hideCCW,R=i.roundPixels,L=i.alpha*a.alpha,w=0;t.pipelines.preBatch(a);for(var B=0;B<r;B++){var G=s[B];!G.isInView(i,P,M,L,m,y,T,E,S,C,R)||(n.shouldFlush(3)&&(n.flush(),c=0),c=G.load(h,u,c,l,d),w++,n.vertexCount+=3,g&&v.push(G))}a.totalFrame+=w,g&&g.call(a,a,v),t.pipelines.postBatch(a)}};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(){};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1183),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(19),x=function(t,a,i,e){i.addToRenderList(a);var s=t.pipelines.set(a.pipeline),r=f(a,i,e).calc,n=a.width,o=a.height,l=-a._radius,h=-a._radius,u=l+n,c=h+o,d=r.getX(0,0),v=r.getY(0,0),g=r.getX(l,h),m=r.getY(l,h),y=r.getX(l,c),T=r.getY(l,c),E=r.getX(u,c),S=r.getY(u,c),C=r.getX(u,h),M=r.getY(u,h);t.pipelines.preBatch(a),s.batchPointLight(a,i,g,m,y,T,E,S,C,M,d,v),t.pipelines.postBatch(a)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(229),x=p(5);x.register("shader",function(t,a,i,e,s,r,n){return this.displayList.add(new f(this.scene,t,a,i,e,s,r,n))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(230),x=p(5);x.register("mesh",function(t,a,i,e,s,r,n,o,l,h,u){return this.displayList.add(new f(this.scene,t,a,i,e,s,r,n,o,l,h,u))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(5),x=p(150);f.register("pointlight",function(t,a,i,e,s,r){return this.displayList.add(new x(this.scene,t,a,i,e,s,r))})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(28),x=p(16),t=p(13),a=p(229);x.register("shader",function(i,e){i===void 0&&(i={});var s=t(i,"key",null),r=t(i,"x",0),n=t(i,"y",0),o=t(i,"width",128),l=t(i,"height",128),h=new a(this.scene,s,r,n,o,l);return e!==void 0&&(i.add=e),f(this.scene,h,i),h})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(28),x=p(16),t=p(13),a=p(6),i=p(230);x.register("mesh",function(e,s){e===void 0&&(e={});var r=t(e,"key",null),n=t(e,"frame",null),o=a(e,"vertices",[]),l=a(e,"uvs",[]),h=a(e,"indicies",[]),u=a(e,"containsZ",!1),c=a(e,"normals",[]),d=a(e,"colors",16777215),v=a(e,"alphas",1),g=new i(this.scene,0,0,r,n,o,l,h,u,c,d,v);return s!==void 0&&(e.add=s),f(this.scene,g,e),g})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(28),x=p(16),t=p(13),a=p(150);x.register("pointlight",function(i,e){i===void 0&&(i={});var s=t(i,"color",16777215),r=t(i,"radius",128),n=t(i,"intensity",1),o=t(i,"attenuation",.1),l=new a(this.scene,0,0,s,r,n,o);return e!==void 0&&(i.add=e),f(this.scene,l,i),l})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(482),t=p(24),a=p(20),i=new f({Extends:x,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once(a.BOOT,this.boot,this),x.call(this)},boot:function(){var e=this.systems.events;e.on(a.SHUTDOWN,this.shutdown,this),e.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});t.register("LightsPlugin",i,"lights"),A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(65);f.Area=p(1192),f.Circumference=p(302),f.CircumferencePoint=p(169),f.Clone=p(1193),f.Contains=p(66),f.ContainsPoint=p(1194),f.ContainsRect=p(1195),f.CopyFrom=p(1196),f.Equals=p(1197),f.GetBounds=p(1198),f.GetPoint=p(300),f.GetPoints=p(301),f.Offset=p(1199),f.OffsetPoint=p(1200),f.Random=p(170),A.exports=f},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.radius>0?Math.PI*f.radius*f.radius:0};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(65),x=function(t){return new f(t.x,t.y,t.radius)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(66),x=function(t,a){return f(t,a.x,a.y)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(66),x=function(t,a){return f(t,a.x,a.y)&&f(t,a.right,a.y)&&f(t,a.x,a.bottom)&&f(t,a.right,a.bottom)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x.setTo(f.x,f.y,f.radius)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.x===x.x&&f.y===x.y&&f.radius===x.radius};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(10),x=function(t,a){return a===void 0&&(a=new f),a.x=t.left,a.y=t.top,a.width=t.diameter,a.height=t.diameter,a};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return f.x+=x,f.y+=t,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.x+=x.x,f.y+=x.y,f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(111);f.Area=p(1202),f.Circumference=p(447),f.CircumferencePoint=p(218),f.Clone=p(1203),f.Contains=p(112),f.ContainsPoint=p(1204),f.ContainsRect=p(1205),f.CopyFrom=p(1206),f.Equals=p(1207),f.GetBounds=p(1208),f.GetPoint=p(445),f.GetPoints=p(446),f.Offset=p(1209),f.OffsetPoint=p(1210),f.Random=p(180),A.exports=f},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.isEmpty()?0:f.getMajorRadius()*f.getMinorRadius()*Math.PI};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(111),x=function(t){return new f(t.x,t.y,t.width,t.height)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(112),x=function(t,a){return f(t,a.x,a.y)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(112),x=function(t,a){return f(t,a.x,a.y)&&f(t,a.right,a.y)&&f(t,a.x,a.bottom)&&f(t,a.right,a.bottom)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x.setTo(f.x,f.y,f.width,f.height)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.x===x.x&&f.y===x.y&&f.width===x.width&&f.height===x.height};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(10),x=function(t,a){return a===void 0&&(a=new f),a.x=t.left,a.y=t.top,a.width=t.width,a.height=t.height,a};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return f.x+=x,f.y+=t,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.x+=x.x,f.y+=x.y,f};A.exports=p},function(A,O,p){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=p(231),t=function(a,i,e){if(e===void 0&&(e=[]),x(a,i)){var s=a.x,r=a.y,n=a.radius,o=i.x,l=i.y,h=i.radius,u,c,d,v,g;if(r===l)g=(h*h-n*n-o*o+s*s)/(2*(s-o)),u=1,c=-2*l,d=o*o+g*g-2*o*g+l*l-h*h,v=c*c-4*u*d,v===0?e.push(new f(g,-c/(2*u))):v>0&&(e.push(new f(g,(-c+Math.sqrt(v))/(2*u))),e.push(new f(g,(-c-Math.sqrt(v))/(2*u))));else{var m=(s-o)/(r-l),y=(h*h-n*n-o*o+s*s-l*l+r*r)/(2*(r-l));u=m*m+1,c=2*r*m-2*y*m-2*s,d=s*s+r*r+y*y-n*n-2*r*y,v=c*c-4*u*d,v===0?(g=-c/(2*u),e.push(new f(g,y-g*m))):v>0&&(g=(-c+Math.sqrt(v))/(2*u),e.push(new f(g,y-g*m)),g=(-c-Math.sqrt(v))/(2*u),e.push(new f(g,y-g*m)))}}return e};A.exports=t},function(A,O,p){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(232),x=p(151),t=function(a,i,e){if(e===void 0&&(e=[]),x(a,i)){var s=i.getLineA(),r=i.getLineB(),n=i.getLineC(),o=i.getLineD();f(s,a,e),f(r,a,e),f(n,a,e),f(o,a,e)}return e};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(140),x=p(487),t=p(47),a=new t;function i(r,n,o,l,h){var u=Math.cos(r),c=Math.sin(r);a.setTo(n,o,n+u,o+c);var d=x(a,l);d&&h.push(new f(d.x,d.y,r,d.w))}function e(r,n){return r.z-n.z}var s=function(r,n,o){Array.isArray(o)||(o=[o]);for(var l=[],h=[],u=0;u<o.length;u++)for(var c=o[u].points,d=0;d<c.length;d++){var v=Math.atan2(c[d].y-n,c[d].x-r);h.indexOf(v)===-1&&(i(v,r,n,o,l),i(v-1e-5,r,n,o,l),i(v+1e-5,r,n,o,l),h.push(v))}return l.sort(e)};A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(10),x=p(152),t=function(a,i,e){return e===void 0&&(e=new f),x(a,i)&&(e.x=Math.max(a.x,i.x),e.y=Math.max(a.y,i.y),e.width=Math.min(a.right,i.right)-e.x,e.height=Math.min(a.bottom,i.bottom)-e.y),e};A.exports=t},function(A,O,p){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(234),x=p(152),t=function(a,i,e){if(e===void 0&&(e=[]),x(a,i)){var s=a.getLineA(),r=a.getLineB(),n=a.getLineC(),o=a.getLineD();f(s,i,e),f(r,i,e),f(n,i,e),f(o,i,e)}return e};A.exports=t},function(A,O,p){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(489),x=p(234),t=function(a,i,e){if(e===void 0&&(e=[]),f(a,i)){var s=i.getLineA(),r=i.getLineB(),n=i.getLineC();x(s,a,e),x(r,a,e),x(n,a,e)}return e};A.exports=t},function(A,O,p){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(232),x=p(491),t=function(a,i,e){if(e===void 0&&(e=[]),x(a,i)){var s=a.getLineA(),r=a.getLineB(),n=a.getLineC();f(s,i,e),f(r,i,e),f(n,i,e)}return e};A.exports=t},function(A,O,p){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(494),x=p(492),t=function(a,i,e){if(e===void 0&&(e=[]),f(a,i)){var s=i.getLineA(),r=i.getLineB(),n=i.getLineC();x(a,s,e),x(a,r,e),x(a,n,e)}return e};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(496),x=function(t,a){if(!f(t,a))return!1;var i=Math.min(a.x1,a.x2),e=Math.max(a.x1,a.x2),s=Math.min(a.y1,a.y2),r=Math.max(a.y1,a.y2);return t.x>=i&&t.x<=e&&t.y>=s&&t.y<=r};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i,e){return e===void 0&&(e=0),!(x>f.right+e||t<f.left-e||a>f.bottom+e||i<f.top-e)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(47);f.Angle=p(97),f.BresenhamPoints=p(317),f.CenterOn=p(1222),f.Clone=p(1223),f.CopyFrom=p(1224),f.Equals=p(1225),f.Extend=p(1226),f.GetEasedPoints=p(1227),f.GetMidPoint=p(1228),f.GetNearestPoint=p(1229),f.GetNormal=p(1230),f.GetPoint=p(307),f.GetPoints=p(172),f.GetShortestDistance=p(1231),f.Height=p(1232),f.Length=p(67),f.NormalAngle=p(497),f.NormalX=p(1233),f.NormalY=p(1234),f.Offset=p(1235),f.PerpSlope=p(1236),f.Random=p(173),f.ReflectAngle=p(1237),f.Rotate=p(1238),f.RotateAroundPoint=p(1239),f.RotateAroundXY=p(236),f.SetToAngle=p(1240),f.Slope=p(1241),f.Width=p(1242),A.exports=f},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=x-(f.x1+f.x2)/2,i=t-(f.y1+f.y2)/2;return f.x1+=a,f.y1+=i,f.x2+=a,f.y2+=i,f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(47),x=function(t){return new f(t.x1,t.y1,t.x2,t.y2)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x.setTo(f.x1,f.y1,f.x2,f.y2)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.x1===x.x1&&f.y1===x.y1&&f.x2===x.x2&&f.y2===x.y2};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(67),x=function(t,a,i){i===void 0&&(i=a);var e=f(t),s=t.x2-t.x1,r=t.y2-t.y1;return a&&(t.x1=t.x1-s/e*a,t.y1=t.y1-r/e*a),i&&(t.x2=t.x2+s/e*i,t.y2=t.y2+r/e*i),t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(352),x=p(80),t=p(4),a=function(i,e,s,r,n){r===void 0&&(r=0),n===void 0&&(n=[]);var o=[],l=i.x1,h=i.y1,u=i.x2-l,c=i.y2-h,d=x(e,n),v,g,m=s-1;for(v=0;v<m;v++)g=d(v/m),o.push(new t(l+u*g,h+c*g));if(g=d(1),o.push(new t(l+u*g,h+c*g)),r>0){var y=o[0],T=[y];for(v=1;v<o.length-1;v++){var E=o[v];f(y,E)>=r&&(T.push(E),y=E)}var S=o[o.length-1];return f(y,S)<r&&T.pop(),T.push(S),T}else return o};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a){return a===void 0&&(a=new f),a.x=(t.x1+t.x2)/2,a.y=(t.y1+t.y2)/2,a};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a,i){i===void 0&&(i=new f);var e=t.x1,s=t.y1,r=t.x2,n=t.y2,o=(r-e)*(r-e)+(n-s)*(n-s);if(o===0)return i;var l=((a.x-e)*(r-e)+(a.y-s)*(n-s))/o;return i.x=e+l*(r-e),i.y=s+l*(n-s),i};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(14),x=p(97),t=p(4),a=function(i,e){e===void 0&&(e=new t);var s=x(i)-f.TAU;return e.x=Math.cos(s),e.y=Math.sin(s),e};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=f.x1,a=f.y1,i=f.x2,e=f.y2,s=(i-t)*(i-t)+(e-a)*(e-a);if(s===0)return!1;var r=((a-x.y)*(i-t)-(t-x.x)*(e-a))/s;return Math.abs(r)*Math.sqrt(s)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return Math.abs(f.y1-f.y2)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(14),x=p(97),t=function(a){return Math.cos(x(a)-f.TAU)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(14),x=p(97),t=function(a){return Math.sin(x(a)-f.TAU)};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return f.x1+=x,f.y1+=t,f.x2+=x,f.y2+=t,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return-((f.x2-f.x1)/(f.y2-f.y1))};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(97),x=p(497),t=function(a,i){return 2*x(i)-Math.PI-f(a)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(236),x=function(t,a){var i=(t.x1+t.x2)/2,e=(t.y1+t.y2)/2;return f(t,i,e,a)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(236),x=function(t,a,i){return f(t,a.x,a.y,i)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a,i){return f.x1=x,f.y1=t,f.x2=x+Math.cos(a)*i,f.y2=t+Math.sin(a)*i,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return(f.y2-f.y1)/(f.x2-f.x1)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return Math.abs(f.x1-f.x2)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Face:p(116),GenerateGridVerts:p(1244),GenerateObjVerts:p(480),GenerateVerts:p(479),ParseObj:p(498),ParseObjMaterial:p(499),RotateFace:p(1245),Vertex:p(117)};A.exports=f},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(116),x=p(2),t=p(69),a=p(39),i=p(117),e=new a,s=new a,r=new t,n=function(o){var l=x(o,"mesh"),h=x(o,"texture",null),u=x(o,"frame"),c=x(o,"width",1),d=x(o,"height",c),v=x(o,"widthSegments",1),g=x(o,"heightSegments",v),m=x(o,"x",0),y=x(o,"y",0),T=x(o,"z",0),E=x(o,"rotateX",0),S=x(o,"rotateY",0),C=x(o,"rotateZ",0),M=x(o,"zIsUp",!0),P=x(o,"isOrtho",l?l.dirtyCache[11]:!1),R=x(o,"colors",[16777215]),L=x(o,"alphas",[1]),w=x(o,"tile",!1),B=x(o,"flipY",!1),G=x(o,"width",null),Y={faces:[],verts:[]};if(e.set(m,y,T),s.set(E,S,C),r.fromRotationXYTranslation(s,e,M),!h&&l)h=l.texture;else if(l&&typeof h=="string")h=l.scene.sys.textures.get(h);else return Y;var D=h.get(u);!G&&P&&h&&l&&(c=D.width/l.height,d=D.height/l.height);var F=c/2,N=d/2,I=Math.floor(v),b=Math.floor(g),U=I+1,X=b+1,z=c/I,V=d/b,W=[],H=[],K,Z,j=0,k=1,J=0,q=1;D&&(j=D.u0,k=D.u1,B?(J=D.v1,q=D.v0):(J=D.v0,q=D.v1));var _=k-j,tt=q-J;for(Z=0;Z<X;Z++){var Q=Z*V-N;for(K=0;K<U;K++){var et=K*z-F;H.push(et,-Q);var $=j+_*(K/I),it=J+tt*(Z/b);W.push($,it)}}Array.isArray(R)||(R=[R]),Array.isArray(L)||(L=[L]);var ot=0,ut=0;for(Z=0;Z<b;Z++)for(K=0;K<I;K++){var rt=(K+U*Z)*2,nt=(K+U*(Z+1))*2,lt=(K+1+U*(Z+1))*2,at=(K+1+U*Z)*2,ht=R[ut],ft=L[ot],dt=new i(H[rt],H[rt+1],0,W[rt],W[rt+1],ht,ft).transformMat4(r),ct=new i(H[nt],H[nt+1],0,W[nt],W[nt+1],ht,ft).transformMat4(r),pt=new i(H[at],H[at+1],0,W[at],W[at+1],ht,ft).transformMat4(r),vt=new i(H[nt],H[nt+1],0,W[nt],W[nt+1],ht,ft).transformMat4(r),gt=new i(H[lt],H[lt+1],0,W[lt],W[lt+1],ht,ft).transformMat4(r),yt=new i(H[at],H[at+1],0,W[at],W[at+1],ht,ft).transformMat4(r);w&&(dt.setUVs(j,q),ct.setUVs(j,J),pt.setUVs(k,q),vt.setUVs(j,J),gt.setUVs(k,J),yt.setUVs(k,q)),ut++,ut===R.length&&(ut=0),ot++,ot===L.length&&(ot=0),Y.verts.push(dt,ct,pt,vt,gt,yt),Y.faces.push(new f(dt,ct,pt),new f(vt,gt,yt))}return l&&(l.faces=l.faces.concat(Y.faces),l.vertices=l.vertices.concat(Y.verts)),Y};A.exports=n},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){var i,e;if(t===void 0&&a===void 0){var s=f.getInCenter();i=s.x,e=s.y}var r=Math.cos(x),n=Math.sin(x),o=f.vertex1,l=f.vertex2,h=f.vertex3,u=o.x-i,c=o.y-e;o.set(u*r-c*n+i,u*n+c*r+e),u=l.x-i,c=l.y-e,l.set(u*r-c*n+i,u*n+c*r+e),u=h.x-i,c=h.y-e,h.set(u*r-c*n+i,u*n+c*r+e)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4);f.Ceil=p(1247),f.Clone=p(1248),f.CopyFrom=p(1249),f.Equals=p(1250),f.Floor=p(1251),f.GetCentroid=p(1252),f.GetMagnitude=p(500),f.GetMagnitudeSq=p(501),f.GetRectangleFromPoints=p(1253),f.Interpolate=p(1254),f.Invert=p(1255),f.Negative=p(1256),f.Project=p(1257),f.ProjectUnit=p(1258),f.SetMagnitude=p(1259),A.exports=f},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.setTo(Math.ceil(f.x),Math.ceil(f.y))};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t){return new f(t.x,t.y)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x.setTo(f.x,f.y)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.x===x.x&&f.y===x.y};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.setTo(Math.floor(f.x),Math.floor(f.y))};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a){if(a===void 0&&(a=new f),!Array.isArray(t))throw new Error("GetCentroid points argument must be an array");var i=t.length;if(i<1)throw new Error("GetCentroid points array must not be empty");if(i===1)a.x=t[0].x,a.y=t[0].y;else{for(var e=0;e<i;e++)a.x+=t[e].x,a.y+=t[e].y;a.x/=i,a.y/=i}return a};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(10),x=function(t,a){a===void 0&&(a=new f);for(var i=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=0;n<t.length;n++){var o=t[n];o.x>i&&(i=o.x),o.x<e&&(e=o.x),o.y>s&&(s=o.y),o.y<r&&(r=o.y)}return a.x=e,a.y=r,a.width=i-e,a.height=s-r,a};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a,i,e){return i===void 0&&(i=0),e===void 0&&(e=new f),e.x=t.x+(a.x-t.x)*i,e.y=t.y+(a.y-t.y)*i,e};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.setTo(f.y,f.x)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a){return a===void 0&&(a=new f),a.setTo(-t.x,-t.y)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=p(501),t=function(a,i,e){e===void 0&&(e=new f);var s=a.x*i.x+a.y*i.y,r=s/x(i);return r!==0&&(e.x=r*i.x,e.y=r*i.y),e};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a,i){i===void 0&&(i=new f);var e=t.x*a.x+t.y*a.y;return e!==0&&(i.x=e*a.x,i.y=e*a.y),i};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(500),x=function(t,a){if(t.x!==0||t.y!==0){var i=f(t);t.x/=i,t.y/=i}return t.x*=a,t.y*=a,t};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(227);f.Clone=p(1261),f.Contains=p(228),f.ContainsPoint=p(1262),f.Earcut=p(59),f.GetAABB=p(469),f.GetNumberArray=p(1263),f.GetPoints=p(470),f.Perimeter=p(471),f.Reverse=p(1264),f.Simplify=p(1265),f.Smooth=p(472),f.Translate=p(1266),A.exports=f},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(227),x=function(t){return new f(t.points)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(228),x=function(t,a){return f(t,a.x,a.y)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){x===void 0&&(x=[]);for(var t=0;t<f.points.length;t++)x.push(f.points[t].x),x.push(f.points[t].y);return x};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.points.reverse(),f};A.exports=p},function(A,O){function p(e,s){var r=e.x-s.x,n=e.y-s.y;return r*r+n*n}function f(e,s,r){var n=s.x,o=s.y,l=r.x-n,h=r.y-o;if(l!==0||h!==0){var u=((e.x-n)*l+(e.y-o)*h)/(l*l+h*h);u>1?(n=r.x,o=r.y):u>0&&(n+=l*u,o+=h*u)}return l=e.x-n,h=e.y-o,l*l+h*h}function x(e,s){for(var r=e[0],n=[r],o,l=1,h=e.length;l<h;l++)o=e[l],p(o,r)>s&&(n.push(o),r=o);return r!==o&&n.push(o),n}function t(e,s,r,n,o){for(var l=n,h,u=s+1;u<r;u++){var c=f(e[u],e[s],e[r]);c>l&&(h=u,l=c)}l>n&&(h-s>1&&t(e,s,h,n,o),o.push(e[h]),r-h>1&&t(e,h,r,n,o))}function a(e,s){var r=e.length-1,n=[e[0]];return t(e,0,r,s,n),n.push(e[r]),n}var i=function(e,s,r){s===void 0&&(s=1),r===void 0&&(r=!1);var n=e.points;if(n.length>2){var o=s*s;r||(n=x(n,o)),e.setTo(a(n,o))}return e};A.exports=i},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){for(var a=f.points,i=0;i<a.length;i++)a[i].x+=x,a[i].y+=t;return f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.width*f.height};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.x=Math.ceil(f.x),f.y=Math.ceil(f.y),f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.x=Math.ceil(f.x),f.y=Math.ceil(f.y),f.width=Math.ceil(f.width),f.height=Math.ceil(f.height),f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(10),x=function(t){return new f(t.x,t.y,t.width,t.height)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(57),x=function(t,a){return f(t,a.x,a.y)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x.setTo(f.x,f.y,f.width,f.height)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.x===x.x&&f.y===x.y&&f.width===x.width&&f.height===x.height};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(237),x=function(t,a){var i=f(t);return i<f(a)?t.setSize(a.height*i,a.height):t.setSize(a.width,a.width/i),t.setPosition(a.centerX-t.width/2,a.centerY-t.height/2)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(237),x=function(t,a){var i=f(t);return i>f(a)?t.setSize(a.height*i,a.height):t.setSize(a.width,a.width/i),t.setPosition(a.centerX-t.width/2,a.centerY-t.height/2)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.x=Math.floor(f.x),f.y=Math.floor(f.y),f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.x=Math.floor(f.x),f.y=Math.floor(f.y),f.width=Math.floor(f.width),f.height=Math.floor(f.height),f};A.exports=p},function(A,O,p){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(10),x=function(t,a,i,e,s){return s===void 0&&(s=new f),s.setTo(Math.min(t,i),Math.min(a,e),Math.abs(t-i),Math.abs(a-e))};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a){return a===void 0&&(a=new f),a.x=t.centerX,a.y=t.centerY,a};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=function(t,a){return a===void 0&&(a=new f),a.x=t.width,a.y=t.height,a};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(190),x=function(t,a,i){var e=t.centerX,s=t.centerY;return t.setSize(t.width+a*2,t.height+i*2),f(t,e,s)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(10),x=p(152),t=function(a,i,e){return e===void 0&&(e=new f),x(a,i)?(e.x=Math.max(a.x,i.x),e.y=Math.max(a.y,i.y),e.width=Math.min(a.right,i.right)-e.x,e.height=Math.min(a.bottom,i.bottom)-e.y):e.setEmpty(),e};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){for(var t=f.x,a=f.right,i=f.y,e=f.bottom,s=0;s<x.length;s++)t=Math.min(t,x[s].x),a=Math.max(a,x[s].x),i=Math.min(i,x[s].y),e=Math.max(e,x[s].y);return f.x=t,f.y=i,f.width=a-t,f.height=e-i,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){var t=Math.min(f.x,x.x),a=Math.max(f.right,x.right);f.x=t,f.width=a-t;var i=Math.min(f.y,x.y),e=Math.max(f.bottom,x.bottom);return f.y=i,f.height=e-i,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){var a=Math.min(f.x,x),i=Math.max(f.right,x);f.x=a,f.width=i-a;var e=Math.min(f.y,t),s=Math.max(f.bottom,t);return f.y=e,f.height=s-e,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return f.x+=x,f.y+=t,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.x+=x.x,f.y+=x.y,f};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.x<x.right&&f.right>x.x&&f.y<x.bottom&&f.bottom>x.y};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(4),x=p(36),t=function(a,i,e){e===void 0&&(e=new f),i=x(i);var s=Math.sin(i),r=Math.cos(i),n=r>0?a.width/2:a.width/-2,o=s>0?a.height/2:a.height/-2;return Math.abs(n*s)<Math.abs(o*r)?o=n*s/r:n=o*r/s,e.x=n+a.centerX,e.y=o+a.centerY,e};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(195),x=p(503),t=p(4),a=function(i,e,s){if(s===void 0&&(s=new t),x(i,e))switch(f(0,3)){case 0:s.x=i.x+Math.random()*(e.right-i.x),s.y=i.y+Math.random()*(e.top-i.y);break;case 1:s.x=e.x+Math.random()*(i.right-e.x),s.y=e.bottom+Math.random()*(i.bottom-e.bottom);break;case 2:s.x=i.x+Math.random()*(e.x-i.x),s.y=e.y+Math.random()*(i.bottom-e.y);break;case 3:s.x=e.right+Math.random()*(i.right-e.right),s.y=i.y+Math.random()*(e.bottom-i.y);break}return s};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.width===x.width&&f.height===x.height};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t){return t===void 0&&(t=x),f.width*=x,f.height*=t,f};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(82);f.Area=p(1294),f.BuildEquilateral=p(1295),f.BuildFromPolygon=p(1296),f.BuildRight=p(1297),f.CenterOn=p(1298),f.Centroid=p(504),f.CircumCenter=p(1299),f.CircumCircle=p(1300),f.Clone=p(1301),f.Contains=p(115),f.ContainsArray=p(235),f.ContainsPoint=p(1302),f.CopyFrom=p(1303),f.Decompose=p(495),f.Equals=p(1304),f.GetPoint=p(476),f.GetPoints=p(477),f.InCenter=p(506),f.Perimeter=p(1305),f.Offset=p(505),f.Random=p(181),f.Rotate=p(1306),f.RotateAroundPoint=p(1307),f.RotateAroundXY=p(238),A.exports=f},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){var x=f.x1,t=f.y1,a=f.x2,i=f.y2,e=f.x3,s=f.y3;return Math.abs(((e-x)*(i-t)-(a-x)*(s-t))/2)};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(82),x=function(t,a,i){var e=i*(Math.sqrt(3)/2),s=t,r=a,n=t+i/2,o=a+e,l=t-i/2,h=a+e;return new f(s,r,n,o,l,h)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(59),x=p(82),t=function(a,i,e,s,r){i===void 0&&(i=null),e===void 0&&(e=1),s===void 0&&(s=1),r===void 0&&(r=[]);for(var n=f(a,i),o,l,h,u,c,d,v,g,m,y=0;y<n.length;y+=3)o=n[y],l=n[y+1],h=n[y+2],u=a[o*2]*e,c=a[o*2+1]*s,d=a[l*2]*e,v=a[l*2+1]*s,g=a[h*2]*e,m=a[h*2+1]*s,r.push(new x(u,c,d,v,g,m));return r};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(82),x=function(t,a,i,e){e===void 0&&(e=i);var s=t,r=a,n=t,o=a-e,l=t+i,h=a;return new f(s,r,n,o,l,h)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(504),x=p(505),t=function(a,i,e,s){s===void 0&&(s=f);var r=s(a),n=i-r.x,o=e-r.y;return x(a,n,o)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(3);function x(a,i,e,s){return a*s-i*e}var t=function(a,i){i===void 0&&(i=new f);var e=a.x3,s=a.y3,r=a.x1-e,n=a.y1-s,o=a.x2-e,l=a.y2-s,h=2*x(r,n,o,l),u=x(n,r*r+n*n,l,o*o+l*l),c=x(r,r*r+n*n,o,o*o+l*l);return i.x=e-u/h,i.y=s+c/h,i};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(65),x=function(t,a){a===void 0&&(a=new f);var i=t.x1,e=t.y1,s=t.x2,r=t.y2,n=t.x3,o=t.y3,l=s-i,h=r-e,u=n-i,c=o-e,d=l*(i+s)+h*(e+r),v=u*(i+n)+c*(e+o),g=2*(l*(o-r)-h*(n-s)),m,y;if(Math.abs(g)<1e-6){var T=Math.min(i,s,n),E=Math.min(e,r,o);m=(Math.max(i,s,n)-T)*.5,y=(Math.max(e,r,o)-E)*.5,a.x=T+m,a.y=E+y,a.radius=Math.sqrt(m*m+y*y)}else a.x=(c*d-h*v)/g,a.y=(l*v-u*d)/g,m=a.x-i,y=a.y-e,a.radius=Math.sqrt(m*m+y*y);return a};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(82),x=function(t){return new f(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(115),x=function(t,a){return f(t,a.x,a.y)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x.setTo(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.x1===x.x1&&f.y1===x.y1&&f.x2===x.x2&&f.y2===x.y2&&f.x3===x.x3&&f.y3===x.y3};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(67),x=function(t){var a=t.getLineA(),i=t.getLineB(),e=t.getLineC();return f(a)+f(i)+f(e)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(238),x=p(506),t=function(a,i){var e=x(a);return f(a,e.x,e.y,i)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(238),x=function(t,a,i){return f(t,a.x,a.y,i)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(203),x=p(17),t={CreatePixelPerfectHandler:p(507),CreateInteractiveObject:p(508),Events:p(51),Gamepad:p(1309),InputManager:p(409),InputPlugin:p(1321),InputPluginCache:p(153),Keyboard:p(1322),Mouse:p(1336),Pointer:p(412),Touch:p(1337)};t=x(!1,t,f),A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Axis:p(509),Button:p(510),Events:p(239),Gamepad:p(511),GamepadPlugin:p(1316),Configs:p(1317)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="down"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="up"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="connected"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="disconnected"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="down"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="up"},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(9),t=p(239),a=p(511),i=p(6),e=p(153),s=p(51),r=new f({Extends:x,initialize:function(o){x.call(this),this.scene=o.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=o,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,o.pluginEvents.once(s.BOOT,this.boot,this),o.pluginEvents.on(s.START,this.start,this)},boot:function(){var n=this.scene.sys.game,o=this.settings.input,l=n.config;this.enabled=i(o,"gamepad",l.inputGamepad)&&n.device.input.gamepads,this.target=i(o,"gamepad.target",l.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var n=this,o=this.target,l=function(h){h.defaultPrevented||!n.isActive()||(n.refreshPads(),n.queue.push(h))};this.onGamepadHandler=l,o.addEventListener("gamepadconnected",l,!1),o.addEventListener("gamepaddisconnected",l,!1),this.sceneInputPlugin.pluginEvents.on(s.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(s.UPDATE,this.update);for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].removeAllListeners()},disconnectAll:function(){for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].pad.connected=!1},refreshPads:function(){var n=navigator.getGamepads();if(!n)this.disconnectAll();else for(var o=this.gamepads,l=0;l<n.length;l++){var h=n[l];if(!!h){var u=h.id,c=h.index,d=o[c];if(d)d.id!==u?(d.destroy(),o[c]=new a(this,h)):d.update(h);else{var v=new a(this,h);o[c]=v,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=v):this._pad3=v:this._pad2=v:this._pad1=v}}}},getAll:function(){for(var n=[],o=this.gamepads,l=0;l<o.length;l++)o[l]&&n.push(o[l]);return n},getPad:function(n){for(var o=this.gamepads,l=0;l<o.length;l++)if(o[l]&&o[l].index===n)return o[l]},update:function(){if(!!this.enabled){this.refreshPads();var n=this.queue.length;if(n!==0)for(var o=this.queue.splice(0,n),l=0;l<n;l++){var h=o[l],u=this.getPad(h.gamepad.index);h.type==="gamepadconnected"?this.emit(t.CONNECTED,u,h):h.type==="gamepaddisconnected"&&this.emit(t.DISCONNECTED,u,h)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var n=0;n<this.gamepads.length;n++)this.gamepads[n]&&this.gamepads[n].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",r,"gamepad","gamepad","inputGamepad"),A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={DUALSHOCK_4:p(1318),SNES_USB:p(1319),XBOX_360:p(1320)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(65),x=p(66),t=p(0),a=p(203),i=p(508),e=p(507),s=p(50),r=p(111),n=p(112),o=p(51),l=p(9),h=p(2),u=p(56),c=p(153),d=p(7),v=p(24),g=p(10),m=p(57),y=p(20),T=p(82),E=p(115),S=new t({Extends:l,initialize:function(M){l.call(this),this.scene=M,this.systems=M.sys,this.settings=M.sys.settings,this.manager=M.sys.game.input,this.pluginEvents=new l,this.enabled=!0,this.displayList,this.cameras,c.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var P={cancelled:!1};this._eventContainer={stopPropagation:function(){P.cancelled=!0}},this._eventData=P,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,M.sys.events.once(y.BOOT,this.boot,this),M.sys.events.on(y.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(y.DESTROY,this.destroy,this),this.pluginEvents.emit(o.BOOT)},start:function(){var C=this.systems.events;C.on(y.TRANSITION_START,this.transitionIn,this),C.on(y.TRANSITION_OUT,this.transitionOut,this),C.on(y.TRANSITION_COMPLETE,this.transitionComplete,this),C.on(y.PRE_UPDATE,this.preUpdate,this),C.once(y.SHUTDOWN,this.shutdown,this),this.manager.events.on(o.GAME_OUT,this.onGameOut,this),this.manager.events.on(o.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(o.START)},onGameOver:function(C){this.isActive()&&this.emit(o.GAME_OVER,C.timeStamp,C)},onGameOut:function(C){this.isActive()&&this.emit(o.GAME_OUT,C.timeStamp,C)},preUpdate:function(){this.pluginEvents.emit(o.PRE_UPDATE);var C=this._pendingRemoval,M=this._pendingInsertion,P=C.length,R=M.length;if(!(P===0&&R===0)){for(var L=this._list,w=0;w<P;w++){var B=C[w],G=L.indexOf(B);G>-1&&(L.splice(G,1),this.clear(B,!0))}C.length=0,this._pendingRemoval.length=0,this._list=L.concat(M.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(C,M){if(!this.isActive())return!1;if(this.pluginEvents.emit(o.UPDATE,C,M),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var P,R=this.manager,L=R.pointers,w=R.pointersTotal;for(P=0;P<w;P++)L[P].updateMotion();if(this._list.length===0)return!1;var B=this.pollRate;if(B===-1)return!1;if(B>0)if(this._pollTimer-=M,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var G=!1;for(P=0;P<w;P++){var Y=0,D=L[P];this._tempZones=[],this._temp=this.hitTestPointer(D),this.sortGameObjects(this._temp,D),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Y+=this.processOverOutEvents(D),this.getDragState(D)===2&&this.processDragThresholdEvent(D,C),Y>0&&(G=!0)}return G},update:function(C,M){if(!this.isActive())return!1;for(var P=M.length,R=!1,L=0;L<P;L++){var w=0,B=M[L];switch(this._tempZones=[],this._temp=this.hitTestPointer(B),this.sortGameObjects(this._temp,B),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),C){case a.MOUSE_DOWN:w+=this.processDragDownEvent(B),w+=this.processDownEvents(B),w+=this.processOverOutEvents(B);break;case a.MOUSE_UP:w+=this.processDragUpEvent(B),w+=this.processUpEvents(B),w+=this.processOverOutEvents(B);break;case a.TOUCH_START:w+=this.processDragDownEvent(B),w+=this.processDownEvents(B),w+=this.processOverEvents(B);break;case a.TOUCH_END:case a.TOUCH_CANCEL:w+=this.processDragUpEvent(B),w+=this.processUpEvents(B),w+=this.processOutEvents(B);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:w+=this.processDragMoveEvent(B),w+=this.processMoveEvents(B),w+=this.processOverOutEvents(B);break;case a.MOUSE_WHEEL:w+=this.processWheelEvent(B);break}w>0&&(R=!0)}return this._updatedThisFrame=!0,R},clear:function(C,M){M===void 0&&(M=!1);var P=C.input;if(!!P){M||this.queueForRemoval(C),P.gameObject=void 0,P.target=void 0,P.hitArea=void 0,P.hitAreaCallback=void 0,P.callbackContext=void 0,C.input=null;var R=this._draggable.indexOf(C);return R>-1&&this._draggable.splice(R,1),R=this._drag[0].indexOf(C),R>-1&&this._drag[0].splice(R,1),R=this._over[0].indexOf(C),R>-1&&(this._over[0].splice(R,1),this.manager.resetCursor(P)),C}},disable:function(C){C.input.enabled=!1},enable:function(C,M,P,R){return R===void 0&&(R=!1),C.input?C.input.enabled=!0:this.setHitArea(C,M,P),C.input&&R&&!C.input.dropZone&&(C.input.dropZone=R),this},hitTestPointer:function(C){for(var M=this.cameras.getCamerasBelowPointer(C),P=0;P<M.length;P++){for(var R=M[P],L=this.manager.hitTest(C,this._list,R),w=0;w<L.length;w++){var B=L[w];B.input.dropZone&&this._tempZones.push(B)}if(L.length>0)return C.camera=R,L}return C.camera=M[0],[]},processDownEvents:function(C){var M=0,P=this._temp,R=this._eventData,L=this._eventContainer;R.cancelled=!1;for(var w=!1,B=0;B<P.length;B++){var G=P[B];if(!!G.input){if(M++,G.emit(o.GAMEOBJECT_POINTER_DOWN,C,G.input.localX,G.input.localY,L),R.cancelled||!G.input){w=!0;break}if(this.emit(o.GAMEOBJECT_DOWN,C,G,L),R.cancelled||!G.input){w=!0;break}}}return!w&&this.manager&&(C.downElement===this.manager.game.canvas?this.emit(o.POINTER_DOWN,C,P):this.emit(o.POINTER_DOWN_OUTSIDE,C)),M},getDragState:function(C){return this._dragState[C.id]},setDragState:function(C,M){this._dragState[C.id]=M},processDragThresholdEvent:function(C,M){var P=!1,R=this.dragTimeThreshold,L=this.dragDistanceThreshold;if((L>0&&s(C.x,C.y,C.downX,C.downY)>=L||R>0&&M>=C.downTime+R)&&(P=!0),P)return this.setDragState(C,3),this.processDragStartList(C)},processDragStartList:function(C){if(this.getDragState(C)!==3)return 0;for(var M=this._drag[C.id],P=0;P<M.length;P++){var R=M[P],L=R.input;L.dragState=2,L.dragStartX=R.x,L.dragStartY=R.y,L.dragStartXGlobal=C.worldX,L.dragStartYGlobal=C.worldY,L.dragX=L.dragStartXGlobal-L.dragStartX,L.dragY=L.dragStartYGlobal-L.dragStartY,R.emit(o.GAMEOBJECT_DRAG_START,C,L.dragX,L.dragY),this.emit(o.DRAG_START,C,R)}return this.setDragState(C,4),M.length},processDragDownEvent:function(C){var M=this._temp;if(this._draggable.length===0||M.length===0||!C.primaryDown||this.getDragState(C)!==0)return 0;this.setDragState(C,1);for(var P=[],R=0;R<M.length;R++){var L=M[R];L.input.draggable&&L.input.dragState===0&&P.push(L)}return P.length===0?(this.setDragState(C,0),0):(P.length>1&&(this.sortGameObjects(P,C),this.topOnly&&P.splice(1)),this._drag[C.id]=P,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(C,3),this.processDragStartList(C)):(this.setDragState(C,2),0))},processDragMoveEvent:function(C){if(this.getDragState(C)===2&&this.processDragThresholdEvent(C,this.manager.game.loop.now),this.getDragState(C)!==4)return 0;for(var M=this._tempZones,P=this._drag[C.id],R=0;R<P.length;R++){var L=P[R],w=L.input,B=w.target;if(B){var G=M.indexOf(B);G===0?(L.emit(o.GAMEOBJECT_DRAG_OVER,C,B),this.emit(o.DRAG_OVER,C,L,B)):G>0?(L.emit(o.GAMEOBJECT_DRAG_LEAVE,C,B),this.emit(o.DRAG_LEAVE,C,L,B),w.target=M[0],B=w.target,L.emit(o.GAMEOBJECT_DRAG_ENTER,C,B),this.emit(o.DRAG_ENTER,C,L,B)):(L.emit(o.GAMEOBJECT_DRAG_LEAVE,C,B),this.emit(o.DRAG_LEAVE,C,L,B),M[0]?(w.target=M[0],B=w.target,L.emit(o.GAMEOBJECT_DRAG_ENTER,C,B),this.emit(o.DRAG_ENTER,C,L,B)):w.target=null)}else!B&&M[0]&&(w.target=M[0],B=w.target,L.emit(o.GAMEOBJECT_DRAG_ENTER,C,B),this.emit(o.DRAG_ENTER,C,L,B));var Y,D;if(!L.parentContainer)Y=C.worldX-w.dragX,D=C.worldY-w.dragY;else{var F=C.worldX-w.dragStartXGlobal,N=C.worldY-w.dragStartYGlobal,I=L.getParentRotation(),b=F*Math.cos(I)+N*Math.sin(I),U=N*Math.cos(I)-F*Math.sin(I);b*=1/L.parentContainer.scaleX,U*=1/L.parentContainer.scaleY,Y=b+w.dragStartX,D=U+w.dragStartY}L.emit(o.GAMEOBJECT_DRAG,C,Y,D),this.emit(o.DRAG,C,L,Y,D)}return P.length},processDragUpEvent:function(C){for(var M=this._drag[C.id],P=0;P<M.length;P++){var R=M[P],L=R.input;if(L&&L.dragState===2){L.dragState=0,L.dragX=L.localX-R.displayOriginX,L.dragY=L.localY-R.displayOriginY;var w=!1,B=L.target;B&&(R.emit(o.GAMEOBJECT_DROP,C,B),this.emit(o.DROP,C,R,B),L.target=null,w=!0),R.input&&(R.emit(o.GAMEOBJECT_DRAG_END,C,L.dragX,L.dragY,w),this.emit(o.DRAG_END,C,R,w))}}return this.setDragState(C,0),M.splice(0),0},processMoveEvents:function(C){var M=0,P=this._temp,R=this._eventData,L=this._eventContainer;R.cancelled=!1;for(var w=!1,B=0;B<P.length;B++){var G=P[B];if(!!G.input){if(M++,G.emit(o.GAMEOBJECT_POINTER_MOVE,C,G.input.localX,G.input.localY,L),R.cancelled||!G.input){w=!0;break}if(this.emit(o.GAMEOBJECT_MOVE,C,G,L),R.cancelled||!G.input){w=!0;break}if(this.topOnly)break}}return w||this.emit(o.POINTER_MOVE,C,P),M},processWheelEvent:function(C){var M=0,P=this._temp,R=this._eventData,L=this._eventContainer;R.cancelled=!1;for(var w=!1,B=C.deltaX,G=C.deltaY,Y=C.deltaZ,D=0;D<P.length;D++){var F=P[D];if(!!F.input){if(M++,F.emit(o.GAMEOBJECT_POINTER_WHEEL,C,B,G,Y,L),R.cancelled||!F.input){w=!0;break}if(this.emit(o.GAMEOBJECT_WHEEL,C,F,B,G,Y,L),R.cancelled||!F.input){w=!0;break}}}return w||this.emit(o.POINTER_WHEEL,C,P,B,G,Y),M},processOverEvents:function(C){var M=this._temp,P=0,R=M.length,L=[];if(R>0){var w=this.manager,B=this._eventData,G=this._eventContainer;B.cancelled=!1;for(var Y=!1,D=0;D<R;D++){var F=M[D];if(!!F.input){if(L.push(F),w.setCursor(F.input),F.emit(o.GAMEOBJECT_POINTER_OVER,C,F.input.localX,F.input.localY,G),P++,B.cancelled||!F.input){Y=!0;break}if(this.emit(o.GAMEOBJECT_OVER,C,F,G),B.cancelled||!F.input){Y=!0;break}}}Y||this.emit(o.POINTER_OVER,C,L)}return this._over[C.id]=L,P},processOutEvents:function(C){var M=this._over[C.id],P=0,R=M.length;if(R>0){var L=this.manager,w=this._eventData,B=this._eventContainer;w.cancelled=!1;var G=!1;this.sortGameObjects(M,C);for(var Y=0;Y<R;Y++){var D=M[Y];if(D=M[Y],!!D.input){if(L.resetCursor(D.input),D.emit(o.GAMEOBJECT_POINTER_OUT,C,B),P++,w.cancelled||!D.input){G=!0;break}if(this.emit(o.GAMEOBJECT_OUT,C,D,B),w.cancelled||!D.input){G=!0;break}G||this.emit(o.POINTER_OUT,C,M)}}this._over[C.id]=[]}return P},processOverOutEvents:function(C){var M=this._temp,P,R,L=[],w=[],B=[],G=this._over[C.id],Y=this._drag[C.id],D=this.manager;for(P=0;P<G.length;P++)R=G[P],M.indexOf(R)===-1&&Y.indexOf(R)===-1?L.push(R):B.push(R);for(P=0;P<M.length;P++)R=M[P],G.indexOf(R)===-1&&w.push(R);var F=L.length,N=0,I=this._eventData,b=this._eventContainer;I.cancelled=!1;var U=!1;if(F>0){for(this.sortGameObjects(L,C),P=0;P<F;P++)if(R=L[P],!!R.input){if(D.resetCursor(R.input),R.emit(o.GAMEOBJECT_POINTER_OUT,C,b),N++,I.cancelled||!R.input){U=!0;break}if(this.emit(o.GAMEOBJECT_OUT,C,R,b),I.cancelled||!R.input){U=!0;break}}U||this.emit(o.POINTER_OUT,C,L)}if(F=w.length,I.cancelled=!1,U=!1,F>0){for(this.sortGameObjects(w,C),P=0;P<F;P++)if(R=w[P],!!R.input){if(D.setCursor(R.input),R.emit(o.GAMEOBJECT_POINTER_OVER,C,R.input.localX,R.input.localY,b),N++,I.cancelled||!R.input){U=!0;break}if(this.emit(o.GAMEOBJECT_OVER,C,R,b),I.cancelled||!R.input){U=!0;break}}U||this.emit(o.POINTER_OVER,C,w)}return G=B.concat(w),this._over[C.id]=this.sortGameObjects(G,C),N},processUpEvents:function(C){var M=this._temp,P=this._eventData,R=this._eventContainer;P.cancelled=!1;for(var L=!1,w=0;w<M.length;w++){var B=M[w];if(!!B.input){if(B.emit(o.GAMEOBJECT_POINTER_UP,C,B.input.localX,B.input.localY,R),P.cancelled||!B.input){L=!0;break}if(this.emit(o.GAMEOBJECT_UP,C,B,R),P.cancelled||!B.input){L=!0;break}}}return!L&&this.manager&&(C.upElement===this.manager.game.canvas?this.emit(o.POINTER_UP,C,M):this.emit(o.POINTER_UP_OUTSIDE,C)),M.length},queueForInsertion:function(C){return this._pendingInsertion.indexOf(C)===-1&&this._list.indexOf(C)===-1&&this._pendingInsertion.push(C),this},queueForRemoval:function(C){return this._pendingRemoval.push(C),this},setDraggable:function(C,M){M===void 0&&(M=!0),Array.isArray(C)||(C=[C]);for(var P=0;P<C.length;P++){var R=C[P];R.input.draggable=M;var L=this._draggable.indexOf(R);M&&L===-1?this._draggable.push(R):!M&&L>-1&&this._draggable.splice(L,1)}return this},makePixelPerfect:function(C){C===void 0&&(C=1);var M=this.systems.textures;return e(M,C)},setHitArea:function(C,M,P){if(M===void 0)return this.setHitAreaFromTexture(C);Array.isArray(C)||(C=[C]);var R=!1,L=!1,w=!1,B=!1,G=!1,Y=!0;if(d(M)){var D=M;M=h(D,"hitArea",null),P=h(D,"hitAreaCallback",null),R=h(D,"draggable",!1),L=h(D,"dropZone",!1),w=h(D,"cursor",!1),B=h(D,"useHandCursor",!1),G=h(D,"pixelPerfect",!1);var F=h(D,"alphaTolerance",1);G&&(M={},P=this.makePixelPerfect(F)),(!M||!P)&&(this.setHitAreaFromTexture(C),Y=!1)}else typeof M=="function"&&!P&&(P=M,M={});for(var N=0;N<C.length;N++){var I=C[N];if(G&&I.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var b=I.input?I.input:i(I,M,P);b.customHitArea=Y,b.dropZone=L,b.cursor=B?"pointer":w,I.input=b,R&&this.setDraggable(I),this.queueForInsertion(I)}return this},setHitAreaCircle:function(C,M,P,R,L){L===void 0&&(L=x);var w=new f(M,P,R);return this.setHitArea(C,w,L)},setHitAreaEllipse:function(C,M,P,R,L,w){w===void 0&&(w=n);var B=new r(M,P,R,L);return this.setHitArea(C,B,w)},setHitAreaFromTexture:function(C,M){M===void 0&&(M=m),Array.isArray(C)||(C=[C]);for(var P=0;P<C.length;P++){var R=C[P],L=R.frame,w=0,B=0;if(R.width?(w=R.width,B=R.height):L&&(w=L.realWidth,B=L.realHeight),R.type==="Container"&&(w===0||B===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}w!==0&&B!==0&&(R.input=i(R,new g(0,0,w,B),M),this.queueForInsertion(R))}return this},setHitAreaRectangle:function(C,M,P,R,L,w){w===void 0&&(w=m);var B=new g(M,P,R,L);return this.setHitArea(C,B,w)},setHitAreaTriangle:function(C,M,P,R,L,w,B,G){G===void 0&&(G=E);var Y=new T(M,P,R,L,w,B);return this.setHitArea(C,Y,G)},enableDebug:function(C,M){M===void 0&&(M=65280);var P=C.input;if(!P||!P.hitArea)return this;var R=P.hitArea,L=R.type,w=P.hitAreaDebug,B=this.systems.add,G=this.systems.updateList;w&&(G.remove(w),w.destroy(),w=null);var Y=0,D=0;switch(L){case u.CIRCLE:w=B.arc(0,0,R.radius),Y=R.x-R.radius,D=R.y-R.radius;break;case u.ELLIPSE:w=B.ellipse(0,0,R.width,R.height),Y=R.x-R.width/2,D=R.y-R.height/2;break;case u.LINE:w=B.line(0,0,R.x1,R.y1,R.x2,R.y2);break;case u.POLYGON:w=B.polygon(0,0,R.points);break;case u.RECTANGLE:w=B.rectangle(0,0,R.width,R.height),Y=R.x,D=R.y;break;case u.TRIANGLE:w=B.triangle(0,0,R.x1,R.y1,R.x2,R.y2,R.x3,R.y3);break}return w&&(w.isFilled=!1,w.preUpdate=function(){w.setStrokeStyle(1/C.scale,M),w.setDisplayOrigin(C.displayOriginX,C.displayOriginY);var F=C.x,N=C.y,I=C.rotation,b=C.scaleX,U=C.scaleY;if(C.parentContainer){var X=C.getWorldTransformMatrix();F=X.tx,N=X.ty,I=X.rotation,b=X.scaleX,U=X.scaleY}w.setRotation(I),w.setScale(b,U),w.setPosition(F+Y,N+D),w.setScrollFactor(C.scrollFactorX,C.scrollFactorY),w.setDepth(C.depth)},G.add(w),P.hitAreaDebug=w),this},removeDebug:function(C){var M=C.input;if(M&&M.hitAreaDebug){var P=M.hitAreaDebug;this.systems.updateList.remove(P),P.destroy(),M.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(C){return this.pollRate=C,this._pollTimer=0,this},setGlobalTopOnly:function(C){return this.manager.globalTopOnly=C,this},setTopOnly:function(C){return this.topOnly=C,this},sortGameObjects:function(C,M){if(C.length<2)return C;var P=M.camera.renderList;return C.sort(function(R,L){return P.indexOf(L)-P.indexOf(R)})},sortDropZones:function(C){return C.length<2?C:(this.scene.sys.depthSort(),C.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(C,M){if(!C.parentContainer&&!M.parentContainer)return this.displayList.getIndex(M)-this.displayList.getIndex(C);if(C.parentContainer===M.parentContainer)return M.parentContainer.getIndex(M)-C.parentContainer.getIndex(C);if(C.parentContainer===M)return-1;if(M.parentContainer===C)return 1;for(var P=C.getIndexList(),R=M.getIndexList(),L=Math.min(P.length,R.length),w=0;w<L;w++){var B=P[w],G=R[w];if(B!==G)return G-B}return R.length-P.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(C){return this.manager.addPointer(C)},setDefaultCursor:function(C){return this.manager.setDefaultCursor(C),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(o.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var C=0;C<10;C++)this._drag[C]=[],this._over[C]=[];this.removeAllListeners();var M=this.manager;M.canvas.style.cursor=M.defaultCursor;var P=this.systems.events;P.off(y.TRANSITION_START,this.transitionIn,this),P.off(y.TRANSITION_OUT,this.transitionOut,this),P.off(y.TRANSITION_COMPLETE,this.transitionComplete,this),P.off(y.PRE_UPDATE,this.preUpdate,this),M.events.off(o.GAME_OUT,this.onGameOut,this),M.events.off(o.GAME_OVER,this.onGameOver,this),P.off(y.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(o.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(y.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});v.register("InputPlugin",S,"input"),A.exports=S},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Events:p(154),KeyboardManager:p(410),KeyboardPlugin:p(1330),Key:p(512),KeyCodes:p(143),KeyCombo:p(513),AdvanceKeyCombo:p(515),ProcessKeyCombo:p(514),ResetKeyCombo:p(516),JustDown:p(1332),JustUp:p(1333),DownDuration:p(1334),UpDuration:p(1335)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="keydown"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="keyup"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="keycombomatch"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="down"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="keydown-"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="keyup-"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="up"},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(9),t=p(154),a=p(22),i=p(6),e=p(51),s=p(153),r=p(512),n=p(143),o=p(513),l=p(1331),h=p(20),u=p(76),c=new f({Extends:x,initialize:function(v){x.call(this),this.game=v.systems.game,this.scene=v.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=v,this.manager=v.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,v.pluginEvents.once(e.BOOT,this.boot,this),v.pluginEvents.on(e.START,this.start,this)},boot:function(){var d=this.settings.input;this.enabled=i(d,"keyboard",!0);var v=i(d,"keyboard.capture",null);v&&this.addCaptures(v),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(h.PAUSE,this.resetKeys,this),this.scene.sys.events.on(h.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(d){return this.manager.addCapture(d),this},removeCapture:function(d){return this.manager.removeCapture(d),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:n.UP,down:n.DOWN,left:n.LEFT,right:n.RIGHT,space:n.SPACE,shift:n.SHIFT})},addKeys:function(d,v,g){v===void 0&&(v=!0),g===void 0&&(g=!1);var m={};if(typeof d=="string"){d=d.split(",");for(var y=0;y<d.length;y++){var T=d[y].trim();T&&(m[T]=this.addKey(T,v,g))}}else for(var E in d)m[E]=this.addKey(d[E],v,g);return m},addKey:function(d,v,g){v===void 0&&(v=!0),g===void 0&&(g=!1);var m=this.keys;if(d instanceof r){var y=m.indexOf(d);return y>-1?m[y]=d:m[d.keyCode]=d,v&&this.addCapture(d.keyCode),d.setEmitOnRepeat(g),d}return typeof d=="string"&&(d=n[d.toUpperCase()]),m[d]||(m[d]=new r(this,d),v&&this.addCapture(d),m[d].setEmitOnRepeat(g)),m[d]},removeKey:function(d,v){v===void 0&&(v=!1);var g=this.keys,m;if(d instanceof r){var y=g.indexOf(d);y>-1&&(m=this.keys[y],this.keys[y]=void 0)}else typeof d=="string"&&(d=n[d.toUpperCase()]);return g[d]&&(m=g[d],g[d]=void 0),m&&(m.plugin=null,v&&m.destroy()),this},removeAllKeys:function(d){for(var v=this.keys,g=0;g<v.length;g++){var m=v[g];m&&(v[g]=void 0,d&&m.destroy())}return this},createCombo:function(d,v){return new o(this,d,v)},checkDown:function(d,v){if(v===void 0&&(v=0),this.enabled&&d.isDown){var g=u(this.time-d.timeDown,v);if(g>d._tick)return d._tick=g,!0}return!1},update:function(){var d=this.manager.queue,v=d.length;if(!(!this.isActive()||v===0))for(var g=this.keys,m=0;m<v;m++){var y=d[m],T=y.keyCode,E=g[T],S=!1;y.cancelled===void 0&&(y.cancelled=0,y.stopImmediatePropagation=function(){y.cancelled=1},y.stopPropagation=function(){y.cancelled=-1}),y.cancelled!==-1&&(T===this.prevCode&&y.timeStamp===this.prevTime&&y.type===this.prevType||(this.prevCode=T,this.prevTime=y.timeStamp,this.prevType=y.type,y.type==="keydown"?(E&&(S=E.isDown,E.onDown(y)),!y.cancelled&&(!E||!S)&&(l[T]&&this.emit(t.KEY_DOWN+l[T],y),y.cancelled||this.emit(t.ANY_KEY_DOWN,y))):(E&&E.onUp(y),y.cancelled||(l[T]&&this.emit(t.KEY_UP+l[T],y),y.cancelled||this.emit(t.ANY_KEY_UP,y))),y.cancelled===1&&(y.cancelled=0)))}},resetKeys:function(){for(var d=this.keys,v=0;v<d.length;v++)d[v]&&d[v].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(h.PAUSE,this.resetKeys,this),this.scene.sys.events.off(h.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var d=this.keys,v=0;v<d.length;v++)d[v]&&d[v].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});s.register("KeyboardPlugin",c,"keyboard","keyboard","inputKeyboard"),A.exports=c},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(143),x={};for(var t in f)x[f[t]]=t;A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f._justDown?(f._justDown=!1,!0):!1};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f._justUp?(f._justUp=!1,!0):!1};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){x===void 0&&(x=50);var t=f.plugin.game.loop.time-f.timeDown;return f.isDown&&t<x};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){x===void 0&&(x=50);var t=f.plugin.game.loop.time-f.timeUp;return f.isUp&&t<x};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={MouseManager:p(411)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={TouchManager:p(413)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(21),x=p(17),t={Events:p(95),FileTypes:p(1339),File:p(23),FileTypesManager:p(8),GetURL:p(155),LoaderPlugin:p(1365),MergeXHRSettings:p(240),MultiFile:p(49),XHRLoader:p(517),XHRSettings:p(156)};t=x(!1,t,f),A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={AnimationJSONFile:p(1340),AsepriteFile:p(1341),AtlasJSONFile:p(1342),AtlasXMLFile:p(1343),AudioFile:p(518),AudioSpriteFile:p(1344),BinaryFile:p(1345),BitmapFontFile:p(1346),CSSFile:p(1347),GLSLFile:p(1348),HTML5AudioFile:p(519),HTMLFile:p(1349),HTMLTextureFile:p(1350),ImageFile:p(71),JSONFile:p(61),MultiAtlasFile:p(1351),MultiScriptFile:p(1352),OBJFile:p(1353),PackFile:p(1354),PluginFile:p(1355),SceneFile:p(1356),ScenePluginFile:p(1357),ScriptFile:p(520),SpriteSheetFile:p(1358),SVGFile:p(1359),TextFile:p(242),TilemapCSVFile:p(1360),TilemapImpactFile:p(1361),TilemapJSONFile:p(1362),UnityAtlasFile:p(1363),VideoFile:p(1364),XMLFile:p(241)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(8),t=p(61),a=p(95),i=new f({Extends:t,initialize:function(s,r,n,o,l){t.call(this,s,r,n,o,l),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),t.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});x.register("animation",function(e,s,r,n){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new i(this,e[o]));else this.addFile(new i(this,e,s,n,r));return this}),A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(8),t=p(2),a=p(71),i=p(7),e=p(61),s=p(49),r=new f({Extends:s,initialize:function(o,l,h,u,c,d){var v,g;if(i(l)){var m=l;l=t(m,"key"),v=new a(o,{key:l,url:t(m,"textureURL"),extension:t(m,"textureExtension","png"),normalMap:t(m,"normalMap"),xhrSettings:t(m,"textureXhrSettings")}),g=new e(o,{key:l,url:t(m,"atlasURL"),extension:t(m,"atlasExtension","json"),xhrSettings:t(m,"atlasXhrSettings")})}else v=new a(o,l,h,c),g=new e(o,l,u,d);v.linkFile?s.call(this,o,"atlasjson",l,[v,g,v.linkFile]):s.call(this,o,"atlasjson",l,[v,g])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],l=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,o.data,l),o.addToCache(),this.complete=!0}}});x.register("aseprite",function(n,o,l,h,u){var c;if(Array.isArray(n))for(var d=0;d<n.length;d++)c=new r(this,n[d]),this.addFile(c.files);else c=new r(this,n,o,l,h,u),this.addFile(c.files);return this}),A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(8),t=p(2),a=p(71),i=p(7),e=p(61),s=p(49),r=new f({Extends:s,initialize:function(o,l,h,u,c,d){var v,g;if(i(l)){var m=l;l=t(m,"key"),v=new a(o,{key:l,url:t(m,"textureURL"),extension:t(m,"textureExtension","png"),normalMap:t(m,"normalMap"),xhrSettings:t(m,"textureXhrSettings")}),g=new e(o,{key:l,url:t(m,"atlasURL"),extension:t(m,"atlasExtension","json"),xhrSettings:t(m,"atlasXhrSettings")})}else v=new a(o,l,h,c),g=new e(o,l,u,d);v.linkFile?s.call(this,o,"atlasjson",l,[v,g,v.linkFile]):s.call(this,o,"atlasjson",l,[v,g])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],l=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,o.data,l),o.pendingDestroy(),this.complete=!0}}});x.register("atlas",function(n,o,l,h,u){var c;if(Array.isArray(n))for(var d=0;d<n.length;d++)c=new r(this,n[d]),this.addFile(c.files);else c=new r(this,n,o,l,h,u),this.addFile(c.files);return this}),A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(8),t=p(2),a=p(71),i=p(7),e=p(49),s=p(241),r=new f({Extends:e,initialize:function(o,l,h,u,c,d){var v,g;if(i(l)){var m=l;l=t(m,"key"),v=new a(o,{key:l,url:t(m,"textureURL"),extension:t(m,"textureExtension","png"),normalMap:t(m,"normalMap"),xhrSettings:t(m,"textureXhrSettings")}),g=new s(o,{key:l,url:t(m,"atlasURL"),extension:t(m,"atlasExtension","xml"),xhrSettings:t(m,"atlasXhrSettings")})}else v=new a(o,l,h,c),g=new s(o,l,u,d);v.linkFile?e.call(this,o,"atlasxml",l,[v,g,v.linkFile]):e.call(this,o,"atlasxml",l,[v,g])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],l=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(n.key,n.data,o.data,l),o.pendingDestroy(),this.complete=!0}}});x.register("atlasXML",function(n,o,l,h,u){var c;if(Array.isArray(n))for(var d=0;d<n.length;d++)c=new r(this,n[d]),this.addFile(c.files);else c=new r(this,n,o,l,h,u),this.addFile(c.files);return this}),A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(518),x=p(0),t=p(8),a=p(2),i=p(7),e=p(61),s=p(49),r=new x({Extends:s,initialize:function(o,l,h,u,c,d,v){if(i(l)){var g=l;l=a(g,"key"),h=a(g,"jsonURL"),u=a(g,"audioURL"),c=a(g,"audioConfig"),d=a(g,"audioXhrSettings"),v=a(g,"jsonXhrSettings")}var m;if(!u)m=new e(o,l,h,v),s.call(this,o,"audiosprite",l,[m]),this.config.resourceLoad=!0,this.config.audioConfig=c,this.config.audioXhrSettings=d;else{var y=f.create(o,l,u,c,d);y&&(m=new e(o,l,h,v),s.call(this,o,"audiosprite",l,[y,m]),this.config.resourceLoad=!1)}},onFileComplete:function(n){var o=this.files.indexOf(n);if(o!==-1&&(this.pending--,this.config.resourceLoad&&n.type==="json"&&n.data.hasOwnProperty("resources"))){var l=n.data.resources,h=a(this.config,"audioConfig"),u=a(this.config,"audioXhrSettings"),c=f.create(this.loader,n.key,l,h,u);c&&(this.addToMultiFile(c),this.loader.addFile(c))}},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1];n.addToCache(),o.addToCache(),this.complete=!0}}});t.register("audioSprite",function(n,o,l,h,u,c){var d=this.systems.game,v=d.config.audio,g=d.device.audio;if(v&&v.noAudio||!g.webAudio&&!g.audioData)return this;var m;if(Array.isArray(n))for(var y=0;y<n.length;y++)m=new r(this,n[y]),m.files&&this.addFile(m.files);else m=new r(this,n,o,l,h,u,c),m.files&&this.addFile(m.files);return this})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(7),s=new f({Extends:t,initialize:function(n,o,l,h,u){var c="bin";if(e(o)){var d=o;o=i(d,"key"),l=i(d,"url"),h=i(d,"xhrSettings"),c=i(d,"extension",c),u=i(d,"dataType",u)}var v={type:"binary",cache:n.cacheManager.binary,extension:c,responseType:"arraybuffer",key:o,url:l,xhrSettings:h,config:{dataType:u}};t.call(this,n,v)},onProcess:function(){this.state=x.FILE_PROCESSING;var r=this.config.dataType;this.data=r?new r(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(r,n,o,l){if(Array.isArray(r))for(var h=0;h<r.length;h++)this.addFile(new s(this,r[h]));else this.addFile(new s(this,r,n,l,o));return this}),A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(8),t=p(2),a=p(71),i=p(7),e=p(49),s=p(212),r=p(241),n=new f({Extends:e,initialize:function(l,h,u,c,d,v){var g,m;if(i(h)){var y=h;h=t(y,"key"),g=new a(l,{key:h,url:t(y,"textureURL"),extension:t(y,"textureExtension","png"),normalMap:t(y,"normalMap"),xhrSettings:t(y,"textureXhrSettings")}),m=new r(l,{key:h,url:t(y,"fontDataURL"),extension:t(y,"fontDataExtension","xml"),xhrSettings:t(y,"fontDataXhrSettings")})}else g=new a(l,h,u,d),m=new r(l,h,c,v);g.linkFile?e.call(this,l,"bitmapfont",h,[g,m,g.linkFile]):e.call(this,l,"bitmapfont",h,[g,m])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],l=this.files[1];o.addToCache(),l.pendingDestroy();var h=o.cache.get(o.key),u=s(l.data,o.cache.getFrame(o.key),0,0,h);this.loader.cacheManager.bitmapFont.add(o.key,{data:u,texture:o.key,frame:null}),this.complete=!0}}});x.register("bitmapFont",function(o,l,h,u,c){var d;if(Array.isArray(o))for(var v=0;v<o.length;v++)d=new n(this,o[v]),this.addFile(d.files);else d=new n(this,o,l,h,u,c),this.addFile(d.files);return this}),A.exports=n},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(7),s=new f({Extends:t,initialize:function(n,o,l,h){var u="css";if(e(o)){var c=o;o=i(c,"key"),l=i(c,"url"),h=i(c,"xhrSettings"),u=i(c,"extension",u)}var d={type:"script",cache:!1,extension:u,responseType:"text",key:o,url:l,xhrSettings:h};t.call(this,n,d)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(r,n,o){if(Array.isArray(r))for(var l=0;l<r.length;l++)this.addFile(new s(this,r[l]));else this.addFile(new s(this,r,n,o));return this}),A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(7),s=p(396),r=new f({Extends:t,initialize:function(o,l,h,u,c){var d="glsl";if(e(l)){var v=l;l=i(v,"key"),h=i(v,"url"),u=i(v,"shaderType","fragment"),c=i(v,"xhrSettings"),d=i(v,"extension",d)}else u===void 0&&(u="fragment");var g={type:"glsl",cache:o.cacheManager.shader,extension:d,responseType:"text",key:l,url:h,config:{shaderType:u},xhrSettings:c};t.call(this,o,g)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n=this.data.split(`
`),o=this.extractBlock(n,0);if(o)for(;o;){var l=this.getShaderName(o.header),h=this.getShaderType(o.header),u=this.getShaderUniforms(o.header),c=o.shader;if(this.cache.has(l)){var d=this.cache.get(l);h==="fragment"?d.fragmentSrc=c:d.vertexSrc=c,d.uniforms||(d.uniforms=u)}else h==="fragment"?this.cache.add(l,new s(l,c,"",u)):this.cache.add(l,new s(l,"",c,u));o=this.extractBlock(n,o.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new s(this.key,this.data)):this.cache.add(this.key,new s(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(n){for(var o=0;o<n.length;o++){var l=n[o].trim();if(l.substring(0,5)==="name:")return l.substring(5).trim()}return this.key},getShaderType:function(n){for(var o=0;o<n.length;o++){var l=n[o].trim();if(l.substring(0,5)==="type:")return l.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(n){for(var o={},l=0;l<n.length;l++){var h=n[l].trim();if(h.substring(0,8)==="uniform."){var u=h.indexOf(":");if(u){var c=h.substring(8,u);try{o[c]=JSON.parse(h.substring(u+1))}catch{console.warn("Invalid uniform JSON: "+c)}}}}return o},extractBlock:function(n,o){for(var l=-1,h=-1,u=-1,c=!1,d=!1,v=[],g=[],m=o;m<n.length;m++){var y=n[m].trim();if(y==="---")if(l===-1)l=m,c=!0;else if(c)h=m,c=!1,d=!0;else{d=!1;break}else c?v.push(y):d&&(g.push(y),u=m)}return!c&&h!==-1?{header:v,shader:g.join(`
`),offset:u}:null}});a.register("glsl",function(n,o,l,h){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new r(this,n[u]));else this.addFile(new r(this,n,o,l,h));return this}),A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(7),s=new f({Extends:t,initialize:function(n,o,l,h){var u="html";if(e(o)){var c=o;o=i(c,"key"),l=i(c,"url"),h=i(c,"xhrSettings"),u=i(c,"extension",u)}var d={type:"text",cache:n.cacheManager.html,extension:u,responseType:"text",key:o,url:l,xhrSettings:h};t.call(this,n,d)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(r,n,o){if(Array.isArray(r))for(var l=0;l<r.length;l++)this.addFile(new s(this,r[l]));else this.addFile(new s(this,r,n,o));return this}),A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(7),s=new f({Extends:t,initialize:function(n,o,l,h,u,c){h===void 0&&(h=512),u===void 0&&(u=512);var d="html";if(e(o)){var v=o;o=i(v,"key"),l=i(v,"url"),c=i(v,"xhrSettings"),d=i(v,"extension",d),h=i(v,"width",h),u=i(v,"height",u)}var g={type:"html",cache:n.textureManager,extension:d,responseType:"text",key:o,url:l,xhrSettings:c,config:{width:h,height:u}};t.call(this,n,g)},onProcess:function(){this.state=x.FILE_PROCESSING;var r=this.config.width,n=this.config.height,o=[];o.push('<svg width="'+r+'px" height="'+n+'px" viewBox="0 0 '+r+" "+n+'" xmlns="http://www.w3.org/2000/svg">'),o.push('<foreignObject width="100%" height="100%">'),o.push('<body xmlns="http://www.w3.org/1999/xhtml">'),o.push(this.xhrLoader.responseText),o.push("</body>"),o.push("</foreignObject>"),o.push("</svg>");var l=[o.join(`
`)],h=this;try{var u=new window.Blob(l,{type:"image/svg+xml;charset=utf-8"})}catch{h.state=x.FILE_ERRORED,h.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){t.revokeObjectURL(h.data),h.onProcessComplete()},this.data.onerror=function(){t.revokeObjectURL(h.data),h.onProcessError()},t.createObjectURL(this.data,u,"image/svg+xml")},addToCache:function(){var r=this.cache.addImage(this.key,this.data);this.pendingDestroy(r)}});a.register("htmlTexture",function(r,n,o,l,h){if(Array.isArray(r))for(var u=0;u<r.length;u++)this.addFile(new s(this,r[u]));else this.addFile(new s(this,r,n,o,l,h));return this}),A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(8),t=p(2),a=p(71),i=p(7),e=p(61),s=p(49),r=new f({Extends:s,initialize:function(o,l,h,u,c,d,v){if(i(l)){var g=l;l=t(g,"key"),t(g,"url",!1)?h=t(g,"url"):h=t(g,"atlasURL"),d=t(g,"xhrSettings"),u=t(g,"path"),c=t(g,"baseURL"),v=t(g,"textureXhrSettings")}var m=new e(o,l,h,d);s.call(this,o,"multiatlas",l,[m]),this.config.path=u,this.config.baseURL=c,this.config.textureXhrSettings=v},onFileComplete:function(n){var o=this.files.indexOf(n);if(o!==-1&&(this.pending--,n.type==="json"&&n.data.hasOwnProperty("textures"))){var l=n.data.textures,h=this.config,u=this.loader,c=u.baseURL,d=u.path,v=u.prefix,g=t(h,"baseURL",this.baseURL),m=t(h,"path",this.path),y=t(h,"prefix",this.prefix),T=t(h,"textureXhrSettings");u.setBaseURL(g),u.setPath(m),u.setPrefix(y);for(var E=0;E<l.length;E++){var S=l[E].image,C="MA"+this.multiKeyIndex+"_"+S,M=new a(u,C,S,T);if(this.addToMultiFile(M),u.addFile(M),l[E].normalMap){var P=new a(u,C,l[E].normalMap,T);P.type="normalMap",M.setLink(P),this.addToMultiFile(P),u.addFile(P)}}u.setBaseURL(c),u.setPath(d),u.setPrefix(v)}},addToCache:function(){if(this.isReadyToProcess()){for(var n=this.files[0],o=[],l=[],h=[],u=1;u<this.files.length;u++){var c=this.files[u];if(c.type!=="normalMap")for(var d=c.key.indexOf("_"),v=c.key.substr(d+1),g=c.data,m=0;m<n.data.textures.length;m++){var y=n.data.textures[m];if(y.image===v){l.push(g),o.push(y),c.linkFile&&h.push(c.linkFile.data);break}}}for(h.length===0&&(h=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,l,o,h),this.complete=!0,u=0;u<this.files.length;u++)this.files[u].pendingDestroy()}}});x.register("multiatlas",function(n,o,l,h,u){var c;if(Array.isArray(n))for(var d=0;d<n.length;d++)c=new r(this,n[d]),this.addFile(c.files);else c=new r(this,n,o,l,h,u),this.addFile(c.files);return this}),A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(8),t=p(2),a=p(7),i=p(49),e=p(520),s=new f({Extends:i,initialize:function(n,o,l,h){var u="js",c=[];if(a(o)){var d=o;o=t(d,"key"),l=t(d,"url"),h=t(d,"xhrSettings"),u=t(d,"extension",u)}Array.isArray(l)||(l=[l]);for(var v=0;v<l.length;v++){var g=new e(n,{key:o+"_"+v.toString(),url:l[v],extension:u,xhrSettings:h});g.onProcess=function(){this.onProcessComplete()},c.push(g)}i.call(this,n,"scripts",o,c)},addToCache:function(){if(this.isReadyToProcess()){for(var r=0;r<this.files.length;r++){var n=this.files[r];n.data=document.createElement("script"),n.data.language="javascript",n.data.type="text/javascript",n.data.defer=!1,n.data.text=n.xhrLoader.responseText,document.head.appendChild(n.data)}this.complete=!0}}});x.register("scripts",function(r,n,o){var l;if(Array.isArray(r))for(var h=0;h<r.length;h++)l=new s(this,r[h]),this.addFile(l.files);else l=new s(this,r,n,o),this.addFile(l.files);return this}),A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(8),t=p(2),a=p(7),i=p(49),e=p(498),s=p(499),r=p(242),n=new f({Extends:i,initialize:function(l,h,u,c,d,v){var g,m,y=l.cacheManager.obj;if(a(h)){var T=h;h=t(T,"key"),g=new r(l,{key:h,type:"obj",cache:y,url:t(T,"url"),extension:t(T,"extension","obj"),xhrSettings:t(T,"xhrSettings"),config:{flipUV:t(T,"flipUV",d)}}),c=t(T,"matURL"),c&&(m=new r(l,{key:h,type:"mat",cache:y,url:c,extension:t(T,"matExtension","mat"),xhrSettings:t(T,"xhrSettings")}))}else g=new r(l,{key:h,url:u,type:"obj",cache:y,extension:"obj",xhrSettings:v,config:{flipUV:d}}),c&&(m=new r(l,{key:h,url:c,type:"mat",cache:y,extension:"mat",xhrSettings:v}));i.call(this,l,"obj",h,[g,m])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],l=this.files[1],h=e(o.data,o.config.flipUV);l&&(h.materials=s(l.data)),o.cache.add(o.key,h),this.complete=!0}}});x.register("obj",function(o,l,h,u,c){var d;if(Array.isArray(o))for(var v=0;v<o.length;v++)d=new n(this,o[v]),this.addFile(d.files);else d=new n(this,o,l,h,u,c),this.addFile(d.files);return this}),A.exports=n},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(8),a=p(61),i=new f({Extends:a,initialize:function(s,r,n,o,l){a.call(this,s,r,n,o,l),this.type="packfile"},onProcess:function(){this.state!==x.FILE_POPULATED&&(this.state=x.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});t.register("pack",function(e,s,r,n){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new i(this,e[o]));else this.addFile(new i(this,e,s,n,r));return this}),A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(7),s=new f({Extends:t,initialize:function(n,o,l,h,u,c){var d="js";if(e(o)){var v=o;o=i(v,"key"),l=i(v,"url"),c=i(v,"xhrSettings"),d=i(v,"extension",d),h=i(v,"start"),u=i(v,"mapping")}var g={type:"plugin",cache:!1,extension:d,responseType:"text",key:o,url:l,xhrSettings:c,config:{start:h,mapping:u}};t.call(this,n,g),typeof l=="function"&&(this.data=l,this.state=x.FILE_POPULATED)},onProcess:function(){var r=this.loader.systems.plugins,n=this.config,o=i(n,"start",!1),l=i(n,"mapping",null);if(this.state===x.FILE_POPULATED)r.install(this.key,this.data,o,l);else{this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var h=r.install(this.key,window[this.key],o,l);(o||l)&&(this.loader.systems[l]=h,this.loader.scene[l]=h)}this.onProcessComplete()}});a.register("plugin",function(r,n,o,l,h){if(Array.isArray(r))for(var u=0;u<r.length;u++)this.addFile(new s(this,r[u]));else this.addFile(new s(this,r,n,o,l,h));return this}),A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(7),s=new f({Extends:t,initialize:function(n,o,l,h){var u="js";if(e(o)){var c=o;o=i(c,"key"),l=i(c,"url"),h=i(c,"xhrSettings"),u=i(c,"extension",u)}var d={type:"text",extension:u,responseType:"text",key:o,url:l,xhrSettings:h};t.call(this,n,d)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var r=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),n=eval;this.loader.sceneManager.add(this.key,n(r)),this.complete=!0}});a.register("sceneFile",function(r,n,o){if(Array.isArray(r))for(var l=0;l<r.length;l++)this.addFile(new s(this,r[l]));else this.addFile(new s(this,r,n,o));return this}),A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(7),s=new f({Extends:t,initialize:function(n,o,l,h,u,c){var d="js";if(e(o)){var v=o;o=i(v,"key"),l=i(v,"url"),c=i(v,"xhrSettings"),d=i(v,"extension",d),h=i(v,"systemKey"),u=i(v,"sceneKey")}var g={type:"scenePlugin",cache:!1,extension:d,responseType:"text",key:o,url:l,xhrSettings:c,config:{systemKey:h,sceneKey:u}};t.call(this,n,g),typeof l=="function"&&(this.data=l,this.state=x.FILE_POPULATED)},onProcess:function(){var r=this.loader.systems.plugins,n=this.config,o=this.key,l=i(n,"systemKey",o),h=i(n,"sceneKey",o);this.state===x.FILE_POPULATED?r.installScenePlugin(l,this.data,h,this.loader.scene,!0):(this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),r.installScenePlugin(l,window[this.key],h,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(r,n,o,l,h){if(Array.isArray(r))for(var u=0;u<r.length;u++)this.addFile(new s(this,r[u]));else this.addFile(new s(this,r,n,o,l,h));return this}),A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(8),t=p(71),a=new f({Extends:t,initialize:function(e,s,r,n,o){t.call(this,e,s,r,o,n),this.type="spritesheet"},addToCache:function(){var i=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(i)}});x.register("spritesheet",function(i,e,s,r){if(Array.isArray(i))for(var n=0;n<i.length;n++)this.addFile(new a(this,i[n]));else this.addFile(new a(this,i,e,s,r));return this}),A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(7),s=new f({Extends:t,initialize:function(n,o,l,h,u){var c="svg";if(e(o)){var d=o;o=i(d,"key"),l=i(d,"url"),h=i(d,"svgConfig",{}),u=i(d,"xhrSettings"),c=i(d,"extension",c)}var v={type:"svg",cache:n.textureManager,extension:c,responseType:"text",key:o,url:l,xhrSettings:u,config:{width:i(h,"width"),height:i(h,"height"),scale:i(h,"scale")}};t.call(this,n,v)},onProcess:function(){this.state=x.FILE_PROCESSING;var r=this.xhrLoader.responseText,n=[r],o=this.config.width,l=this.config.height,h=this.config.scale;t:if(o&&l||h){var u=null,c=new DOMParser;u=c.parseFromString(r,"text/xml");var d=u.getElementsByTagName("svg")[0],v=d.hasAttribute("viewBox"),g=parseFloat(d.getAttribute("width")),m=parseFloat(d.getAttribute("height"));if(!v&&g&&m)d.setAttribute("viewBox","0  0 "+g+" "+m);else if(v&&!g&&!m){var y=d.getAttribute("viewBox").split(/\s+|,/);g=y[2],m=y[3]}if(h)if(g&&m)o=g*h,l=m*h;else break t;d.setAttribute("width",o.toString()+"px"),d.setAttribute("height",l.toString()+"px"),n=[new XMLSerializer().serializeToString(d)]}try{var T=new window.Blob(n,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var E=this,S=!1;this.data.onload=function(){S||t.revokeObjectURL(E.data),E.onProcessComplete()},this.data.onerror=function(){S?E.onProcessError():(S=!0,t.revokeObjectURL(E.data),E.data.src="data:image/svg+xml,"+encodeURIComponent(n.join("")))},t.createObjectURL(this.data,T,"image/svg+xml")},addToCache:function(){var r=this.cache.addImage(this.key,this.data);this.pendingDestroy(r)}});a.register("svg",function(r,n,o,l){if(Array.isArray(r))for(var h=0;h<r.length;h++)this.addFile(new s(this,r[h]));else this.addFile(new s(this,r,n,o,l));return this}),A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(2),e=p(7),s=p(40),r=new f({Extends:t,initialize:function(o,l,h,u){var c="csv";if(e(l)){var d=l;l=i(d,"key"),h=i(d,"url"),u=i(d,"xhrSettings"),c=i(d,"extension",c)}var v={type:"tilemapCSV",cache:o.cacheManager.tilemap,extension:c,responseType:"text",key:l,url:h,xhrSettings:u};t.call(this,o,v),this.tilemapFormat=s.CSV},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,n),this.pendingDestroy(n)}});a.register("tilemapCSV",function(n,o,l){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new r(this,n[h]));else this.addFile(new r(this,n,o,l));return this}),A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(8),t=p(61),a=p(40),i=new f({Extends:t,initialize:function(s,r,n,o){t.call(this,s,r,n,o),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});x.register("tilemapImpact",function(e,s,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new i(this,e[n]));else this.addFile(new i(this,e,s,r));return this}),A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(8),t=p(61),a=p(40),i=new f({Extends:t,initialize:function(s,r,n,o){t.call(this,s,r,n,o),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});x.register("tilemapTiledJSON",function(e,s,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new i(this,e[n]));else this.addFile(new i(this,e,s,r));return this}),A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(8),t=p(2),a=p(71),i=p(7),e=p(49),s=p(242),r=new f({Extends:e,initialize:function(o,l,h,u,c,d){var v,g;if(i(l)){var m=l;l=t(m,"key"),v=new a(o,{key:l,url:t(m,"textureURL"),extension:t(m,"textureExtension","png"),normalMap:t(m,"normalMap"),xhrSettings:t(m,"textureXhrSettings")}),g=new s(o,{key:l,url:t(m,"atlasURL"),extension:t(m,"atlasExtension","txt"),xhrSettings:t(m,"atlasXhrSettings")})}else v=new a(o,l,h,c),g=new s(o,l,u,d);v.linkFile?e.call(this,o,"unityatlas",l,[v,g,v.linkFile]):e.call(this,o,"unityatlas",l,[v,g])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],l=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(n.key,n.data,o.data,l),o.pendingDestroy(),this.complete=!0}}});x.register("unityAtlas",function(n,o,l,h,u){var c;if(Array.isArray(n))for(var d=0;d<n.length;d++)c=new r(this,n[d]),this.addFile(c.files);else c=new r(this,n,o,l,h,u),this.addFile(c.files);return this}),A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(23),a=p(8),i=p(155),e=p(2),s=p(7),r=new f({Extends:t,initialize:function(o,l,h,u,c,d,v){u===void 0&&(u="loadeddata"),c===void 0&&(c=!1),d===void 0&&(d=!1),u!=="loadeddata"&&u!=="canplay"&&u!=="canplaythrough"&&(u="loadeddata");var g={type:"video",cache:o.cacheManager.video,extension:h.type,responseType:"blob",key:l,url:h.url,xhrSettings:v,config:{loadEvent:u,asBlob:c,noAudio:d}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),t.call(this,o,g)},onProcess:function(){if(this.state=x.FILE_PROCESSING,!this.config.asBlob){this.onProcessComplete();return}var n=this.createVideoElement();this.data=n;var o=this;this.data.onloadeddata=function(){o.onProcessComplete()},this.data.onerror=function(){t.revokeObjectURL(o.data),o.onProcessError()},t.createObjectURL(n,this.xhrLoader.response,""),n.load()},createVideoElement:function(){var n=document.createElement("video");return n.controls=!1,n.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(n.muted=!0,n.defaultMuted=!0,n.setAttribute("autoplay","autoplay")),n.setAttribute("playsinline","playsinline"),n.setAttribute("preload","auto"),n},onVideoLoadHandler:function(n){var o=n.target;o.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),o.removeEventListener("error",this.onErrorCallback,!0),this.data=o,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(n){var o=n.target;o&&(o.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),o.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var n=this.config.loadEvent;if(this.config.asBlob)t.prototype.load.call(this);else{this.percentComplete=0;var o=this.createVideoElement();o.addEventListener(n,this.onLoadCallback,!0),o.addEventListener("error",this.onErrorCallback,!0),o.src=i(this,this.loader.baseURL),o.load()}}});r.create=function(n,o,l,h,u,c,d){var v=n.systems.game;s(o)&&(l=e(o,"url",[]),h=e(o,"loadEvent","loadeddata"),u=e(o,"asBlob",!1),c=e(o,"noAudio",!1),d=e(o,"xhrSettings"),o=e(o,"key"));var g=r.getVideoURL(v,l);if(g)return new r(n,o,g,h,u,c,d)},r.getVideoURL=function(n,o){Array.isArray(o)||(o=[o]);for(var l=0;l<o.length;l++){var h=e(o[l],"url",o[l]);if(h.indexOf("blob:")===0)return{url:h,type:""};var u;if(h.indexOf("data:")===0?u=h.split(",")[0].match(/\/(.*?);/):u=h.match(/\.([a-zA-Z0-9]+)($|\?)/),u=e(o[l],"type",u?u[1]:"").toLowerCase(),n.device.video[u])return{url:h,type:u}}return null},a.register("video",function(n,o,l,h,u,c){var d;if(Array.isArray(n))for(var v=0;v<n.length;v++)d=r.create(this,n[v]),d&&this.addFile(d);else d=r.create(this,n,o,l,h,u,c),d&&this.addFile(d);return this}),A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(21),t=p(149),a=p(9),i=p(95),e=p(8),s=p(2),r=p(24),n=p(20),o=p(156),l=new f({Extends:a,initialize:function(u){a.call(this);var c=u.sys.game.config,d=u.sys.settings.loader;this.scene=u,this.systems=u.sys,this.cacheManager=u.sys.cache,this.textureManager=u.sys.textures,this.sceneManager=u.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(s(d,"baseURL",c.loaderBaseURL)),this.setPath(s(d,"path",c.loaderPath)),this.setPrefix(s(d,"prefix",c.loaderPrefix)),this.maxParallelDownloads=s(d,"maxParallelDownloads",c.loaderMaxParallelDownloads),this.xhr=o(s(d,"responseType",c.loaderResponseType),s(d,"async",c.loaderAsync),s(d,"user",c.loaderUser),s(d,"password",c.loaderPassword),s(d,"timeout",c.loaderTimeout),s(d,"withCredentials",c.loaderWithCredentials)),this.crossOrigin=s(d,"crossOrigin",c.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new t,this.inflight=new t,this.queue=new t,this._deleteQueue=new t,this.totalFailed=0,this.totalComplete=0,this.state=x.LOADER_IDLE,this.multiKeyIndex=0,u.sys.events.once(n.BOOT,this.boot,this),u.sys.events.on(n.START,this.pluginStart,this)},boot:function(){this.systems.events.once(n.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(n.SHUTDOWN,this.shutdown,this)},setBaseURL:function(h){return h===void 0&&(h=""),h!==""&&h.substr(-1)!=="/"&&(h=h.concat("/")),this.baseURL=h,this},setPath:function(h){return h===void 0&&(h=""),h!==""&&h.substr(-1)!=="/"&&(h=h.concat("/")),this.path=h,this},setPrefix:function(h){return h===void 0&&(h=""),this.prefix=h,this},setCORS:function(h){return this.crossOrigin=h,this},addFile:function(h){Array.isArray(h)||(h=[h]);for(var u=0;u<h.length;u++){var c=h[u];this.keyExists(c)||(this.list.set(c),this.emit(i.ADD,c.key,c.type,this,c),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(h){var u=h.hasCacheConflict();return u||this.list.iterate(function(c){if(c.type===h.type&&c.key===h.key)return u=!0,!1}),!u&&this.isLoading()&&(this.inflight.iterate(function(c){if(c.type===h.type&&c.key===h.key)return u=!0,!1}),this.queue.iterate(function(c){if(c.type===h.type&&c.key===h.key)return u=!0,!1})),u},addPack:function(h,u){u&&h.hasOwnProperty(u)&&(h={packKey:h[u]});var c=0,d=this.baseURL,v=this.path,g=this.prefix;for(var m in h)if(!!Object.prototype.hasOwnProperty.call(h,m)){var y=h[m],T=s(y,"baseURL",d),E=s(y,"path",v),S=s(y,"prefix",g),C=s(y,"files",null),M=s(y,"defaultType","void");if(Array.isArray(C)){this.setBaseURL(T),this.setPath(E),this.setPrefix(S);for(var P=0;P<C.length;P++){var R=C[P],L=R.hasOwnProperty("type")?R.type:M;this[L]&&(this[L](R),c++)}}}return this.setBaseURL(d),this.setPath(v),this.setPrefix(g),c>0},isLoading:function(){return this.state===x.LOADER_LOADING||this.state===x.LOADER_PROCESSING},isReady:function(){return this.state===x.LOADER_IDLE||this.state===x.LOADER_COMPLETE},start:function(){!this.isReady()||(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(i.START,this),this.list.size===0?this.loadComplete():(this.state=x.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(n.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(i.PROGRESS,this.progress)},update:function(){this.state===x.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(h){if((h.state===x.FILE_POPULATED||h.state===x.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(h),this.list.delete(h),h.crossOrigin||(h.crossOrigin=this.crossOrigin),h.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(h,u){!this.inflight||(this.inflight.delete(h),this.updateProgress(),u?(this.totalComplete++,this.queue.set(h),this.emit(i.FILE_LOAD,h),h.onProcess()):(this.totalFailed++,this._deleteQueue.set(h),this.emit(i.FILE_LOAD_ERROR,h),this.fileProcessComplete(h)))},fileProcessComplete:function(h){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(h.state===x.FILE_ERRORED?h.multiFile&&h.multiFile.onFileFailed(h):h.state===x.FILE_COMPLETE&&(h.multiFile?h.multiFile.isReadyToProcess()&&h.multiFile.addToCache():h.addToCache()),this.queue.delete(h),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(i.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=x.LOADER_COMPLETE,this.systems.events.off(n.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(i.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(h){this._deleteQueue.set(h)},saveJSON:function(h,u){return this.save(JSON.stringify(h),u)},save:function(h,u,c){u===void 0&&(u="file.json"),c===void 0&&(c="application/json");var d=new Blob([h],{type:c}),v=URL.createObjectURL(d),g=document.createElement("a");return g.download=u,g.textContent="Download "+u,g.href=v,g.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var h=this.systems.game.config,u=this.systems.settings.loader;this.setBaseURL(s(u,"baseURL",h.loaderBaseURL)),this.setPath(s(u,"path",h.loaderPath)),this.setPrefix(s(u,"prefix",h.loaderPrefix)),this.state=x.LOADER_IDLE},shutdown:function(){this.reset(),this.state=x.LOADER_SHUTDOWN,this.systems.events.off(n.UPDATE,this.update,this),this.systems.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=x.LOADER_DESTROYED,this.systems.events.off(n.UPDATE,this.update,this),this.systems.events.off(n.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});r.register("Loader",l,"load"),A.exports=l},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(62),x=p(17),t={ArcadePhysics:p(1367),Body:p(527),Collider:p(528),Components:p(243),Events:p(245),Factory:p(521),GetOverlapX:p(246),GetOverlapY:p(247),SeparateX:p(537),SeparateY:p(538),Group:p(524),Image:p(522),Sprite:p(157),StaticBody:p(539),StaticGroup:p(525),Tilemap:p(1391),World:p(526)};t=x(!1,t,f),A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(36),t=p(50),a=p(353),i=p(521),e=p(2),s=p(127),r=p(523),n=p(244),o=p(24),l=p(20),h=p(3),u=p(526),c=new f({initialize:function(v){this.scene=v,this.systems=v.sys,this.config=this.getConfig(),this.world,this.add,v.sys.events.once(l.BOOT,this.boot,this),v.sys.events.on(l.START,this.start,this)},boot:function(){this.world=new u(this.scene,this.config),this.add=new i(this.world),this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new u(this.scene,this.config),this.add=new i(this.world));var d=this.systems.events;e(this.config,"customUpdate",!1)||d.on(l.UPDATE,this.world.update,this.world),d.on(l.POST_UPDATE,this.world.postUpdate,this.world),d.once(l.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(l.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(l.UPDATE,this.world.update,this.world)},getConfig:function(){var d=this.systems.game.config.physics,v=this.systems.settings.physics,g=s(e(v,"arcade",{}),e(d,"arcade",{}));return g},overlap:function(d,v,g,m,y){return g===void 0&&(g=null),m===void 0&&(m=null),y===void 0&&(y=g),this.world.collideObjects(d,v,g,m,y,!0)},collide:function(d,v,g,m,y){return g===void 0&&(g=null),m===void 0&&(m=null),y===void 0&&(y=g),this.world.collideObjects(d,v,g,m,y,!1)},collideTiles:function(d,v,g,m,y){return this.world.collideTiles(d,v,g,m,y)},overlapTiles:function(d,v,g,m,y){return this.world.overlapTiles(d,v,g,m,y)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(d,v,g,m,y,T){m===void 0&&(m=60);var E=Math.atan2(g-d.y,v-d.x);return d.body.acceleration.setToPolar(E,m),y!==void 0&&T!==void 0&&d.body.maxVelocity.set(y,T),E},accelerateToObject:function(d,v,g,m,y){return this.accelerateTo(d,v.x,v.y,g,m,y)},closest:function(d,v){v||(v=this.world.bodies.entries);for(var g=Number.MAX_VALUE,m=null,y=d.x,T=d.y,E=v.length,S=0;S<E;S++){var C=v[S],M=C.body||C;if(!(d===C||d===M||d===M.gameObject||d===M.center)){var P=a(y,T,M.center.x,M.center.y);P<g&&(m=C,g=P)}}return m},furthest:function(d,v){v||(v=this.world.bodies.entries);for(var g=-1,m=null,y=d.x,T=d.y,E=v.length,S=0;S<E;S++){var C=v[S],M=C.body||C;if(!(d===C||d===M||d===M.gameObject||d===M.center)){var P=a(y,T,M.center.x,M.center.y);P>g&&(m=C,g=P)}}return m},moveTo:function(d,v,g,m,y){m===void 0&&(m=60),y===void 0&&(y=0);var T=Math.atan2(g-d.y,v-d.x);return y>0&&(m=t(d.x,d.y,v,g)/(y/1e3)),d.body.velocity.setToPolar(T,m),T},moveToObject:function(d,v,g,m){return this.moveTo(d,v.x,v.y,g,m)},velocityFromAngle:function(d,v,g){return v===void 0&&(v=60),g===void 0&&(g=new h),g.setToPolar(x(d),v)},velocityFromRotation:function(d,v,g){return v===void 0&&(v=60),g===void 0&&(g=new h),g.setToPolar(d,v)},overlapRect:function(d,v,g,m,y,T){return n(this.world,d,v,g,m,y,T)},overlapCirc:function(d,v,g,m,y){return r(this.world,d,v,g,m,y)},shutdown:function(){if(!!this.world){var d=this.systems.events;d.off(l.UPDATE,this.world.update,this.world),d.off(l.POST_UPDATE,this.world.postUpdate,this.world),d.off(l.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});o.register("ArcadePhysics",c,"arcadePhysics"),A.exports=c},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setAcceleration:function(f,x){return this.body.acceleration.set(f,x),this},setAccelerationX:function(f){return this.body.acceleration.x=f,this},setAccelerationY:function(f){return this.body.acceleration.y=f,this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setAngularVelocity:function(f){return this.body.angularVelocity=f,this},setAngularAcceleration:function(f){return this.body.angularAcceleration=f,this},setAngularDrag:function(f){return this.body.angularDrag=f,this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setBounce:function(f,x){return this.body.bounce.set(f,x),this},setBounceX:function(f){return this.body.bounce.x=f,this},setBounceY:function(f){return this.body.bounce.y=f,this},setCollideWorldBounds:function(f,x,t){return this.body.setCollideWorldBounds(f,x,t),this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setDebug:function(f,x,t){return this.debugShowBody=f,this.debugShowVelocity=x,this.debugBodyColor=t,this},setDebugBodyColor:function(f){return this.body.debugBodyColor=f,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(f){this.body.debugShowBody=f}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(f){this.body.debugShowVelocity=f}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(f){this.body.debugBodyColor=f}}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setDrag:function(f,x){return this.body.drag.set(f,x),this},setDragX:function(f){return this.body.drag.x=f,this},setDragY:function(f){return this.body.drag.y=f,this},setDamping:function(f){return this.body.useDamping=f,this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={enableBody:function(f,x,t,a,i){return f&&this.body.reset(x,t),a&&(this.body.gameObject.active=!0),i&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(f,x){return f===void 0&&(f=!1),x===void 0&&(x=!1),this.body.stop(),this.body.enable=!1,f&&(this.body.gameObject.active=!1),x&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setFriction:function(f,x){return this.body.friction.set(f,x),this},setFrictionX:function(f){return this.body.friction.x=f,this},setFrictionY:function(f){return this.body.friction.y=f,this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setGravity:function(f,x){return this.body.gravity.set(f,x),this},setGravityX:function(f){return this.body.gravity.x=f,this},setGravityY:function(f){return this.body.gravity.y=f,this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setImmovable:function(f){return f===void 0&&(f=!0),this.body.immovable=f,this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setMass:function(f){return this.body.mass=f,this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setPushable:function(f){return f===void 0&&(f=!0),this.body.pushable=f,this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setOffset:function(f,x){return this.body.setOffset(f,x),this},setSize:function(f,x,t){return this.body.setSize(f,x,t),this},setBodySize:function(f,x,t){return this.body.setSize(f,x,t),this},setCircle:function(f,x,t){return this.body.setCircle(f,x,t),this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setVelocity:function(f,x){return this.body.setVelocity(f,x),this},setVelocityX:function(f){return this.body.setVelocityX(f),this},setVelocityY:function(f){return this.body.setVelocityY(f),this},setMaxVelocity:function(f,x){return this.body.maxVelocity.set(f,x),this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="collide"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="overlap"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pause"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="resume"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="tilecollide"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="tileoverlap"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="worldbounds"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="worldstep"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p,f,x,t,a,i,e,s,r,n,o,l,h,u,c,d,v,g=function(C,M,P){p=C,f=M;var R=p.velocity.x,L=f.velocity.x;return x=p.pushable,r=p._dx<0,n=p._dx>0,o=p._dx===0,c=Math.abs(p.right-f.x)<=Math.abs(f.right-p.x),e=L-R*p.bounce.x,t=f.pushable,l=f._dx<0,h=f._dx>0,u=f._dx===0,d=!c,s=R-L*f.bounce.x,v=Math.abs(P),m()},m=function(){return n&&c&&f.blocked.right?(p.processX(-v,e,!1,!0),1):r&&d&&f.blocked.left?(p.processX(v,e,!0),1):h&&d&&p.blocked.right?(f.processX(-v,s,!1,!0),2):l&&c&&p.blocked.left?(f.processX(v,s,!0),2):0},y=function(){var C=p.velocity.x,M=f.velocity.x,P=Math.sqrt(M*M*f.mass/p.mass)*(M>0?1:-1),R=Math.sqrt(C*C*p.mass/f.mass)*(C>0?1:-1),L=(P+R)*.5;return P-=L,R-=L,a=L+P*p.bounce.x,i=L+R*f.bounce.x,r&&d?T(0):l&&c?T(1):n&&c?T(2):h&&d?T(3):!1},T=function(C){if(x&&t)v*=.5,C===0||C===3?(p.processX(v,a),f.processX(-v,i)):(p.processX(-v,a),f.processX(v,i));else if(x&&!t)C===0||C===3?p.processX(v,e,!0):p.processX(-v,e,!1,!0);else if(!x&&t)C===0||C===3?f.processX(-v,s,!1,!0):f.processX(v,s,!0);else{var M=v*.5;C===0?u?(p.processX(v,0,!0),f.processX(0,null,!1,!0)):h?(p.processX(M,0,!0),f.processX(-M,0,!1,!0)):(p.processX(M,f.velocity.x,!0),f.processX(-M,null,!1,!0)):C===1?o?(p.processX(0,null,!1,!0),f.processX(v,0,!0)):n?(p.processX(-M,0,!1,!0),f.processX(M,0,!0)):(p.processX(-M,null,!1,!0),f.processX(M,p.velocity.x,!0)):C===2?u?(p.processX(-v,0,!1,!0),f.processX(0,null,!0)):l?(p.processX(-M,0,!1,!0),f.processX(M,0,!0)):(p.processX(-M,f.velocity.x,!1,!0),f.processX(M,null,!0)):C===3&&(o?(p.processX(0,null,!0),f.processX(-v,0,!1,!0)):r?(p.processX(M,0,!0),f.processX(-M,0,!1,!0)):(p.processX(M,f.velocity.y,!0),f.processX(-M,null,!1,!0)))}return!0},E=function(C){C===1?f.velocity.x=0:c?f.processX(v,s,!0):f.processX(-v,s,!1,!0),p.moves&&(f.y+=(p.y-p.prev.y)*p.friction.y,f._dy=f.y-f.prev.y)},S=function(C){C===2?p.velocity.x=0:d?p.processX(v,e,!0):p.processX(-v,e,!1,!0),f.moves&&(p.y+=(f.y-f.prev.y)*f.friction.y,p._dy=p.y-p.prev.y)};A.exports={BlockCheck:m,Check:y,Set:g,Run:T,RunImmovableBody1:E,RunImmovableBody2:S}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p,f,x,t,a,i,e,s,r,n,o,l,h,u,c,d,v,g=function(C,M,P){p=C,f=M;var R=p.velocity.y,L=f.velocity.y;return x=p.pushable,r=p._dy<0,n=p._dy>0,o=p._dy===0,c=Math.abs(p.bottom-f.y)<=Math.abs(f.bottom-p.y),e=L-R*p.bounce.y,t=f.pushable,l=f._dy<0,h=f._dy>0,u=f._dy===0,d=!c,s=R-L*f.bounce.y,v=Math.abs(P),m()},m=function(){return n&&c&&f.blocked.down?(p.processY(-v,e,!1,!0),1):r&&d&&f.blocked.up?(p.processY(v,e,!0),1):h&&d&&p.blocked.down?(f.processY(-v,s,!1,!0),2):l&&c&&p.blocked.up?(f.processY(v,s,!0),2):0},y=function(){var C=p.velocity.y,M=f.velocity.y,P=Math.sqrt(M*M*f.mass/p.mass)*(M>0?1:-1),R=Math.sqrt(C*C*p.mass/f.mass)*(C>0?1:-1),L=(P+R)*.5;return P-=L,R-=L,a=L+P*p.bounce.y,i=L+R*f.bounce.y,r&&d?T(0):l&&c?T(1):n&&c?T(2):h&&d?T(3):!1},T=function(C){if(x&&t)v*=.5,C===0||C===3?(p.processY(v,a),f.processY(-v,i)):(p.processY(-v,a),f.processY(v,i));else if(x&&!t)C===0||C===3?p.processY(v,e,!0):p.processY(-v,e,!1,!0);else if(!x&&t)C===0||C===3?f.processY(-v,s,!1,!0):f.processY(v,s,!0);else{var M=v*.5;C===0?u?(p.processY(v,0,!0),f.processY(0,null,!1,!0)):h?(p.processY(M,0,!0),f.processY(-M,0,!1,!0)):(p.processY(M,f.velocity.y,!0),f.processY(-M,null,!1,!0)):C===1?o?(p.processY(0,null,!1,!0),f.processY(v,0,!0)):n?(p.processY(-M,0,!1,!0),f.processY(M,0,!0)):(p.processY(-M,null,!1,!0),f.processY(M,p.velocity.y,!0)):C===2?u?(p.processY(-v,0,!1,!0),f.processY(0,null,!0)):l?(p.processY(-M,0,!1,!0),f.processY(M,0,!0)):(p.processY(-M,f.velocity.y,!1,!0),f.processY(M,null,!0)):C===3&&(o?(p.processY(0,null,!0),f.processY(-v,0,!1,!0)):r?(p.processY(M,0,!0),f.processY(-M,0,!1,!0)):(p.processY(M,f.velocity.y,!0),f.processY(-M,null,!1,!0)))}return!0},E=function(C){C===1?f.velocity.y=0:c?f.processY(v,s,!0):f.processY(-v,s,!1,!0),p.moves&&(f.x+=(p.x-p.prev.x)*p.friction.x,f._dx=f.x-f.prev.x)},S=function(C){C===2?p.velocity.y=0:d?p.processY(v,e,!0):p.processY(-v,e,!1,!0),f.moves&&(p.x+=(f.x-f.prev.x)*f.friction.x,p._dx=p.x-p.prev.x)};A.exports={BlockCheck:m,Check:y,Set:g,Run:T,RunImmovableBody1:E,RunImmovableBody2:S}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={ProcessTileCallbacks:p(530),ProcessTileSeparationX:p(534),ProcessTileSeparationY:p(536),SeparateTile:p(532),TileCheckX:p(533),TileCheckY:p(535),TileIntersectsBody:p(248)};A.exports=f},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(3),t=new f({initialize:function(){this.boundsCenter=new x,this.centerDiff=new x},parseBody:function(a){if(a=a.hasOwnProperty("body")?a.body:a,!a.hasOwnProperty("bounds")||!a.hasOwnProperty("centerOfMass"))return!1;var i=this.boundsCenter,e=this.centerDiff,s=a.bounds.max.x-a.bounds.min.x,r=a.bounds.max.y-a.bounds.min.y,n=s*a.centerOfMass.x,o=r*a.centerOfMass.y;return i.set(s/2,r/2),e.set(n-i.x,o-i.y),!0},getTopLeft:function(a,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(a)){var s=this.boundsCenter,r=this.centerDiff;return new x(i+s.x+r.x,e+s.y+r.y)}return!1},getTopCenter:function(a,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(a)){var s=this.boundsCenter,r=this.centerDiff;return new x(i+r.x,e+s.y+r.y)}return!1},getTopRight:function(a,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(a)){var s=this.boundsCenter,r=this.centerDiff;return new x(i-(s.x-r.x),e+s.y+r.y)}return!1},getLeftCenter:function(a,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(a)){var s=this.boundsCenter,r=this.centerDiff;return new x(i+s.x+r.x,e+r.y)}return!1},getCenter:function(a,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(a)){var s=this.centerDiff;return new x(i+s.x,e+s.y)}return!1},getRightCenter:function(a,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(a)){var s=this.boundsCenter,r=this.centerDiff;return new x(i-(s.x-r.x),e+r.y)}return!1},getBottomLeft:function(a,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(a)){var s=this.boundsCenter,r=this.centerDiff;return new x(i+s.x+r.x,e-(s.y-r.y))}return!1},getBottomCenter:function(a,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(a)){var s=this.boundsCenter,r=this.centerDiff;return new x(i+r.x,e-(s.y-r.y))}return!1},getBottomRight:function(a,i,e){if(i===void 0&&(i=0),e===void 0&&(e=0),this.parseBody(a)){var s=this.boundsCenter,r=this.centerDiff;return new x(i-(s.x-r.x),e-(s.y-r.y))}return!1}});A.exports=t},function(A,O){/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={decomp:C,quickDecomp:L,isSimple:P,removeCollinearPoints:w,removeDuplicatePoints:B,makeCCW:c};function p(D,F,N){N=N||0;var I=[0,0],b,U,X,z,V,W,H;return b=D[1][1]-D[0][1],U=D[0][0]-D[1][0],X=b*D[0][0]+U*D[0][1],z=F[1][1]-F[0][1],V=F[0][0]-F[1][0],W=z*F[0][0]+V*F[0][1],H=b*V-z*U,G(H,0,N)||(I[0]=(V*X-U*W)/H,I[1]=(b*W-z*X)/H),I}function f(D,F,N,I){var b=F[0]-D[0],U=F[1]-D[1],X=I[0]-N[0],z=I[1]-N[1];if(X*U-z*b===0)return!1;var V=(b*(N[1]-D[1])+U*(D[0]-N[0]))/(X*U-z*b),W=(X*(D[1]-N[1])+z*(N[0]-D[0]))/(z*b-X*U);return V>=0&&V<=1&&W>=0&&W<=1}function x(D,F,N){return(F[0]-D[0])*(N[1]-D[1])-(N[0]-D[0])*(F[1]-D[1])}function t(D,F,N){return x(D,F,N)>0}function a(D,F,N){return x(D,F,N)>=0}function i(D,F,N){return x(D,F,N)<0}function e(D,F,N){return x(D,F,N)<=0}var s=[],r=[];function n(D,F,N,I){if(I){var b=s,U=r;b[0]=F[0]-D[0],b[1]=F[1]-D[1],U[0]=N[0]-F[0],U[1]=N[1]-F[1];var X=b[0]*U[0]+b[1]*U[1],z=Math.sqrt(b[0]*b[0]+b[1]*b[1]),V=Math.sqrt(U[0]*U[0]+U[1]*U[1]),W=Math.acos(X/(z*V));return W<I}else return x(D,F,N)===0}function o(D,F){var N=F[0]-D[0],I=F[1]-D[1];return N*N+I*I}function l(D,F){var N=D.length;return D[F<0?F%N+N:F%N]}function h(D){D.length=0}function u(D,F,N,I){for(var b=N;b<I;b++)D.push(F[b])}function c(D){for(var F=0,N=D,I=1;I<D.length;++I)(N[I][1]<N[F][1]||N[I][1]===N[F][1]&&N[I][0]>N[F][0])&&(F=I);return t(l(D,F-1),l(D,F),l(D,F+1))?!1:(d(D),!0)}function d(D){for(var F=[],N=D.length,I=0;I!==N;I++)F.push(D.pop());for(var I=0;I!==N;I++)D[I]=F[I]}function v(D,F){return i(l(D,F-1),l(D,F),l(D,F+1))}var g=[],m=[];function y(D,F,N){var I,b,U=g,X=m;if(a(l(D,F+1),l(D,F),l(D,N))&&e(l(D,F-1),l(D,F),l(D,N)))return!1;b=o(l(D,F),l(D,N));for(var z=0;z!==D.length;++z)if(!((z+1)%D.length===F||z===F)&&a(l(D,F),l(D,N),l(D,z+1))&&e(l(D,F),l(D,N),l(D,z))&&(U[0]=l(D,F),U[1]=l(D,N),X[0]=l(D,z),X[1]=l(D,z+1),I=p(U,X),o(l(D,F),I)<b))return!1;return!0}function T(D,F,N){for(var I=0;I!==D.length;++I)if(!(I===F||I===N||(I+1)%D.length===F||(I+1)%D.length===N)&&f(l(D,F),l(D,N),l(D,I),l(D,I+1)))return!1;return!0}function E(D,F,N,I){var b=I||[];if(h(b),F<N)for(var U=F;U<=N;U++)b.push(D[U]);else{for(var U=0;U<=N;U++)b.push(D[U]);for(var U=F;U<D.length;U++)b.push(D[U])}return b}function S(D){for(var F=[],N=[],I=[],b=[],U=Number.MAX_VALUE,X=0;X<D.length;++X)if(v(D,X)){for(var z=0;z<D.length;++z)if(y(D,X,z)){N=S(E(D,X,z,b)),I=S(E(D,z,X,b));for(var V=0;V<I.length;V++)N.push(I[V]);N.length<U&&(F=N,U=N.length,F.push([l(D,X),l(D,z)]))}}return F}function C(D){var F=S(D);return F.length>0?M(D,F):[D]}function M(D,F){if(F.length===0)return[D];if(F instanceof Array&&F.length&&F[0]instanceof Array&&F[0].length===2&&F[0][0]instanceof Array){for(var N=[D],I=0;I<F.length;I++)for(var b=F[I],U=0;U<N.length;U++){var X=N[U],z=M(X,b);if(z){N.splice(U,1),N.push(z[0],z[1]);break}}return N}else{var b=F,I=D.indexOf(b[0]),U=D.indexOf(b[1]);return I!==-1&&U!==-1?[E(D,I,U),E(D,U,I)]:!1}}function P(D){var F=D,N;for(N=0;N<F.length-1;N++)for(var I=0;I<N-1;I++)if(f(F[N],F[N+1],F[I],F[I+1]))return!1;for(N=1;N<F.length-2;N++)if(f(F[0],F[F.length-1],F[N],F[N+1]))return!1;return!0}function R(D,F,N,I,b){b=b||0;var U=F[1]-D[1],X=D[0]-F[0],z=U*D[0]+X*D[1],V=I[1]-N[1],W=N[0]-I[0],H=V*N[0]+W*N[1],K=U*W-V*X;return G(K,0,b)?[0,0]:[(W*z-X*H)/K,(U*H-V*z)/K]}function L(D,F,N,I,b,U,X){U=U||100,X=X||0,b=b||25,F=typeof F<"u"?F:[],N=N||[],I=I||[];var z=[0,0],V=[0,0],W=[0,0],H=0,K=0,Z=0,j=0,k=0,J=0,q=0,_=[],tt=[],Q=D,et=D;if(et.length<3)return F;if(X++,X>U)return console.warn("quickDecomp: max level ("+U+") reached."),F;for(var $=0;$<D.length;++$)if(v(Q,$)){N.push(Q[$]),H=K=Number.MAX_VALUE;for(var it=0;it<D.length;++it)t(l(Q,$-1),l(Q,$),l(Q,it))&&e(l(Q,$-1),l(Q,$),l(Q,it-1))&&(W=R(l(Q,$-1),l(Q,$),l(Q,it),l(Q,it-1)),i(l(Q,$+1),l(Q,$),W)&&(Z=o(Q[$],W),Z<K&&(K=Z,V=W,J=it))),t(l(Q,$+1),l(Q,$),l(Q,it+1))&&e(l(Q,$+1),l(Q,$),l(Q,it))&&(W=R(l(Q,$+1),l(Q,$),l(Q,it),l(Q,it+1)),t(l(Q,$-1),l(Q,$),W)&&(Z=o(Q[$],W),Z<H&&(H=Z,z=W,k=it)));if(J===(k+1)%D.length)W[0]=(V[0]+z[0])/2,W[1]=(V[1]+z[1])/2,I.push(W),$<k?(u(_,Q,$,k+1),_.push(W),tt.push(W),J!==0&&u(tt,Q,J,Q.length),u(tt,Q,0,$+1)):($!==0&&u(_,Q,$,Q.length),u(_,Q,0,k+1),_.push(W),tt.push(W),u(tt,Q,J,$+1));else{if(J>k&&(k+=D.length),j=Number.MAX_VALUE,k<J)return F;for(var it=J;it<=k;++it)a(l(Q,$-1),l(Q,$),l(Q,it))&&e(l(Q,$+1),l(Q,$),l(Q,it))&&(Z=o(l(Q,$),l(Q,it)),Z<j&&T(Q,$,it)&&(j=Z,q=it%D.length));$<q?(u(_,Q,$,q+1),q!==0&&u(tt,Q,q,et.length),u(tt,Q,0,$+1)):($!==0&&u(_,Q,$,et.length),u(_,Q,0,q+1),u(tt,Q,q,$+1))}return _.length<tt.length?(L(_,F,N,I,b,U,X),L(tt,F,N,I,b,U,X)):(L(tt,F,N,I,b,U,X),L(_,F,N,I,b,U,X)),F}return F.push(D),F}function w(D,F){for(var N=0,I=D.length-1;D.length>3&&I>=0;--I)n(l(D,I-1),l(D,I),l(D,I+1),F)&&(D.splice(I%D.length,1),N++);return N}function B(D,F){for(var N=D.length-1;N>=1;--N)for(var I=D[N],b=N-1;b>=0;--b)if(Y(I,D[b],F)){D.splice(N,1);continue}}function G(D,F,N){return N=N||0,Math.abs(D-F)<=N}function Y(D,F,N){return G(D[0],F[0],N)&&G(D[1],F[1],N)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(86),x=p(0),t=p(591),a=p(128),i=p(592),e=p(1395),s=p(1396),r=p(1397),n=p(593),o=p(589),l=p(590),h=p(1398),u=p(64),c=new x({initialize:function(v){this.world=v,this.scene=v.scene,this.sys=v.scene.sys},rectangle:function(d,v,g,m,y){var T=f.rectangle(d,v,g,m,y);return this.world.add(T),T},trapezoid:function(d,v,g,m,y,T){var E=f.trapezoid(d,v,g,m,y,T);return this.world.add(E),E},circle:function(d,v,g,m,y){var T=f.circle(d,v,g,m,y);return this.world.add(T),T},polygon:function(d,v,g,m,y){var T=f.polygon(d,v,g,m,y);return this.world.add(T),T},fromVertices:function(d,v,g,m,y,T,E){typeof g=="string"&&(g=u.fromPath(g));var S=f.fromVertices(d,v,g,m,y,T,E);return this.world.add(S),S},fromPhysicsEditor:function(d,v,g,m,y){y===void 0&&(y=!0);var T=o.parseBody(d,v,g,m);return y&&!this.world.has(T)&&this.world.add(T),T},fromSVG:function(d,v,g,m,y,T){m===void 0&&(m=1),y===void 0&&(y={}),T===void 0&&(T=!0);for(var E=g.getElementsByTagName("path"),S=[],C=0;C<E.length;C++){var M=i.pathToVertices(E[C],30);m!==1&&u.scale(M,m,m),S.push(M)}var P=f.fromVertices(d,v,S,y);return T&&this.world.add(P),P},fromJSON:function(d,v,g,m,y){m===void 0&&(m={}),y===void 0&&(y=!0);var T=l.parseBody(d,v,g,m);return T&&y&&this.world.add(T),T},imageStack:function(d,v,g,m,y,T,E,S,C){E===void 0&&(E=0),S===void 0&&(S=0),C===void 0&&(C={});var M=this.world,P=this.sys.displayList;C.addToWorld=!1;var R=t.stack(g,m,y,T,E,S,function(L,w){var B=new s(M,L,w,d,v,C);return P.add(B),B.body});return M.add(R),R},stack:function(d,v,g,m,y,T,E){var S=t.stack(d,v,g,m,y,T,E);return this.world.add(S),S},pyramid:function(d,v,g,m,y,T,E){var S=t.pyramid(d,v,g,m,y,T,E);return this.world.add(S),S},chain:function(d,v,g,m,y,T){return t.chain(d,v,g,m,y,T)},mesh:function(d,v,g,m,y){return t.mesh(d,v,g,m,y)},newtonsCradle:function(d,v,g,m,y){var T=t.newtonsCradle(d,v,g,m,y);return this.world.add(T),T},car:function(d,v,g,m,y){var T=t.car(d,v,g,m,y);return this.world.add(T),T},softBody:function(d,v,g,m,y,T,E,S,C,M){var P=t.softBody(d,v,g,m,y,T,E,S,C,M);return this.world.add(P),P},joint:function(d,v,g,m,y){return this.constraint(d,v,g,m,y)},spring:function(d,v,g,m,y){return this.constraint(d,v,g,m,y)},constraint:function(d,v,g,m,y){m===void 0&&(m=1),y===void 0&&(y={}),y.bodyA=d.type==="body"?d:d.body,y.bodyB=v.type==="body"?v:v.body,isNaN(g)||(y.length=g),y.stiffness=m;var T=a.create(y);return this.world.add(T),T},worldConstraint:function(d,v,g,m){g===void 0&&(g=1),m===void 0&&(m={}),m.bodyB=d.type==="body"?d:d.body,isNaN(v)||(m.length=v),m.stiffness=g;var y=a.create(m);return this.world.add(y),y},mouseSpring:function(d){return this.pointerConstraint(d)},pointerConstraint:function(d){d===void 0&&(d={}),d.hasOwnProperty("render")||(d.render={visible:!1});var v=new h(this.scene,this.world,d);return this.world.add(v.constraint),v},image:function(d,v,g,m,y){var T=new s(this.world,d,v,g,m,y);return this.sys.displayList.add(T),T},tileBody:function(d,v){return new n(this.world,d,v)},sprite:function(d,v,g,m,y){var T=new r(this.world,d,v,g,m,y);return this.sys.displayList.add(T),this.sys.updateList.add(T),T},gameObject:function(d,v,g){return e(this.world,d,v,g)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});A.exports=c},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(249),x=p(2),t=p(3);function a(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var i=function(e,s,r,n){r===void 0&&(r={}),n===void 0&&(n=!0);var o=s.x,l=s.y;s.body={temp:!0,position:{x:o,y:l}};var h=[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity];if(h.forEach(function(c){for(var d in c)a(c[d])?Object.defineProperty(s,d,{get:c[d].get,set:c[d].set}):Object.defineProperty(s,d,{value:c[d]})}),s.world=e,s._tempVec2=new t(o,l),r.hasOwnProperty("type")&&r.type==="body")s.setExistingBody(r,n);else{var u=x(r,"shape",null);u||(u="rectangle"),r.addToWorld=n,s.setBody(u,r)}return s};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(249),t=p(15),a=p(2),i=p(125),e=p(167),s=p(3),r=new f({Extends:i,Mixins:[x.Bounce,x.Collision,x.Force,x.Friction,x.Gravity,x.Mass,x.Sensor,x.SetBody,x.Sleep,x.Static,x.Transform,x.Velocity,e],initialize:function(o,l,h,u,c,d){t.call(this,o.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(u,c),this.setSizeToFrame(),this.setOrigin(),this.world=o,this._tempVec2=new s(l,h);var v=a(d,"shape",null);v?this.setBody(v,d):this.setRectangle(this.width,this.height,d),this.setPosition(l,h),this.initPipeline()}});A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(164),x=p(0),t=p(249),a=p(15),i=p(2),e=p(167),s=p(73),r=p(3),n=new x({Extends:s,Mixins:[t.Bounce,t.Collision,t.Force,t.Friction,t.Gravity,t.Mass,t.Sensor,t.SetBody,t.Sleep,t.Static,t.Transform,t.Velocity,e],initialize:function(l,h,u,c,d,v){a.call(this,l.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new f(this),this.setTexture(c,d),this.setSizeToFrame(),this.setOrigin(),this.world=l,this._tempVec2=new r(h,u);var g=i(v,"shape",null);g?this.setBody(g,v):this.setRectangle(this.width,this.height,v),this.setPosition(h,u),this.initPipeline()}});A.exports=n},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(84),x=p(0),t=p(118),a=p(128),i=p(273),e=p(272),s=p(51),r=p(127),n=p(165),o=p(3),l=p(64),h=new x({initialize:function(c,d,v){v===void 0&&(v={});var g={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=c,this.world=d,this.camera=null,this.pointer=null,this.active=!0,this.position=new o,this.body=null,this.part=null,this.constraint=a.create(r(v,g)),this.world.on(e.BEFORE_UPDATE,this.update,this),c.sys.input.on(s.POINTER_DOWN,this.onDown,this),c.sys.input.on(s.POINTER_UP,this.onUp,this)},onDown:function(u){this.pointer||(this.pointer=u,this.camera=u.camera)},onUp:function(u){u===this.pointer&&(this.pointer=null)},getBody:function(u){var c=this.position,d=this.constraint;this.camera.getWorldPoint(u.x,u.y,c);for(var v=t.allBodies(this.world.localWorld),g=0;g<v.length;g++){var m=v[g];if(!m.ignorePointer&&f.contains(m.bounds,c)&&i.canCollide(m.collisionFilter,d.collisionFilter)&&this.hitTestBody(m,c))return this.world.emit(e.DRAG_START,m,this.part,this),!0}return!1},hitTestBody:function(u,c){for(var d=this.constraint,v=u.parts.length,g=v>1?1:0,m=g;m<v;m++){var y=u.parts[m];if(l.contains(y.vertices,c))return d.pointA=c,d.pointB={x:c.x-u.position.x,y:c.y-u.position.y},d.bodyB=u,d.angleB=u.angle,n.set(u,!1),this.part=y,this.body=u,!0}return!1},update:function(){var u=this.pointer,c=this.body;if(!this.active||!u){c&&this.stopDrag();return}if(!u.isDown&&c){this.stopDrag();return}else if(u.isDown){if(!c&&!this.getBody(u))return;c=this.body;var d=this.position,v=this.constraint;this.camera.getWorldPoint(u.x,u.y,d),v.pointA.x=d.x,v.pointA.y=d.y,n.set(c,!1),this.world.emit(e.DRAG,c,this)}},stopDrag:function(){var u=this.body,c=this.constraint;c.bodyB=null,c.pointB=null,this.pointer=null,this.body=null,this.part=null,u&&this.world.emit(e.DRAG_END,u,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(s.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(s.POINTER_UP,this.onUp,this)}});A.exports=h},function(A,O,p){var f={};A.exports=f;var x=p(595),t=p(32);(function(){f.name="matter-js",f.version="0.14.2",f.uses=[],f.used=[],f.use=function(){x.use(f,Array.prototype.slice.call(arguments))},f.before=function(a,i){return a=a.replace(/^Matter./,""),t.chainPathBefore(f,a,i)},f.after=function(a,i){return a=a.replace(/^Matter./,""),t.chainPathAfter(f,a,i)}})()},function(A,O,p){var f={};A.exports=f;var x=p(83),t=p(274),a=p(84),i=p(86),e=p(64);(function(){f.collides=function(s,r){for(var n=[],o=0;o<r.length;o++){var l=r[o];if(s!==l&&a.overlaps(l.bounds,s.bounds))for(var h=l.parts.length===1?0:1;h<l.parts.length;h++){var u=l.parts[h];if(a.overlaps(u.bounds,s.bounds)){var c=t.collides(u,s);if(c.collided){n.push(c);break}}}}return n},f.ray=function(s,r,n,o){o=o||1e-100;for(var l=x.angle(r,n),h=x.magnitude(x.sub(r,n)),u=(n.x+r.x)*.5,c=(n.y+r.y)*.5,d=i.rectangle(u,c,h,o,{angle:l}),v=f.collides(d,s),g=0;g<v.length;g+=1){var m=v[g];m.body=m.bodyB=m.bodyA}return v},f.region=function(s,r,n){for(var o=[],l=0;l<s.length;l++){var h=s[l],u=a.overlaps(h.bounds,r);(u&&!n||!u&&n)&&o.push(h)}return o},f.point=function(s,r){for(var n=[],o=0;o<s.length;o++){var l=s[o];if(a.contains(l.bounds,r))for(var h=l.parts.length===1?0:1;h<l.parts.length;h++){var u=l.parts[h];if(a.contains(u.bounds,r)&&e.contains(u.vertices,r)){n.push(l);break}}}return n}})()},function(A,O,p){var f={};A.exports=f;var x=p(596),t=p(165),a=p(599),i=p(598),e=p(1523),s=p(597),r=p(166),n=p(118),o=p(128),l=p(32),h=p(41);(function(){f.create=function(u,c){c=l.isElement(u)?c:u,u=l.isElement(u)?u:null,c=c||{},(u||c.render)&&l.warn("Engine.create: engine.render is deprecated (see docs)");var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:s}},v=l.extend(d,c);return v.world=c.world||x.create(v.world),v.pairs=i.create(),v.broadphase=v.broadphase.controller.create(v.broadphase),v.metrics=v.metrics||{extended:!1},v.metrics=e.create(v.metrics),v},f.update=function(u,c,d){c=c||1e3/60,d=d||1;var v=u.world,g=u.timing,m=u.broadphase,y=[],T;g.timestamp+=c*g.timeScale;var E={timestamp:g.timestamp};r.trigger(u,"beforeUpdate",E);var S=n.allBodies(v),C=n.allConstraints(v);for(e.reset(u.metrics),u.enableSleeping&&t.update(S,g.timeScale),f._bodiesApplyGravity(S,v.gravity),f._bodiesUpdate(S,c,g.timeScale,d,v.bounds),o.preSolveAll(S),T=0;T<u.constraintIterations;T++)o.solveAll(C,g.timeScale);o.postSolveAll(S),m.controller?(v.isModified&&m.controller.clear(m),m.controller.update(m,S,u,v.isModified),y=m.pairsList):y=S,v.isModified&&n.setModified(v,!1,!1,!0);var M=m.detector(y,u),P=u.pairs,R=g.timestamp;for(i.update(P,M,R),i.removeOld(P,R),u.enableSleeping&&t.afterCollisions(P.list,g.timeScale),P.collisionStart.length>0&&r.trigger(u,"collisionStart",{pairs:P.collisionStart}),a.preSolvePosition(P.list),T=0;T<u.positionIterations;T++)a.solvePosition(P.list,S,g.timeScale);for(a.postSolvePosition(S),o.preSolveAll(S),T=0;T<u.constraintIterations;T++)o.solveAll(C,g.timeScale);for(o.postSolveAll(S),a.preSolveVelocity(P.list),T=0;T<u.velocityIterations;T++)a.solveVelocity(P.list,g.timeScale);return P.collisionActive.length>0&&r.trigger(u,"collisionActive",{pairs:P.collisionActive}),P.collisionEnd.length>0&&r.trigger(u,"collisionEnd",{pairs:P.collisionEnd}),e.update(u.metrics,u),f._bodiesClearForces(S),r.trigger(u,"afterUpdate",E),u},f.merge=function(u,c){if(l.extend(u,c),c.world){u.world=c.world,f.clear(u);for(var d=n.allBodies(u.world),v=0;v<d.length;v++){var g=d[v];t.set(g,!1),g.id=l.nextId()}}},f.clear=function(u){var c=u.world;i.clear(u.pairs);var d=u.broadphase;if(d.controller){var v=n.allBodies(c);d.controller.clear(d),d.controller.update(d,v,u,!0)}},f._bodiesClearForces=function(u){for(var c=0;c<u.length;c++){var d=u[c];d.force.x=0,d.force.y=0,d.torque=0}},f._bodiesApplyGravity=function(u,c){var d=typeof c.scale<"u"?c.scale:.001;if(!(c.x===0&&c.y===0||d===0))for(var v=0;v<u.length;v++){var g=u[v];g.ignoreGravity||g.isStatic||g.isSleeping||(g.force.x+=g.mass*c.x*d*g.gravityScale.x,g.force.y+=g.mass*c.y*d*g.gravityScale.y)}},f._bodiesUpdate=function(u,c,d,v,g){for(var m=0;m<u.length;m++){var y=u[m];y.isStatic||y.isSleeping||h.update(y,c,d,v)}}})()},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(86),x=p(41),t=p(0),a=p(32),i=p(118),e=p(1401),s=p(9),r=p(272),n=p(2),o=p(6),l=p(41),h=p(166),u=p(593),c=p(596),d=p(83),v=new t({Extends:s,initialize:function(m,y){s.call(this),this.scene=m,this.engine=e.create(y),this.localWorld=this.engine.world;var T=o(y,"gravity",null);T?this.setGravity(T.x,T.y,T.scale):T===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=o(y,"enabled",!0),this.correction=o(y,"correction",1),this.getDelta=o(y,"getDelta",this.update60Hz);var E=n(y,"runner",{}),S=n(E,"fps",!1),C=n(E,"fps",60),M=n(E,"delta",1e3/C),P=n(E,"deltaMin",1e3/C),R=n(E,"deltaMax",1e3/(C*.5));S||(C=1e3/M),this.runner={fps:C,correction:n(E,"correction",1),deltaSampleSize:n(E,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:n(E,"isFixed",!1),delta:M,deltaMin:P,deltaMax:R},this.autoUpdate=o(y,"autoUpdate",!0);var L=o(y,"debug",!1);if(this.drawDebug=typeof L=="object"?!0:L,this.debugGraphic,this.debugConfig={showAxes:n(L,"showAxes",!1),showAngleIndicator:n(L,"showAngleIndicator",!1),angleColor:n(L,"angleColor",15208787),showBroadphase:n(L,"showBroadphase",!1),broadphaseColor:n(L,"broadphaseColor",16757760),showBounds:n(L,"showBounds",!1),boundsColor:n(L,"boundsColor",16777215),showVelocity:n(L,"showVelocity",!1),velocityColor:n(L,"velocityColor",44783),showCollisions:n(L,"showCollisions",!1),collisionColor:n(L,"collisionColor",16094476),showSeparations:n(L,"showSeparations",!1),separationColor:n(L,"separationColor",16753920),showBody:n(L,"showBody",!0),showStaticBody:n(L,"showStaticBody",!0),showInternalEdges:n(L,"showInternalEdges",!1),renderFill:n(L,"renderFill",!1),renderLine:n(L,"renderLine",!0),fillColor:n(L,"fillColor",1075465),fillOpacity:n(L,"fillOpacity",1),lineColor:n(L,"lineColor",2678297),lineOpacity:n(L,"lineOpacity",1),lineThickness:n(L,"lineThickness",1),staticFillColor:n(L,"staticFillColor",857979),staticLineColor:n(L,"staticLineColor",1255396),showSleeping:n(L,"showSleeping",!1),staticBodySleepOpacity:n(L,"staticBodySleepOpacity",.7),sleepFillColor:n(L,"sleepFillColor",4605510),sleepLineColor:n(L,"sleepLineColor",10066585),showSensors:n(L,"showSensors",!0),sensorFillColor:n(L,"sensorFillColor",857979),sensorLineColor:n(L,"sensorLineColor",1255396),showPositions:n(L,"showPositions",!0),positionSize:n(L,"positionSize",4),positionColor:n(L,"positionColor",14697178),showJoint:n(L,"showJoint",!0),jointColor:n(L,"jointColor",14737474),jointLineOpacity:n(L,"jointLineOpacity",1),jointLineThickness:n(L,"jointLineThickness",2),pinSize:n(L,"pinSize",4),pinColor:n(L,"pinColor",4382944),springColor:n(L,"springColor",14697184),anchorColor:n(L,"anchorColor",15724527),anchorSize:n(L,"anchorSize",4),showConvexHulls:n(L,"showConvexHulls",!1),hullColor:n(L,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),n(y,"setBounds",!1)){var w=y.setBounds;if(typeof w=="boolean")this.setBounds();else{var B=n(w,"x",0),G=n(w,"y",0),Y=n(w,"width",m.sys.scale.width),D=n(w,"height",m.sys.scale.height),F=n(w,"thickness",64),N=n(w,"left",!0),I=n(w,"right",!0),b=n(w,"top",!0),U=n(w,"bottom",!0);this.setBounds(B,G,Y,D,F,N,I,b,U)}}},setCompositeRenderStyle:function(g){var m=g.bodies,y=g.constraints,T=g.composites,E,S,C;for(E=0;E<m.length;E++)S=m[E],C=S.render,this.setBodyRenderStyle(S,C.lineColor,C.lineOpacity,C.lineThickness,C.fillColor,C.fillOpacity);for(E=0;E<y.length;E++)S=y[E],C=S.render,this.setConstraintRenderStyle(S,C.lineColor,C.lineOpacity,C.lineThickness,C.pinSize,C.anchorColor,C.anchorSize);for(E=0;E<T.length;E++)S=T[E],this.setCompositeRenderStyle(S);return this},setBodyRenderStyle:function(g,m,y,T,E,S){var C=g.render,M=this.debugConfig;return C?(m==null&&(m=g.isStatic?M.staticLineColor:M.lineColor),y==null&&(y=M.lineOpacity),T==null&&(T=M.lineThickness),E==null&&(E=g.isStatic?M.staticFillColor:M.fillColor),S==null&&(S=M.fillOpacity),m!==!1&&(C.lineColor=m),y!==!1&&(C.lineOpacity=y),T!==!1&&(C.lineThickness=T),E!==!1&&(C.fillColor=E),S!==!1&&(C.fillOpacity=S),this):this},setConstraintRenderStyle:function(g,m,y,T,E,S,C){var M=g.render,P=this.debugConfig;if(!M)return this;if(m==null){var R=M.type;R==="line"?m=P.jointColor:R==="pin"?m=P.pinColor:R==="spring"&&(m=P.springColor)}return y==null&&(y=P.jointLineOpacity),T==null&&(T=P.jointLineThickness),E==null&&(E=P.pinSize),S==null&&(S=P.anchorColor),C==null&&(C=P.anchorSize),m!==!1&&(M.lineColor=m),y!==!1&&(M.lineOpacity=y),T!==!1&&(M.lineThickness=T),E!==!1&&(M.pinSize=E),S!==!1&&(M.anchorColor=S),C!==!1&&(M.anchorSize=C),this},setEventsProxy:function(){var g=this,m=this.engine,y=this.localWorld;this.drawDebug&&(h.on(y,"compositeModified",function(T){g.setCompositeRenderStyle(T)}),h.on(y,"beforeAdd",function(T){for(var E=[].concat(T.object),S=0;S<E.length;S++){var C=E[S],M=C.render;C.type==="body"?g.setBodyRenderStyle(C,M.lineColor,M.lineOpacity,M.lineThickness,M.fillColor,M.fillOpacity):C.type==="composite"?g.setCompositeRenderStyle(C):C.type==="constraint"&&g.setConstraintRenderStyle(C,M.lineColor,M.lineOpacity,M.lineThickness,M.pinSize,M.anchorColor,M.anchorSize)}})),h.on(y,"beforeAdd",function(T){g.emit(r.BEFORE_ADD,T)}),h.on(y,"afterAdd",function(T){g.emit(r.AFTER_ADD,T)}),h.on(y,"beforeRemove",function(T){g.emit(r.BEFORE_REMOVE,T)}),h.on(y,"afterRemove",function(T){g.emit(r.AFTER_REMOVE,T)}),h.on(m,"beforeUpdate",function(T){g.emit(r.BEFORE_UPDATE,T)}),h.on(m,"afterUpdate",function(T){g.emit(r.AFTER_UPDATE,T)}),h.on(m,"collisionStart",function(T){var E=T.pairs,S,C;E.length>0&&(S=E[0].bodyA,C=E[0].bodyB),g.emit(r.COLLISION_START,T,S,C)}),h.on(m,"collisionActive",function(T){var E=T.pairs,S,C;E.length>0&&(S=E[0].bodyA,C=E[0].bodyB),g.emit(r.COLLISION_ACTIVE,T,S,C)}),h.on(m,"collisionEnd",function(T){var E=T.pairs,S,C;E.length>0&&(S=E[0].bodyA,C=E[0].bodyB),g.emit(r.COLLISION_END,T,S,C)})},setBounds:function(g,m,y,T,E,S,C,M,P){return g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=this.scene.sys.scale.width),T===void 0&&(T=this.scene.sys.scale.height),E===void 0&&(E=64),S===void 0&&(S=!0),C===void 0&&(C=!0),M===void 0&&(M=!0),P===void 0&&(P=!0),this.updateWall(S,"left",g-E,m-E,E,T+E*2),this.updateWall(C,"right",g+y,m-E,E,T+E*2),this.updateWall(M,"top",g,m-E,y,E),this.updateWall(P,"bottom",g,m+T,y,E),this},updateWall:function(g,m,y,T,E,S){var C=this.walls[m];g?(C&&c.remove(this.localWorld,C),y+=E/2,T+=S/2,this.walls[m]=this.create(y,T,E,S,{isStatic:!0,friction:0,frictionStatic:0})):(C&&c.remove(this.localWorld,C),this.walls[m]=null)},createDebugGraphic:function(){var g=this.scene.sys.add.graphics({x:0,y:0});return g.setDepth(Number.MAX_VALUE),this.debugGraphic=g,this.drawDebug=!0,g},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(g,m,y){return g===void 0&&(g=0),m===void 0&&(m=1),this.localWorld.gravity.x=g,this.localWorld.gravity.y=m,y!==void 0&&(this.localWorld.gravity.scale=y),this},create:function(g,m,y,T,E){var S=f.rectangle(g,m,y,T,E);return c.add(this.localWorld,S),S},add:function(g){return c.add(this.localWorld,g),this},remove:function(g,m){Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++){var T=g[y],E=T.body?T.body:T;i.remove(this.localWorld,E,m)}return this},removeConstraint:function(g,m){return i.remove(this.localWorld,g,m),this},convertTilemapLayer:function(g,m){var y=g.layer,T=g.getTilesWithin(0,0,y.width,y.height,{isColliding:!0});return this.convertTiles(T,m),this},convertTiles:function(g,m){if(g.length===0)return this;for(var y=0;y<g.length;y++)new u(this,g[y],m);return this},nextGroup:function(g){return l.nextGroup(g)},nextCategory:function(){return l.nextCategory()},pause:function(){return this.enabled=!1,this.emit(r.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(r.RESUME),this},update:function(g,m){if(!(!this.enabled||!this.autoUpdate)){var y=this.engine,T=this.runner,E=y.timing,S=this.correction;T.isFixed?m=this.getDelta(g,m):(m=g-T.timePrev||T.delta,T.timePrev=g,T.deltaHistory.push(m),T.deltaHistory=T.deltaHistory.slice(-T.deltaSampleSize),m=Math.min.apply(null,T.deltaHistory),m=m<T.deltaMin?T.deltaMin:m,m=m>T.deltaMax?T.deltaMax:m,S=m/T.delta,T.delta=m),T.timeScalePrev!==0&&(S*=E.timeScale/T.timeScalePrev),E.timeScale===0&&(S=0),T.timeScalePrev=E.timeScale,T.correction=S,T.frameCounter+=1,g-T.counterTimestamp>=1e3&&(T.fps=T.frameCounter*((g-T.counterTimestamp)/1e3),T.counterTimestamp=g,T.frameCounter=0),e.update(y,m,S)}},step:function(g,m){e.update(this.engine,g,m)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(g){var m=g.hasOwnProperty("body")?g.body:g;return i.get(this.localWorld,m.id,m.type)!==null},getAllBodies:function(){return i.allBodies(this.localWorld)},getAllConstraints:function(){return i.allConstraints(this.localWorld)},getAllComposites:function(){return i.allComposites(this.localWorld)},postUpdate:function(){if(!!this.drawDebug){var g=this.debugConfig,m=this.engine,y=this.debugGraphic,T=i.allBodies(this.localWorld);this.debugGraphic.clear(),g.showBroadphase&&m.broadphase.controller&&this.renderGrid(m.broadphase,y,g.broadphaseColor,.5),g.showBounds&&this.renderBodyBounds(T,y,g.boundsColor,.5),(g.showBody||g.showStaticBody)&&this.renderBodies(T),g.showJoint&&this.renderJoints(),(g.showAxes||g.showAngleIndicator)&&this.renderBodyAxes(T,y,g.showAxes,g.angleColor,.5),g.showVelocity&&this.renderBodyVelocity(T,y,g.velocityColor,1,2),g.showSeparations&&this.renderSeparations(m.pairs.list,y,g.separationColor),g.showCollisions&&this.renderCollisions(m.pairs.list,y,g.collisionColor)}},renderGrid:function(g,m,y,T){m.lineStyle(1,y,T);for(var E=a.keys(g.buckets),S=0;S<E.length;S++){var C=E[S];if(!(g.buckets[C].length<2)){var M=C.split(/C|R/);m.strokeRect(parseInt(M[1],10)*g.bucketWidth,parseInt(M[2],10)*g.bucketHeight,g.bucketWidth,g.bucketHeight)}}return this},renderSeparations:function(g,m,y){m.lineStyle(1,y,1);for(var T=0;T<g.length;T++){var E=g[T];if(!!E.isActive){var S=E.collision,C=S.bodyA,M=S.bodyB,P=C.position,R=M.position,L=S.penetration,w=!C.isStatic&&!M.isStatic?4:1;M.isStatic&&(w=0),m.lineBetween(R.x,R.y,R.x-L.x*w,R.y-L.y*w),w=!C.isStatic&&!M.isStatic?4:1,C.isStatic&&(w=0),m.lineBetween(P.x,P.y,P.x-L.x*w,P.y-L.y*w)}}return this},renderCollisions:function(g,m,y){m.lineStyle(1,y,.5),m.fillStyle(y,1);var T,E;for(T=0;T<g.length;T++)if(E=g[T],!!E.isActive)for(var S=0;S<E.activeContacts.length;S++){var C=E.activeContacts[S],M=C.vertex;m.fillRect(M.x-2,M.y-2,5,5)}for(T=0;T<g.length;T++)if(E=g[T],!!E.isActive){var P=E.collision,R=E.activeContacts;if(R.length>0){var L=R[0].vertex.x,w=R[0].vertex.y;R.length===2&&(L=(R[0].vertex.x+R[1].vertex.x)/2,w=(R[0].vertex.y+R[1].vertex.y)/2),P.bodyB===P.supports[0].body||P.bodyA.isStatic?m.lineBetween(L-P.normal.x*8,w-P.normal.y*8,L,w):m.lineBetween(L+P.normal.x*8,w+P.normal.y*8,L,w)}}return this},renderBodyBounds:function(g,m,y,T){m.lineStyle(1,y,T);for(var E=0;E<g.length;E++){var S=g[E];if(!!S.render.visible){var C=S.bounds;if(C)m.strokeRect(C.min.x,C.min.y,C.max.x-C.min.x,C.max.y-C.min.y);else for(var M=S.parts,P=M.length>1?1:0;P<M.length;P++){var R=M[P];m.strokeRect(R.bounds.min.x,R.bounds.min.y,R.bounds.max.x-R.bounds.min.x,R.bounds.max.y-R.bounds.min.y)}}}return this},renderBodyAxes:function(g,m,y,T,E){m.lineStyle(1,T,E);for(var S=0;S<g.length;S++){var C=g[S],M=C.parts;if(!!C.render.visible){var P,R,L;if(y)for(R=M.length>1?1:0;R<M.length;R++)for(P=M[R],L=0;L<P.axes.length;L++){var w=P.axes[L];m.lineBetween(P.position.x,P.position.y,P.position.x+w.x*20,P.position.y+w.y*20)}else for(R=M.length>1?1:0;R<M.length;R++)for(P=M[R],L=0;L<P.axes.length;L++)m.lineBetween(P.position.x,P.position.y,(P.vertices[0].x+P.vertices[P.vertices.length-1].x)/2,(P.vertices[0].y+P.vertices[P.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(g,m,y,T,E){m.lineStyle(E,y,T);for(var S=0;S<g.length;S++){var C=g[S];!C.render.visible||m.lineBetween(C.position.x,C.position.y,C.position.x+(C.position.x-C.positionPrev.x)*2,C.position.y+(C.position.y-C.positionPrev.y)*2)}return this},renderBodies:function(g){for(var m=this.debugGraphic,y=this.debugConfig,T=y.showBody,E=y.showStaticBody,S=y.showSleeping,C=y.showInternalEdges,M=y.showConvexHulls,P=y.renderFill,R=y.renderLine,L=y.staticBodySleepOpacity,w=y.sleepFillColor,B=y.sleepLineColor,G=y.hullColor,Y=0;Y<g.length;Y++){var D=g[Y];if(!!D.render.visible&&!(!E&&D.isStatic||!T&&!D.isStatic)){var F=D.render.lineColor,N=D.render.lineOpacity,I=D.render.lineThickness,b=D.render.fillColor,U=D.render.fillOpacity;S&&D.isSleeping&&(D.isStatic?(N*=L,U*=L):(F=B,b=w)),P||(b=null),R||(F=null),this.renderBody(D,m,C,F,N,I,b,U);var X=D.parts.length;M&&X>1&&this.renderConvexHull(D,m,G,I)}}},renderBody:function(g,m,y,T,E,S,C,M){T===void 0&&(T=null),E===void 0&&(E=null),S===void 0&&(S=1),C===void 0&&(C=null),M===void 0&&(M=null);for(var P=this.debugConfig,R=P.sensorFillColor,L=P.sensorLineColor,w=g.parts,B=w.length,G=B>1?1:0;G<B;G++){var Y=w[G],D=Y.render,F=D.opacity;if(!(!D.visible||F===0||Y.isSensor&&!P.showSensors)){var N=Y.circleRadius;if(m.beginPath(),Y.isSensor?(C!==null&&m.fillStyle(R,M*F),T!==null&&m.lineStyle(S,L,E*F)):(C!==null&&m.fillStyle(C,M*F),T!==null&&m.lineStyle(S,T,E*F)),N)m.arc(Y.position.x,Y.position.y,N,0,2*Math.PI);else{var I=Y.vertices,b=I.length;m.moveTo(I[0].x,I[0].y);for(var U=1;U<b;U++){var X=I[U];if(!I[U-1].isInternal||y?m.lineTo(X.x,X.y):m.moveTo(X.x,X.y),U<b&&X.isInternal&&!y){var z=(U+1)%b;m.moveTo(I[z].x,I[z].y)}}m.closePath()}C!==null&&m.fillPath(),T!==null&&m.strokePath()}}if(P.showPositions&&!g.isStatic){var V=g.position.x,W=g.position.y,H=Math.ceil(P.positionSize/2);m.fillStyle(P.positionColor,1),m.fillRect(V-H,W-H,P.positionSize,P.positionSize)}return this},renderConvexHull:function(g,m,y,T){T===void 0&&(T=1);var E=g.parts,S=E.length;if(S>1){var C=g.vertices;m.lineStyle(T,y),m.beginPath(),m.moveTo(C[0].x,C[0].y);for(var M=1;M<C.length;M++)m.lineTo(C[M].x,C[M].y);m.lineTo(C[0].x,C[0].y),m.strokePath()}return this},renderJoints:function(){for(var g=this.debugGraphic,m=i.allConstraints(this.localWorld),y=0;y<m.length;y++){var T=m[y].render,E=T.lineColor,S=T.lineOpacity,C=T.lineThickness,M=T.pinSize,P=T.anchorColor,R=T.anchorSize;this.renderConstraint(m[y],g,E,S,C,M,P,R)}},renderConstraint:function(g,m,y,T,E,S,C,M){var P=g.render;if(!P.visible||!g.pointA||!g.pointB)return this;m.lineStyle(E,y,T);var R=g.bodyA,L=g.bodyB,w,B;if(R?w=d.add(R.position,g.pointA):w=g.pointA,P.type==="pin")m.strokeCircle(w.x,w.y,S);else{if(L?B=d.add(L.position,g.pointB):B=g.pointB,m.beginPath(),m.moveTo(w.x,w.y),P.type==="spring")for(var G=d.sub(B,w),Y=d.perp(d.normalise(G)),D=Math.ceil(a.clamp(g.length/5,12,20)),F,N=1;N<D;N+=1)F=N%2===0?1:-1,m.lineTo(w.x+G.x*(N/D)+Y.x*F*4,w.y+G.y*(N/D)+Y.y*F*4);m.lineTo(B.x,B.y)}return m.strokePath(),P.anchors&&M>0&&(m.fillStyle(C),m.fillCircle(w.x,w.y,M),m.fillCircle(B.x,B.y,M)),this},resetCollisionIDs:function(){return x._nextCollidingGroupId=1,x._nextNonCollidingGroupId=-1,x._nextCategory=1,this},shutdown:function(){h.off(this.engine),this.removeAllListeners(),c.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});A.exports=v},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={BasePlugin:p(540),DefaultPlugins:p(197),PluginCache:p(24),PluginManager:p(414),ScenePlugin:p(1404)}},function(A,O,p){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var f=p(540),x=p(0),t=p(20),a=new x({Extends:f,initialize:function(e,s,r){f.call(this,s),this.scene=e,this.systems=e.sys,this.pluginKey=r,e.sys.events.once(t.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Canvas:p(1406),Events:p(91),Snapshot:p(1407),WebGL:p(1408)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={CanvasRenderer:p(368),GetBlendModes:p(370),SetTransform:p(30)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Canvas:p(369),WebGL:p(383)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(107),x=p(17),t={PipelineManager:p(372),Pipelines:p(1409),RenderTarget:p(141),Utils:p(12),WebGLPipeline:p(58),WebGLRenderer:p(371),WebGLShader:p(375)};t=x(!1,t,f),A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(92),x=p(17),t={BitmapMaskPipeline:p(373),Events:p(374),GraphicsPipeline:p(376),LightPipeline:p(377),MultiPipeline:p(108),PointLightPipeline:p(378),PostFXPipeline:p(1410),RopePipeline:p(379),SinglePipeline:p(380),UtilityPipeline:p(381)};t=x(!1,t,f),A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(198),t=p(2),a=p(1411),i=p(382),e=p(58),s=new f({Extends:e,initialize:function(n){n.renderTarget=t(n,"renderTarget",1),n.fragShader=t(n,"fragShader",a),n.vertShader=t(n,"vertShader",i),n.attributes=t(n,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),n.batchSize=1,n.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,n),this.isPostFX=!0,this.gameObject,this.colorMatrix=new x,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){e.prototype.boot.call(this);var r=this.manager.UTILITY_PIPELINE;this.fullFrame1=r.fullFrame1,this.fullFrame2=r.fullFrame2,this.halfFrame1=r.halfFrame1,this.halfFrame2=r.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(r){this.bindAndDraw(r)},copyFrame:function(r,n,o,l,h){this.manager.copyFrame(r,n,o,l,h)},copyToGame:function(r){this.manager.copyToGame(r)},drawFrame:function(r,n,o){this.manager.drawFrame(r,n,o,this.colorMatrix)},blendFrames:function(r,n,o,l,h){this.manager.blendFrames(r,n,o,l,h)},blendFramesAdditive:function(r,n,o,l,h){this.manager.blendFramesAdditive(r,n,o,l,h)},clearFrame:function(r,n){this.manager.clearFrame(r,n)},blitFrame:function(r,n,o,l,h,u){this.manager.blitFrame(r,n,o,l,h,u)},copyFrameRect:function(r,n,o,l,h,u,c,d){this.manager.copyFrameRect(r,n,o,l,h,u,c,d)},bindAndDraw:function(r,n,o,l,h){o===void 0&&(o=!0),l===void 0&&(l=!0);var u=this.gl,c=this.renderer;this.bind(h),this.set1i("uMainSampler",0),n?(u.viewport(0,0,n.width,n.height),u.bindFramebuffer(u.FRAMEBUFFER,n.framebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,n.texture,0),o&&(l?u.clearColor(0,0,0,0):u.clearColor(0,0,0,1),u.clear(u.COLOR_BUFFER_BIT))):(c.popFramebuffer(!1,!1,!1),c.currentFramebuffer||u.viewport(0,0,c.width,c.height)),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,r.texture),u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.STATIC_DRAW),u.drawArrays(u.TRIANGLES,0,6),n?(u.bindTexture(u.TEXTURE_2D,null),u.bindFramebuffer(u.FRAMEBUFFER,null)):c.resetTextures()}});A.exports=s},function(A,O){A.exports=["#define SHADER_NAME PHASER_POSTFX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}",""].join(`
`)},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(17),x=p(201),t={Center:p(403),Events:p(104),Orientation:p(404),ScaleManager:p(415),ScaleModes:p(405),Zoom:p(406)};t=f(!1,t,x.CENTER),t=f(!1,t,x.ORIENTATION),t=f(!1,t,x.SCALE_MODE),t=f(!1,t,x.ZOOM),A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(144),x=p(17),t={Events:p(20),GetPhysicsPlugins:p(419),GetScenePlugins:p(420),SceneManager:p(417),ScenePlugin:p(1414),Settings:p(421),Systems:p(204)};t=x(!1,t,f),A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(18),x=p(0),t=p(20),a=p(2),i=p(24),e=new x({initialize:function(r){this.scene=r,this.systems=r.sys,this.settings=r.sys.settings,this.key=r.sys.settings.key,this.manager=r.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,r.sys.events.once(t.BOOT,this.boot,this),r.sys.events.on(t.START,this.pluginStart,this)},boot:function(){this.systems.events.once(t.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(t.SHUTDOWN,this.shutdown,this)},start:function(s,r){return s===void 0&&(s=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",s,r),this},restart:function(s){var r=this.key;return this.manager.queueOp("stop",r),this.manager.queueOp("start",r,s),this},transition:function(s){s===void 0&&(s={});var r=a(s,"target",!1),n=this.manager.getScene(r);if(!r||!this.checkValidTransition(n))return!1;var o=a(s,"duration",1e3);this._elapsed=0,this._target=n,this._duration=o,this._willSleep=a(s,"sleep",!1),this._willRemove=a(s,"remove",!1);var l=a(s,"onUpdate",null);l&&(this._onUpdate=l,this._onUpdateScope=a(s,"onUpdateScope",this.scene));var h=a(s,"allowInput",!1);this.settings.transitionAllowInput=h;var u=n.sys.settings;return u.isTransition=!0,u.transitionFrom=this.scene,u.transitionDuration=o,u.transitionAllowInput=h,a(s,"moveAbove",!1)?this.manager.moveAbove(this.key,r):a(s,"moveBelow",!1)&&this.manager.moveBelow(this.key,r),n.sys.isSleeping()?n.sys.wake(a(s,"data")):this.manager.start(r,a(s,"data")),this.systems.events.emit(t.TRANSITION_OUT,n,o),this.systems.events.on(t.UPDATE,this.step,this),!0},checkValidTransition:function(s){return!(!s||s.sys.isActive()||s.sys.isTransitioning()||s===this.scene||this.systems.isTransitioning())},step:function(s,r){this._elapsed+=r,this.transitionProgress=f(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var s=this._target.sys,r=this._target.sys.settings;this.systems.events.off(t.UPDATE,this.step,this),s.events.emit(t.TRANSITION_COMPLETE,this.scene),r.isTransition=!1,r.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(s,r,n,o){return this.manager.add(s,r,n,o)},launch:function(s,r){return s&&s!==this.key&&this.manager.queueOp("start",s,r),this},run:function(s,r){return s&&s!==this.key&&this.manager.queueOp("run",s,r),this},pause:function(s,r){return s===void 0&&(s=this.key),this.manager.queueOp("pause",s,r),this},resume:function(s,r){return s===void 0&&(s=this.key),this.manager.queueOp("resume",s,r),this},sleep:function(s,r){return s===void 0&&(s=this.key),this.manager.queueOp("sleep",s,r),this},wake:function(s,r){return s===void 0&&(s=this.key),this.manager.queueOp("wake",s,r),this},switch:function(s){return s!==this.key&&this.manager.queueOp("switch",this.key,s),this},stop:function(s,r){return s===void 0&&(s=this.key),this.manager.queueOp("stop",s,r),this},setActive:function(s,r,n){r===void 0&&(r=this.key);var o=this.manager.getScene(r);return o&&o.sys.setActive(s,n),this},setVisible:function(s,r){r===void 0&&(r=this.key);var n=this.manager.getScene(r);return n&&n.sys.setVisible(s),this},isSleeping:function(s){return s===void 0&&(s=this.key),this.manager.isSleeping(s)},isActive:function(s){return s===void 0&&(s=this.key),this.manager.isActive(s)},isPaused:function(s){return s===void 0&&(s=this.key),this.manager.isPaused(s)},isVisible:function(s){return s===void 0&&(s=this.key),this.manager.isVisible(s)},swapPosition:function(s,r){return r===void 0&&(r=this.key),s!==r&&this.manager.swapPosition(s,r),this},moveAbove:function(s,r){return r===void 0&&(r=this.key),s!==r&&this.manager.moveAbove(s,r),this},moveBelow:function(s,r){return r===void 0&&(r=this.key),s!==r&&this.manager.moveBelow(s,r),this},remove:function(s){return s===void 0&&(s=this.key),this.manager.remove(s),this},moveUp:function(s){return s===void 0&&(s=this.key),this.manager.moveUp(s),this},moveDown:function(s){return s===void 0&&(s=this.key),this.manager.moveDown(s),this},bringToTop:function(s){return s===void 0&&(s=this.key),this.manager.bringToTop(s),this},sendToBack:function(s){return s===void 0&&(s=this.key),this.manager.sendToBack(s),this},get:function(s){return this.manager.getScene(s)},getIndex:function(s){return s===void 0&&(s=this.key),this.manager.getIndex(s)},shutdown:function(){var s=this.systems.events;s.off(t.SHUTDOWN,this.shutdown,this),s.off(t.POST_UPDATE,this.step,this),s.off(t.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(t.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});i.register("ScenePlugin",e,"scenePlugin"),A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Events:p(438),List:p(110),Map:p(102),ProcessQueue:p(211),RTree:p(531),Set:p(149),Size:p(416)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(17),x=p(1417),t={CanvasTexture:p(423),Events:p(106),FilterMode:x,Frame:p(109),Parsers:p(425),Texture:p(206),TextureManager:p(422),TextureSource:p(424)};t=f(!1,t,x),A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={LINEAR:0,NEAREST:1};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(17),x=p(1419),t={Components:p(251),Parsers:p(1452),Formats:p(40),ImageCollection:p(576),ParseToTilemap:p(262),Tile:p(85),Tilemap:p(580),TilemapCreator:p(1459),TilemapFactory:p(1460),Tileset:p(122),TilemapLayer:p(581),Orientation:p(29),LayerData:p(120),MapData:p(121),ObjectLayer:p(572)};t=f(!1,t,x.ORIENTATION),A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={ORIENTATION:p(29)};A.exports=f},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(26),x=p(63),t=function(a,i,e,s,r,n,o,l){o===void 0&&(o=!0),a<0&&(a=0),i<0&&(i=0);for(var h=f(a,i,e,s,null,l),u=r-a,c=n-i,d=0;d<h.length;d++){var v=h[d].x+u,g=h[d].y+c;v>=0&&v<l.width&&g>=0&&g<l.height&&l.data[g][v]&&l.data[g][v].copy(h[d])}o&&x(r-1,n-1,e+2,s+2,l)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(26),x=p(542),t=function(a,i,e,s,r,n){e||(e={}),Array.isArray(a)||(a=[a]);var o=n.tilemapLayer;s||(s=o.scene),r||(r=s.cameras.main);var l=f(0,0,n.width,n.height,null,n),h=[],u;for(u=0;u<l.length;u++){var c=l[u];if(a.indexOf(c.index)!==-1){var d=o.tileToWorldXY(c.x,c.y,void 0,r,n);e.x=d.x,e.y=d.y,h.push(s.make.sprite(e))}}if(typeof i=="number")for(u=0;u<a.length;u++)x(a[u],i,0,0,n.width,n.height,n);else if(Array.isArray(i))for(u=0;u<a.length;u++)x(a[u],i[u],0,0,n.width,n.height,n);return h};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(26),x=p(63),t=p(72),a=function(i,e,s,r,n,o,l){for(var h=l.collideIndexes.indexOf(i)!==-1,u=f(e,s,r,n,null,l),c=0;c<u.length;c++)u[c].index=i,t(u[c],h);o&&x(e-1,s-1,r+2,n+2,l)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(26),x=function(t,a,i,e,s,r,n,o){var l=f(i,e,s,r,n,o);return l.filter(t,a)};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){x===void 0&&(x=0),t===void 0&&(t=!1);var i=0,e,s,r;if(t){for(s=a.height-1;s>=0;s--)for(e=a.width-1;e>=0;e--)if(r=a.data[s][e],r&&r.index===f){if(i===x)return r;i+=1}}else for(s=0;s<a.height;s++)for(e=0;e<a.width;e++)if(r=a.data[s][e],r&&r.index===f){if(i===x)return r;i+=1}return null};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(26),x=function(t,a,i,e,s,r,n,o){var l=f(i,e,s,r,n,o);return l.find(t,a)||null};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(26),x=function(t,a,i,e,s,r,n,o){var l=f(i,e,s,r,n,o);l.forEach(t,a)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(29),x=p(544),t=p(545),a=p(547),i=p(1),e=p(548),s=function(r){return r===f.ORTHOGONAL?x:r===f.HEXAGONAL?t:r===f.STAGGERED?e:r===f.ISOMETRIC?a:i};A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(158),x=p(3),t=new x,a=function(i,e,s,r,n){return n.tilemapLayer.worldToTileXY(i,e,!0,t,r),f(t.x,t.y,s,n)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(483),x=p(26),t=p(484),a=p(1),i=p(3),e=function(l,h){return t.RectangleToTriangle(h,l)},s=new i,r=new i,n=new i,o=function(l,h,u,c){if(l===void 0)return[];var d=a;l instanceof f.Circle?d=t.CircleToRectangle:l instanceof f.Rectangle?d=t.RectangleToRectangle:l instanceof f.Triangle?d=e:l instanceof f.Line&&(d=t.LineToRectangle),c.tilemapLayer.worldToTileXY(l.left,l.top,!0,r,u);var v=r.x,g=r.y;c.tilemapLayer.worldToTileXY(l.right,l.bottom,!0,n,u);var m=Math.ceil(n.x),y=Math.ceil(n.y),T=Math.max(m-v,1),E=Math.max(y-g,1),S=x(v,g,T,E,h,c),C=c.tileWidth,M=c.tileHeight;c.tilemapLayer&&(C*=c.tilemapLayer.scaleX,M*=c.tilemapLayer.scaleY);for(var P=[],R=new f.Rectangle(0,0,C,M),L=0;L<S.length;L++){var w=S[L];c.tilemapLayer.tileToWorldXY(w.x,w.y,s,u),R.x=s.x,R.y=s.y,d(l,R)&&P.push(w)}return P};A.exports=o},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(29),x=p(1),t=p(253),a=function(i){return i===f.ORTHOGONAL?t:x};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(29),x=p(550),t=p(551),a=p(1),i=p(552),e=p(553),s=function(r){return r===f.ORTHOGONAL?e:r===f.ISOMETRIC?t:r===f.HEXAGONAL?x:r===f.STAGGERED?i:a};A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(29),x=p(554),t=p(1),a=p(555),i=p(254),e=function(s){return s===f.ORTHOGONAL?i:s===f.HEXAGONAL?x:s===f.STAGGERED?a:t};A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(29),x=p(1),t=p(255),a=function(i){return i===f.ORTHOGONAL?t:x};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(29),x=p(556),t=p(557),a=p(1),i=p(558),e=p(559),s=function(r){return r===f.ORTHOGONAL?e:r===f.ISOMETRIC?t:r===f.HEXAGONAL?x:r===f.STAGGERED?i:a};A.exports=s},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(29),x=p(560),t=p(1),a=p(561),i=p(256),e=function(s){return s===f.ORTHOGONAL?i:s===f.HEXAGONAL?x:s===f.STAGGERED?a:t};A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(562),x=p(3),t=new x,a=function(i,e,s,r){r.tilemapLayer.worldToTileXY(i,e,!0,t,s);var n=t.x,o=t.y;return f(n,o,r)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(257),x=p(3),t=new x,a=function(i,e,s,r,n,o){return o.tilemapLayer.worldToTileXY(e,s,!0,t,n,o),f(i,t.x,t.y,r,o)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(63),x=p(257),t=function(a,i,e,s,r){if(s===void 0&&(s=!0),!Array.isArray(a))return null;Array.isArray(a[0])||(a=[a]);for(var n=a.length,o=a[0].length,l=0;l<n;l++)for(var h=0;h<o;h++){var u=a[l][h];x(u,i+h,e+l,!1,r)}s&&f(i-1,e-1,o+2,n+2,r)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(26),x=p(210),t=function(a,i,e,s,r,n){var o,l=f(a,i,e,s,{},n);if(!r)for(r=[],o=0;o<l.length;o++)r.indexOf(l[o].index)===-1&&r.push(l[o].index);for(o=0;o<l.length;o++)l[o].index=x(r)};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(563),x=p(3),t=new x,a=function(i,e,s,r,n,o){return o.tilemapLayer.worldToTileXY(i,e,!0,t,n,o),f(t.x,t.y,s,r,o)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(26),x=p(397),t=new x(105,210,231,150),a=new x(243,134,48,200),i=new x(40,39,37,150),e=function(s,r,n){r===void 0&&(r={});var o=r.tileColor!==void 0?r.tileColor:t,l=r.collidingTileColor!==void 0?r.collidingTileColor:a,h=r.faceColor!==void 0?r.faceColor:i,u=f(0,0,n.width,n.height,null,n);s.translateCanvas(n.tilemapLayer.x,n.tilemapLayer.y),s.scaleCanvas(n.tilemapLayer.scaleX,n.tilemapLayer.scaleY);for(var c=0;c<u.length;c++){var d=u[c],v=d.width,g=d.height,m=d.pixelX,y=d.pixelY,T=d.collides?l:o;T!==null&&(s.fillStyle(T.color,T.alpha/255),s.fillRect(m,y,v,g)),m+=1,y+=1,v-=2,g-=2,h!==null&&(s.lineStyle(1,h.color,h.alpha/255),d.faceTop&&s.lineBetween(m,y,m+v,y),d.faceRight&&s.lineBetween(m+v,y,m+v,y+g),d.faceBottom&&s.lineBetween(m,y+g,m+v,y+g),d.faceLeft&&s.lineBetween(m,y,m,y+g))}};A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(72),x=p(63),t=p(160),a=function(i,e,s,r,n){e===void 0&&(e=!0),s===void 0&&(s=!0),n===void 0&&(n=!0),Array.isArray(i)||(i=[i]);for(var o=0;o<i.length;o++)t(i[o],e,r);if(n)for(var l=0;l<r.height;l++)for(var h=0;h<r.width;h++){var u=r.data[l][h];u&&i.indexOf(u.index)!==-1&&f(u,e)}s&&x(0,0,r.width,r.height,r)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(72),x=p(63),t=p(160),a=function(i,e,s,r,n,o){if(s===void 0&&(s=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),!(i>e)){for(var l=i;l<=e;l++)t(l,s,n);if(o)for(var h=0;h<n.height;h++)for(var u=0;u<n.width;u++){var c=n.data[h][u];c&&c.index>=i&&c.index<=e&&f(c,s)}r&&x(0,0,n.width,n.height,n)}};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(72),x=p(63),t=p(160),a=function(i,e,s,r){e===void 0&&(e=!0),s===void 0&&(s=!0),Array.isArray(i)||(i=[i]);for(var n=0;n<r.height;n++)for(var o=0;o<r.width;o++){var l=r.data[n][o];l&&i.indexOf(l.index)===-1&&(f(l,e),t(l.index,e,r))}s&&x(0,0,r.width,r.height,r)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(72),x=p(63),t=p(126),a=function(i,e,s,r){e===void 0&&(e=!0),s===void 0&&(s=!0);for(var n=0;n<r.height;n++)for(var o=0;o<r.width;o++){var l=r.data[n][o];if(!!l){for(var h in i)if(!!t(l.properties,h)){var u=i[h];Array.isArray(u)||(u=[u]);for(var c=0;c<u.length;c++)l.properties[h]===u[c]&&f(l,e)}}}s&&x(0,0,r.width,r.height,r)};A.exports=a},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(72),x=p(63),t=function(a,i,e){a===void 0&&(a=!0),i===void 0&&(i=!0);for(var s=0;s<e.height;s++)for(var r=0;r<e.width;r++){var n=e.data[s][r];if(!!n){var o=n.getCollisionGroup();o&&o.objects&&o.objects.length>0&&f(n,a)}}i&&x(0,0,e.width,e.height,e)};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x,t,a){if(typeof f=="number")a.callbacks[f]=x!==null?{callback:x,callbackContext:t}:void 0;else for(var i=0,e=f.length;i<e;i++)a.callbacks[f[i]]=x!==null?{callback:x,callbackContext:t}:void 0};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(26),x=function(t,a,i,e,s,r,n){for(var o=f(t,a,i,e,null,n),l=0;l<o.length;l++)o[l].setCollisionCallback(s,r)};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(26),x=p(131),t=function(a,i,e,s,r){var n=f(a,i,e,s,null,r),o=n.map(function(h){return h.index});x(o);for(var l=0;l<n.length;l++)n[l].index=o[l]};A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(26),x=function(t,a,i,e,s,r,n){for(var o=f(i,e,s,r,null,n),l=0;l<o.length;l++)o[l]&&(o[l].index===t?o[l].index=a:o[l].index===a&&(o[l].index=t))};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(26),x=function(t,a,i,e,s,r){if(!!s){var n,o=f(t,a,i,e,null,r),l=0;for(n=0;n<s.length;n++)l+=s[n].weight;if(!(l<=0))for(n=0;n<o.length;n++){for(var h=Math.random()*l,u=0,c=-1,d=0;d<s.length;d++)if(u+=s[d].weight,h<=u){var v=s[d].index;c=Array.isArray(v)?v[Math.floor(Math.random()*v.length)]:v;break}o[n].index=c}}};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={FromOrientationString:p(258),Parse:p(564),Parse2DArray:p(259),ParseCSV:p(565),Impact:p(1454),Tiled:p(1455)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){for(var t=0;t<f.length;t++){var a=f[t],i=t;if(a.name&&a.name!==""&&(i=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var e={},s={},r,n,o;if(Array.isArray(a.edgecolors))for(r=0;r<a.edgecolors.length;r++)o=1+r,n=a.edgecolors[r],n.name!==""&&(e[o]=n.name);if(Array.isArray(a.cornercolors))for(r=0;r<a.cornercolors.length;r++)o=1+r,n=a.cornercolors[r],n.name!==""&&(s[o]=n.name);if(Array.isArray(a.colors))for(r=0;r<a.colors.length;r++)n=a.colors[r],o=1+r,n.name!==""&&(e[o]=s[o]=n.name);for(var l=[e,s,e,s,e,s,e,s],h=0;h<a.wangtiles.length;h++){var u=a.wangtiles[h],c=x[u.tileid]||(x[u.tileid]={});c=c.wangid||(c.wangid={});for(var d=[],v=0;v<Math.min(l.length,u.wangid.length);v++){if(n=u.wangid[v],n===0){d.push(void 0);continue}var g=l[v][n];if(g!==void 0){d.push(g);continue}d.push(n)}c[i]=d}}}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={ParseTileLayers:p(578),ParseTilesets:p(579),ParseWeltmeister:p(577)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={AssignTileProperties:p(567),Base64Decode:p(574),BuildTilesetIndex:p(568),CreateGroupLayer:p(161),ParseGID:p(261),ParseImageLayers:p(569),ParseJSONTiled:p(566),ParseObject:p(260),ParseObjectLayers:p(570),ParseTileLayers:p(573),ParseTilesets:p(575)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(1),x=p(1);f=p(1457),x=p(1458),A.exports={renderWebGL:f,renderCanvas:x}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(12),x=function(t,a,i){var e=a.cull(i),s=e.length,r=i.alpha*a.alpha;if(!(s===0||r<=0)){var n=a.gidMap,o=t.pipelines.set(a.pipeline,a),l=f.getTintAppendFloatAlpha,h=a.scrollFactorX,u=a.scrollFactorY,c=a.x,d=a.y,v=a.scaleX,g=a.scaleY;t.pipelines.preBatch(a);for(var m=0;m<s;m++){var y=e[m],T=n[y.index];if(!!T){var E=T.getTileTextureCoordinates(y.index);if(E!==null){var S=T.glTexture,C=o.setTexture2D(S,a),M=T.tileWidth,P=T.tileHeight,R=E.x,L=E.y,w=T.tileWidth*.5,B=T.tileHeight*.5,G=l(y.tint,r*y.alpha);o.batchTexture(a,S,S.width,S.height,c+(w+y.pixelX)*v,d+(B+y.pixelY)*g,y.width,y.height,v,g,y.rotation,y.flipX,y.flipY,h,u,w,B,R,L,M,P,G,G,G,G,!1,0,0,i,null,!0,C)}}}t.pipelines.postBatch(a)}};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(25),x=new f,t=new f,a=new f,i=function(e,s,r,n){var o=s.cull(r),l=o.length,h=r.alpha*s.alpha;if(!(l===0||h<=0)){var u=x,c=t,d=a;c.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),u.copyFrom(r.matrix);var v=e.currentContext,g=s.gidMap;v.save(),n?(u.multiplyWithOffset(n,-r.scrollX*s.scrollFactorX,-r.scrollY*s.scrollFactorY),c.e=s.x,c.f=s.y,u.multiply(c,d),d.copyToContext(v)):(c.e-=r.scrollX*s.scrollFactorX,c.f-=r.scrollY*s.scrollFactorY,c.copyToContext(v)),(!e.antialias||s.scaleX>1||s.scaleY>1)&&(v.imageSmoothingEnabled=!1);for(var m=0;m<l;m++){var y=o[m],T=g[y.index];if(!!T){var E=T.image.getSourceImage(),S=T.getTileTextureCoordinates(y.index);if(S!==null){var C=T.tileWidth,M=T.tileHeight,P=C*.5,R=M*.5;v.save(),v.translate(y.pixelX+P,y.pixelY+R),y.rotation!==0&&v.rotate(y.rotation),(y.flipX||y.flipY)&&v.scale(y.flipX?-1:1,y.flipY?-1:1),v.globalAlpha=h*y.alpha,v.drawImage(E,S.x,S.y,C,M,-P,-R,C,M),v.restore()}}}v.restore()}};A.exports=i},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(16),x=p(262);f.register("tilemap",function(t){var a=t!==void 0?t:{};return x(this.scene,a.key,a.tileWidth,a.tileHeight,a.width,a.height,a.data,a.insertNull)})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(5),x=p(262);f.register("tilemap",function(t,a,i,e,s,r,n){return t===null&&(t=void 0),a===null&&(a=void 0),i===null&&(i=void 0),e===null&&(e=void 0),s===null&&(s=void 0),x(this.scene,t,a,i,e,s,r,n)})},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Clock:p(1462),TimerEvent:p(582)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(0),x=p(24),t=p(20),a=p(582),i=p(93),e=new f({initialize:function(r){this.scene=r,this.systems=r.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],r.sys.events.once(t.BOOT,this.boot,this),r.sys.events.on(t.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(t.DESTROY,this.destroy,this)},start:function(){var s=this.systems.events;s.on(t.PRE_UPDATE,this.preUpdate,this),s.on(t.UPDATE,this.update,this),s.once(t.SHUTDOWN,this.shutdown,this)},addEvent:function(s){var r;return s instanceof a?(r=s,this.removeEvent(r),r.elapsed=r.startAt,r.hasDispatched=!1,r.repeatCount=r.repeat===-1||r.loop?999999999999:r.repeat):r=new a(s),this._pendingInsertion.push(r),r},delayedCall:function(s,r,n,o){return this.addEvent({delay:s,callback:r,args:n,callbackScope:o})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(s){Array.isArray(s)||(s=[s]);for(var r=0;r<s.length;r++){var n=s[r];i(this._pendingRemoval,n),i(this._pendingInsertion,n),i(this._active,n)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var s=this._pendingRemoval.length,r=this._pendingInsertion.length;if(!(s===0&&r===0)){var n,o;for(n=0;n<s;n++){o=this._pendingRemoval[n];var l=this._active.indexOf(o);l>-1&&this._active.splice(l,1),o.destroy()}for(n=0;n<r;n++)o=this._pendingInsertion[n],this._active.push(o);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(s,r){if(this.now=s,!this.paused){r*=this.timeScale;for(var n=0;n<this._active.length;n++){var o=this._active[n];if(!o.paused&&(o.elapsed+=r*o.timeScale,o.elapsed>=o.delay)){var l=o.elapsed-o.delay;o.elapsed=o.delay,!o.hasDispatched&&o.callback&&(o.hasDispatched=!0,o.callback.apply(o.callbackScope,o.args)),o.repeatCount>0?(o.repeatCount--,o.elapsed=l,o.hasDispatched=!1):this._pendingRemoval.push(o)}}}},shutdown:function(){var s;for(s=0;s<this._pendingInsertion.length;s++)this._pendingInsertion[s].destroy();for(s=0;s<this._active.length;s++)this._active[s].destroy();for(s=0;s<this._pendingRemoval.length;s++)this._pendingRemoval[s].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var r=this.systems.events;r.off(t.PRE_UPDATE,this.preUpdate,this),r.off(t.UPDATE,this.update,this),r.off(t.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(t.START,this.start,this),this.scene=null,this.systems=null}});x.register("Clock",e,"time"),A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(100),x=p(17),t={Builders:p(1464),Events:p(267),TweenManager:p(1480),Tween:p(266),TweenData:p(268),Timeline:p(588)};t=x(!1,t,f),A.exports=t},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={GetBoolean:p(99),GetEaseFunction:p(80),GetNewValue:p(162),GetProps:p(583),GetTargets:p(263),GetTweens:p(584),GetValueOp:p(264),NumberTweenBuilder:p(585),StaggerBuilder:p(586),TimelineBuilder:p(587),TweenBuilder:p(163)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="complete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="loop"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pause"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="resume"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="start"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="update"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="active"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="complete"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="loop"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="repeat"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="start"},function(A,O){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="stop"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="update"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="yoyo"},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(93),x=p(0),t=p(585),a=p(24),i=p(20),e=p(586),s=p(587),r=p(100),n=p(163),o=new x({initialize:function(h){this.scene=h,this.systems=h.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,h.sys.events.once(i.BOOT,this.boot,this),h.sys.events.on(i.START,this.start,this)},boot:function(){this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){var l=this.systems.events;l.on(i.PRE_UPDATE,this.preUpdate,this),l.on(i.UPDATE,this.update,this),l.once(i.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(l){return s(this,l)},timeline:function(l){var h=s(this,l);return h.paused||(this._add.push(h),this._toProcess++),h},create:function(l){return n(this,l)},add:function(l){var h=n(this,l);return this._add.push(h),this._toProcess++,h},existing:function(l){return this._add.push(l),this._toProcess++,this},addCounter:function(l){var h=t(this,l);return this._add.push(h),this._toProcess++,h},stagger:function(l,h){return e(l,h)},preUpdate:function(){if(this._toProcess!==0){var l=this._destroy,h=this._active,u=this._pending,c,d;for(c=0;c<l.length;c++){d=l[c];var v=h.indexOf(d);v===-1?(v=u.indexOf(d),v>-1&&(d.state=r.REMOVED,u.splice(v,1))):(d.state=r.REMOVED,h.splice(v,1))}for(l.length=0,l=this._add,c=0;c<l.length;c++)d=l[c],d.state===r.PENDING_ADD&&(d.init()?(d.play(),this._active.push(d)):this._pending.push(d));l.length=0,this._toProcess=0}},update:function(l,h){var u=this._active,c;h*=this.timeScale;for(var d=0;d<u.length;d++)c=u[d],c.update(l,h)&&(this._destroy.push(c),this._toProcess++)},remove:function(l){return f(this._add,l),f(this._pending,l),f(this._active,l),f(this._destroy,l),l.state=r.REMOVED,this},makeActive:function(l){if(this._add.indexOf(l)!==-1||this._active.indexOf(l)!==-1)return this;var h=this._pending.indexOf(l);return h!==-1&&this._pending.splice(h,1),this._add.push(l),l.state=r.PENDING_ADD,this._toProcess++,this},each:function(l,h){for(var u=[null],c=1;c<arguments.length;c++)u.push(arguments[c]);for(var d in this.list)u[0]=this.list[d],l.apply(h,u)},getAllTweens:function(){for(var l=this._active,h=[],u=0;u<l.length;u++)h.push(l[u]);return h},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(l,h){h===void 0&&(h=!1);var u=this._active,c,d=[],v,g;for(Array.isArray(l)||(l=[l]),v=0;v<u.length;v++)for(c=u[v],g=0;g<l.length;g++)c.hasTarget(l[g])&&d.push(c);if(h)for(u=this._pending,v=0;v<u.length;v++)for(c=u[v],g=0;g<l.length;g++)c.hasTarget(l[g])&&d.push(c);return d},isTweening:function(l){for(var h=this._active,u,c=0;c<h.length;c++)if(u=h[c],u.hasTarget(l)&&u.isPlaying())return!0;return!1},killAll:function(){for(var l=this.getAllTweens(),h=0;h<l.length;h++)l[h].stop();return this},killTweensOf:function(l){for(var h=this.getTweensOf(l),u=0;u<h.length;u++)h[u].stop();return this},pauseAll:function(){for(var l=this._active,h=0;h<l.length;h++)l[h].pause();return this},resumeAll:function(){for(var l=this._active,h=0;h<l.length;h++)l[h].resume();return this},setGlobalTimeScale:function(l){return this.timeScale=l,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var l=this.systems.events;l.off(i.PRE_UPDATE,this.preUpdate,this),l.off(i.UPDATE,this.update,this),l.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});a.register("TweenManager",o,"tweens"),A.exports=o},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Array:p(208),Base64:p(1482),Objects:p(1484),String:p(1488),NOOP:p(1)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={ArrayBufferToBase64:p(1483),Base64ToArrayBuffer:p(433)}},function(A,O){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=function(x,t){for(var a=new Uint8Array(x),i=a.length,e=t?"data:"+t+";base64,":"",s=0;s<i;s+=3)e+=p[a[s]>>2],e+=p[(a[s]&3)<<4|a[s+1]>>4],e+=p[(a[s+1]&15)<<2|a[s+2]>>6],e+=p[a[s+2]&63];return i%3===2?e=e.substring(0,e.length-1)+"=":i%3===1&&(e=e.substring(0,e.length-2)+"=="),e};A.exports=f},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Clone:p(77),DeepCopy:p(175),Extend:p(17),GetAdvancedValue:p(13),GetFastValue:p(2),GetMinMaxValue:p(1485),GetValue:p(6),HasAll:p(1486),HasAny:p(455),HasValue:p(126),IsPlainObject:p(7),Merge:p(127),MergeRight:p(1487),Pick:p(571),SetValue:p(478)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(6),x=p(18),t=function(a,i,e,s,r){r===void 0&&(r=e);var n=f(a,i,r);return x(n,e,s)};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){for(var t=0;t<x.length;t++)if(!f.hasOwnProperty(x[t]))return!1;return!0};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(77),x=function(t,a){var i=f(t);for(var e in a)i.hasOwnProperty(e)&&(i[e]=a[e]);return i};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Format:p(1489),Pad:p(186),RemoveAt:p(1490),Reverse:p(1491),UppercaseFirst:p(205),UUID:p(222)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return f.replace(/%([0-9]+)/g,function(t,a){return x[Number(a)-1]})};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f,x){return x===0?f.slice(1):f.slice(0,x-1)+f.slice(x)};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p=function(f){return f.split("").reverse().join("")};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={SoundManagerCreator:p(426),Events:p(70),BaseSound:p(146),BaseSoundManager:p(145),WebAudioSound:p(434),WebAudioSoundManager:p(432),HTML5AudioSound:p(429),HTML5AudioSoundManager:p(427),NoAudioSound:p(431),NoAudioSoundManager:p(430)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={Arcade:p(1366),Matter:p(1494)}},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports={BodyBounds:p(1392),Components:p(249),Events:p(272),Factory:p(1394),MatterGameObject:p(1395),Image:p(1396),Matter:p(594),MatterPhysics:p(1524),PolyDecomp:p(1393),Sprite:p(1397),TileBody:p(593),PhysicsEditorParser:p(589),PhysicsJSONParser:p(590),PointerConstraint:p(1398),World:p(1402)}},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setBounce:function(f){return this.body.restitution=f,this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setCollisionCategory:function(f){return this.body.collisionFilter.category=f,this},setCollisionGroup:function(f){return this.body.collisionFilter.group=f,this},setCollidesWith:function(f){var x=0;if(!Array.isArray(f))x=f;else for(var t=0;t<f.length;t++)x|=f[t];return this.body.collisionFilter.mask=x,this},setOnCollide:function(f){return this.body.onCollideCallback=f,this},setOnCollideEnd:function(f){return this.body.onCollideEndCallback=f,this},setOnCollideActive:function(f){return this.body.onCollideActiveCallback=f,this},setOnCollideWith:function(f,x){Array.isArray(f)||(f=[f]);for(var t=0;t<f.length;t++){var a=f[t].hasOwnProperty("body")?f[t].body:f[t];this.body.setOnCollideWith(a,x)}return this}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(41),x={applyForce:function(t){return this._tempVec2.set(this.body.position.x,this.body.position.y),f.applyForce(this.body,this._tempVec2,t),this},applyForceFrom:function(t,a){return f.applyForce(this.body,t,a),this},thrust:function(t){var a=this.body.angle;return this._tempVec2.set(t*Math.cos(a),t*Math.sin(a)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(t){var a=this.body.angle-Math.PI/2;return this._tempVec2.set(t*Math.cos(a),t*Math.sin(a)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(t){var a=this.body.angle+Math.PI/2;return this._tempVec2.set(t*Math.cos(a),t*Math.sin(a)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(t){var a=this.body.angle-Math.PI;return this._tempVec2.set(t*Math.cos(a),t*Math.sin(a)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};A.exports=x},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setFriction:function(f,x,t){return this.body.friction=f,x!==void 0&&(this.body.frictionAir=x),t!==void 0&&(this.body.frictionStatic=t),this},setFrictionAir:function(f){return this.body.frictionAir=f,this},setFrictionStatic:function(f){return this.body.frictionStatic=f,this}};A.exports=p},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setIgnoreGravity:function(f){return this.body.ignoreGravity=f,this}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(41),x=p(3),t={setMass:function(a){return f.setMass(this.body,a),this},setDensity:function(a){return f.setDensity(this.body,a),this},centerOfMass:{get:function(){return new x(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};A.exports=t},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={setSensor:function(f){return this.body.isSensor=f,this},isSensor:function(){return this.body.isSensor}};A.exports=p},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(86),x=p(41),t=p(124),a=p(2),i=p(589),e=p(590),s=p(64),r={setRectangle:function(n,o,l){return this.setBody({type:"rectangle",width:n,height:o},l)},setCircle:function(n,o){return this.setBody({type:"circle",radius:n},o)},setPolygon:function(n,o,l){return this.setBody({type:"polygon",sides:o,radius:n},l)},setTrapezoid:function(n,o,l,h){return this.setBody({type:"trapezoid",width:n,height:o,slope:l},h)},setExistingBody:function(n,o){o===void 0&&(o=!0),this.body&&this.world.remove(this.body,!0),this.body=n;for(var l=0;l<n.parts.length;l++)n.parts[l].gameObject=this;var h=this;if(n.destroy=function(){h.world.remove(h.body,!0),h.body.gameObject=null},o&&(this.world.has(n)&&this.world.remove(n,!0),this.world.add(n)),this._originComponent){var u=n.render.sprite.xOffset,c=n.render.sprite.yOffset,d=n.centerOfMass.x,v=n.centerOfMass.y;if(t(d,.5)&&t(v,.5))this.setOrigin(u+.5,c+.5);else{var g=n.centerOffset.x,m=n.centerOffset.y;this.setOrigin(u+g/this.displayWidth,c+m/this.displayHeight)}}return this},setBody:function(n,o){if(!n)return this;var l;typeof n=="string"&&(n={type:n});var h=a(n,"type","rectangle"),u=a(n,"x",this._tempVec2.x),c=a(n,"y",this._tempVec2.y),d=a(n,"width",this.width),v=a(n,"height",this.height);switch(h){case"rectangle":l=f.rectangle(u,c,d,v,o);break;case"circle":var g=a(n,"radius",Math.max(d,v)/2),m=a(n,"maxSides",25);l=f.circle(u,c,g,o,m);break;case"trapezoid":var y=a(n,"slope",.5);l=f.trapezoid(u,c,d,v,y,o);break;case"polygon":var T=a(n,"sides",5),E=a(n,"radius",Math.max(d,v)/2);l=f.polygon(u,c,T,E,o);break;case"fromVertices":case"fromVerts":var S=a(n,"verts",null);if(S)if(typeof S=="string"&&(S=s.fromPath(S)),this.body&&!this.body.hasOwnProperty("temp"))x.setVertices(this.body,S),l=this.body;else{var C=a(n,"flagInternal",!1),M=a(n,"removeCollinear",.01),P=a(n,"minimumArea",10);l=f.fromVertices(u,c,S,o,C,M,P)}break;case"fromPhysicsEditor":l=i.parseBody(u,c,n,o);break;case"fromPhysicsTracer":l=e.parseBody(u,c,n,o);break}return l&&this.setExistingBody(l,n.addToWorld),this}};A.exports=r},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(272),x=p(165),t=p(166),a={setToSleep:function(){return x.set(this.body,!0),this},setAwake:function(){return x.set(this.body,!1),this},setSleepThreshold:function(i){return i===void 0&&(i=60),this.body.sleepThreshold=i,this},setSleepEvents:function(i,e){return this.setSleepStartEvent(i),this.setSleepEndEvent(e),this},setSleepStartEvent:function(i){if(i){var e=this.world;t.on(this.body,"sleepStart",function(s){e.emit(f.SLEEP_START,s,this)})}else t.off(this.body,"sleepStart");return this},setSleepEndEvent:function(i){if(i){var e=this.world;t.on(this.body,"sleepEnd",function(s){e.emit(f.SLEEP_END,s,this)})}else t.off(this.body,"sleepEnd");return this}};A.exports=a},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="afteradd"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="afterremove"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="afterupdate"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="beforeadd"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="beforeremove"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="beforeupdate"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="collisionactive"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="collisionend"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="collisionstart"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="dragend"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="drag"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="dragstart"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="pause"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="resume"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="sleepend"},function(A,O){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */A.exports="sleepstart"},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(41),x={setStatic:function(t){return f.setStatic(this.body,t),this},isStatic:function(){return this.body.isStatic}};A.exports=x},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(41),x=p(14),t=p(269),a=p(270),i=4,e={x:{get:function(){return this.body.position.x},set:function(s){this._tempVec2.set(s,this.y),f.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(s){this._tempVec2.set(this.x,s),f.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(s){var r=1/this._scaleX,n=1/this._scaleY;this._scaleX=s,this._scaleX===0?this.renderFlags&=~i:this.renderFlags|=i,f.scale(this.body,r,n),f.scale(this.body,s,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(s){var r=1/this._scaleX,n=1/this._scaleY;this._scaleY=s,this._scaleY===0?this.renderFlags&=~i:this.renderFlags|=i,f.scale(this.body,r,n),f.scale(this.body,this._scaleX,s)}},angle:{get:function(){return a(this.body.angle*x.RAD_TO_DEG)},set:function(s){this.rotation=a(s)*x.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(s){this._rotation=t(s),f.setAngle(this.body,this._rotation)}},setPosition:function(s,r){return s===void 0&&(s=0),r===void 0&&(r=s),this._tempVec2.set(s,r),f.setPosition(this.body,this._tempVec2),this},setRotation:function(s){return s===void 0&&(s=0),this._rotation=t(s),f.setAngle(this.body,s),this},setFixedRotation:function(){return f.setInertia(this.body,1/0),this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,f.setAngle(this.body,this.rotation),this},setScale:function(s,r,n){s===void 0&&(s=1),r===void 0&&(r=s);var o=1/this._scaleX,l=1/this._scaleY;return this._scaleX=s,this._scaleY=r,f.scale(this.body,o,l,n),f.scale(this.body,s,r,n),this}};A.exports=e},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(41),x={setAngularVelocity:function(t){return f.setAngularVelocity(this.body,t),this},setVelocityX:function(t){return this._tempVec2.set(t,this.body.velocity.y),f.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(t){return this._tempVec2.set(this.body.velocity.x,t),f.setVelocity(this.body,this._tempVec2),this},setVelocity:function(t,a){return this._tempVec2.set(t,a),f.setVelocity(this.body,this._tempVec2),this}};A.exports=x},function(A,O,p){var f={};A.exports=f;var x=p(118),t=p(32);(function(){f.create=function(a){var i={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return t.extend(i,!1,a)},f.reset=function(a){a.extended&&(a.narrowDetections=0,a.narrowphaseTests=0,a.narrowReuse=0,a.narrowReuseCount=0,a.midphaseTests=0,a.broadphaseTests=0,a.narrowEff=0,a.midEff=0,a.broadEff=0,a.collisions=0,a.buckets=0,a.pairs=0,a.bodies=0)},f.update=function(a,i){if(a.extended){var e=i.world,s=x.allBodies(e);a.collisions=a.narrowDetections,a.pairs=i.pairs.list.length,a.bodies=s.length,a.midEff=(a.narrowDetections/(a.midphaseTests||1)).toFixed(2),a.narrowEff=(a.narrowDetections/(a.narrowphaseTests||1)).toFixed(2),a.broadEff=(1-a.broadphaseTests/(s.length||1)).toFixed(2),a.narrowReuse=(a.narrowReuseCount/(a.narrowphaseTests||1)).toFixed(2)}}})()},function(A,O,p){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=p(123),x=p(271),t=p(86),a=p(41),i=p(1392),e=p(84),s=p(0),r=p(118),n=p(591),o=p(128),l=p(273),h=p(50),u=p(1394),c=p(2),d=p(6),v=p(597),g=p(1525),m=p(1526),y=p(1399),T=p(1527),E=p(127),S=p(250),C=p(598),M=p(595),P=p(24),R=p(1400),L=p(599),w=p(274),B=p(20),G=p(592),Y=p(83),D=p(64),F=p(1402),N=new s({initialize:function(b){this.scene=b,this.systems=b.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=r,this.detector=l,this.grid=v,this.pair=S,this.pairs=C,this.query=R,this.resolver=L,this.sat=w,this.constraint=o,this.bodies=t,this.composites=n,this.axes=x,this.bounds=e,this.svg=G,this.vector=Y,this.vertices=D,this.verts=D,this._tempVec2=Y.create(),d(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),d(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),d(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),L._restingThresh=d(this.config,"restingThresh",4),L._restingThreshTangent=d(this.config,"restingThreshTangent",6),L._positionDampen=d(this.config,"positionDampen",.9),L._positionWarming=d(this.config,"positionWarming",.8),L._frictionNormalMultiplier=d(this.config,"frictionNormalMultiplier",5),b.sys.events.once(B.BOOT,this.boot,this),b.sys.events.on(B.START,this.start,this)},boot:function(){this.world=new F(this.scene,this.config),this.add=new u(this.world),this.bodyBounds=new i,this.systems.events.once(B.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new F(this.scene,this.config),this.add=new u(this.world));var I=this.systems.events;I.on(B.UPDATE,this.world.update,this.world),I.on(B.POST_UPDATE,this.world.postUpdate,this.world),I.once(B.SHUTDOWN,this.shutdown,this)},getConfig:function(){var I=this.systems.game.config.physics,b=this.systems.settings.physics,U=E(c(b,"matter",{}),c(I,"matter",{}));return U},enableAttractorPlugin:function(){return M.register(g),M.use(y,g),this},enableWrapPlugin:function(){return M.register(T),M.use(y,T),this},enableCollisionEventsPlugin:function(){return M.register(m),M.use(y,m),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(I,b){this.world.step(I,b)},containsPoint:function(I,b,U){I=this.getMatterBodies(I);var X=Y.create(b,U),z=R.point(I,X);return z.length>0},intersectPoint:function(I,b,U){U=this.getMatterBodies(U);var X=Y.create(I,b),z=[],V=R.point(U,X);return V.forEach(function(W){z.indexOf(W)===-1&&z.push(W)}),z},intersectRect:function(I,b,U,X,z,V){z===void 0&&(z=!1),V=this.getMatterBodies(V);var W={min:{x:I,y:b},max:{x:I+U,y:b+X}},H=[],K=R.region(V,W,z);return K.forEach(function(Z){H.indexOf(Z)===-1&&H.push(Z)}),H},intersectRay:function(I,b,U,X,z,V){z===void 0&&(z=1),V=this.getMatterBodies(V);for(var W=[],H=R.ray(V,Y.create(I,b),Y.create(U,X),z),K=0;K<H.length;K++)W.push(H[K].body);return W},intersectBody:function(I,b){b=this.getMatterBodies(b);for(var U=[],X=R.collides(I,b),z=0;z<X.length;z++){var V=X[z];V.bodyA===I?U.push(V.bodyB):U.push(V.bodyA)}return U},overlap:function(I,b,U,X,z){U===void 0&&(U=null),X===void 0&&(X=null),z===void 0&&(z=U),Array.isArray(I)||(I=[I]),I=this.getMatterBodies(I),b=this.getMatterBodies(b);for(var V=!1,W=0;W<I.length;W++)for(var H=I[W],K=R.collides(H,b),Z=0;Z<K.length;Z++){var j=K[Z],k=j.bodyA.id===H.id?j.bodyB:j.bodyA;if(!X||X.call(z,H,k,j)){if(V=!0,U)U.call(z,H,k,j);else if(!X)return!0}}return V},setCollisionCategory:function(I,b){return I=this.getMatterBodies(I),I.forEach(function(U){U.collisionFilter.category=b}),this},setCollisionGroup:function(I,b){return I=this.getMatterBodies(I),I.forEach(function(U){U.collisionFilter.group=b}),this},setCollidesWith:function(I,b){I=this.getMatterBodies(I);var U=0;if(!Array.isArray(b))U=b;else for(var X=0;X<b.length;X++)U|=b[X];return I.forEach(function(z){z.collisionFilter.mask=U}),this},getMatterBodies:function(I){if(!I)return this.world.getAllBodies();Array.isArray(I)||(I=[I]);for(var b=[],U=0;U<I.length;U++){var X=I[U].hasOwnProperty("body")?I[U].body:I[U];b.push(X)}return b},setVelocity:function(I,b,U){I=this.getMatterBodies(I);var X=this._tempVec2;return X.x=b,X.y=U,I.forEach(function(z){a.setVelocity(z,X)}),this},setVelocityX:function(I,b){I=this.getMatterBodies(I);var U=this._tempVec2;return U.x=b,I.forEach(function(X){U.y=X.velocity.y,a.setVelocity(X,U)}),this},setVelocityY:function(I,b){I=this.getMatterBodies(I);var U=this._tempVec2;return U.y=b,I.forEach(function(X){U.x=X.velocity.x,a.setVelocity(X,U)}),this},setAngularVelocity:function(I,b){return I=this.getMatterBodies(I),I.forEach(function(U){a.setAngularVelocity(U,b)}),this},applyForce:function(I,b){I=this.getMatterBodies(I);var U=this._tempVec2;return I.forEach(function(X){U.x=X.position.x,U.y=X.position.y,a.applyForce(X,U,b)}),this},applyForceFromPosition:function(I,b,U,X){I=this.getMatterBodies(I);var z=this._tempVec2;return I.forEach(function(V){X===void 0&&(X=V.angle),z.x=U*Math.cos(X),z.y=U*Math.sin(X),a.applyForce(V,b,z)}),this},applyForceFromAngle:function(I,b,U){I=this.getMatterBodies(I);var X=this._tempVec2;return I.forEach(function(z){U===void 0&&(U=z.angle),X.x=b*Math.cos(U),X.y=b*Math.sin(U),a.applyForce(z,{x:z.position.x,y:z.position.y},X)}),this},getConstraintLength:function(I){var b=I.pointA.x,U=I.pointA.y,X=I.pointB.x,z=I.pointB.y;return I.bodyA&&(b+=I.bodyA.position.x,U+=I.bodyA.position.y),I.bodyB&&(X+=I.bodyB.position.x,z+=I.bodyB.position.y),h(b,U,X,z)},alignBody:function(I,b,U,X){I=I.hasOwnProperty("body")?I.body:I;var z;switch(X){case f.TOP_LEFT:case f.LEFT_TOP:z=this.bodyBounds.getTopLeft(I,b,U);break;case f.TOP_CENTER:z=this.bodyBounds.getTopCenter(I,b,U);break;case f.TOP_RIGHT:case f.RIGHT_TOP:z=this.bodyBounds.getTopRight(I,b,U);break;case f.LEFT_CENTER:z=this.bodyBounds.getLeftCenter(I,b,U);break;case f.CENTER:z=this.bodyBounds.getCenter(I,b,U);break;case f.RIGHT_CENTER:z=this.bodyBounds.getRightCenter(I,b,U);break;case f.LEFT_BOTTOM:case f.BOTTOM_LEFT:z=this.bodyBounds.getBottomLeft(I,b,U);break;case f.BOTTOM_CENTER:z=this.bodyBounds.getBottomCenter(I,b,U);break;case f.BOTTOM_RIGHT:case f.RIGHT_BOTTOM:z=this.bodyBounds.getBottomRight(I,b,U);break}return z&&a.setPosition(I,z),this},shutdown:function(){var I=this.systems.events;this.world&&(I.off(B.UPDATE,this.world.update,this.world),I.off(B.POST_UPDATE,this.world.postUpdate,this.world)),I.off(B.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(B.START,this.start,this),this.scene=null,this.systems=null}});P.register("MatterPhysics",N,"matterPhysics"),A.exports=N},function(A,O,p){var f=p(594),x={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Body.create",function(){x.Body.init(this)}),t.before("Engine.update",function(a){x.Engine.update(a)})},Body:{init:function(t){t.plugin.attractors=t.plugin.attractors||[]}},Engine:{update:function(t){for(var a=f.Composite.allBodies(t.world),i=0;i<a.length;i++){var e=a[i],s=e.plugin.attractors;if(s&&s.length>0)for(var r=0;r<a.length;r++){var n=a[r];if(i!==r)for(var o=0;o<s.length;o++){var l=s[o],h=l;f.Common.isFunction(l)&&(h=l(e,n)),h&&f.Body.applyForce(n,n.position,h)}}}}},Attractors:{gravityConstant:.001,gravity:function(t,a){var i=f.Vector.sub(a.position,t.position),e=f.Vector.magnitudeSquared(i)||1e-4,s=f.Vector.normalise(i),r=-x.Attractors.gravityConstant*(t.mass*a.mass/e),n=f.Vector.mult(s,r);f.Body.applyForce(t,t.position,f.Vector.neg(n)),f.Body.applyForce(a,a.position,n)}}};A.exports=x},function(A,O){/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var p={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(f){f.after("Engine.create",function(){f.Events.on(this,"collisionStart",function(x){x.pairs.map(function(t){var a=t.bodyA,i=t.bodyB;a.gameObject&&a.gameObject.emit("collide",a,i,t),i.gameObject&&i.gameObject.emit("collide",i,a,t),f.Events.trigger(a,"onCollide",{pair:t}),f.Events.trigger(i,"onCollide",{pair:t}),a.onCollideCallback&&a.onCollideCallback(t),i.onCollideCallback&&i.onCollideCallback(t),a.onCollideWith[i.id]&&a.onCollideWith[i.id](i,t),i.onCollideWith[a.id]&&i.onCollideWith[a.id](a,t)})}),f.Events.on(this,"collisionActive",function(x){x.pairs.map(function(t){var a=t.bodyA,i=t.bodyB;a.gameObject&&a.gameObject.emit("collideActive",a,i,t),i.gameObject&&i.gameObject.emit("collideActive",i,a,t),f.Events.trigger(a,"onCollideActive",{pair:t}),f.Events.trigger(i,"onCollideActive",{pair:t}),a.onCollideActiveCallback&&a.onCollideActiveCallback(t),i.onCollideActiveCallback&&i.onCollideActiveCallback(t)})}),f.Events.on(this,"collisionEnd",function(x){x.pairs.map(function(t){var a=t.bodyA,i=t.bodyB;a.gameObject&&a.gameObject.emit("collideEnd",a,i,t),i.gameObject&&i.gameObject.emit("collideEnd",i,a,t),f.Events.trigger(a,"onCollideEnd",{pair:t}),f.Events.trigger(i,"onCollideEnd",{pair:t}),a.onCollideEndCallback&&a.onCollideEndCallback(t),i.onCollideEndCallback&&i.onCollideEndCallback(t)})})})}};A.exports=p},function(A,O,p){var f=p(594),x={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Engine.update",function(){x.Engine.update(this)})},Engine:{update:function(t){for(var a=t.world,i=f.Composite.allBodies(a),e=f.Composite.allComposites(a),s=0;s<i.length;s+=1){var r=i[s];r.plugin.wrap&&x.Body.wrap(r,r.plugin.wrap)}for(s=0;s<e.length;s+=1){var n=e[s];n.plugin.wrap&&x.Composite.wrap(n,n.plugin.wrap)}}},Bounds:{wrap:function(t,a){var i=null,e=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(t.min.x>a.max.x?i=a.min.x-t.max.x:t.max.x<a.min.x&&(i=a.max.x-t.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(t.min.y>a.max.y?e=a.min.y-t.max.y:t.max.y<a.min.y&&(e=a.max.y-t.min.y)),i!==null||e!==null)return{x:i||0,y:e||0}}},Body:{wrap:function(t,a){var i=x.Bounds.wrap(t.bounds,a);return i&&f.Body.translate(t,i),i}},Composite:{bounds:function(t){for(var a=f.Composite.allBodies(t),i=[],e=0;e<a.length;e+=1){var s=a[e];i.push(s.bounds.min,s.bounds.max)}return f.Bounds.create(i)},wrap:function(t,a){var i=x.Bounds.wrap(x.Composite.bounds(t),a);return i&&f.Composite.translate(t,i),i}}};A.exports=x},function(A,O,p){(function(f){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var x=p(33),t=p(17),a={Actions:p(275),Animations:p(723),BlendModes:p(35),Cache:p(735),Cameras:p(738),Core:p(806),Class:p(0),Create:p(888),Curves:p(894),Data:p(896),Display:p(898),DOM:p(917),Events:p(918),Game:p(920),GameObjects:p(1011),Geom:p(483),Input:p(1308),Loader:p(1338),Math:p(193),Physics:p(1493),Plugins:p(1403),Renderer:p(1405),Scale:p(1412),ScaleModes:p(168),Scene:p(418),Scenes:p(1413),Structs:p(1415),Textures:p(1416),Tilemaps:p(1418),Time:p(1461),Tweens:p(1463),Utils:p(1481)};a.Sound=p(1492),a=t(!1,a,x),A.exports=a,f.Phaser=a}).call(this,p(600))}])})})(Ct);const mt=Pt(Ct.exports);class Lt extends mt.Scene{constructor(){super({key:"titulo"})}preload(){this.load.image("sky","https://labs.phaser.io/./assets/skies/space3.png"),this.load.image("inicio","./assets/inicio720.jpg"),this.load.image("start","./assets/Botones/start.png"),this.load.image("start","./assets/mascleto.png"),this.load.audio("music","./assets/Sonidos/music.mp3")}create(){this.inicio=this.add.image(360,360,"inicio"),this.sound.stopAll(),this.start=this.add.image(200,500,"start").setInteractive(),this.start.setScale(.6);const st=this.sound.add("music",{loop:!0,volume:.5});st.play(),this.input.mouse.disableContextMenu(),this.input.on("pointermove",A=>{st.resume()}),this.scene.stop("game"),this.start.on("pointerdown",A=>{this.scene.start("menuniveles")})}update(){}}class Ot extends Phaser.GameObjects.Sprite{constructor(st,A,O){super(st,A,O,"character"),this.speedy=-550,this.speedx=190,this.inicio=!0,this.cheatActivated=!1,this.laterales=!1,this.delay=0,this.scene.add.existing(this),this.wKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.UP),this.aKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT),this.dKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT),this.sKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.DOWN),this.auxKey=this.scene.input.keyboard.addKey("W"),this.cheatKey=this.scene.input.keyboard.addKey("C"),st.physics.add.existing(this),this.body.allowGravity=!1}preUpdate(st,A){super.preUpdate(st,A),this.aKey.isDown&&(this.delay!=1?(this.setFlip(!0,!1),this.body.setVelocityX(-this.speedx),this.delay=1):this.delay=0),this.dKey.isDown&&(this.delay!=1?(this.setFlip(!1,!1),this.body.setVelocityX(this.speedx),this.delay=1):this.delay=0),this.auxKey.isDown&&this.body.setVelocityY(-this.speedx),this.wKey.isDown&&(this.body.allowGravity=!0,this.inicio==!0&&this.body.setVelocityY(-600),this.inicio=!1),this.cheatKey.isDown&&(this.body.setVelocityY(-2e3),this.cheatActivated=!0)}playerCheat(){return this.cheatActivated}playerGetSpeed(){return this.speedy}}class wt extends mt.Scene{constructor(){super({key:"game"}),this.fondoJuego=void 0,this.valor=0,this.height=600,this.width=600,this.restart=!1}init(st){this.registry.get("selectedCharacter")||this.registry.set("selectedCharacter",{image:"character"}),this.selectedCharacter=this.registry.get("selectedCharacter"),this.nivel=st.nivel,this.score=0,this.totalEsferas=0,this.totalRecogidas=0,this.inicioJuego=!1,this.inicioJuego2=!1}preload(){this.load.image("btnPause","./assets/Botones/Boton pausa.png"),this.load.image("character","./assets/Skins/mascleto.png"),this.cadena="mapa_lvl"+this.nivel+".json",this.cadena2="Tile"+this.nivel+".png",this.load.tilemapTiledJSON("tilemap","./assets/Mapas/"+this.cadena),this.load.image("patronesTilemap","./assets/Mapas/"+this.cadena2),this.load.image("plataformax","./assets/Mapas/plataforma"+this.nivel+".png"),this.load.image("estrellaluz","./assets/Mapas/esfera"+this.nivel+".png"),this.load.image("gotaax","./assets/Skins/enemigo_agua.png"),this.load.image("cenizaax","./assets/Skins/enemigo_ceniza.png")}create(st){this.botonPlay=st.botonPlay,this.botonPlay||(this.espacioPulsado=!1);let A=new mt.Geom.Rectangle(55,60,230,220);this.btnPause=this.add.image(670,50,"btnPause").setInteractive(A,mt.Geom.Rectangle.Contains),this.btnPause.setScale(.4),this.btnPause.setScrollFactor(0,0),this.btnPause.setDepth(5),this.btnPause.on("pointerdown",()=>{this.scene.pause(),this.scene.launch("escenaPausada")}),this.map=this.make.tilemap({key:"tilemap",tileWidth:32,tileHeight:32});const O=this.map.addTilesetImage("Tile"+this.nivel,"patronesTilemap");if(this.wallLayer=this.map.createLayer("Plataformas",O),this.groundLayer=this.map.createLayer("Fondo",O),this.skyLayer=this.map.createLayer("Nubes",O),this.esferasLayer=this.map.createLayer("Esferas",O),this.nivel==2&&(this.lateralLayer=this.map.createLayer("Laterales",O)),this.scoreText=this.add.text(0,0,"Score: "+this.score,{fontFamily:"Arial",fontSize:"44px",color:"#FFFF00"}),this.scoreText.setScrollFactor(0,0),this.scoreText.setDepth(5),this.mov=this.map.createFromObjects("Objetos",{name:"player",classType:Ot,key:this.selectedCharacter.image}),this.player=this.mov[0],this.player.setScale(.2),this.nivel>1){this.gotasLayer=this.map.createLayer("Gotas",O);let x=this.map.createFromObjects("Gotas",{name:"Gota",key:"gotaax"});if(this.gotasGroup=this.add.group(),this.gotasGroup.addMultiple(x),x.forEach(t=>{this.physics.add.existing(t),t.body.allowGravity=!1,t.body.immovable=!0}),this.physics.add.collider(this.player,this.gotasGroup,this.handlePlayerOnGotaorCeniza,null,this),this.nivel>=4){this.nivel==4&&(this.fuegoLayer=this.map.createLayer("Fuegos",O)),this.estelasLayer=this.map.createLayer("Estelas",O),this.estrellasLayer=this.map.createLayer("Estrellas",O),this.cenizasLayer=this.map.createLayer("Cenizas",O);let t=this.map.createFromObjects("Cenizas",{name:"Ceniza",key:"cenizaax"});this.cenizasGroup=this.add.group(),this.cenizasGroup.addMultiple(t),t.forEach(a=>{this.physics.add.existing(a),a.body.allowGravity=!1,a.body.immovable=!0}),this.physics.add.collider(this.player,this.cenizasGroup,this.handlePlayerOnGotaorCeniza,null,this)}}let p=this.map.createFromObjects("Plataformas",{name:"Plataforma",key:"plataformax"});this.platGroup=this.add.group(),this.platGroup.addMultiple(p),p.forEach(x=>{this.physics.add.existing(x),x.body.allowGravity=!1,x.body.immovable=!0}),this.physics.add.collider(this.player,this.platGroup,this.handlePlayerOnPlatform,null,this),this.platGroup.children.iterate(function(x){x.body.checkCollision.up=!0,x.body.checkCollision.left=!1,x.body.checkCollision.right=!1,x.body.checkCollision.down=!1,x.body.allowGravity=!1});let f=this.map.createFromObjects("Esferas",{name:"Esfera",key:"estrellaluz"});this.esfGroup=this.add.group(),this.esfGroup.addMultiple(f),f.forEach(x=>{this.physics.add.existing(x),x.body.allowGravity=!1,x.body.immovable=!0,this.totalEsferas++}),this.physics.add.overlap(this.player,this.esfGroup,this.handlePlayerCollisionEsfera,null,this),this.cameras.main.setFollowOffset(100,0),this.cameras.main.startFollow(this.player,!1,0,1),this.cursors=this.input.keyboard.createCursorKeys(),this.progressBox=this.add.graphics(),this.progressBox.lineStyle(2,16777215,1),this.progressBox.strokeRect(0,710,720,10),this.progressBox.setScrollFactor(0,0),this.progressBox.setDepth(6),this.progressBar=this.add.graphics(),this.progressBar.fillStyle(16711680,1),this.progressBar.fillRect(0,710,0,0),this.progressBar.setScrollFactor(0,0),this.progressBar.setDepth(7),this.progreso=0}update(){let st;this.inicioJuego2==!1&&(this.mapHeight=this.player.body.position.y),this.inicioJuego2=!0,this.progreso=this.mapHeight-this.player.body.position.y,this.updateBarraProgreso(),this.player.body.position.x>660&&(st=-Math.abs(this.player.body.velocity.x),this.player.body.velocity.x=st),this.player.body.position.x<-40&&(st=Math.abs(this.player.body.velocity.x),this.player.body.velocity.x=st),this.player.body.position.y>this.alturalimite+300&&this.inicioJuego&&this.scene.start("escenaFinal",{numero:0}),this.player.body.position.y<300&&this.cameras.main.stopFollow(),this.nivel>=4?this.player.body.position.y>21128&&(this.cameras.main.stopFollow(),this.scene.start("escenaFinal",{numero:0})):this.player.body.position.y>14e3&&(this.cameras.main.stopFollow(),this.scene.start("escenaFinal",{numero:0})),this.player.body.position.y<100&&this.scene.start("escenaFinal",{numero:1,totalEsferas:this.totalEsferas,totalRecogidas:this.totalRecogidas})}activate(){const st=this.scene.get("game");this.scene.restart(st),this.scene.start("game")}handlePlayerOnPlatform(st,A){this.alturalimite=this.player.body.position.y,this.inicioJuego=!0;const O=st.body.y+st.body.height,p=A.body.y;O<=p+5&&(st.body.velocity.y=st.playerGetSpeed())}handlePlayerCollisionEsfera(st,A){this.score+=100,this.scoreText.setText("Score: "+this.score),A.body.visible=!1,A.destroy(),this.totalRecogidas++}handlePlayerOnGotaorCeniza(st,A){st.playerCheat()==!1&&this.scene.start("escenaFinal",{numero:0})}updateBarraProgreso(){this.progressBar.clear(),this.progressBar.fillStyle(16711680,1),this.progressBar.fillRect(0,710,this.progreso/(this.mapHeight/740),10)}resetGame(st){st.cheatActivated=!1}restartScene(){this.init()}}class Ft extends mt.Scene{constructor(){super({key:"menuniveles"})}preload(){this.load.image("niveles","./assets/fondoniveles720.jpg"),this.load.image("skins","./assets/Botones/boton skins.png"),this.load.image("nivel1","./assets/niveles/nivel1.png"),this.load.image("nivel2","./assets/niveles/nivel2.png"),this.load.image("nivel3","./assets/niveles/nivel3.png"),this.load.image("nivel4","./assets/niveles/nivel4.png"),this.load.image("nivel5","./assets/niveles/nivel5.png"),this.load.image("back","./assets/Botones/botonback.jpg")}create(st){this.inicio=this.add.image(360,360,"niveles");var A={numero:1};this.character=this.registry.get("selectedCharacter"),this.level1=this.add.image(200,200,"nivel1").setInteractive(),this.level1.on("pointerdown",O=>{this.scene.stop("game"),A.numero=1,this.scene.start("game",{nivel:A.numero})}),this.level2=this.add.image(500,200,"nivel2").setInteractive(),this.level2.on("pointerdown",O=>{this.scene.stop("game"),A.numero=2,this.scene.start("game",{nivel:A.numero})}),this.level3=this.add.image(200,350,"nivel3").setInteractive(),this.level3.on("pointerdown",O=>{this.scene.stop("game"),A.numero=3,this.scene.start("game",{nivel:A.numero})}),this.level4=this.add.image(500,350,"nivel4").setInteractive(),this.level4.on("pointerdown",O=>{this.scene.stop("game"),A.numero=4,this.scene.start("game",{nivel:A.numero})}),this.level5=this.add.image(350,500,"nivel5").setInteractive(),this.level5.on("pointerdown",O=>{this.scene.stop("game"),A.numero=5,this.scene.start("game",{nivel:A.numero})}),this.buttonBack=this.add.image(600,640,"back").setInteractive(),this.buttonBack.on("pointerdown",O=>{this.scene.start("titulo")}),this.skins=this.add.image(350,660,"skins").setInteractive(),this.skins.setScale(.6),this.skins.on("pointerdown",O=>{this.registry.set("level",A.numero),this.registry.set("selectedCharacter",this.character),this.scene.start("tienda")})}update(){}}class Dt extends mt.Scene{constructor(){super({key:"escenaFinal"}),this.final=0}preload(){this.load.image("niveles","./assets/fondoniveles.jpg"),this.load.image("gameOver","./assets/endgame.png"),this.load.image("menu","./assets/Botones/Boton Menu.png"),this.load.audio("gameover","./assets/Sonidos/GameOver.mp3"),this.load.audio("winaudio","./assets/Sonidos/Won!.mp3"),this.load.image("restart","./assets/Botones/Boton reiniciar.png"),this.load.image("victoria1","./assets/Dialogo Victoria/Victoria1.png"),this.load.image("victoria2","./assets/Dialogo Victoria/Victoria2.png"),this.load.image("victoria3","./assets/Dialogo Victoria/Victoria3.png")}init(st){this.final=st.numero,this.totalEsferas=st.totalEsferas,this.totalRecogidas=st.totalRecogidas,this.level=st.nivel}create(){this.inicio=this.add.image(360,360,"niveles"),this.final==0?(this.sound.stopAll(),this.GameOversound=this.sound.add("gameover"),this.GameOversound.play(),this.texto=this.add.image(360,360,"gameOver")):(this.totalRecogidas>=.8*this.totalEsferas?this.add.image(360,300,"victoria3"):this.totalRecogidas>=.4*this.totalEsferas?this.add.image(360,300,"victoria2"):this.add.image(360,300,"victoria1"),this.sound.stopAll(),this.Winsound=this.sound.add("winaudio"),this.Winsound.play()),this.buttonBack=this.add.image(550,660,"menu").setInteractive(),this.buttonBack.setScale(.7),this.buttonBack.on("pointerdown",st=>{window.location.reload()}),this.buttonRestart=this.add.image(320,660,"restart").setInteractive(),this.buttonRestart.setScale(.7),this.buttonRestart.on("pointerdown",st=>{this.scene.stop("escenafinal"),this.scene.start("game"),this.scene.stop()})}update(){}}class It extends mt.Scene{constructor(){super({key:"tienda"})}preload(){this.load.image("niveles","./assets/fondoniveles720.jpg"),this.load.image("personaje0","./assets/Skins/mascleto.png"),this.load.image("personaje1","./assets/Skins/mascleto_skin_1.png"),this.load.image("personaje2","./assets/Skins/mascleto_skin_2.png"),this.load.image("personaje3","./assets/Skins/mascleto_skin_3.png"),this.load.image("personaje4","./assets/Skins/mascleto_skin_4.png"),this.load.image("personaje5","./assets/Skins/mascleto_skin_5.png"),this.load.image("personaje6","./assets/Skins/mascleto_skin_6.png"),this.load.image("personaje7","./assets/Skins/mascleto_skin_7.png"),this.load.image("personaje8","./assets/Skins/mascleto_skin_8.png"),this.load.image("back","./assets/Botones/botonback.jpg")}create(){this.inicio=this.add.image(360,360,"niveles");var st=this.registry.get("level");let A=this.registry.get("selectedCharacter");this.add.text(360,50,"SELECCIONAR SKIN",{fontFamily:"Arial",fontSize:"50px",color:"#ffffff",align:"center"}).setOrigin(.5),this.characters=[{name:"Personaje 0",description:"Descripci\xF3n del personaje 0",image:"personaje0",unlocked:!0,requiredLevel:0},{name:"Personaje 1",description:"Descripci\xF3n del personaje 1",image:"personaje1",unlocked:!0,requiredLevel:0},{name:"Personaje 2",description:"Descripci\xF3n del personaje 2",image:"personaje2",unlocked:!0,requiredLevel:0},{name:"Personaje 3",description:"Descripci\xF3n del personaje 3",image:"personaje3",unlocked:!0,requiredLevel:0},{name:"Personaje 4",description:"Descripci\xF3n del personaje 4",image:"personaje4",unlocked:!0,requiredLevel:0},{name:"Personaje 5",description:"Descripci\xF3n del personaje 5",image:"personaje5",unlocked:!0,requiredLevel:0},{name:"Personaje 6",description:"Descripci\xF3n del personaje 6",image:"personaje6",unlocked:!0,requiredLevel:0},{name:"Personaje 7",description:"Descripci\xF3n del personaje 7",image:"personaje7",unlocked:!0,requiredLevel:0},{name:"Personaje 8",description:"Descripci\xF3n del personaje 8",image:"personaje8",unlocked:!0,requiredLevel:0}],this.registry.get("selectedCharacter")?this.registry.set("selectedCharacter",A.name):(A=this.characters[0].name,this.registry.set("selectedCharacter",A)),this.characters.forEach((O,p)=>{var f,x;p<4?(f=130+p*150,x=200):p==8?(f=360,x=600):(f=130+(p-4)*150,x=400);const t=this.add.rectangle(f,x,100,150,3355443,.8).setOrigin(.5,.5);st>=O.requiredLevel?(t.setFillStyle(65280),O.name===this.registry.get("selectedCharacter")?t.setStrokeStyle(8,16711680):t.setStrokeStyle(4,16777215)):(t.setFillStyle(3355443),t.setStrokeStyle(4,16777215));const a=this.add.image(f,x,O.image);a.setScale(.3),a.setInteractive(),this.add.text(360,700,`Personaje seleccionado: ${this.registry.get("selectedCharacter")}`,{fontFamily:"Arial",fontSize:"30px",color:"#ffffff",align:"center"}).setOrigin(.5),a.on("pointerdown",()=>{O.locked&&st<O.requiredLevel?this.showCharacterBlock(O):this.registry.get("selectedCharacter")==O.name?this.showCharacterSelected(O):(this.showCharacterUnBlock(O),this.registry.set("selectedCharacter",O))})})}update(){}showCharacterBlock(st){const A=this.add.container(360,360),O=this.add.graphics();O.fillStyle(0,.7).fillRect(-250,-200,500,300),O.fillRect(-250,-200,500,300),A.add(O);let p=this.add.text(0,-150,st.name+" BLOQUEADO",{font:"32px Arial",color:"#ff0000"}).setOrigin(.5);A.add(p);const f=`Debes alcanzar el nivel ${st.requiredLevel} para desbloquear este personaje.`,x=this.add.text(0,-50,`${f}`,{font:"24px Arial",color:"#ffffff",align:"center",wordWrap:{width:350}}).setOrigin(.5);A.add(x);const t=this.add.text(0,20,"Cerrar",{font:"24px Arial",color:"#ffffff",backgroundColor:"#333333",padding:{x:10,y:5}}).setOrigin(.5).setInteractive();t.on("pointerdown",()=>{A.destroy()}),A.add(t)}showCharacterUnBlock(st){const A=this.add.container(360,360),O=this.add.graphics();O.fillStyle(0,.7).fillRect(-250,-200,500,300),O.fillRect(-250,-200,500,300),A.add(O);let p=this.add.text(0,-150,st.name+" DESBLOQUEADO",{font:"32px Arial",color:"#00ff00"}).setOrigin(.5);A.add(p);const f=`\xBFEstas seguro que deseas seleccionar ${st.name} ?`,x=this.add.text(0,-50,`${f}`,{font:"24px Arial",color:"#ffffff",align:"center",wordWrap:{width:350}}).setOrigin(.5);A.add(x);const t=this.add.text(100,20,"Cerrar",{font:"24px Arial",color:"#ffffff",backgroundColor:"#333333",padding:{x:10,y:5}}).setOrigin(.5).setInteractive();t.on("pointerdown",()=>{A.destroy()});const a=this.add.text(-50,20,"Seleccionar",{font:"24px Arial",color:"#ffffff",backgroundColor:"#333333",padding:{x:10,y:5}}).setOrigin(.5).setInteractive();a.on("pointerdown",()=>{A.destroy(),this.scene.start("menuniveles")}),A.add(t),A.add(a)}showCharacterSelected(st){const A=this.add.container(360,360),O=this.add.graphics();O.fillStyle(0,.7).fillRect(-250,-200,500,150),O.fillRect(-250,-200,500,150),A.add(O);const p=this.add.text(0,-150,`${st.name} ya seleccionado`,{font:"24px Arial",color:"#ffffff",align:"center",wordWrap:{width:350}}).setOrigin(.5);A.add(p);const f=this.add.text(0,-100,"Cerrar",{font:"24px Arial",color:"#ffffff",backgroundColor:"#333333",padding:{x:10,y:5}}).setOrigin(.5).setInteractive();f.on("pointerdown",()=>{A.destroy()}),A.add(f)}}class Bt extends mt.Scene{constructor(){super({key:"escenaPausada"}),this.botonPlay=!1}preload(){this.load.image("btnPlay","./assets/Botones/Boton reanudar.png"),this.load.image("btnRestart","./assets/Botones/Boton reiniciar.png"),this.load.image("btnQuit","./assets/Botones/Boton salir.png"),this.load.image("dialogo","./assets/dialogo menu.png")}init(st){this.levelMenu=st.nivel}create(){this.dialog=this.add.image(360,360,"dialogo"),this.dialog.setScrollFactor(0,0),this.dialog.setDepth(5),this.characterName=this.add.text(360,200,"MENU PAUSE",{font:"60px Arial",color:"#ffffff"}).setOrigin(.5),this.characterName.setScrollFactor(0,0),this.characterName.setDepth(5);let st=new mt.Geom.Rectangle(75,130,300,140),A=new mt.Geom.Rectangle(75,130,300,140),O=new mt.Geom.Rectangle(75,130,300,140);this.btnPlay=this.add.image(360,300,"btnPlay").setInteractive(st,mt.Geom.Rectangle.Contains),this.btnPlay.setScale(.7),this.btnRestart=this.add.image(360,400,"btnRestart").setInteractive(A,mt.Geom.Rectangle.Contains),this.btnRestart.setScale(.7),this.btnQuit=this.add.image(360,500,"btnQuit").setInteractive(O,mt.Geom.Rectangle.Contains),this.btnQuit.setScale(.7),this.btnPlay.setScrollFactor(0,0),this.btnPlay.setDepth(5),this.btnRestart.setScrollFactor(0,0),this.btnRestart.setDepth(5),this.btnQuit.setScrollFactor(0,0),this.btnQuit.setDepth(5),this.btnPlay.on("pointerdown",()=>{this.botonPlay=!0,this.scene.resume("game"),this.scene.stop()}),this.btnRestart.on("pointerdown",()=>{this.botonPlay=!1,this.scene.stop("game"),this.scene.start("game"),this.scene.stop()}),this.btnQuit.on("pointerdown",()=>{this.botonPlay=!1,window.location.reload()})}update(){}}const bt={type:mt.AUTO,parent:"phaser-game",width:720,height:720,pixelArt:!0,scale:{autoCenter:mt.Scale.CENTER_HORIZONTALLY,mode:mt.Scale.FIT,min:{width:188,height:328},max:{width:752,height:1312},zoom:1},physics:{default:"arcade",arcade:{debug:!1,gravity:{y:300}}},scene:[Lt,It,Ft,wt,Bt,Dt]};new mt.Game(bt);
